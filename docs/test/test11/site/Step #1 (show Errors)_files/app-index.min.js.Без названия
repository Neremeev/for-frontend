//!file:jquery-1.8.2.min.js
!function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(I,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a)if(("data"!==b||!p.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function bi(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function bj(a,b,c){if(b=b||0,p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=p.grep(a,function(a){return 1===a.nodeType});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(1===b.nodeType&&p.hasData(a)){var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}}function bE(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando))}function bF(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bY(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bW.length;e--;)if(b=bW[e]+c,b in a)return b;return d}function bZ(a,b){return a=b||a,"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)}function b$(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=p._data(c,"olddisplay"),b?(!e[f]&&"none"===c.style.display&&(c.style.display=""),""===c.style.display&&bZ(c)&&(e[f]=p._data(c,"olddisplay",cc(c.nodeName)))):(d=bH(c,"display"),!e[f]&&"none"!==d&&p._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function b_(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=p.css(a,c+bV[e],!0)),d?("content"===c&&(f-=parseFloat(bH(a,"padding"+bV[e]))||0),"margin"!==c&&(f-=parseFloat(bH(a,"border"+bV[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bV[e]))||0,"padding"!==c&&(f+=parseFloat(bH(a,"border"+bV[e]+"Width"))||0));return f}function cb(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&"border-box"===p.css(a,"boxSizing");if(0>=d||null==d){if(d=bH(a,b),(0>d||null==d)&&(d=a.style[b]),bQ.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+ca(a,b,c||(f?"border":"content"),e)+"px"}function cc(a){if(bS[a])return bS[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0})),bJ&&bI.createElement||(bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close()),b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)),bS[a]=c,c}function ci(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||ce.test(a)?d(a,e):ci(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==p.type(b))d(a,b);else for(e in b)ci(a+"["+e+"]",b[e],c,d)}function cz(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cA(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===cv;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cA(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cA(a,c,d,e,"*",g)),h}function cB(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cC(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function cD(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cL(){try{return new a.XMLHttpRequest}catch(b){}}function cM(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cU(){return setTimeout(function(){cN=b},0),cN=p.now()}function cV(a,b){p.each(b,function(b,c){for(var d=(cT[b]||[]).concat(cT["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function cW(a,b,c){var d,e=0,g=cS.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){for(var b=cN||cU(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;f>e;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),1>d&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cN||cU(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){for(var c=0,d=b?j.tweens.length:0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(cX(k,j.opts.specialEasing);g>e;e++)if(d=cS[e].call(j,a,k,j.opts))return d;return cV(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){var c,d,e,f,g;for(c in a)if(d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function cY(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bZ(a);c.queue||(j=p._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===p.css(a,"display")&&"none"===p.css(a,"float")&&(p.support.inlineBlockNeedsLayout&&"inline"!==cc(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],cP.exec(f)){if(delete b[d],f===(q?"hide":"show"))continue;o.push(d)}if(g=o.length)for(h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])}),d=0;g>d;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start="width"===e||"height"===e?1:0))}function cZ(a,b,c,d,e){return new cZ.prototype.init(a,b,c,d,e)}function c$(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=bV[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function da(a){return p.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):"complete"===e.readyState&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(f="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:u.exec(a),f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);if(g=e.getElementById(f[2]),g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"!=typeof h&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e));return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?!--p.readyWait:!p.isReady){if(!e.body)return setTimeout(p.ready,1);p.isReady=!0,a!==!0&&--p.readyWait>0||(d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray||function(a){return"array"===p.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==p.type(a)||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=p.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):w.test(b.replace(y,"@").replace(z,"]").replace(x,""))?new Function("return "+b)():void p.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:o&&!o.call(" ")?function(a){return null==a?"":o.call(a)}:function(a){return null==a?"":(a+"").replace(t,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=p.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||p.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d)if(d=p.Deferred(),"complete"===e.readyState)setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=null==a.frameElement&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){for(c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;i&&g>h;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;!function d(b){p.each(b,function(b,c){var e=p.type(c);"function"!==e||a.unique&&l.has(c)?c&&c.length&&"string"!==e&&d(c):i.push(c)})}(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){for(var c;(c=p.inArray(b,i,c))>-1;)i.splice(c,1),e&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var h,i,j,b=0,c=k.call(arguments),d=c.length,e=1!==d||a&&p.isFunction(a.promise)?d:0,f=1===e?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}};if(d>1)for(h=new Array(d),i=new Array(d),j=new Array(d);d>b;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e;return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");if(n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5",!c||!c.length)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:3===n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===h.value,optSelected:g.selected,getSetAttribute:"t"!==n.className,enctype:!!e.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==e.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===e.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}if(!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue="t"===h.value,h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n),n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l="function"==typeof n[j]),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];i&&(c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&0===f[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==i.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),i.removeChild(c),c=d=f=g=null)}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(p.acceptData(a)){var f,g,h=p.expando,i="string"==typeof c,j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=p.deletedIds.pop()||p.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[p.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if(p.acceptData(a)){var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(h[i]){if(b&&(d=c?h[i]:h[i].data)){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b=b in d?[b]:b.split(" ")));for(e=0,f=b.length;f>e;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}(c||(delete h[i].data,K(h[i])))&&(g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null)}}},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length&&(k=p.data(i),1===i.nodeType&&!p._data(i,"parsedAttrs"))){for(f=i.attributes,h=f.length;h>j;j++)g=f[j].name,g.indexOf("data-")||(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}return k}return"object"==typeof a?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){return c===b?(k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k):(d[1]=c,void this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,e=c.shift(),f=p._queueHooks(a,b),g=function(){p.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=p._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(s),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=p.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(s),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(O," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(p.isFunction(a)?function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=p(this),h=b,i=a.split(s);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=p.isFunction(a),this.each(function(d){var f,g=p(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":p.isArray(f)&&(f=p.map(f,function(a){return null==a?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(P,""):null==d?"":d)}}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(0>f)return null;for(c=i?f:0,d=i?f+1:h.length;d>c;c++)if(e=h[c],!(!e.selected||(p.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&p.nodeName(e.parentNode,"optgroup"))){if(b=p(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&p.isFunction(p.fn[c])?p(a)[c](d):"undefined"==typeof a.getAttribute?p.prop(a,c,d):(h=1!==i||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L)),d!==b?null===d?void p.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(s);g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&"radio"===b&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){return L&&p.nodeName(a,"button")?L.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0;

}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){""===b&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){return p.isArray(b)?a.checked=p.inArray(p(a).val(),b)>=0:void 0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=p._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof p||a&&p.event.triggered===a.type?b:p.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=p.trim(_(c)).split(" "),j=0;j<c.length;j++)k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:m.join(".")},o),q=i[l],q||(q=i[l]=[],q.delegateCount=0,r.setup&&r.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(r&&(m=r.events)){for(b=p.trim(_(b||"")).split(" "),f=0;f<b.length;f++)if(g=W.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)q=o[l],!(!e&&i!==q.origType||c&&c.guid!==q.guid||j&&!j.test(q.namespace)||d&&d!==q.selector&&("**"!==d||!q.selector)||(o.splice(l--,1),q.selector&&o.delegateCount--,!n.remove||!n.remove.call(a,q)));0===o.length&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}else for(h in m)p.event.remove(a,h+b[f],c,d,!0);p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||3!==f.nodeType&&8!==f.nodeType){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;if(s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort()),(!f||p.event.customEvent[s])&&!p.event.global[s])return;if(c="object"==typeof c?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"",!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}if(c.result=b,c.target||(c.target=f),d=null!=d?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{},n.trigger&&n.trigger.apply(f,d)===!1)return;if(q=[[f,n.bindType||s]],!g&&!n.noBubble&&!p.isWindow(f)){for(r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode,l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!(g||c.isDefaultPrevented()||n._default&&n._default.apply(f.ownerDocument,d)!==!1||"click"===s&&p.nodeName(f,"a")||!p.acceptData(f)||!m||!f[s]||("focus"===s||"blur"===s)&&0===c.target.offsetWidth||p.isWindow(f)||(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,!l||!(f[m]=l))),c.result}},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,l,m,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=k.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];if(r[0]=c,c.delegateTarget=this,!t.preDispatch||t.preDispatch.call(this,c)!==!1){if(q&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;q>d;d++)l=o[d],m=l.selector,h[m]===b&&(h[m]=l.needsContext?p(m,this).index(f)>=0:p.find(m,this,null,[f]).length),h[m]&&j.push(l);j.length&&u.push({elem:f,matches:j})}for(o.length>q&&u.push({elem:this,matches:o.slice(q)}),d=0;d<u.length&&!c.isPropagationStopped();d++)for(i=u[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)l=i.matches[e],(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,g=((p.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return t.postDispatch&&t.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=1&h?1:2&h?3:4&h?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;for(a=p.Event(d),b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){return this instanceof p.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0,void 0):new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!p.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){return p.nodeName(this,"form")?!1:void p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return p.nodeName(this,"form")?!1:void p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){return V.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(p.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)})),!1):void p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,"._change"),!V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){0===c++&&e.addEventListener(a,d,!0)},teardown:function(){0===--c&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=ba;else if(!e)return this;return 1===f&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?p.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bc(a,b,c,d){c=c||[],b=b||r;var e,f,i,j,k=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==k&&9!==k)return[];if(i=g(b),!i&&!d&&(e=P.exec(a)))if(j=e[1]){if(9===k){if(f=b.getElementById(j),!f||!f.parentNode)return c;if(f.id===j)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j)return c.push(f),c}else{if(e[2])return w.apply(c,x.call(b.getElementsByTagName(a),0)),c;if((j=e[3])&&_&&b.getElementsByClassName)return w.apply(c,x.call(b.getElementsByClassName(j),0)),c}return bp(a.replace(L,"$1"),b,c,d,i)}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function be(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function bf(a){return z(function(b){return b=+b,z(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bg(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a];if(k)return b?0:k.slice(0);for(h=a,i=[],j=e.preFilter;h;){(!c||(d=M.exec(h)))&&(d&&(h=h.slice(d[0].length)),i.push(f=[])),c=!1,(d=N.exec(h))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," "));for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d,r,!0)))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bi(a,b,d){var e=b.dir,f=d&&"parentNode"===b.dir,g=u++;return b.first?function(b,c,d){for(;b=b[e];)if(f||1===b.nodeType)return a(b,c,d)}:function(b,d,h){if(h){for(;b=b[e];)if((f||1===b.nodeType)&&a(b,d,h))return b}else for(var i,j=t+" "+g+" ",k=j+c;b=b[e];)if(f||1===b.nodeType){if((i=b[o])===k)return b.sizset;if("string"==typeof i&&0===i.indexOf(j)){if(b.sizset)return b}else{if(b[o]=k,a(b,d,h))return b.sizset=!0,b;b.sizset=!1}}}}function bj(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bk(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function bl(a,b,c,d,e,f){return d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f)),z(function(f,g,h,i){if(!f||!e){var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[],f),q=!a||!f&&b?p:bk(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(l=bk(r,n),d(l,[],h,i),j=l.length;j--;)(k=l[j])&&(r[n[j]]=!(q[n[j]]=k));if(f)for(j=a&&r.length;j--;)(k=r[j])&&(f[m[j]]=!(g[m[j]]=k));else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)}})}function bm(a){for(var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];f>i;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{if(c=e.filter[a[i].type].apply(null,a[i].matches),c[o]){for(d=++i;f>d&&!e.relative[a[d].type];d++);return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,d>i&&bm(a.slice(i,d)),f>d&&bm(a=a.slice(d)),f>d&&a.join(""))}m.push(c)}return bj(m)}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,q=[],s=0,u="0",x=h&&[],y=null!=m,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=null==z?1:Math.E;for(y&&(l=i!==r&&i,c=g.el);null!=(n=A[u]);u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}if(s+=u,d&&u!==s){for(o=0;p=b[o];o++)p(x,q,i,j);if(h){if(s>0)for(;u--;)!x[u]&&!q[u]&&(q[u]=v.call(k));q=bk(q)}w.apply(k,q),y&&!h&&q.length>0&&s+b.length>1&&bc.uniqueSort(k)}return y&&(t=B,l=z),x};return g.el=0,d?z(g):g}function bo(a,b,c,d){for(var e=0,f=b.length;f>e;e++)bc(a,b[e],c,d);return c}function bp(a,b,c,d,f){{var g,h,j,k,l,m=bh(a);m.length}if(!d&&1===m.length){if(h=m[0]=m[0].slice(0),h.length>2&&"ID"===(j=h[0]).type&&9===b.nodeType&&!f&&e.relative[h[1].type]){if(b=e.find.ID(j.matches[0].replace(V,""),b,f)[0],!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0&&(j=h[g],!e.relative[k=j.type]);g--)if((l=e.find[k])&&(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f))){if(h.splice(g,1),a=d.length&&h.join(""),!a)return w.apply(c,x.call(d,0)),c;break}}return i(a,m)(d,b,f,c,R.test(a)),c}function bq(){}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),q=String,r=a.document,s=r.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},z=function(a,b){return a[o]=null==b||b,a},A=function(){var a={},b=[];return z(function(c,d){return b.push(c)>e.cacheLength&&delete a[b.shift()],a[c]=d},a)},B=A(),C=A(),D=A(),E="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+E+"*\\]",J=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+I+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,R=/[\x20\t\r\n\f]*[+~]/,T=/h\d/i,U=/input|select|textarea|button/i,V=/\\(?!\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=r.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){return a.appendChild(r.createComment("")),!a.getElementsByTagName("*").length}),Z=X(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==n&&"#"===a.firstChild.getAttribute("href")}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),_=X(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>",s.insertBefore(a,s.firstChild);var b=r.getElementsByName&&r.getElementsByName(o).length===2+r.getElementsByName(o+0).length;return d=!r.getElementById(o),s.removeChild(a),b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},h=bc.contains=s.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);return d||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):d||$?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){return typeof b.getElementsByTagName!==n?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:ba&&function(a,b){return typeof b.getElementsByName!==n?b.getElementsByName(name):void 0},CLASS:_&&function(a,b,c){return typeof b.getElementsByClassName===n||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&bc.error(a[0]),a},PSEUDO:function(a){var b,c;return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:d?function(a){return a=a.replace(V,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(V,""),function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(V,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=B[o][a];return b||(b=B(a,new RegExp("(^|"+E+")"+a+"("+E+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);return null==f?"!="===b:b?(f+="","="===b?f===c:"!="===b?f!==c:"^="===b?c&&0===f.indexOf(c):"*="===b?c&&f.indexOf(c)>-1:"$="===b?c&&f.substr(f.length-c.length)===c:"~="===b?(" "+f+" ").indexOf(c)>-1:"|="===b?f===c||f.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);return d[o]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){for(var e,f=d(a,b),g=f.length;g--;)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return!(a!==b.activeElement||b.hasFocus&&!b.hasFocus()||!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(a,b,c){return[0]}),last:bf(function(a,b,c){return[b-1]}),eq:bf(function(a,b,c){return[0>c?c+b:c]}),even:bf(function(a,b,c){for(var d=0;b>d;d+=2)a.push(d);return a}),odd:bf(function(a,b,c){for(var d=1;b>d;d+=2)a.push(d);return a}),lt:bf(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){return a===b?(k=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;for(;i;)e.unshift(i),i=i.parentNode;for(i=h;i;)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;c>j&&d>j;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=1;if(k=m,a.sort(j),k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a];if(!f){for(b||(b=bh(a)),c=b.length;c--;)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},r.querySelectorAll&&function(){var a,b=bp,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],f=[":active",":focus"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+E+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!(g||h||e&&e.test(a))){var i,j,k=!0,l=o,m=d,n=9===d.nodeType&&a;if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){for(i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\$&"):d.setAttribute("id",l),l="[id='"+l+"'] ",j=i.length;j--;)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{return w.apply(f,x.call(m.querySelectorAll(n),0)),f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){if(c=c.replace(d,"='$1']"),!(g(b)||f.test(c)||e&&e.test(c)))try{var i=h.call(b,c);if(i||a||b.document&&11!==b.document.nodeType)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=p.attr,p.find=bc,p.expr=bc.selectors,p.expr[":"]=p.expr.pseudos,p.unique=bc.uniqueSort,p.text=bc.getText,p.isXMLDoc=bc.isXML,p.contains=bc.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return p(a).filter(function(){for(b=0,c=h.length;c>b;b++)if(p.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,p.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=bf.test(a)||"string"!=typeof a?p(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&"string"==typeof d&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!p(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={
option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(p.isFunction(a)?function(b){p(this).wrapInner(a.call(this,b))}:function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||p.filter(a,[c]).length)&&(!b&&1===c.nodeType&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&p.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(bm,""):b;if(!("string"!=typeof a||bs.test(a)||!p.support.htmlSerialize&&bu.test(a)||!p.support.leadingWhitespace&&bn.test(a)||bz[(bp.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(bo,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&"string"==typeof j&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&p.nodeName(f,"tr"),h=e.cacheable||l-1;l>i;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0));g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,1===a.length&&"string"==typeof i&&i.length<512&&c===e&&"<"===i.charAt(0)&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;if(p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild)),!(p.support.noCloneEvent&&p.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a)))for(bE(a,g),d=bF(a),e=bF(g),f=0;d[f];++f)e[f]&&bE(d[f],e[f]);if(b&&(bD(a,g),c))for(d=bF(a),e=bF(g),f=0;d[f];++f)bD(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,q,r,s=b===e&&bA,t=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=e),f=0;null!=(h=a[f]);f++)if("number"==typeof h&&(h+=""),h){if("string"==typeof h)if(br.test(h)){for(s=s||bk(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];k--;)l=l.lastChild;if(!p.support.tbody)for(m=bq.test(h),n="table"!==i||m?"<table>"!==j[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,g=n.length-1;g>=0;--g)p.nodeName(n[g],"tbody")&&!n[g].childNodes.length&&n[g].parentNode.removeChild(n[g]);!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}else h=b.createTextNode(h);h.nodeType?t.push(h):p.merge(t,h)}if(l&&(h=l=s=null),!p.support.appendChecked)for(f=0;null!=(h=t[f]);f++)p.nodeName(h,"input")?bG(h):"undefined"!=typeof h.getElementsByTagName&&p.grep(h.getElementsByTagName("input"),bG);if(c)for(q=function(a){return!a.type||bx.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},f=0;null!=(h=t[f]);f++)p.nodeName(h,"script")&&q(h)||(c.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length));return t},cleanData:function(a,b){for(var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;null!=(e=a[g]);g++)if((b||p.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^(none|table(?!-c[ea]).+)/,bO=/^margin/,bP=new RegExp("^("+q+")(.*)$","i"),bQ=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bR=new RegExp("^([-+])=("+q+")","i"),bS={},bT={position:"absolute",visibility:"hidden",display:"block"},bU={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],bW=["Webkit","O","Moz","ms"],bX=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return b$(this,!0)},hide:function(){return b$(this)},toggle:function(a,b){var c="boolean"==typeof a;return p.isFunction(a)&&p.isFunction(b)?bX.apply(this,arguments):this.each(function(){(c?a:bZ(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=p.camelCase(c),j=a.style;if(c=p.cssProps[i]||(p.cssProps[i]=bY(j,i)),h=p.cssHooks[c]||p.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=bR.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"===g&&!p.cssNumber[i]&&(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bY(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),"normal"===f&&c in bU&&(f=bU[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],""===d&&!p.contains(b.ownerDocument,b)&&(d=p.style(b,c)),bQ.test(d)&&bO.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),bQ.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&bN.test(bH(a,"display"))?p.swap(a,bT,function(){return cb(a,b,d)}):cb(a,b,d):void 0},set:function(a,c,d){return b_(a,c,d?ca(a,b,d,p.support.boxSizing&&"border-box"===p.css(a,"boxSizing")):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===p.trim(f.replace(bK,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=bK.test(f)?f.replace(bK,e):f+" "+e)}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){return b?bH(a,"marginRight"):void 0})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bQ.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!p.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||bH(a,"display"))},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+bV[d]+b]=e[d]||e[d-2]||e[0];return f}},bO.test(a)||(p.cssHooks[a+b].set=b_)});var cd=/%20/g,ce=/\[\]$/,cf=/\r?\n/g,cg=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ch=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ch.test(this.nodeName)||cg.test(this.type))}).map(function(a,b){var c=p(this).val();return null==c?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(cf,"\r\n")}}):{name:b.name,value:c.replace(cf,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ci(d,a[d],c,f);return e.join("&").replace(cd,"+")};var cj,ck,cl=/#.*$/,cm=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,cn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,cp=/^\/\//,cq=/\?/,cr=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cs=/([?&])_=[^&]*/,ct=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cu=p.fn.load,cv={},cw={},cx=["*/"]+["*"];try{ck=f.href}catch(cy){ck=e.createElement("a"),ck.href="",ck=ck.href}cj=ct.exec(ck.toLowerCase())||[],p.fn.load=function(a,c,d){if("string"!=typeof a&&cu)return cu.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cr,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cB(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cB(a,b),a},ajaxSettings:{url:ck,isLocal:cn.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cx},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cz(cv),ajaxTransport:cz(cw),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;2!==v&&(v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cC(l,x,f)),a>=200&&300>a||304===a?(l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),304===a?(y="notmodified",k=!0):(k=cD(l,u),y=k.state,s=k.data,t=k.error,k=!t)):(t=y,(!y||a)&&(y="error",0>a&&(a=0))),x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return 2===v?e:null},getResponseHeader:function(a){var c;if(2===v){if(!f)for(f={};c=cm.exec(e);)f[c[1].toLowerCase()]=c[2];c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};if(o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(2>v)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cl,"").replace(cp,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),null==l.crossDomain&&(i=ct.exec(l.url.toLowerCase())||!1,l.crossDomain=i&&i.join(":")+(i[3]?"":"http:"===i[1]?80:443)!==cj.join(":")+(cj[3]?"":"http:"===cj[1]?80:443)),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=p.param(l.data,l.traditional)),cA(cv,l,c,x),2===v)return x;if(j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!co.test(l.type),j&&0===p.active++&&p.event.trigger("ajaxStart"),!l.hasContent&&(l.data&&(l.url+=(cq.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url,l.cache===!1)){var z=p.now(),A=l.url.replace(cs,"$1_="+z);l.url=A+(A===l.url?(cq.test(l.url)?"&":"?")+"_="+z:"")}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+cx+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&2!==v){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);if(g=cA(cw,l,c,x)){x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(!(2>v))throw B;y(-1,B)}}else y(-1,"No Transport");return x}return x.abort()},active:0,lastModified:{},etag:{}});var cE=[],cF=/\?/,cG=/(=)\?(?=&|$)|\?\?/,cH=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cE.pop()||p.expando+"_"+cH++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cG.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cG.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cG,"$1"+f):m?c.data=i.replace(cG,"$1"+f):k&&(c.url+=(cF.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cE.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cI,cJ=a.ActiveXObject?function(){for(var a in cI)cI[a](0,1)}:!1,cK=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cL()||cM()}:cL,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=p.noop,cJ&&delete cI[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++cK,cJ&&(cI||(cI={},p(a).unload(cJ)),cI[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cN,cO,cP=/^(?:toggle|show|hide)$/,cQ=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cR=/queueHooks$/,cS=[cY],cT={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cQ.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(p.cssNumber[a]?"":"px"),"px"!==d&&h){h=p.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,p.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};p.Animation=p.extend(cW,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cT[c]=cT[c]||[],cT[c].unshift(b)},prefilter:function(a,b){b?cS.unshift(a):cS.push(a)}}),p.Tween=cZ,cZ.prototype={constructor:cZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cZ.propHooks[this.prop];return a&&a.get?a.get(this):cZ.propHooks._default.get(this)},run:function(a){var b,c=cZ.propHooks[this.prop];return this.pos=b=this.options.duration?p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cZ.propHooks._default.set(this),this}},cZ.prototype.init.prototype=cZ.prototype,cZ.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=p.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cZ.propHooks.scrollTop=cZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(c$(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bZ).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cW(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cR.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:c$("show"),slideUp:c$("hide"),slideToggle:c$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&"object"==typeof a?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};return d.duration=p.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cZ.prototype.init,p.fx.tick=function(){for(var a,b=p.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cO&&(cO=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cO),cO=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c_=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?p.offset.bodyOffset(k):(c=l.documentElement,p.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=da(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");"static"===d&&(a.style.position="relative");var l,m,e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=("absolute"===d||"fixed"===d)&&p.inArray("auto",[g,h])>-1,j={},k={};i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),null!=b.top&&(j.top=b.top-f.top+l),null!=b.left&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=c_.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||e.body;a&&!c_.test(a.nodeName)&&"static"===p.css(a,"position");)a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=da(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=p,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})}(window);;
//!file:jquery-ui-1.9.1.custom.min.js
!function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,t.href&&i&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,s,r=e(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&0!==s))return s;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===r?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}}))}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var r,n=0;null!=(r=t[n]);n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var s,t=this._super,n=this._superApply;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:u.widgetEventPrefix||t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){for(var u,a,i=r.call(arguments,1),s=0,o=i.length;o>s;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(n[u]=e.isPlainObject(a)?e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName;e.fn[n]=function(o){var u="string"==typeof o,a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,this.each(u?function(){var r,i=e.data(this,s);return i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(r=i[o].apply(i,a),r!==i&&r!==t?(f=r&&r.jquery?f.pushStack(r.get()):r,!1):void 0):e.error("no such method '"+o+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,s);t?t.option(o||{})._init():new i(o,this)}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var s,o,u,i=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(i={},s=n.split("."),n=s.shift(),s.length){for(o=i[n]=e.widget.extend({},this.options[n]),u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];if(n=s.pop(),r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var r,i=this;n?(t=r=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,r=this.widget()),e.each(n,function(n,s){function o(){return i.options.disabled===!0||e(this).hasClass("ui-state-disabled")?void 0:("string"==typeof s?i[s]:s).apply(i,arguments)}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var u=n.match(/^(\w+)\s*(.*)$/),a=u[1]+i.eventNamespace,f=u[2];f?r.delegate(f,a,o):t.bind(a,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent,s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=1===t.which,s="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return i&&!s&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){function h(e,t,n){return[parseInt(e[0],10)*(l.test(e[0])?t/100:1),parseInt(e[1],10)*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,d,v,m,g=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=g[0],E=(t.collision||"flip").split(" "),S={};return 9===w.nodeType?(l=g.width(),d=g.height(),v={top:0,left:0}):e.isWindow(w)?(l=g.width(),d=g.height(),v={top:g.scrollTop(),left:g.scrollLeft()}):w.preventDefault?(t.at="left top",l=d=0,v={top:w.pageY,left:w.pageX}):(l=g.outerWidth(),d=g.outerHeight(),v=g.offset()),m=e.extend({},v),e.each(["my","at"],function(){var n,r,e=(t[this]||"").split(" ");1===e.length&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),S[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),1===E.length&&(E[1]=E[0]),"right"===t.at[0]?m.left+=l:"center"===t.at[0]&&(m.left+=l/2),"bottom"===t.at[1]?m.top+=d:"center"===t.at[1]&&(m.top+=d/2),n=h(S.at,l,d),m.left+=n[0],m.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),w=p(this,"marginLeft"),x=p(this,"marginTop"),T=f+w+p(this,"marginRight")+b.width,N=c+x+p(this,"marginBottom")+b.height,C=e.extend({},m),k=h(S.my,a.outerWidth(),a.outerHeight());"right"===t.my[0]?C.left-=f:"center"===t.my[0]&&(C.left-=f/2),"bottom"===t.my[1]?C.top-=c:"center"===t.my[1]&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:w,marginTop:x},e.each(["left","top"],function(r,i){e.ui.position[E[r]]&&e.ui.position[E[r]][i](C,{targetWidth:l,targetHeight:d,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:y,elem:a})}),e.fn.bgiframe&&a.bgiframe(),t.using&&(u=function(e){var n=v.left-C.left,s=n+l-f,o=v.top-C.top,u=o+d-c,h={target:{element:g,left:v.left,top:v.top,width:l,height:d},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:0>s?"left":n>0?"right":"center",vertical:0>u?"top":o>0?"bottom":"middle"};f>l&&i(n+s)<l&&(h.horizontal="center"),c>d&&i(o+u)<d&&(h.vertical="middle"),h.important=r(i(n),i(s))>r(i(o),i(u))?"horizontal":"vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var f,n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i;t.collisionWidth>s?u>0&&0>=a?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):e.left=a>0&&0>=u?i:u>a?i+s-t.collisionWidth:i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var f,n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i;t.collisionHeight>s?u>0&&0>=a?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):e.top=a>0&&0>=u?i:u>a?i+s-t.collisionHeight:i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var p,d,n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,c="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];0>a?(p=e.left+l+c+h+t.collisionWidth-s-r,(0>p||p<i(a))&&(e.left+=l+c+h)):f>0&&(d=e.left-t.collisionPosition.marginLeft+l+c+h-o,(d>0||i(d)<f)&&(e.left+=l+c+h))},top:function(e,t){var d,v,n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l="top"===t.my[1],c=l?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];0>a?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(0>v||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&11>i,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),s=r.at.split(" ");return 1===i.length&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),1===s.length&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(r,{at:s[0]+i[0]+" "+s[1]+i[1],offset:t}))}}(jQuery)}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var r=this.element[0],i=!1;r&&(r=r.parentNode);)r==document&&(i=!0);if(!i&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=e(t.containment),r=n[0];if(!r)return;var s=(n.offset(),"hidden"!=e(r).css("overflow"));this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();u=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u&&(f-this.offset.click.top<u[1]||f-this.offset.click.top>u[3])?f-this.offset.click.top<u[1]?f+n.grid[1]:f-n.grid[1]:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u&&(l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2])?l-this.offset.click.left<u[0]?l+n.grid[0]:l-n.grid[0]:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this;e.each(r.sortables,function(s){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=u&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),
this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&"HTML"!=r.scrollParent[0].tagName&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;r.scrollParent[0]!=document&&"HTML"!=r.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){for(var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height,l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,d=p+r.snapElements[l].height;if(o>c-s&&h+s>o&&a>p-s&&d+s>a||o>c-s&&h+s>o&&f>p-s&&d+s>f||u>c-s&&h+s>u&&a>p-s&&d+s>a||u>c-s&&h+s>u&&f>p-s&&d+s>f){if("inner"!=i.snapMode){var v=Math.abs(p-f)<=s,m=Math.abs(d-a)<=s,g=Math.abs(c-u)<=s,y=Math.abs(h-o)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var b=v||m||g||y;if("outer"!=i.snapMode){var v=Math.abs(p-a)<=s,m=Math.abs(d-f)<=s,g=Math.abs(c-o)<=s,y=Math.abs(h-u)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(v||m||g||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=v||m||g||y||b}else r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(i.length){var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');u.css({zIndex:n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}e(this.handles[n]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==a?this.axis+"-resize":a),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,s=(this.options,this.originalMousePosition),o=this.axis,u=e.pageX-s.left||0,a=e.pageY-s.top||0,f=this._change[o];if(!f)return!1;var l=f.apply(this,[e,u,a]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(l=this._updateRatio(l,e)),l=this._respectSize(l,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var n,i,s,o,u,t=this.options;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:1/0,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:1/0},(this._aspectRatio||e)&&(n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o)),this._vBoundaries=u},_updateCache:function(e){this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var i=(this.options,this.position),s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==o&&(e.left=i.left+(s.width-e.width),e.top=null),"nw"==o&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var i=(this.helper,this._vBoundaries),o=(this._aspectRatio||t.shiftKey,this.axis),u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),d=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),a&&d&&(e.top=h-i.maxHeight);var v=!e.width&&!e.height;return v&&!e.left&&e.top?e.top=null:v&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var n=this.helper||this.element,r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.ui.ie6?1:0,i=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var i=(this.options,this.originalSize),s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var i=(this.options,this.originalSize),s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):e.each(i.alsoResize,function(e,t){a(e,t)})},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(a)if(i.containerElement=e(a),/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){l[e]=n(f.css("padding"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,"left")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,o=(r.containerSize,r.containerOffset),a=(r.size,r.position),f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,o=(r.position,r.containerOffset),u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){{var r=e(this).data("resizable");r.options}r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){{var r=e(this).data("resizable");r.options}r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){{var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis;i._aspectRatio||t.shiftKey}i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);{var i=null;e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")==r?(i=e(this),!1):void 0})}if(e.data(t.target,r.widgetName+"-item")==r&&(i=e(t.target)),!i)return!1;if(this.options.handle&&!n){var o=!1;if(e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(u&&s.instance===this.currentContainer&&o!=this.currentItem[0]&&this.placeholder[1==u?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"==this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1==u?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&a>r+f&&t+l>s&&o>t+l;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"==o||"down"==s?2:1:s&&("down"==s?2:1):!1;

},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"==s&&r||"left"==s&&!r:i&&("down"==i&&n||"up"==i&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var s=i.length-1;s>=0;s--)for(var o=e(i[s]),u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=r.length-1;s>=0;s--)r[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var s=i.length-1;s>=0;s--)for(var o=e(i[s]),u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&(r.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a))}for(var s=r.length-1;s>=0;s--)for(var f=r[s][1],l=r[s][0],u=0,c=l.length;c>u;u++){var h=e(l[u]);h.data(this.widgetName+"-item",f),n.push({item:h,instance:f,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance==this.currentContainer||!this.currentContainer||r.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var r=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(n.style.visibility="hidden"),n},update:function(e,i){(!r||n.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var n=null,r=null,i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else{for(var s=1e4,o=null,u=this.containers[r].floating?"left":"top",a=this.containers[r].floating?"width":"height",f=this.positionAbs[u]+this.offset.click[u],l=this.items.length-1;l>=0;l--)if(e.contains(this.containers[r].element[0],this.items[l].item[0])&&this.items[l].item[0]!=this.currentItem[0]){var c=this.items[l].item.offset()[u],h=!1;Math.abs(c-f)>Math.abs(c+this.items[l][a]-f)&&(h=!0,c+=this.items[l][a]),Math.abs(c-f)<s&&(s=Math.abs(c-f),o=this.items[l],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(""==r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i="hidden"!=e(n).css("overflow");this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid)){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment&&(u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3])?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i==this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)("auto"==this._storedCSS[i]||"static"==this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery);;
//!file:lodash.min.js
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===m,u=n===n,i=null===t,o=t===m,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(t>n&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return s(n,r);r-=1;for(var e=n.length;++r<e;)if(n[r]===t)return r;return-1}function e(n){return"function"==typeof n||!1}function u(n){return"string"==typeof n?n:null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););return r}function o(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function f(t,r){return n(t.a,r.a)||t.b-r.b}function l(n){return Nn[n]}function a(n){return Ln[n]}function c(n){return"\\"+Mn[n]}function s(n,t,r){var e=n.length;for(t+=r?0:-1;r?t--:++t<e;){var u=n[t];if(u!==u)return t}return-1}function p(n){return!!n&&"object"==typeof n}function h(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function _(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=L,i[++u]=r);return i}function v(n){for(var t=-1,r=n.length;++t<r&&h(n.charCodeAt(t)););return t}function g(n){for(var t=n.length;t--&&h(n.charCodeAt(t)););return t}function y(n){return zn[n]}function d(h){function Nn(n){if(p(n)&&!(Ti(n)||n instanceof Bn)){if(n instanceof zn)return n;if(ru.call(n,"__chain__")&&ru.call(n,"__wrapped__"))return Mr(n)}return new zn(n)}function Ln(){}function zn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Bn(n){this.__wrapped__=n,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Su,this.__views__=null}function Mn(){this.__data__={}}function Pn(n){var t=n?n.length:0;for(this.data={hash:bu(null),set:new vu};t--;)this.push(n[t])}function qn(n,t){var r=n.data;return("string"==typeof t||ve(t)?r.set.has(t):r.hash[t])?0:-1}function Dn(n,t){var r=-1,e=n.length;for(t||(t=Me(e));++r<e;)t[r]=n[r];return t}function Kn(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function Vn(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function Gn(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function Jn(n,t){for(var r=-1,e=n.length,u=Me(e);++r<e;)u[r]=t(n[r],r,n);return u}function Xn(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function Hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function Qn(n,t){return n===m?t:n}function nt(n,t,r,e){return n!==m&&ru.call(e,r)?n:t}function tt(n,t,r){for(var e=-1,u=Ki(t),i=u.length;++e<i;){var o=u[e],f=n[o],l=r(f,t[o],o,n,t);(l===l?l===f:f!==f)&&(f!==m||o in n)||(n[o]=l)}return n}function rt(n,t){return null==t?n:ut(t,Ki(t),n)}function et(n,t){for(var r=-1,e=null==n,u=!e&&Ir(n),i=u?n.length:0,o=t.length,f=Me(o);++r<o;){var l=t[r];f[r]=u?Er(l,i)?n[l]:m:e?m:n[l]}return f}function ut(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function it(n,t,r){var e=typeof n;return"function"==e?t===m?n:Mt(n,t,r):null==n?Fe:"object"==e?xt(n):t===m?Be(n):At(n,t)}function ot(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==m)return f;if(!ve(n))return n;if(e=Ti(n)){if(f=jr(n),!t)return Dn(n,f)}else{var l=uu.call(n),a=l==D;if(l!=V&&l!=z&&(!a||u))return $n[l]?Or(n,l,t):u?n:{};if(f=kr(a?{}:n),!t)return rt(f,n)}for(i||(i=[]),o||(o=[]),u=i.length;u--;)if(i[u]==n)return o[u];return i.push(n),o.push(f),(e?Kn:vt)(n,function(e,u){f[u]=ot(e,t,r,u,n,i,o)}),f}function ft(n,t,r){if("function"!=typeof n)throw new Je(N);return gu(function(){n.apply(m,r)},t)}function lt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=br(),f=o==r,l=f&&200<=t.length?Vu(t):null,a=t.length;l&&(o=qn,f=!1,t=l);n:for(;++i<e;)if(l=n[i],f&&l===l){for(var c=a;c--;)if(t[c]===l)continue n;u.push(l)}else 0>o(t,l,0)&&u.push(l);return u}function at(n,t){var r=!0;return Mu(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ct(n,t,r,e){var u=e,i=u;return Mu(n,function(n,o,f){o=+t(n,o,f),(r(o,u)||o===e&&o===i)&&(u=o,i=n)}),i}function st(n,t){var r=[];return Mu(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function pt(n,t,r,e){var u;return r(n,function(n,r,i){return t(n,r,i)?(u=e?r:n,!1):void 0}),u}function ht(n,t,r){for(var e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e];if(p(f)&&Ir(f)&&(r||Ti(f)||se(f))){t&&(f=ht(f,t,r));for(var l=-1,a=f.length;++l<a;)o[++i]=f[l]}else r||(o[++i]=f)}return o}function _t(n,t){qu(n,t,ke)}function vt(n,t){return qu(n,t,Ki)}function gt(n,t){return Du(n,t,Ki)}function yt(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];$i(n[o])&&(i[++u]=o)}return i}function dt(n,t,r){if(null!=n){r!==m&&r in zr(n)&&(t=[r]),r=0;for(var e=t.length;null!=n&&e>r;)n=n[t[r++]];return r&&r==e?n:m}}function mt(n,t,r,e,u,i){if(n===t)n=!0;else if(null==n||null==t||!ve(n)&&!p(t))n=n!==n&&t!==t;else n:{var o=mt,f=Ti(n),l=Ti(t),a=B,c=B;f||(a=uu.call(n),a==z?a=V:a!=V&&(f=we(n))),l||(c=uu.call(t),c==z?c=V:c!=V&&we(t));var s=a==V,l=c==V,c=a==c;if(!c||f||s){if(!e&&(a=s&&ru.call(n,"__wrapped__"),l=l&&ru.call(t,"__wrapped__"),a||l)){n=o(a?n.value():n,l?t.value():t,r,e,u,i);break n}if(c){for(u||(u=[]),i||(i=[]),a=u.length;a--;)if(u[a]==n){n=i[a]==t;break n}u.push(n),i.push(t),n=(f?gr:dr)(n,t,o,r,e,u,i),u.pop(),i.pop()}else n=!1}else n=yr(n,t,a)}return n}function wt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=zr(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){var o=t[e],f=o[0],l=n[f],a=o[1];if(i&&o[2]){if(l===m&&!(f in n))return!1}else if(o=r?r(l,a,f):m,o===m?!mt(a,l,r,!0):!o)return!1}return!0}function bt(n,t){var r=-1,e=Ir(n)?Me(n.length):[];return Mu(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function xt(n){var t=xr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?!1:n[r]===e&&(e!==m||r in zr(n))}}return function(n){return wt(n,t)}}function At(n,t){var r=Ti(n),e=Wr(n)&&t===t&&!ve(t),u=n+"";return n=Br(n),function(i){if(null==i)return!1;var o=u;if(i=zr(i),!(!r&&e||o in i)){if(i=1==n.length?i:dt(i,Ct(n,0,-1)),null==i)return!1;o=Vr(n),i=zr(i)}return i[o]===t?t!==m||o in i:mt(t,i[o],m,!0)}}function jt(n,t,r,e,u){if(!ve(n))return n;var i=Ir(t)&&(Ti(t)||we(t)),o=i?null:Ki(t);return Kn(o||t,function(f,l){if(o&&(l=f,f=t[l]),p(f)){e||(e=[]),u||(u=[]);n:{for(var a=l,c=e,s=u,h=c.length,_=t[a];h--;)if(c[h]==_){n[a]=s[h];break n}var h=n[a],v=r?r(h,_,a,n,t):m,g=v===m;g&&(v=_,Ir(_)&&(Ti(_)||we(_))?v=Ti(h)?h:Ir(h)?Dn(h):[]:Fi(_)||se(_)?v=se(h)?Ae(h):Fi(h)?h:{}:g=!1),c.push(_),s.push(v),g?n[a]=jt(v,_,r,c,s):(v===v?v!==h:h===h)&&(n[a]=v)}}else a=n[l],c=r?r(a,f,l,n,t):m,(s=c===m)&&(c=f),c===m&&(!i||l in n)||!s&&(c===c?c===a:a!==a)||(n[l]=c)}),n}function kt(n){return function(t){return null==t?m:t[n]}}function Ot(n){var t=n+"";return n=Br(n),function(r){return dt(r,n,t)}}function Rt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Er(e)){var u=e;yu.call(n,e,1)}}}function It(n,t){return n+su(Cu()*(t-n+1))}function Et(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Ct(n,t,r){var e=-1,u=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===m||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Me(u);++e<u;)r[e]=n[e+t];return r}function Wt(n,t){var r;return Mu(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function St(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function Tt(t,r,e){var u=mr(),i=-1;return r=Jn(r,function(n){return u(n)}),t=bt(t,function(n){return{a:Jn(r,function(t){return t(n)}),b:++i,c:n}}),St(t,function(t,r){var u;n:{u=-1;for(var i=t.a,o=r.a,f=i.length,l=e.length;++u<f;){var a=n(i[u],o[u]);if(a){u=l>u?a*(e[u]?1:-1):a;break n}}u=t.b-r.b}return u})}function Ut(n,t){var r=0;return Mu(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function $t(n,t){var e=-1,u=br(),i=n.length,o=u==r,f=o&&i>=200,l=f?Vu():null,a=[];l?(u=qn,o=!1):(f=!1,l=t?[]:a);n:for(;++e<i;){var c=n[e],s=t?t(c,e,n):c;if(o&&c===c){for(var p=l.length;p--;)if(l[p]===s)continue n;t&&l.push(s),a.push(c)}else 0>u(l,s,0)&&((t||f)&&l.push(s),a.push(c))}return a}function Ft(n,t){for(var r=-1,e=t.length,u=Me(e);++r<e;)u[r]=n[t[r]];return u}function Nt(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Ct(n,e?0:i,e?i+1:u):Ct(n,e?i+1:0,e?u:i)}function Lt(n,t){var r=n;r instanceof Bn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var r=[r],i=t[e];_u.apply(r,i.args),r=i.func.apply(i.thisArg,r)}return r}function zt(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&Uu>=u){for(;u>e;){var i=e+u>>>1,o=n[i];(r?t>=o:t>o)&&null!==o?e=i+1:u=i}return u}return Bt(n,t,Fe,r)}function Bt(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,l=t===m;i>u;){var a=su((u+i)/2),c=r(n[a]),s=c!==m,p=c===c;(o?p||e:f?p&&s&&(e||null!=c):l?p&&(e||s):null==c?0:e?t>=c:t>c)?u=a+1:i=a}return Ou(i,Tu)}function Mt(n,t,r){if("function"!=typeof n)return Fe;if(t===m)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function Pt(n){return lu.call(n,0)}function qt(n,t,r){for(var e=r.length,u=-1,i=ku(n.length-e,0),o=-1,f=t.length,l=Me(i+f);++o<f;)l[o]=t[o];for(;++u<e;)l[r[u]]=n[u];for(;i--;)l[o++]=n[u++];return l}function Dt(n,t,r){for(var e=-1,u=r.length,i=-1,o=ku(n.length-u,0),f=-1,l=t.length,a=Me(o+l);++i<o;)a[i]=n[i];for(o=i;++f<l;)a[o+f]=t[f];for(;++e<u;)a[o+r[e]]=n[i++];return a}function Kt(n,t){return function(r,e,u){var i=t?t():{};if(e=mr(e,u,3),Ti(r)){u=-1;for(var o=r.length;++u<o;){var f=r[u];n(i,f,e(f,u,r),r)}}else Mu(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function Vt(n){return ae(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:m,o=u>2?r[2]:m,f=u>1?r[u-1]:m;for("function"==typeof i?(i=Mt(i,f,5),u-=2):(i="function"==typeof f?f:m,u-=i?1:0),o&&Cr(r[0],r[1],o)&&(i=3>u?m:i,u=1);++e<u;)(o=r[e])&&n(t,o,i);return t})}function Yt(n,t){return function(r,e){var u=r?Zu(r):0;if(!Tr(u))return n(r,e);for(var i=t?u:-1,o=zr(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Zt(n){return function(t,r,e){var u=zr(t);e=e(t);for(var i=e.length,o=n?i:-1;n?o--:++o<i;){var f=e[o];if(!1===r(u[f],f,u))break}return t}}function Gt(n,t){function r(){return(this&&this!==Yn&&this instanceof r?e:n).apply(t,arguments)}var e=Xt(n);return r}function Jt(n){return function(t){var r=-1;t=Te(Ie(t));for(var e=t.length,u="";++r<e;)u=n(u,t[r],r);return u}}function Xt(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4])}var r=Bu(n.prototype),t=n.apply(r,t);return ve(t)?t:r}}function Ht(n){function t(r,e,u){return u&&Cr(r,e,u)&&(e=null),r=vr(r,n,null,null,null,null,null,e),r.placeholder=t.placeholder,r}return t}function Qt(n,t){return function(r,e,u){if(u&&Cr(r,e,u)&&(e=null),e=mr(e,u,3),1==e.length){u=r=Lr(r);for(var i=e,o=-1,f=u.length,l=t,a=l;++o<f;){var c=u[o],s=+i(c);n(s,l)&&(l=s,a=c)}if(u=a,!r.length||u!==t)return u}return ct(r,e,n,t)}}function nr(n,r){return function(e,u,i){return u=mr(u,i,3),Ti(e)?(u=t(e,u,r),u>-1?e[u]:m):pt(e,u,n)}}function tr(n){return function(r,e,u){return r&&r.length?(e=mr(e,u,3),t(r,e,n)):-1}}function rr(n){return function(t,r,e){return r=mr(r,e,3),pt(t,r,n,!0)}}function er(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=Me(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Je(N);!t&&zn.prototype.thru&&"wrapper"==wr(o)&&(t=new zn([]))}for(e=t?-1:r;++e<r;){var o=i[e],u=wr(o),f="wrapper"==u?Yu(o):null;t=f&&Sr(f[0])&&f[1]==(I|j|O|E)&&!f[4].length&&1==f[9]?t[wr(f[0])].apply(t,f[3]):1==o.length&&Sr(o)?t[u]():t.thru(o)}return function(){var n=arguments;if(t&&1==n.length&&Ti(n[0]))return t.plant(n[0]).value();for(var e=0,n=r?i[e].apply(this,n):n[0];++e<r;)n=i[e].call(this,n);return n}}}function ur(n,t){return function(r,e,u){return"function"==typeof e&&u===m&&Ti(r)?n(r,e):t(r,Mt(e,u,3))}}function ir(n){return function(t,r,e){return("function"!=typeof r||e!==m)&&(r=Mt(r,e,3)),n(t,r,ke)}}function or(n){return function(t,r,e){return("function"!=typeof r||e!==m)&&(r=Mt(r,e,3)),n(t,r)}}function fr(n){return function(t,r,e){var u={};return r=mr(r,e,3),vt(t,function(t,e,i){i=r(t,e,i),e=n?i:e,t=n?t:i,u[e]=t}),u}}function lr(n){return function(t,r,e){return t=u(t),(n?t:"")+pr(t,r,e)+(n?"":t)}}function ar(n){var t=ae(function(r,e){var u=_(e,t.placeholder);return vr(r,n,null,e,u)});return t}function cr(n,t){return function(r,e,u,i){var o=3>arguments.length;return"function"==typeof e&&i===m&&Ti(r)?n(r,e,u,o):Et(r,mr(e,i,4),u,o,t)}}function sr(n,t,r,e,u,i,o,f,l,a){function c(){for(var w=arguments.length,A=w,j=Me(w);A--;)j[A]=arguments[A];if(e&&(j=qt(j,e,u)),i&&(j=Dt(j,i,o)),v||y){var A=c.placeholder,k=_(j,A),w=w-k.length;if(a>w){var I=f?Dn(f):null,w=ku(a-w,0),E=v?k:null,k=v?null:k,C=v?j:null,j=v?null:j;return t|=v?O:R,t&=~(v?R:O),g||(t&=~(b|x)),j=[n,t,r,C,E,j,k,I,l,w],I=sr.apply(m,j),Sr(n)&&Gu(I,j),I.placeholder=A,I}}if(A=p?r:this,I=h?A[n]:n,f)for(w=j.length,E=Ou(f.length,w),k=Dn(j);E--;)C=f[E],j[E]=Er(C,w)?k[C]:m;return s&&l<j.length&&(j.length=l),this&&this!==Yn&&this instanceof c&&(I=d||Xt(n)),I.apply(A,j)}var s=t&I,p=t&b,h=t&x,v=t&j,g=t&A,y=t&k,d=h?null:Xt(n);return c}function pr(n,t,r){return n=n.length,t=+t,t>n&&Au(t)?(t-=n,r=null==r?" ":r+"",We(r,au(t/r.length)).slice(0,t)):""}function hr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,l=-1,a=e.length,c=Me(f+a);++l<a;)c[l]=e[l];for(;f--;)c[l++]=arguments[++t];return(this&&this!==Yn&&this instanceof u?o:n).apply(i?r:this,c)}var i=t&b,o=Xt(n);return u}function _r(n){return function(t,r,e,u){var i=mr(e);return null==e&&i===it?zt(t,r,n):Bt(t,r,i(e,u,1),n)}}function vr(n,t,r,e,u,i,o,f){var l=t&x;if(!l&&"function"!=typeof n)throw new Je(N);var a=e?e.length:0;if(a||(t&=~(O|R),e=u=null),a-=u?u.length:0,t&R){var c=e,s=u;e=u=null}var p=l?null:Yu(n);return r=[n,t,r,e,u,c,s,i,o,f],p&&(e=r[1],t=p[1],f=e|t,u=t==I&&e==j||t==I&&e==E&&r[7].length<=p[8]||t==(I|E)&&e==j,(I>f||u)&&(t&b&&(r[2]=p[2],f|=e&b?0:A),(e=p[3])&&(u=r[3],r[3]=u?qt(u,e,p[4]):Dn(e),r[4]=u?_(r[3],L):Dn(p[4])),(e=p[5])&&(u=r[5],r[5]=u?Dt(u,e,p[6]):Dn(e),r[6]=u?_(r[5],L):Dn(p[6])),(e=p[7])&&(r[7]=Dn(e)),t&I&&(r[8]=null==r[8]?p[8]:Ou(r[8],p[8])),null==r[9]&&(r[9]=p[9]),r[0]=p[0],r[1]=f),t=r[1],f=r[9]),r[9]=null==f?l?0:n.length:ku(f-a,0)||0,(p?Ku:Gu)(t==b?Gt(r[0],r[2]):t!=O&&t!=(b|O)||r[4].length?sr.apply(m,r):hr.apply(m,r),r)}function gr(n,t,r,e,u,i,o){var f=-1,l=n.length,a=t.length;if(l!=a&&(!u||l>=a))return!1;for(;++f<l;){var c=n[f],a=t[f],s=e?e(u?a:c,u?c:a,f):m;if(s!==m){if(s)continue;return!1}if(u){if(!Hn(t,function(n){return c===n||r(c,n,e,u,i,o)}))return!1}else if(c!==a&&!r(c,a,e,u,i,o))return!1}return!0}function yr(n,t,r){switch(r){case M:case P:return+n==+t;case q:return n.name==t.name&&n.message==t.message;case K:return n!=+n?t!=+t:n==+t;case Y:case Z:return n==t+""}return!1}function dr(n,t,r,e,u,i,o){var f=Ki(n),l=f.length,a=Ki(t).length;if(l!=a&&!u)return!1;for(a=l;a--;){var c=f[a];if(!(u?c in t:ru.call(t,c)))return!1}for(var s=u;++a<l;){var c=f[a],p=n[c],h=t[c],_=e?e(u?h:p,u?p:h,c):m;if(_===m?!r(p,h,e,u,i,o):!_)return!1;s||(s="constructor"==c)}return s||(r=n.constructor,e=t.constructor,!(r!=e&&"constructor"in n&&"constructor"in t)||"function"==typeof r&&r instanceof r&&"function"==typeof e&&e instanceof e)?!0:!1}function mr(n,t,r){var e=Nn.callback||Ue,e=e===Ue?it:e;return r?e(n,t,r):e}function wr(n){for(var t=n.name,r=Lu[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function br(n,t,e){var u=Nn.indexOf||Kr,u=u===Kr?r:u;return n?u(n,t,e):u}function xr(n){n=Oe(n);for(var t=n.length;t--;){var r=n[t][1];n[t][2]=r===r&&!ve(r)}return n}function Ar(n,t){var r=null==n?m:n[t];return ge(r)?r:m}function jr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&ru.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function kr(n){return n=n.constructor,"function"==typeof n&&n instanceof n||(n=Ye),new n}function Or(n,t,r){var e=n.constructor;switch(t){case G:return Pt(n);case M:case P:return new e(+n);case J:case X:case H:case Q:case nn:case tn:case rn:case en:case un:return t=n.buffer,new e(r?Pt(t):t,n.byteOffset,n.length);case K:case Z:return new e(n);case Y:var u=new e(n.source,jn.exec(n));u.lastIndex=n.lastIndex}return u}function Rr(n,t,r){return null==n||Wr(t,n)||(t=Br(t),n=1==t.length?n:dt(n,Ct(t,0,-1)),t=Vr(t)),t=null==n?n:n[t],null==t?m:t.apply(n,r)}function Ir(n){return null!=n&&Tr(Zu(n))}function Er(n,t){return n="number"==typeof n||Rn.test(n)?+n:-1,t=null==t?Fu:t,n>-1&&0==n%1&&t>n}function Cr(n,t,r){if(!ve(r))return!1;var e=typeof t;return("number"==e?Ir(r)&&Er(t,r.length):"string"==e&&t in r)?(t=r[t],n===n?n===t:t!==t):!1}function Wr(n,t){var r=typeof n;return"string"==r&&yn.test(n)||"number"==r?!0:Ti(n)?!1:!gn.test(n)||null!=t&&n in zr(t)}function Sr(n){var t=wr(n);return t in Bn.prototype?(t=Nn[t],n===t?!0:(t=Yu(t),!!t&&n===t[0])):!1}function Tr(n){return"number"==typeof n&&n>-1&&0==n%1&&Fu>=n}function Ur(n,t){n=zr(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function $r(n,t){var r={};return _t(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function Fr(n){var t;if(!p(n)||uu.call(n)!=V||!(ru.call(n,"constructor")||(t=n.constructor,"function"!=typeof t||t instanceof t)))return!1;var r;return _t(n,function(n,t){r=t}),r===m||ru.call(n,r)}function Nr(n){for(var t=ke(n),r=t.length,e=r&&n.length,u=!!e&&Tr(e)&&(Ti(n)||se(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Er(f,e)||ru.call(n,f))&&o.push(f)}return o}function Lr(n){return null==n?[]:Ir(n)?ve(n)?n:Ye(n):Re(n)}function zr(n){return ve(n)?n:Ye(n)}function Br(n){if(Ti(n))return n;var t=[];return u(n).replace(dn,function(n,r,e,u){t.push(e?u.replace(xn,"$1"):r||n)}),t}function Mr(n){return n instanceof Bn?n.clone():new zn(n.__wrapped__,n.__chain__,Dn(n.__actions__))}function Pr(n,t,r){return n&&n.length?((r?Cr(n,t,r):null==t)&&(t=1),Ct(n,0>t?0:t)):[]}function qr(n,t,r){var e=n?n.length:0;return e?((r?Cr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Ct(n,0,0>t?0:t)):[]}function Dr(n){return n?n[0]:m}function Kr(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=0>e?ku(u+e,0):e;else if(e)return e=zt(n,t),n=n[e],(t===t?t===n:n!==n)?e:-1;return r(n,t,e||0)}function Vr(n){var t=n?n.length:0;return t?n[t-1]:m}function Yr(n){return Pr(n,1)}function Zr(n,t,e,u){if(!n||!n.length)return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Cr(n,t,u)?null:t,t=!1);var i=mr();if((null!=e||i!==it)&&(e=i(e,u,3)),t&&br()==r){t=e;var o;e=-1,u=n.length;for(var i=-1,f=[];++e<u;){var l=n[e],a=t?t(l,e,n):l;e&&o===a||(o=a,f[++i]=l)}n=f}else n=$t(n,e);return n}function Gr(n){if(!n||!n.length)return[];var t=-1,r=0;n=Gn(n,function(n){return Ir(n)?(r=ku(n.length,r),!0):void 0});for(var e=Me(r);++t<r;)e[t]=Jn(n,kt(t));return e}function Jr(n,t,r){return n&&n.length?(n=Gr(n),null==t?n:(t=Mt(t,r,4),Jn(n,function(n){return Xn(n,t,m,!0)}))):[]}function Xr(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Ti(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function Hr(n){return n=Nn(n),n.__chain__=!0,n}function Qr(n,t,r){return t.call(r,n)}function ne(n,t,r){var e=Ti(n)?Vn:at;return r&&Cr(n,t,r)&&(t=null),("function"!=typeof t||r!==m)&&(t=mr(t,r,3)),e(n,t)}function te(n,t,r){var e=Ti(n)?Gn:st;return t=mr(t,r,3),e(n,t)}function re(n,t,r,e){var u=n?Zu(n):0;return Tr(u)||(n=Re(n),u=n.length),u?(r="number"!=typeof r||e&&Cr(t,r,e)?0:0>r?ku(u+r,0):r||0,"string"==typeof n||!Ti(n)&&me(n)?u>r&&-1<n.indexOf(t,r):-1<br(n,t,r)):!1}function ee(n,t,r){var e=Ti(n)?Jn:bt;return t=mr(t,r,3),e(n,t)}function ue(n,t,r){if(r?Cr(n,t,r):null==t){n=Lr(n);var e=n.length;return e>0?n[It(0,e-1)]:m}r=-1,n=xe(n);var e=n.length,u=e-1;for(t=Ou(0>t?0:+t||0,e);++r<t;){var e=It(r,u),i=n[e];n[e]=n[r],n[r]=i}return n.length=t,n}function ie(n,t,r){var e=Ti(n)?Hn:Wt;return r&&Cr(n,t,r)&&(t=null),("function"!=typeof t||r!==m)&&(t=mr(t,r,3)),e(n,t)}function oe(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Je(N);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}}function fe(n,t,r){function e(){var r=t-(wi()-a);0>=r||r>t?(f&&cu(f),r=p,f=s=p=m,r&&(h=wi(),l=n.apply(c,o),s||f||(o=c=null))):s=gu(e,r)}function u(){s&&cu(s),f=s=p=m,(v||_!==t)&&(h=wi(),l=n.apply(c,o),s||f||(o=c=null))}function i(){if(o=arguments,a=wi(),c=this,p=v&&(s||!g),!1===_)var r=g&&!s;else{f||g||(h=a);var i=_-(a-h),y=0>=i||i>_;y?(f&&(f=cu(f)),h=a,l=n.apply(c,o)):f||(f=gu(u,i))}return y&&s?s=cu(s):s||t===_||(s=gu(e,t)),r&&(y=!0,l=n.apply(c,o)),!y||s||f||(o=c=null),l}var o,f,l,a,c,s,p,h=0,_=!1,v=!0;if("function"!=typeof n)throw new Je(N);if(t=0>t?0:+t||0,!0===r)var g=!0,v=!1;else ve(r)&&(g=r.leading,_="maxWait"in r&&ku(+r.maxWait||0,t),v="trailing"in r?r.trailing:v);return i.cancel=function(){s&&cu(s),f&&cu(f),f=s=p=m},i}function le(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;return i.has(u)?i.get(u):(e=n.apply(this,e),r.cache=i.set(u,e),e)}if("function"!=typeof n||t&&"function"!=typeof t)throw new Je(N);return r.cache=new le.Cache,r}function ae(n,t){if("function"!=typeof n)throw new Je(N);return t=ku(t===m?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=ku(r.length-t,0),i=Me(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}for(u=Me(t+1),e=-1;++e<t;)u[e]=r[e];return u[t]=i,n.apply(this,u)}}function ce(n,t){return n>t}function se(n){return p(n)&&Ir(n)&&uu.call(n)==z}function pe(n){return!!n&&1===n.nodeType&&p(n)&&-1<uu.call(n).indexOf("Element")}function he(n,t,r,e){return e=(r="function"==typeof r?Mt(r,e,3):m)?r(n,t):m,e===m?mt(n,t,r):!!e}function _e(n){return p(n)&&"string"==typeof n.message&&uu.call(n)==q}function ve(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function ge(n){return null==n?!1:uu.call(n)==D?ou.test(tu.call(n)):p(n)&&On.test(n)}function ye(n){return"number"==typeof n||p(n)&&uu.call(n)==K}function de(n){return p(n)&&uu.call(n)==Y}function me(n){return"string"==typeof n||p(n)&&uu.call(n)==Z}function we(n){return p(n)&&Tr(n.length)&&!!Un[uu.call(n)]}function be(n,t){return t>n}function xe(n){var t=n?Zu(n):0;return Tr(t)?t?Dn(n):[]:Re(n)}function Ae(n){return ut(n,ke(n))}function je(n){return yt(n,ke(n))}function ke(n){if(null==n)return[];ve(n)||(n=Ye(n));for(var t=n.length,t=t&&Tr(t)&&(Ti(n)||se(n))&&t||0,r=n.constructor,e=-1,r="function"==typeof r&&r.prototype===n,u=Me(t),i=t>0;++e<t;)u[e]=e+"";for(var o in n)i&&Er(o,t)||"constructor"==o&&(r||!ru.call(n,o))||u.push(o);return u}function Oe(n){n=zr(n);for(var t=-1,r=Ki(n),e=r.length,u=Me(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function Re(n){return Ft(n,Ki(n))}function Ie(n){return(n=u(n))&&n.replace(In,l).replace(bn,"")}function Ee(n){return(n=u(n))&&wn.test(n)?n.replace(mn,"\\$&"):n}function Ce(n,t,r){return r&&Cr(n,t,r)&&(t=0),Eu(n,t)}function We(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!Au(t))return r;do t%2&&(r+=n),t=su(t/2),n+=n;while(t);return r}function Se(n,t,r){var e=n;return(n=u(n))?(r?Cr(e,t,r):null==t)?n.slice(v(n),g(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function Te(n,t,r){return r&&Cr(n,t,r)&&(t=null),n=u(n),n.match(t||Wn)||[]}function Ue(n,t,r){return r&&Cr(n,t,r)&&(t=null),p(n)?Ne(n):it(n,t)}function $e(n){return function(){return n}}function Fe(n){return n}function Ne(n){return xt(ot(n,!0))}function Le(n,t,r){if(null==r){var e=ve(t),u=e?Ki(t):null;((u=u&&u.length?yt(t,u):null)?u.length:e)||(u=!1,r=t,t=n,n=this)}u||(u=yt(t,Ki(t)));var i=!0,e=-1,o=$i(n),f=u.length;!1===r?i=!1:ve(r)&&"chain"in r&&(i=r.chain);for(;++e<f;){r=u[e];var l=t[r];n[r]=l,o&&(n.prototype[r]=function(t){return function(){var r=this.__chain__;if(i||r){var e=n(this.__wrapped__);return(e.__actions__=Dn(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return r=[this.value()],_u.apply(r,arguments),t.apply(n,r)}}(l))}return n}function ze(){}function Be(n){return Wr(n)?kt(n):Ot(n)}h=h?Zn.defaults(Yn.Object(),h,Zn.pick(Yn,Tn)):Yn;var Me=h.Array,Pe=h.Date,qe=h.Error,De=h.Function,Ke=h.Math,Ve=h.Number,Ye=h.Object,Ze=h.RegExp,Ge=h.String,Je=h.TypeError,Xe=Me.prototype,He=Ye.prototype,Qe=Ge.prototype,nu=(nu=h.window)?nu.document:null,tu=De.prototype.toString,ru=He.hasOwnProperty,eu=0,uu=He.toString,iu=h._,ou=Ze("^"+Ee(tu.call(ru)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fu=Ar(h,"ArrayBuffer"),lu=Ar(fu&&new fu(0),"slice"),au=Ke.ceil,cu=h.clearTimeout,su=Ke.floor,pu=Ar(Ye,"getPrototypeOf"),hu=h.parseFloat,_u=Xe.push,vu=Ar(h,"Set"),gu=h.setTimeout,yu=Xe.splice,du=Ar(h,"Uint8Array"),mu=Ar(h,"WeakMap"),wu=function(){try{var n=Ar(h,"Float64Array"),t=new n(new fu(10),0,1)&&n}catch(r){}return t||null}(),bu=Ar(Ye,"create"),xu=Ar(Me,"isArray"),Au=h.isFinite,ju=Ar(Ye,"keys"),ku=Ke.max,Ou=Ke.min,Ru=Ar(Pe,"now"),Iu=Ar(Ve,"isFinite"),Eu=h.parseInt,Cu=Ke.random,Wu=Ve.NEGATIVE_INFINITY,Su=Ve.POSITIVE_INFINITY,Tu=4294967294,Uu=2147483647,$u=wu?wu.BYTES_PER_ELEMENT:0,Fu=9007199254740991,Nu=mu&&new mu,Lu={},zu=Nn.support={};!function(n){function t(){this.x=n}var r=[];t.prototype={valueOf:n,y:n};for(var e in new t)r.push(e);try{zu.dom=11===nu.createDocumentFragment().nodeType}catch(u){zu.dom=!1}}(1,0),Nn.templateSettings={escape:hn,evaluate:_n,interpolate:vn,variable:"",imports:{_:Nn}};var Bu=function(){function n(){}return function(t){if(ve(t)){n.prototype=t;var r=new n;n.prototype=null}return r||{}}}(),Mu=Yt(vt),Pu=Yt(gt,!0),qu=Zt(),Du=Zt(!0),Ku=Nu?function(n,t){return Nu.set(n,t),n}:Fe;lu||(Pt=fu&&du?function(n){var t=n.byteLength,r=wu?su(t/$u):0,e=r*$u,u=new fu(t);if(r){var i=new wu(u,0,r);i.set(new wu(n,0,r))}return t!=e&&(i=new du(u,e),i.set(new du(n,e))),u}:$e(null));var Vu=bu&&vu?function(n){return new Pn(n)}:$e(null),Yu=Nu?function(n){return Nu.get(n)}:ze,Zu=kt("length"),Gu=function(){var n=0,t=0;return function(r,e){var u=wi(),i=T-(u-t);if(t=u,i>0){if(++n>=S)return r}else n=0;return Ku(r,e)}}(),Ju=ae(function(n,t){return Ir(n)?lt(n,ht(t,!1,!0)):[]}),Xu=tr(),Hu=tr(!0),Qu=ae(function(n){for(var t=n.length,e=t,u=Me(c),i=br(),o=i==r,f=[];e--;){var l=n[e]=Ir(l=n[e])?l:[];u[e]=o&&120<=l.length?Vu(e&&l):null}var o=n[0],a=-1,c=o?o.length:0,s=u[0];n:for(;++a<c;)if(l=o[a],0>(s?qn(s,l):i(f,l,0))){for(e=t;--e;){var p=u[e];if(0>(p?qn(p,l):i(n[e],l,0)))continue n}s&&s.push(l),f.push(l)}return f}),ni=ae(function(t,r){r=ht(r);var e=et(t,r);return Rt(t,r.sort(n)),e}),ti=_r(),ri=_r(!0),ei=ae(function(n){return $t(ht(n,!1,!0))}),ui=ae(function(n,t){return Ir(n)?lt(n,t):[]}),ii=ae(Gr),oi=ae(function(n){var t=n.length,r=t>2?n[t-2]:m,e=t>1?n[t-1]:m;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):m,e=m),n.length=t,Jr(n,r,e)}),fi=ae(function(n,t){return et(n,ht(t))}),li=Kt(function(n,t,r){ru.call(n,r)?++n[r]:n[r]=1}),ai=nr(Mu),ci=nr(Pu,!0),si=ur(Kn,Mu),pi=ur(function(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n},Pu),hi=Kt(function(n,t,r){ru.call(n,r)?n[r].push(t):n[r]=[t]}),_i=Kt(function(n,t,r){n[r]=t}),vi=ae(function(n,t,r){var e=-1,u="function"==typeof t,i=Wr(t),o=Ir(n)?Me(n.length):[];return Mu(n,function(n){var f=u?t:i&&null!=n?n[t]:null;o[++e]=f?f.apply(n,r):Rr(n,t,r)}),o}),gi=Kt(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),yi=cr(Xn,Mu),di=cr(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},Pu),mi=ae(function(n,t){if(null==n)return[];var r=t[2];return r&&Cr(t[0],t[1],r)&&(t.length=1),Tt(n,ht(t),[])}),wi=Ru||function(){return(new Pe).getTime()},bi=ae(function(n,t,r){var e=b;if(r.length)var u=_(r,bi.placeholder),e=e|O;return vr(n,e,t,r,u)}),xi=ae(function(n,t){t=t.length?ht(t):je(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=vr(n[u],b,n)}return n}),Ai=ae(function(n,t,r){var e=b|x;if(r.length)var u=_(r,Ai.placeholder),e=e|O;return vr(t,e,n,r,u)}),ji=Ht(j),ki=Ht(k),Oi=ae(function(n,t){return ft(n,1,t)}),Ri=ae(function(n,t,r){return ft(n,t,r)}),Ii=er(),Ei=er(!0),Ci=ar(O),Wi=ar(R),Si=ae(function(n,t){return vr(n,E,null,null,null,ht(t))}),Ti=xu||function(n){return p(n)&&Tr(n.length)&&uu.call(n)==B};zu.dom||(pe=function(n){return!!n&&1===n.nodeType&&p(n)&&!Fi(n)});var Ui=Iu||function(n){return"number"==typeof n&&Au(n)},$i=e(/x/)||du&&!e(du)?function(n){return uu.call(n)==D}:e,Fi=pu?function(n){if(!n||uu.call(n)!=V)return!1;var t=Ar(n,"valueOf"),r=t&&(r=pu(t))&&pu(r);return r?n==r||pu(n)==r:Fr(n)}:Fr,Ni=Vt(function(n,t,r){return r?tt(n,t,r):rt(n,t)}),Li=ae(function(n){var t=n[0];return null==t?t:(n.push(Qn),Ni.apply(m,n))}),zi=rr(vt),Bi=rr(gt),Mi=ir(qu),Pi=ir(Du),qi=or(vt),Di=or(gt),Ki=ju?function(n){var t=null==n?null:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Ir(n)?Nr(n):ve(n)?ju(n):[]}:Nr,Vi=fr(!0),Yi=fr(),Zi=Vt(jt),Gi=ae(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=Jn(ht(t),Ge),Ur(n,lt(ke(n),t));var r=Mt(t[0],t[1],3);return $r(n,function(n,t,e){return!r(n,t,e)})}),Ji=ae(function(n,t){return null==n?{}:"function"==typeof t[0]?$r(n,Mt(t[0],t[1],3)):Ur(n,ht(t))}),Xi=Jt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Hi=Jt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Qi=lr(),no=lr(!0);8!=Eu(Sn+"08")&&(Ce=function(n,t,r){return(r?Cr(n,t,r):null==t)?t=0:t&&(t=+t),n=Se(n),Eu(n,t||(kn.test(n)?16:10))});var to=Jt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),ro=Jt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),eo=ae(function(n,t){try{return n.apply(m,t)}catch(r){return _e(r)?r:new qe(r)}}),uo=ae(function(n,t){return function(r){return Rr(r,n,t)}}),io=ae(function(n,t){return function(r){return Rr(n,r,t)}}),oo=Qt(ce,Wu),fo=Qt(be,Su);return Nn.prototype=Ln.prototype,zn.prototype=Bu(Ln.prototype),zn.prototype.constructor=zn,Bn.prototype=Bu(Ln.prototype),Bn.prototype.constructor=Bn,Mn.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Mn.prototype.get=function(n){return"__proto__"==n?m:this.__data__[n]},Mn.prototype.has=function(n){return"__proto__"!=n&&ru.call(this.__data__,n)},Mn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Pn.prototype.push=function(n){var t=this.data;"string"==typeof n||ve(n)?t.set.add(n):t.hash[n]=!0},le.Cache=Mn,Nn.after=function(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Je(N);var r=n;n=t,t=r}return n=Au(n=+n)?n:0,function(){return 1>--n?t.apply(this,arguments):void 0}},Nn.ary=function(n,t,r){return r&&Cr(n,t,r)&&(t=null),t=n&&null==t?n.length:ku(+t||0,0),vr(n,I,null,null,null,null,t)},Nn.assign=Ni,Nn.at=fi,Nn.before=oe,Nn.bind=bi,Nn.bindAll=xi,Nn.bindKey=Ai,Nn.callback=Ue,Nn.chain=Hr,Nn.chunk=function(n,t,r){t=(r?Cr(n,t,r):null==t)?1:ku(+t||1,1),r=0;for(var e=n?n.length:0,u=-1,i=Me(au(e/t));e>r;)i[++u]=Ct(n,r,r+=t);return i},Nn.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u},Nn.constant=$e,Nn.countBy=li,Nn.create=function(n,t,r){var e=Bu(n);return r&&Cr(n,t,r)&&(t=null),t?rt(e,t):e},Nn.curry=ji,Nn.curryRight=ki,Nn.debounce=fe,Nn.defaults=Li,Nn.defer=Oi,Nn.delay=Ri,Nn.difference=Ju,Nn.drop=Pr,Nn.dropRight=qr,Nn.dropRightWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3),!0,!0):[]},Nn.dropWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3),!0):[]},Nn.fill=function(n,t,r,e){var u=n?n.length:0;if(!u)return[];for(r&&"number"!=typeof r&&Cr(n,t,r)&&(r=0,e=u),u=n.length,r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===m||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;u>r;)n[r++]=t;return n},Nn.filter=te,Nn.flatten=function(n,t,r){var e=n?n.length:0;return r&&Cr(n,t,r)&&(t=!1),e?ht(n,t):[]},Nn.flattenDeep=function(n){return n&&n.length?ht(n,!0):[]},Nn.flow=Ii,Nn.flowRight=Ei,Nn.forEach=si,Nn.forEachRight=pi,Nn.forIn=Mi,Nn.forInRight=Pi,
Nn.forOwn=qi,Nn.forOwnRight=Di,Nn.functions=je,Nn.groupBy=hi,Nn.indexBy=_i,Nn.initial=function(n){return qr(n,1)},Nn.intersection=Qu,Nn.invert=function(n,t,r){r&&Cr(n,t,r)&&(t=null),r=-1;for(var e=Ki(n),u=e.length,i={};++r<u;){var o=e[r],f=n[o];t?ru.call(i,f)?i[f].push(o):i[f]=[o]:i[f]=o}return i},Nn.invoke=vi,Nn.keys=Ki,Nn.keysIn=ke,Nn.map=ee,Nn.mapKeys=Vi,Nn.mapValues=Yi,Nn.matches=Ne,Nn.matchesProperty=function(n,t){return At(n,ot(t,!0))},Nn.memoize=le,Nn.merge=Zi,Nn.method=uo,Nn.methodOf=io,Nn.mixin=Le,Nn.negate=function(n){if("function"!=typeof n)throw new Je(N);return function(){return!n.apply(this,arguments)}},Nn.omit=Gi,Nn.once=function(n){return oe(2,n)},Nn.pairs=Oe,Nn.partial=Ci,Nn.partialRight=Wi,Nn.partition=gi,Nn.pick=Ji,Nn.pluck=function(n,t){return ee(n,Be(t))},Nn.property=Be,Nn.propertyOf=function(n){return function(t){return dt(n,Br(t),t+"")}},Nn.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=br(),u=n.length;++r<u;)for(var i=0,o=n[r];-1<(i=e(t,o,i));)yu.call(t,i,1);return t},Nn.pullAt=ni,Nn.range=function(n,t,r){r&&Cr(n,t,r)&&(t=r=null),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;var e=-1;t=ku(au((t-n)/(r||1)),0);for(var u=Me(t);++e<t;)u[e]=n,n+=r;return u},Nn.rearg=Si,Nn.reject=function(n,t,r){var e=Ti(n)?Gn:st;return t=mr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})},Nn.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=mr(t,r,3);++u<o;)r=n[u],t(r,u,n)&&(e.push(r),i.push(u));return Rt(n,i),e},Nn.rest=Yr,Nn.restParam=ae,Nn.set=function(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||Wr(t,n)?[e]:Br(t);for(var e=-1,u=t.length,i=u-1,o=n;null!=o&&++e<u;){var f=t[e];ve(o)&&(e==i?o[f]=r:null==o[f]&&(o[f]=Er(t[e+1])?[]:{})),o=o[f]}return n},Nn.shuffle=function(n){return ue(n,Su)},Nn.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Cr(n,t,r)&&(t=0,r=e),Ct(n,t,r)):[]},Nn.sortBy=function(n,t,r){if(null==n)return[];r&&Cr(n,t,r)&&(t=null);var e=-1;return t=mr(t,r,3),n=bt(n,function(n,r,u){return{a:t(n,r,u),b:++e,c:n}}),St(n,f)},Nn.sortByAll=mi,Nn.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Cr(t,r,e)&&(r=null),Ti(t)||(t=null==t?[]:[t]),Ti(r)||(r=null==r?[]:[r]),Tt(n,t,r))},Nn.spread=function(n){if("function"!=typeof n)throw new Je(N);return function(t){return n.apply(this,t)}},Nn.take=function(n,t,r){return n&&n.length?((r?Cr(n,t,r):null==t)&&(t=1),Ct(n,0,0>t?0:t)):[]},Nn.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Cr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Ct(n,0>t?0:t)):[]},Nn.takeRightWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3),!1,!0):[]},Nn.takeWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3)):[]},Nn.tap=function(n,t,r){return t.call(r,n),n},Nn.throttle=function(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Je(N);return!1===r?e=!1:ve(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Fn.leading=e,Fn.maxWait=+t,Fn.trailing=u,fe(n,t,Fn)},Nn.thru=Qr,Nn.times=function(n,t,r){if(n=su(n),1>n||!Au(n))return[];var e=-1,u=Me(Ou(n,4294967295));for(t=Mt(t,r,1);++e<n;)4294967295>e?u[e]=t(e):t(e);return u},Nn.toArray=xe,Nn.toPlainObject=Ae,Nn.transform=function(n,t,r,e){var u=Ti(n)||we(n);return t=mr(t,e,4),null==r&&(u||ve(n)?(e=n.constructor,r=u?Ti(n)?new e:[]:Bu($i(e)?e.prototype:null)):r={}),(u?Kn:vt)(n,function(n,e,u){return t(r,n,e,u)}),r},Nn.union=ei,Nn.uniq=Zr,Nn.unzip=Gr,Nn.unzipWith=Jr,Nn.values=Re,Nn.valuesIn=function(n){return Ft(n,ke(n))},Nn.where=function(n,t){return te(n,xt(t))},Nn.without=ui,Nn.wrap=function(n,t){return t=null==t?Fe:t,vr(t,O,null,[n],[])},Nn.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Ir(r))var e=e?lt(e,r).concat(lt(r,e)):r}return e?$t(e):[]},Nn.zip=ii,Nn.zipObject=Xr,Nn.zipWith=oi,Nn.backflow=Ei,Nn.collect=ee,Nn.compose=Ei,Nn.each=si,Nn.eachRight=pi,Nn.extend=Ni,Nn.iteratee=Ue,Nn.methods=je,Nn.object=Xr,Nn.select=te,Nn.tail=Yr,Nn.unique=Zr,Le(Nn,Nn),Nn.add=function(n,t){return(+n||0)+(+t||0)},Nn.attempt=eo,Nn.camelCase=Xi,Nn.capitalize=function(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)},Nn.clone=function(n,t,r,e){return t&&"boolean"!=typeof t&&Cr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?ot(n,t,Mt(r,e,1)):ot(n,t)},Nn.cloneDeep=function(n,t,r){return"function"==typeof t?ot(n,!0,Mt(t,r,1)):ot(n,!0)},Nn.deburr=Ie,Nn.endsWith=function(n,t,r){n=u(n),t+="";var e=n.length;return r=r===m?e:Ou(0>r?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r},Nn.escape=function(n){return(n=u(n))&&pn.test(n)?n.replace(cn,a):n},Nn.escapeRegExp=Ee,Nn.every=ne,Nn.find=ai,Nn.findIndex=Xu,Nn.findKey=zi,Nn.findLast=ci,Nn.findLastIndex=Hu,Nn.findLastKey=Bi,Nn.findWhere=function(n,t){return ai(n,xt(t))},Nn.first=Dr,Nn.get=function(n,t,r){return n=null==n?m:dt(n,Br(t),t+""),n===m?r:n},Nn.gt=ce,Nn.gte=function(n,t){return n>=t},Nn.has=function(n,t){if(null==n)return!1;var r=ru.call(n,t);if(!r&&!Wr(t)){if(t=Br(t),n=1==t.length?n:dt(n,Ct(t,0,-1)),null==n)return!1;t=Vr(t),r=ru.call(n,t)}return r||Tr(n.length)&&Er(t,n.length)&&(Ti(n)||se(n))},Nn.identity=Fe,Nn.includes=re,Nn.indexOf=Kr,Nn.inRange=function(n,t,r){return t=+t||0,"undefined"==typeof r?(r=t,t=0):r=+r||0,n>=Ou(t,r)&&n<ku(t,r)},Nn.isArguments=se,Nn.isArray=Ti,Nn.isBoolean=function(n){return!0===n||!1===n||p(n)&&uu.call(n)==M},Nn.isDate=function(n){return p(n)&&uu.call(n)==P},Nn.isElement=pe,Nn.isEmpty=function(n){return null==n?!0:Ir(n)&&(Ti(n)||me(n)||se(n)||p(n)&&$i(n.splice))?!n.length:!Ki(n).length},Nn.isEqual=he,Nn.isError=_e,Nn.isFinite=Ui,Nn.isFunction=$i,Nn.isMatch=function(n,t,r,e){return r="function"==typeof r?Mt(r,e,3):m,wt(n,xr(t),r)},Nn.isNaN=function(n){return ye(n)&&n!=+n},Nn.isNative=ge,Nn.isNull=function(n){return null===n},Nn.isNumber=ye,Nn.isObject=ve,Nn.isPlainObject=Fi,Nn.isRegExp=de,Nn.isString=me,Nn.isTypedArray=we,Nn.isUndefined=function(n){return n===m},Nn.kebabCase=Hi,Nn.last=Vr,Nn.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(0>r?ku(e+r,0):Ou(r||0,e-1))+1;else if(r)return u=zt(n,t,!0)-1,n=n[u],(t===t?t===n:n!==n)?u:-1;if(t!==t)return s(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1},Nn.lt=be,Nn.lte=function(n,t){return t>=n},Nn.max=oo,Nn.min=fo,Nn.noConflict=function(){return h._=iu,this},Nn.noop=ze,Nn.now=wi,Nn.pad=function(n,t,r){n=u(n),t=+t;var e=n.length;return t>e&&Au(t)?(e=(t-e)/2,t=su(e),e=au(e),r=pr("",e,r),r.slice(0,t)+n+r):n},Nn.padLeft=Qi,Nn.padRight=no,Nn.parseInt=Ce,Nn.random=function(n,t,r){r&&Cr(n,t,r)&&(t=r=null);var e=null==n,u=null==t;return null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1?(r=Cu(),Ou(n+r*(t-n+hu("1e-"+((r+"").length-1))),t)):It(n,t)},Nn.reduce=yi,Nn.reduceRight=di,Nn.repeat=We,Nn.result=function(n,t,r){var e=null==n?m:n[t];return e===m&&(null==n||Wr(t,n)||(t=Br(t),n=1==t.length?n:dt(n,Ct(t,0,-1)),e=null==n?m:n[Vr(t)]),e=e===m?r:e),$i(e)?e.call(n):e},Nn.runInContext=d,Nn.size=function(n){var t=n?Zu(n):0;return Tr(t)?t:Ki(n).length},Nn.snakeCase=to,Nn.some=ie,Nn.sortedIndex=ti,Nn.sortedLastIndex=ri,Nn.startCase=ro,Nn.startsWith=function(n,t,r){return n=u(n),r=null==r?0:Ou(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r},Nn.sum=function(n,t,r){r&&Cr(n,t,r)&&(t=null);var e=mr(),u=null==t;if(u&&e===it||(u=!1,t=e(t,r,3)),u){for(n=Ti(n)?n:Lr(n),t=n.length,r=0;t--;)r+=+n[t]||0;n=r}else n=Ut(n,t);return n},Nn.template=function(n,t,r){var e=Nn.templateSettings;r&&Cr(n,t,r)&&(t=r=null),n=u(n),t=tt(rt({},r||t),e,nt),r=tt(rt({},t.imports),e.imports,nt);var i,o,f=Ki(r),l=Ft(r,f),a=0;r=t.interpolate||En;var s="__p+='";r=Ze((t.escape||En).source+"|"+r.source+"|"+(r===vn?An:En).source+"|"+(t.evaluate||En).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(n.replace(r,function(t,r,e,u,f,l){return e||(e=u),s+=n.slice(a,l).replace(Cn,c),r&&(i=!0,s+="'+__e("+r+")+'"),f&&(o=!0,s+="';"+f+";\n__p+='"),e&&(s+="'+((__t=("+e+"))==null?'':__t)+'"),a=l+t.length,t}),s+="';",(t=t.variable)||(s="with(obj){"+s+"}"),s=(o?s.replace(on,""):s).replace(fn,"$1").replace(ln,"$1;"),s="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+s+"return __p}",t=eo(function(){return De(f,p+"return "+s).apply(m,l)}),t.source=s,_e(t))throw t;return t},Nn.trim=Se,Nn.trimLeft=function(n,t,r){var e=n;return(n=u(n))?n.slice((r?Cr(e,t,r):null==t)?v(n):i(n,t+"")):n},Nn.trimRight=function(n,t,r){var e=n;return(n=u(n))?(r?Cr(e,t,r):null==t)?n.slice(0,g(n)+1):n.slice(0,o(n,t+"")+1):n},Nn.trunc=function(n,t,r){r&&Cr(n,t,r)&&(t=null);var e=C;if(r=W,null!=t)if(ve(t)){var i="separator"in t?t.separator:i,e="length"in t?+t.length||0:e;r="omission"in t?u(t.omission):r}else e=+t||0;if(n=u(n),e>=n.length)return n;if(e-=r.length,1>e)return r;if(t=n.slice(0,e),null==i)return t+r;if(de(i)){if(n.slice(e).search(i)){var o,f=n.slice(0,e);for(i.global||(i=Ze(i.source,(jn.exec(i)||"")+"g")),i.lastIndex=0;n=i.exec(f);)o=n.index;t=t.slice(0,null==o?e:o)}}else n.indexOf(i,e)!=e&&(i=t.lastIndexOf(i),i>-1&&(t=t.slice(0,i)));return t+r},Nn.unescape=function(n){return(n=u(n))&&sn.test(n)?n.replace(an,y):n},Nn.uniqueId=function(n){var t=++eu;return u(n)+t},Nn.words=Te,Nn.all=ne,Nn.any=ie,Nn.contains=re,Nn.eq=he,Nn.detect=ai,Nn.foldl=yi,Nn.foldr=di,Nn.head=Dr,Nn.include=re,Nn.inject=yi,Le(Nn,function(){var n={};return vt(Nn,function(t,r){Nn.prototype[r]||(n[r]=t)}),n}(),!1),Nn.sample=ue,Nn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return ue(t,n)}):ue(this.value())},Nn.VERSION=w,Kn("bind bindKey curry curryRight partial partialRight".split(" "),function(n){Nn[n].placeholder=Nn}),Kn(["dropWhile","filter","map","takeWhile"],function(n,t){var r=t!=F,e=t==U;Bn.prototype[n]=function(n,u){var i=this.__filtered__,o=i&&e?new Bn(this):this.clone();return(o.__iteratees__||(o.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:mr(n,u,1),limit:-1,type:t}),o.__filtered__=i||r,o}}),Kn(["drop","take"],function(n,t){var r=n+"While";Bn.prototype[n]=function(r){var e=this.__filtered__,u=e&&!t?this.dropWhile():this.clone();return r=null==r?1:ku(su(r)||0,0),e?t?u.__takeCount__=Ou(u.__takeCount__,r):Vr(u.__iteratees__).limit=r:(u.__views__||(u.__views__=[])).push({size:r,type:n+(0>u.__dir__?"Right":"")}),u},Bn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()},Bn.prototype[n+"RightWhile"]=function(n,t){return this.reverse()[r](n,t).reverse()}}),Kn(["first","last"],function(n,t){var r="take"+(t?"Right":"");Bn.prototype[n]=function(){return this[r](1).value()[0]}}),Kn(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Bn.prototype[n]=function(){return this[r](1)}}),Kn(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?xt:Be;Bn.prototype[n]=function(n){return this[r](e(n))}}),Bn.prototype.compact=function(){return this.filter(Fe)},Bn.prototype.reject=function(n,t){return n=mr(n,t,1),this.filter(function(t){return!n(t)})},Bn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return 0>n?r=this.takeRight(-n):n&&(r=this.drop(n)),t!==m&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r},Bn.prototype.toArray=function(){return this.drop(0)},vt(Bn.prototype,function(n,t){var r=Nn[t];if(r){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t);Nn.prototype[t]=function(){function t(n){return n=[n],_u.apply(n,i),r.apply(Nn,n)}var i=arguments,o=this.__chain__,f=this.__wrapped__,l=!!this.__actions__.length,a=f instanceof Bn,c=i[0],s=a||Ti(f);return s&&e&&"function"==typeof c&&1!=c.length&&(a=s=!1),a=a&&!l,u&&!o?a?n.call(f):r.call(Nn,this.value()):s?(f=n.apply(a?f:new Bn(this),i),u||!l&&!f.__actions__||(f.__actions__||(f.__actions__=[])).push({func:Qr,args:[t],thisArg:Nn}),new zn(f,o)):this.thru(t)}}}),Kn("concat join pop push replace shift sort splice split unshift".split(" "),function(n){var t=(/^(?:replace|split)$/.test(n)?Qe:Xe)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Nn.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),vt(Bn.prototype,function(n,t){var r=Nn[t];if(r){var e=r.name;(Lu[e]||(Lu[e]=[])).push({name:t,func:r})}}),Lu[sr(null,x).name]=[{name:"wrapper",func:null}],Bn.prototype.clone=function(){var n=this.__actions__,t=this.__iteratees__,r=this.__views__,e=new Bn(this.__wrapped__);return e.__actions__=n?Dn(n):null,e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=t?Dn(t):null,e.__takeCount__=this.__takeCount__,e.__views__=r?Dn(r):null,e},Bn.prototype.reverse=function(){if(this.__filtered__){var n=new Bn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n},Bn.prototype.value=function(){var n=this.__wrapped__.value();if(!Ti(n))return Lt(n,this.__actions__);var t,r=this.__dir__,e=0>r;t=n.length;for(var u=this.__views__,i=0,o=-1,f=u?u.length:0;++o<f;){var l=u[o],a=l.size;switch(l.type){case"drop":i+=a;break;case"dropRight":t-=a;break;case"take":t=Ou(t,i+a);break;case"takeRight":i=ku(i,t-a)}}t={start:i,end:t},u=t.start,i=t.end,t=i-u,u=e?i:u-1,i=Ou(t,this.__takeCount__),f=(o=this.__iteratees__)?o.length:0,l=0,a=[];n:for(;t--&&i>l;){for(var u=u+r,c=-1,s=n[u];++c<f;){var p=o[c],h=p.iteratee,_=p.type;if(_==U){if(p.done&&(e?u>p.index:u<p.index)&&(p.count=0,p.done=!1),p.index=u,!(p.done||(_=p.limit,p.done=_>-1?p.count++>=_:!h(s))))continue n}else if(p=h(s),_==F)s=p;else if(!p){if(_==$)continue n;break n}}a[l++]=s}return a},Nn.prototype.chain=function(){return Hr(this)},Nn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Nn.prototype.plant=function(n){for(var t,r=this;r instanceof Ln;){var e=Mr(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},Nn.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Bn?(this.__actions__.length&&(n=new Bn(this)),new zn(n.reverse(),this.__chain__)):this.thru(function(n){return n.reverse()})},Nn.prototype.toString=function(){return this.value()+""},Nn.prototype.run=Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return Lt(this.__wrapped__,this.__actions__)},Nn.prototype.collect=Nn.prototype.map,Nn.prototype.head=Nn.prototype.first,Nn.prototype.select=Nn.prototype.filter,Nn.prototype.tail=Nn.prototype.rest,Nn}var m,w="3.9.3",b=1,x=2,A=4,j=8,k=16,O=32,R=64,I=128,E=256,C=30,W="...",S=150,T=16,U=0,$=1,F=2,N="Expected a function",L="__lodash_placeholder__",z="[object Arguments]",B="[object Array]",M="[object Boolean]",P="[object Date]",q="[object Error]",D="[object Function]",K="[object Number]",V="[object Object]",Y="[object RegExp]",Z="[object String]",G="[object ArrayBuffer]",J="[object Float32Array]",X="[object Float64Array]",H="[object Int8Array]",Q="[object Int16Array]",nn="[object Int32Array]",tn="[object Uint8Array]",rn="[object Uint8ClampedArray]",en="[object Uint16Array]",un="[object Uint32Array]",on=/\b__p\+='';/g,fn=/\b(__p\+=)''\+/g,ln=/(__e\(.*?\)|\b__t\))\+'';/g,an=/&(?:amp|lt|gt|quot|#39|#96);/g,cn=/[&<>"'`]/g,sn=RegExp(an.source),pn=RegExp(cn.source),hn=/<%-([\s\S]+?)%>/g,_n=/<%([\s\S]+?)%>/g,vn=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,yn=/^\w*$/,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,mn=/[.*+?^${}()|[\]\/\\]/g,wn=RegExp(mn.source),bn=/[\u0300-\u036f\ufe20-\ufe23]/g,xn=/\\(\\)?/g,An=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jn=/\w*$/,kn=/^0[xX]/,On=/^\[object .+?Constructor\]$/,Rn=/^\d+$/,In=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,En=/($^)/,Cn=/['\n\r\u2028\u2029\\]/g,Wn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Sn=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Tn="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Un={};Un[J]=Un[X]=Un[H]=Un[Q]=Un[nn]=Un[tn]=Un[rn]=Un[en]=Un[un]=!0,Un[z]=Un[B]=Un[G]=Un[M]=Un[P]=Un[q]=Un[D]=Un["[object Map]"]=Un[K]=Un[V]=Un[Y]=Un["[object Set]"]=Un[Z]=Un["[object WeakMap]"]=!1;var $n={};$n[z]=$n[B]=$n[G]=$n[M]=$n[P]=$n[J]=$n[X]=$n[H]=$n[Q]=$n[nn]=$n[K]=$n[V]=$n[Y]=$n[Z]=$n[tn]=$n[rn]=$n[en]=$n[un]=!0,$n[q]=$n[D]=$n["[object Map]"]=$n["[object Set]"]=$n["[object WeakMap]"]=!1;var Fn={leading:!1,maxWait:0,trailing:!1},Nn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Bn={"function":!0,object:!0},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pn=Bn[typeof exports]&&exports&&!exports.nodeType&&exports,qn=Bn[typeof module]&&module&&!module.nodeType&&module,Dn=Bn[typeof self]&&self&&self.Object&&self,Kn=Bn[typeof window]&&window&&window.Object&&window,Vn=qn&&qn.exports===Pn&&Pn,Yn=Pn&&qn&&"object"==typeof global&&global&&global.Object&&global||Kn!==(this&&this.window)&&Kn||Dn||this,Zn=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Yn._=Zn,define(function(){return Zn})):Pn&&qn?Vn?(qn.exports=Zn)._=Zn:Pn._=Zn:Yn._=Zn}).call(this);;
//!file:moment.min.js
(function(e){function O(e,t){return function(n){return j(e.call(this,n),t)}}function M(e){return function(t){return this.lang().ordinal(e.call(this,t))}}function _(){}function D(e){H(this,e)}function P(e){var t=this._data={},n=e.years||e.year||e.y||0,r=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,s=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,u=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,f=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=f+1e3*a+6e4*u+36e5*o,this._days=s+7*i,this._months=r+12*n,t.milliseconds=f%1e3,a+=B(f/1e3),t.seconds=a%60,u+=B(a/60),t.minutes=u%60,o+=B(u/60),t.hours=o%24,s+=B(o/24),s+=7*i,t.days=s%30,r+=B(s/30),t.months=r%12,n+=B(r/12),t.years=n}function H(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(e){return 0>e?Math.ceil(e):Math.floor(e)}function j(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function F(e,t,n){var o,r=t._milliseconds,i=t._days,s=t._months;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function I(e){return"[object Array]"===Object.prototype.toString.call(e)}function q(e,t){var s,n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0;for(s=0;n>s;s++)~~e[s]!==~~t[s]&&i++;return i+r}function R(e,t){return t.abbr=e,s[e]||(s[e]=new _),s[e].set(t),s[e]}function U(e){return e?(!s[e]&&o&&require("./lang/"+e),s[e]):t.fn._lang}function z(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var n,r,t=e.match(a);for(n=0,r=t.length;r>n;n++)t[n]=A[t[n]]?A[t[n]]:z(t[n]);return function(i){var s="";for(n=0;r>n;n++)s+="function"==typeof t[n].call?t[n].call(i,e):t[n];return s}}function X(e,t){function r(t){return e.lang().longDateFormat(t)||t}for(var n=5;n--&&f.test(t);)t=t.replace(f,r);return C[t]||(C[t]=W(t)),C[t](e)}function V(e){switch(e){case"DDDD":return p;case"YYYY":return d;case"YYYYY":return v;case"S":case"SS":case"SSS":case"DDD":return h;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return m;case"X":return b;case"Z":case"ZZ":return g;case"T":return y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return c;default:return new RegExp(e.replace("\\",""))}}function $(e,t,n){var r,s=n._a;switch(e){case"M":case"MM":s[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":r=U(n._l).monthsParse(t),null!=r?s[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(s[2]=~~t);break;case"YY":s[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~t;break;case"a":case"A":n._isPm="pm"===(t+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":s[3]=~~t;break;case"m":case"mm":s[4]=~~t;break;case"s":case"ss":s[5]=~~t;break;case"S":case"SS":case"SSS":s[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,r=(t+"").match(x),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&"+"===r[0]&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}null==t&&(n._isValid=!1)}function J(e){var t,n,r=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=e._tzh||0,r[4]+=e._tzm||0,n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function K(e){var r,i,t=e._f.match(a),n=e._i;for(e._a=[],r=0;r<t.length;r++)i=(V(t[r]).exec(n)||[])[0],i&&(n=n.slice(n.indexOf(i)+i.length)),A[t[r]]&&$(t[r],i,e);e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),J(e)}function Q(e){for(var t,n,r,u,i=99;e._f.length;){if(t=H({},e),t._f=e._f.pop(),K(t),n=new D(t),n.isValid()){r=n;break}u=q(t._a,n.toArray()),i>u&&(i=u,r=n)}H(e,r)}function G(e){var t,n=e._i;if(w.exec(n)){for(e._f="YYYY-MM-DDT",t=0;4>t;t++)if(S[t][1].exec(n)){e._f+=S[t][0];break}g.exec(n)&&(e._f+=" Z"),K(e)}else e._d=new Date(n)}function Y(t){var n=t._i,r=u.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?G(t):I(n)?(t._a=n.slice(0),J(t)):t._d=new Date(n instanceof Date?+n:n)}function Z(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function et(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=45>i&&["s",i]||1===s&&["m"]||45>s&&["mm",s]||1===o&&["h"]||22>o&&["hh",o]||1===u&&["d"]||25>=u&&["dd",u]||45>=u&&["M"]||345>u&&["MM",r(u/30)]||1===a&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Z.apply({},f)}function tt(e,n,r){var i=r-n,s=r-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),Math.ceil(t(e).add("d",s).dayOfYear()/7)}function nt(e){var n=e._i,r=e._f;return null===n||""===n?null:("string"==typeof n&&(e._i=n=U().preparse(n)),t.isMoment(n)?(e=H({},n),e._d=new Date(+n._d)):r?I(r)?Q(e):K(e):Y(e),new D(e))}function rt(e,n){t.fn[e]=t.fn[e+"s"]=function(e){var t=this._isUTC?"UTC":"";return null!=e?(this._d["set"+t+n](e),this):this._d["get"+t+n]()}}function it(e){t.duration.fn[e]=function(){return this._data[e]}}function st(e,n){t.duration.fn["as"+e]=function(){return+this/n}}for(var t,i,n="2.0.0",r=Math.round,s={},o="undefined"!=typeof module&&module.exports,u=/^\/?Date\((\-?\d+)/i,a=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,c=/\d\d?/,h=/\d{1,3}/,p=/\d{3}/,d=/\d{1,4}/,v=/[+\-]?\d{1,6}/,m=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,g=/Z|[\+\-]\d\d:?\d\d/i,y=/T/i,b=/[\+\-]?\d+(\.\d{1,3})?/,w=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E="YYYY-MM-DDTHH:mm:ssZ",S=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],x=/([\+\-]|\d\d)/gi,T="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),N={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},C={},k="DDD w W M D d".split(" "),L="M D H h m s w W".split(" "),A={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return j(~~(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+j(~~(e/60),2)+":"+j(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+j(~~(10*e/6),4)},X:function(){return this.unix()}};k.length;)i=k.pop(),A[i+"o"]=M(A[i]);for(;L.length;)i=L.pop(),A[i+i]=O(A[i],2);for(A.DDDD=O(A.DDD,3),_.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i;for(this._monthsParse||(this._monthsParse=[]),n=0;12>n;n++)if(this._monthsParse[n]||(r=t([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),this._monthsParse[n].test(e))return n},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},t=function(e,t,n){return nt({_i:e,_f:t,_l:n,_isUTC:!1})},t.utc=function(e,t,n){return nt({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},t.unix=function(e){return t(1e3*e)},t.duration=function(e,n){var o,r=t.isDuration(e),i="number"==typeof e,s=r?e._data:i?{}:e;return i&&(n?s[n]=e:s.milliseconds=e),o=new P(s),r&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},t.version=n,t.defaultFormat=E,t.lang=function(e,n){return e?(n?R(e,n):s[e]||U(e),void(t.duration.fn._lang=t.fn._lang=U(e))):t.fn._lang._abbr},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),U(e)},t.isMoment=function(e){return e instanceof D},t.isDuration=function(e){return e instanceof P},t.fn=D.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!q(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){var n=X(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return r="string"==typeof e?t.duration(+n,e):t.duration(e,n),F(this,r,1),this},subtract:function(e,n){var r;return r="string"==typeof e?t.duration(+n,e):t.duration(e,n),F(this,r,-1),this},diff:function(e,n,r){var o,u,i=this._isUTC?t(e).utc():t(e).local(),s=6e4*(this.zone()-i.zone());return n&&(n=n.replace(/s$/,"")),"year"===n||"month"===n?(o=432e5*(this.daysInMonth()+i.daysInMonth()),u=12*(this.year()-i.year())+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,"year"===n&&(u/=12)):(o=this-i-s,u="second"===n?o/1e3:"minute"===n?o/6e4:"hour"===n?o/36e5:"day"===n?o/864e5:"week"===n?o/6048e5:o),r?u:B(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().startOf("day"),"days",!0),n=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:this.add({d:e-t})},startOf:function(e){switch(e=e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.day(0),this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(e,n){return n="undefined"!=typeof n?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n="undefined"!=typeof n?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return n="undefined"!=typeof n?n:"millisecond",+this.clone().startOf(n)===+t(e).startOf(n)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var n=r((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==e?n:this.add("d",e-n)},isoWeek:function(e){var t=tt(this,1,4);return null==e?t:this.add("d",7*(e-t))},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},lang:function(t){return t===e?this._lang:(this._lang=U(t),this)}},i=0;i<T.length;i++)rt(T[i].toLowerCase().replace(/s$/,""),T[i]);rt("year","FullYear"),t.fn.days=t.fn.day,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.duration.fn=P.prototype={weeks:function(){return B(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(e){var t=+this,n=et(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},lang:t.fn.lang};for(i in N)N.hasOwnProperty(i)&&(st(i,N[i]),it(i.toLowerCase()));st("Weeks",6048e5),t.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),o&&(module.exports=t),"undefined"==typeof ender&&(this.moment=t),"function"==typeof define&&define.amd&&define("moment",[],function(){return t})}).call(this);;
//!file:bootstrap.min.js
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var n,e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(n in t)if(void 0!==e.style[n])return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var i,n=e(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s())},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s="object"==typeof n&&n;i||r.data("button",i=new t(this,s)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(!(t>r.length-1||0>t))return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o="next"==t?"left":"right",u="next"==t?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});if(this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),!i.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(f),f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{if(this.$element.trigger(f),f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),o="string"==typeof n?n:s.slide;i||r.data("carousel",i=new t(this,s)),"number"==typeof n?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var r,n=e(this),i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in"),r&&r.length){if(i=r.data("collapse"),i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s="object"==typeof n&&n;i||r.data("collapse",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var r,n=e(this),i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var r,n=t.attr("data-target");return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var s,o,n=e(this);if(!n.is(".disabled, :disabled"))return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,o,u,a;if(/(38|40|27)/.test(t.keyCode)&&(n=e(this),t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled"))){if(o=i(n),u=o.hasClass("open"),!u||u&&27==t.keyCode)return n.click();r=e("[role=menu] li:not(.divider) a",o),r.length&&(a=r.index(r.filter(":focus")),38==t.keyCode&&a>0&&a--,40==t.keyCode&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new t(this,s)),"string"==typeof n?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(i="hover"==this.options.trigger?"mouseenter":"focus",s="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight,t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s="object"==typeof n&&n;i||r.data("tooltip",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s="object"==typeof n&&n;i||r.data("popover",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var s,r=e.proxy(this.process,this),i=e(e(t).is("body")?window:t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var n,t=this;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var o,e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s="object"==typeof n&&n;i||r.data("scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var i,s,o,t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active")||(i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o),o.isDefaultPrevented()||(s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})))},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var i,t=[],n=[],r=[];i=e.shift();)i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.chrome||e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s="object"==typeof n&&n;i||r.data("typeahead",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a,t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom";"object"!=typeof i&&(s=o=i),"function"==typeof o&&(o=i.top()),"function"==typeof s&&(s=i.bottom()),a=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=t-s?"bottom":null!=o&&o>=n?"top":!1,this.affixed!==a&&(this.affixed=a,this.unpin="bottom"==a?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:"")))}},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s="object"==typeof n&&n;i||r.data("affix",i=new t(this,s)),"string"==typeof n&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);;
//!file:bootstrap-select.min.js
!function(a){"use strict";function b(a,b){return a.toUpperCase().indexOf(b.toUpperCase())>-1}function c(b){var c=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return a.each(c,function(){b=b.replace(this.re,this.ch)}),b}function d(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c="(?:"+Object.keys(b).join("|")+")",d=new RegExp(c),e=new RegExp(c,"g"),f=null==a?"":""+a;return d.test(f)?f.replace(e,function(a){return b[a]}):f}function e(b,c){var d=arguments,e=b,b=d[0],c=d[1];[].shift.apply(d),"undefined"==typeof b&&(b=e);var g,h=this.each(function(){var e=a(this);if(e.is("select")){var h=e.data("selectpicker"),i="object"==typeof b&&b;if(h){if(i)for(var j in i)i.hasOwnProperty(j)&&(h.options[j]=i[j])}else{var k=a.extend({},f.DEFAULTS,a.fn.selectpicker.defaults||{},e.data(),i);e.data("selectpicker",h=new f(this,k,c))}"string"==typeof b&&(g=h[b]instanceof Function?h[b].apply(h,d):h.options[b])}});return"undefined"!=typeof g?g:h}a.expr[":"].icontains=function(c,d,e){return b(a(c).text(),e[3])},a.expr[":"].aicontains=function(c,d,e){return b(a(c).data("normalizedText")||a(c).text(),e[3])};var f=function(b,c,d){d&&(d.stopPropagation(),d.preventDefault()),this.$element=a(b),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=c,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=f.prototype.val,this.render=f.prototype.render,this.refresh=f.prototype.refresh,this.setStyle=f.prototype.setStyle,this.selectAll=f.prototype.selectAll,this.deselectAll=f.prototype.deselectAll,this.destroy=f.prototype.remove,this.remove=f.prototype.remove,this.show=f.prototype.show,this.hide=f.prototype.hide,this.init()};f.VERSION="1.6.3",f.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(a){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){var c=[];return c[0]=1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",c[1]=1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",c},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},f.prototype={constructor:f,init:function(){var b=this,c=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var b=this.multiple?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",d=this.autofocus?" autofocus":"",e=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",g=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",h=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"",i='<div class="btn-group bootstrap-select'+b+c+'"><button type="button" class="btn dropdown-toggle selectpicker'+e+'" data-toggle="dropdown"'+d+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+f+g+h+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return a(i)},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=this,e=[],f=0,g=function(a,b,c){return"<li"+("undefined"!=typeof c?' class="'+c+'"':"")+("undefined"!=typeof b|null===b?' data-original-index="'+b+'"':"")+">"+a+"</li>"},h=function(a,e,f,g){var h=c(d(a));return'<a tabindex="0"'+("undefined"!=typeof e?' class="'+e+'"':"")+("undefined"!=typeof f?' style="'+f+'"':"")+("undefined"!=typeof g?'data-optgroup="'+g+'"':"")+' data-normalized-text="'+h+'">'+a+'<span class="'+b.options.iconBase+" "+b.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(){var c=a(this),d=c.attr("class")||"",i=c.attr("style"),j=c.data("content")?c.data("content"):c.html(),k="undefined"!=typeof c.data("subtext")?'<small class="muted text-muted">'+c.data("subtext")+"</small>":"",l="undefined"!=typeof c.data("icon")?'<span class="'+b.options.iconBase+" "+c.data("icon")+'"></span> ':"",m=c.is(":disabled")||c.parent().is(":disabled"),n=c[0].index;if(""!==l&&m&&(l="<span>"+l+"</span>"),c.data("content")||(j=l+'<span class="text">'+j+k+"</span>"),!b.options.hideDisabled||!m)if(c.parent().is("optgroup")&&c.data("divider")!==!0){if(0===c.index()){f+=1;var o=c.parent().attr("label"),p="undefined"!=typeof c.parent().data("subtext")?'<small class="muted text-muted">'+c.parent().data("subtext")+"</small>":"",q=c.parent().data("icon")?'<span class="'+b.options.iconBase+" "+c.parent().data("icon")+'"></span> ':"";o=q+'<span class="text">'+o+p+"</span>",0!==n&&e.length>0&&e.push(g("",null,"divider")),e.push(g(o,null,"dropdown-header"))}e.push(g(h(j,"opt "+d,i,f),n))}else e.push(c.data("divider")===!0?g("",n,"divider"):c.data("hidden")===!0?g(h(j,d,i),n,"hide is-hidden"):g(h(j,d,i),n))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(e.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(b){var c=this;b!==!1&&this.$element.find("option").each(function(b){c.setDisabled(b,a(this).is(":disabled")||a(this).parent().is(":disabled")),c.setSelected(b,a(this).is(":selected"))}),this.tabIndex();var e=this.options.hideDisabled?":not([disabled])":"",f=this.$element.find("option:selected"+e).map(function(){var b,d=a(this),e=d.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+d.data("icon")+'"></i> ':"";return b=c.options.showSubtext&&d.attr("data-subtext")&&!c.multiple?' <small class="muted text-muted">'+d.data("subtext")+"</small>":"",d.data("content")&&c.options.showContent?d.data("content"):"undefined"!=typeof d.attr("title")?d.attr("title"):e+d.html()+b}).toArray(),g=this.multiple?f.join(this.options.multipleSeparator):f[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var h=this.options.selectedTextFormat.split(">");if(h.length>1&&f.length>h[1]||1==h.length&&f.length>=2){e=this.options.hideDisabled?", [disabled]":"";var i=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+e).length,j="function"==typeof this.options.countSelectedText?this.options.countSelectedText(f.length,i):this.options.countSelectedText;g=j.replace("{0}",f.length.toString()).replace("{1}",i.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(g=this.options.title),g||(g="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",d(g)),this.$newElement.find(".filter-option").html(g)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(){if(this.options.size!==!1){var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),b=a.addClass("open").find("> .dropdown-menu"),c=b.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bs-searchbox").outerHeight():0,f=this.options.actionsBox?b.find(".bs-actionsbox").outerHeight():0;a.remove(),this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e).data("actionsHeight",f)}},setSize:function(){this.findLis();var b,c,d,e=this,f=this.$menu,g=f.find(".inner"),h=this.$newElement.outerHeight(),i=this.$newElement.data("liHeight"),j=this.$newElement.data("headerHeight"),k=this.$newElement.data("searchHeight"),l=this.$newElement.data("actionsHeight"),m=this.$lis.filter(".divider").outerHeight(!0),n=parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"))+parseInt(f.css("border-top-width"))+parseInt(f.css("border-bottom-width")),o=this.options.hideDisabled?", .disabled":"",p=a(window),q=n+parseInt(f.css("margin-top"))+parseInt(f.css("margin-bottom"))+2,r=function(){c=e.$newElement.offset().top-p.scrollTop(),d=p.height()-c-h};if(r(),this.options.header&&f.css("padding-top",0),"auto"==this.options.size){var s=function(){var a,h=e.$lis.not(".hide");r(),b=d-q,e.options.dropupAuto&&e.$newElement.toggleClass("dropup",c>d&&b-q<f.height()),e.$newElement.hasClass("dropup")&&(b=c-q),a=h.length+h.filter(".dropdown-header").length>3?3*i+q-2:0,f.css({"max-height":b+"px",overflow:"hidden","min-height":a+j+k+l+"px"}),g.css({"max-height":b-j-k-l-n+"px","overflow-y":"auto","min-height":Math.max(a-n,0)+"px"})};s(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",s),a(window).off("resize.getSize").on("resize.getSize",s),a(window).off("scroll.getSize").on("scroll.getSize",s)}else if(this.options.size&&"auto"!=this.options.size&&f.find("li"+o).length>this.options.size){var t=this.$lis.not(".divider"+o).find(" > *").slice(0,this.options.size).last().parent().index(),u=this.$lis.slice(0,t+1).filter(".divider").length;b=i*this.options.size+u*m+n,e.options.dropupAuto&&this.$newElement.toggleClass("dropup",c>d&&b<f.height()),f.css({"max-height":b+j+k+l+"px",overflow:"hidden"}),g.css({"max-height":b-n+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.find("> .dropdown-menu").css("width"),c=a.css("width","auto").find("> button").css("width");a.remove(),this.$newElement.css("width",Math.max(parseInt(b),parseInt(c))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var b,c,d=this,e="<div />",f=a(e),g=function(a){f.addClass(a.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),c=a.hasClass("dropup")?0:a[0].offsetHeight,f.css({top:b.top+c,left:b.left,width:a[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){d.isDisabled()||(g(a(this)),f.appendTo(d.options.container),f.toggleClass("open",!a(this).hasClass("open")),f.append(d.$menu))}),a(window).resize(function(){g(d.$newElement)}),a(window).on("scroll",function(){g(d.$newElement)}),a("html").on("click",function(b){a(b.target).closest(d.$newElement).length<1&&f.removeClass("open")})},setSelected:function(a,b){this.findLis(),this.$lis.filter('[data-original-index="'+a+'"]').toggleClass("selected",b)},setDisabled:function(a,b){this.findLis(),b?this.$lis.filter('[data-original-index="'+a+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+a+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(c){var d=a(this),e=d.parent().data("originalIndex"),f=b.$element.val(),g=b.$element.prop("selectedIndex");if(b.multiple&&c.stopPropagation(),c.preventDefault(),!b.isDisabled()&&!d.parent().hasClass("disabled")){var h=b.$element.find("option"),i=h.eq(e),j=i.prop("selected"),k=i.parent("optgroup"),l=b.options.maxOptions,m=k.data("maxOptions")||!1;if(b.multiple){if(i.prop("selected",!j),b.setSelected(e,!j),d.blur(),l!==!1||m!==!1){var n=l<h.filter(":selected").length,o=m<k.find("option:selected").length;if(l&&n||m&&o)if(l&&1==l)h.prop("selected",!1),i.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(e,!0);else if(m&&1==m){k.find("option:selected").prop("selected",!1),i.prop("selected",!0);var p=d.data("optgroup");b.$menu.find(".selected").has('a[data-optgroup="'+p+'"]').removeClass("selected"),b.setSelected(e,!0)}else{var q="function"==typeof b.options.maxOptionsText?b.options.maxOptionsText(l,m):b.options.maxOptionsText,r=q[0].replace("{n}",l),s=q[1].replace("{n}",m),t=a('<div class="notify"></div>');q[2]&&(r=r.replace("{var}",q[2][l>1?0:1]),s=s.replace("{var}",q[2][m>1?0:1])),i.prop("selected",!1),b.$menu.append(t),l&&n&&(t.append(a("<div>"+r+"</div>")),b.$element.trigger("maxReached.bs.select")),m&&o&&(t.append(a("<div>"+s+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(e,!1)},10),t.delay(750).fadeOut(300,function(){a(this).remove()})}}}else h.prop("selected",!1),i.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(e,!0);b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(f!=b.$element.val()&&b.multiple||g!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(a){a.target==this&&(a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(c){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),c.preventDefault(),c.stopPropagation(),a(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var b=this,e=a('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){b.$menu.find(".active").removeClass("active"),b.$searchbox.val()&&(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),b.multiple||b.$menu.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){b.$searchbox.val()?(b.options.searchAccentInsensitive?b.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+c(b.$searchbox.val())+")").parent().addClass("hide"):b.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+b.$searchbox.val()+")").parent().addClass("hide"),b.$menu.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(b.options.noneResultsText+' "'+d(b.$searchbox.val())+'"').show(),b.$menu.find("li").last().after(e))):(b.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),b.$menu.find("li.active").removeClass("active"),b.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),a(this).focus()})},val:function(a){return"undefined"!=typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(b){var d,e,f,g,h,i,j,k,l,m=a(this),n=m.is("input")?m.parent().parent():m.parent(),o=n.data("this"),p={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch&&(n=m.parent().parent()),o.options.container&&(n=o.$menu),d=a("[role=menu] li a",n),l=o.$menu.parent().hasClass("open"),!l&&/([0-9]|[A-z])/.test(String.fromCharCode(b.keyCode))&&(o.options.container?o.$newElement.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),l=!0),o.$searchbox.focus()),o.options.liveSearch&&(/(^9$|27)/.test(b.keyCode.toString(10))&&l&&0===o.$menu.find(".active").length&&(b.preventDefault(),o.$menu.parent().removeClass("open"),o.$button.focus()),d=a("[role=menu] li:not(.divider):not(.dropdown-header):visible",n),m.val()||/(38|40)/.test(b.keyCode.toString(10))||0===d.filter(".active").length&&(d=o.$newElement.find("li").filter(o.options.searchAccentInsensitive?":aicontains("+c(p[b.keyCode])+")":":icontains("+p[b.keyCode]+")"))),d.length){if(/(38|40)/.test(b.keyCode.toString(10)))e=d.index(d.filter(":focus")),g=d.parent(":not(.disabled):visible").first().index(),h=d.parent(":not(.disabled):visible").last().index(),f=d.eq(e).parent().nextAll(":not(.disabled):visible").eq(0).index(),i=d.eq(e).parent().prevAll(":not(.disabled):visible").eq(0).index(),j=d.eq(f).parent().prevAll(":not(.disabled):visible").eq(0).index(),o.options.liveSearch&&(d.each(function(b){a(this).is(":not(.disabled)")&&a(this).data("index",b)}),e=d.index(d.filter(".active")),g=d.filter(":not(.disabled):visible").first().data("index"),h=d.filter(":not(.disabled):visible").last().data("index"),f=d.eq(e).nextAll(":not(.disabled):visible").eq(0).data("index"),i=d.eq(e).prevAll(":not(.disabled):visible").eq(0).data("index"),j=d.eq(f).prevAll(":not(.disabled):visible").eq(0).data("index")),k=m.data("prevIndex"),38==b.keyCode&&(o.options.liveSearch&&(e-=1),e!=j&&e>i&&(e=i),g>e&&(e=g),e==k&&(e=h)),40==b.keyCode&&(o.options.liveSearch&&(e+=1),-1==e&&(e=0),e!=j&&f>e&&(e=f),e>h&&(e=h),e==k&&(e=g)),m.data("prevIndex",e),o.options.liveSearch?(b.preventDefault(),m.is(".dropdown-toggle")||(d.removeClass("active"),d.eq(e).addClass("active").find("a").focus(),m.focus())):d.eq(e).focus();else if(!m.is("input")){var q,r,s=[];d.each(function(){a(this).parent().is(":not(.disabled)")&&a.trim(a(this).text().toLowerCase()).substring(0,1)==p[b.keyCode]&&s.push(a(this).parent().index())}),q=a(document).data("keycount"),q++,a(document).data("keycount",q),r=a.trim(a(":focus").text().toLowerCase()).substring(0,1),r!=p[b.keyCode]?(q=1,a(document).data("keycount",q)):q>=s.length&&(a(document).data("keycount",0),q>s.length&&(q=1)),d.eq(s[q-1]).focus()}(/(13|32)/.test(b.keyCode.toString(10))||/(^9$)/.test(b.keyCode.toString(10))&&o.options.selectOnTab)&&l&&(/(32)/.test(b.keyCode.toString(10))||b.preventDefault(),o.options.liveSearch?/(32)/.test(b.keyCode.toString(10))||(o.$menu.find(".active a").click(),m.focus()):a(":focus").click(),a(document).data("keycount",0)),(/(^9$|27)/.test(b.keyCode.toString(10))&&l&&(o.multiple||o.options.liveSearch)||/(27)/.test(b.keyCode.toString(10))&&!l)&&(o.$menu.parent().removeClass("open"),o.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var g=a.fn.selectpicker;a.fn.selectpicker=e,a.fn.selectpicker.Constructor=f,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=g,this},a(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",f.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(a){a.stopPropagation()}),a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var b=a(this);e.call(b,b.data())})})}(jQuery);;
//!file:angular.min.js
!function(P,X,s){"use strict";function w(b){return function(){var c,a=arguments[0],a="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.2.22/"+(b?b+"/":"")+a;for(c=1;c<arguments.length;c++)a=a+(1==c?"?":"&")+"p"+(c-1)+"="+encodeURIComponent("function"==typeof arguments[c]?arguments[c].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[c]?"undefined":"string"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(a)}}function fb(b){if(null==b||Fa(b))return!1;var a=b.length;return 1===b.nodeType&&a?!0:C(b)||L(b)||0===a||"number"==typeof a&&a>0&&a-1 in b}function r(b,a,c){var d;if(b)if(J(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d);else if(L(b)||fb(b))for(d=0;d<b.length;d++)a.call(c,b[d],d);else if(b.forEach&&b.forEach!==r)b.forEach(a,c);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d);return b}function Zb(b){var c,a=[];for(c in b)b.hasOwnProperty(c)&&a.push(c);return a.sort()}function Tc(b,a,c){for(var d=Zb(b),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function $b(b){return function(a,c){b(c,a)}}function gb(){for(var a,b=la.length;b;){if(b--,a=la[b].charCodeAt(0),57==a)return la[b]="A",la.join("");if(90!=a)return la[b]=String.fromCharCode(a+1),la.join("");la[b]="0"}return la.unshift("0"),la.join("")}function ac(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function E(b){var a=b.$$hashKey;return r(arguments,function(a){a!==b&&r(a,function(a,c){b[c]=a})}),ac(b,a),b}function Z(b){return parseInt(b,10)}function bc(b,a){return E(new(E(function(){},{prototype:b})),a)}function z(){}function Ga(b){return b}function $(b){return function(){return b}}function F(b){return"undefined"==typeof b}function D(b){return"undefined"!=typeof b}function T(b){return null!=b&&"object"==typeof b}function C(b){return"string"==typeof b}function Ab(b){return"number"==typeof b}function sa(b){return"[object Date]"===ya.call(b)}function J(b){return"function"==typeof b}function hb(b){return"[object RegExp]"===ya.call(b)}function Fa(b){return b&&b.document&&b.location&&b.alert&&b.setInterval}function Uc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Vc(b,a,c){var d=[];return r(b,function(b,f,g){d.push(a.call(c,b,f,g))}),d}function Qa(b,a){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(a===b[c])return c;return-1}function Ra(b,a){var c=Qa(b,a);return c>=0&&b.splice(c,1),a}function Ha(b,a,c,d){if(Fa(b)||b&&b.$evalAsync&&b.$watch)throw Sa("cpws");if(a){if(b===a)throw Sa("cpi");if(c=c||[],d=d||[],T(b)){var e=Qa(c,b);if(-1!==e)return d[e];c.push(b),d.push(a)}if(L(b))for(var f=a.length=0;f<b.length;f++)e=Ha(b[f],null,c,d),T(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;r(a,function(b,c){delete a[c]});for(f in b)e=Ha(b[f],null,c,d),T(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e;ac(a,g)}}else(a=b)&&(L(b)?a=Ha(b,[],c,d):sa(b)?a=new Date(b.getTime()):hb(b)?(a=RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):T(b)&&(a=Ha(b,{},c,d)));return a}function ga(b,a){if(L(b)){a=a||[];for(var c=0;c<b.length;c++)a[c]=b[c]}else if(T(b))for(c in a=a||{},b)!ib.call(b,c)||"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=b[c]);return a||b}function za(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var d,c=typeof b;if(c==typeof a&&"object"==c){if(!L(b)){if(sa(b))return sa(a)&&b.getTime()==a.getTime();if(hb(b)&&hb(a))return b.toString()==a.toString();if(b&&b.$evalAsync&&b.$watch||a&&a.$evalAsync&&a.$watch||Fa(b)||Fa(a)||L(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!J(b[d])){if(!za(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==s&&!J(a[d]))return!1;return!0}if(!L(a))return!1;if((c=b.length)==a.length){for(d=0;c>d;d++)if(!za(b[d],a[d]))return!1;return!0}}return!1}function Bb(b,a){var c=2<arguments.length?Aa.call(arguments,2):[];return!J(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,c.concat(Aa.call(arguments,0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Wc(b,a){var c=a;return"string"==typeof b&&"$"===b.charAt(0)?c=s:Fa(a)?c="$WINDOW":a&&X===a?c="$DOCUMENT":a&&a.$evalAsync&&a.$watch&&(c="$SCOPE"),c}function ta(b,a){return"undefined"==typeof b?s:JSON.stringify(b,Wc,a?"  ":null)}function cc(b){return C(b)?JSON.parse(b):b}function Ta(b){return"function"==typeof b?b=!0:b&&0!==b.length?(b=M(""+b),b=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)):b=!1,b}function ha(b){b=y(b).clone();try{b.empty()}catch(a){}var c=y("<div>").append(b).html();try{return 3===b[0].nodeType?M(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+M(b)})}catch(d){return M(c)}}function dc(b){try{return decodeURIComponent(b)}catch(a){}}function ec(b){var c,d,a={};return r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=dc(c[0]),D(d)&&(b=D(c[1])?dc(c[1]):!0,ib.call(a,d)?L(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))}),a}function Cb(b){var a=[];return r(b,function(b,d){L(b)?r(b,function(b){a.push(Ba(d,!0)+(!0===b?"":"="+Ba(b,!0)))}):a.push(Ba(d,!0)+(!0===b?"":"="+Ba(b,!0)))}),a.length?a.join("&"):""}function jb(b){return Ba(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ba(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,a?"%20":"+")}function Xc(b,a){function c(a){a&&d.push(a)}var e,f,d=[b],g=["ng:app","ng-app","x-ng-app","data-ng-app"],k=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(g,function(a){g[a]=!0,c(X.getElementById(a)),a=a.replace(":","\\:"),b.querySelectorAll&&(r(b.querySelectorAll("."+a),c),r(b.querySelectorAll("."+a+"\\:"),c),r(b.querySelectorAll("["+a+"]"),c))}),r(d,function(a){if(!e){var b=k.exec(" "+a.className+" ");b?(e=a,f=(b[2]||"").replace(/\s+/g,",")):r(a.attributes,function(b){!e&&g[b.name]&&(e=a,f=b.value)})}}),e&&a(e,f?[f]:[])}function fc(b,a){var c=function(){if(b=y(b),b.injector()){var c=b[0]===X?"document":ha(b);throw Sa("btstrpd",c)}return a=a||[],a.unshift(["$provide",function(a){a.value("$rootElement",b)}]),a.unshift("ng"),c=gc(a),c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},d=/^NG_DEFER_BOOTSTRAP!/;return P&&!d.test(P.name)?c():(P.name=P.name.replace(d,""),void(Ua.resumeBootstrap=function(b){r(b,function(b){a.push(b)}),c()}))}function kb(b,a){return a=a||"_",b.replace(Yc,function(b,d){return(d?a:"")+b.toLowerCase()})}function Db(b,a,c){if(!b)throw Sa("areq",a||"?",c||"required");return b}function Va(b,a,c){return c&&L(b)&&(b=b[b.length-1]),Db(J(b),a,"not a function, got "+(b&&"object"==typeof b?b.constructor.name||"Object":typeof b)),b}function Ca(b,a){if("hasOwnProperty"===b)throw Sa("badname",a)}function hc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;f>g;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&J(b)?Bb(e,b):b}function Eb(b){var a=b[0];if(b=b[b.length-1],a===b)return y(a);var c=[a];do{if(a=a.nextSibling,!a)break;c.push(a)}while(a!==b);return y(c)}function Zc(b){var a=w("$injector"),c=w("ng");return b=b.angular||(b.angular={}),b.$$minErr=b.$$minErr||w,b.module||(b.module=function(){var b={};return function(e,f,g){if("hasOwnProperty"===e)throw c("badname","module");return f&&b.hasOwnProperty(e)&&(b[e]=null),b[e]||(b[e]=function(){function b(a,d,e){return function(){return c[e||"push"]([a,d,arguments]),n}}if(!f)throw a("nomod",e);var c=[],d=[],l=b("$injector","invoke"),n={_invokeQueue:c,_runBlocks:d,requires:f,name:e,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:b("$provide","value"),constant:b("$provide","constant","unshift"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:l,run:function(a){return d.push(a),this}};return g&&l(g),n}())}}())}function $c(b){E(b,{bootstrap:fc,copy:Ha,extend:E,equals:za,element:y,forEach:r,injector:gc,noop:z,bind:Bb,toJson:ta,fromJson:cc,identity:Ga,isUndefined:F,isDefined:D,isString:C,isFunction:J,isObject:T,isNumber:Ab,isElement:Uc,isArray:L,version:ad,isDate:sa,lowercase:M,uppercase:Ia,callbacks:{counter:0},$$minErr:w,$$csp:Wa}),Xa=Zc(P);try{Xa("ngLocale")}catch(a){Xa("ngLocale",[]).provider("$locale",bd)}Xa("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:cd}),a.provider("$compile",ic).directive({a:dd,input:jc,textarea:jc,form:ed,script:fd,select:gd,style:hd,option:id,ngBind:jd,ngBindHtml:kd,ngBindTemplate:ld,ngClass:md,ngClassEven:nd,ngClassOdd:od,ngCloak:pd,ngController:qd,ngForm:rd,ngHide:sd,ngIf:td,ngInclude:ud,ngInit:vd,ngNonBindable:wd,ngPluralize:xd,ngRepeat:yd,ngShow:zd,ngStyle:Ad,ngSwitch:Bd,ngSwitchWhen:Cd,ngSwitchDefault:Dd,ngOptions:Ed,ngTransclude:Fd,ngModel:Gd,ngList:Hd,ngChange:Id,required:kc,ngRequired:kc,ngValue:Jd}).directive({ngInclude:Kd}).directive(Fb).directive(lc),a.provider({$anchorScroll:Ld,$animate:Md,$browser:Nd,$cacheFactory:Od,$controller:Pd,$document:Qd,$exceptionHandler:Rd,$filter:mc,$interpolate:Sd,$interval:Td,$http:Ud,$httpBackend:Vd,$location:Wd,$log:Xd,$parse:Yd,$rootScope:Zd,$q:$d,$sce:ae,$sceDelegate:be,$sniffer:ce,$templateCache:de,$timeout:ee,$window:fe,$$rAF:ge,$$asyncCallback:he})}])}function Ya(b){return b.replace(ie,function(a,b,d,e){return e?d.toUpperCase():d}).replace(je,"Moz$1")}function Gb(b,a,c,d){function e(b){var h,l,n,p,q,t,e=c&&b?[this.filter(b)]:[this],m=a;if(!d||null!=b)for(;e.length;)for(h=e.shift(),l=0,n=h.length;n>l;l++)for(p=y(h[l]),m?p.triggerHandler("$destroy"):m=!m,q=0,p=(t=p.children()).length;p>q;q++)e.push(Da(t[q]));return f.apply(this,arguments)}var f=Da.fn[b],f=f.$original||f;e.$original=f,Da.fn[b]=e}function S(b){if(b instanceof S)return b;if(C(b)&&(b=aa(b)),!(this instanceof S)){if(C(b)&&"<"!=b.charAt(0))throw Hb("nosel");return new S(b)}if(C(b)){var a=b;b=X;var c;if(c=ke.exec(a))b=[b.createElement(c[1])];else{var e,d=b;if(b=d.createDocumentFragment(),c=[],Ib.test(a)){for(d=b.appendChild(d.createElement("div")),e=(le.exec(a)||["",""])[1].toLowerCase(),e=ba[e]||ba._default,d.innerHTML="<div>&#160;</div>"+e[1]+a.replace(me,"<$1></$2>")+e[2],d.removeChild(d.firstChild),a=e[0];a--;)d=d.lastChild;for(a=0,e=d.childNodes.length;e>a;++a)c.push(d.childNodes[a]);d=b.firstChild,d.textContent=""}else c.push(d.createTextNode(a));b.textContent="",b.innerHTML="",b=c}Jb(this,b),y(X.createDocumentFragment()).append(this)}else Jb(this,b)}function Kb(b){return b.cloneNode(!0)}function Ja(b){Lb(b);var a=0;for(b=b.childNodes||[];a<b.length;a++)Ja(b[a])}function nc(b,a,c,d){if(D(d))throw Hb("offargs");var e=ma(b,"events");ma(b,"handle")&&(F(a)?r(e,function(a,c){Za(b,c,a),delete e[c]}):r(a.split(" "),function(a){F(c)?(Za(b,a,e[a]),delete e[a]):Ra(e[a]||[],c)}))}function Lb(b,a){var c=b.ng339,d=$a[c];d&&(a?delete $a[c].data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),nc(b)),delete $a[c],b.ng339=s))}function ma(b,a,c){var d=b.ng339,d=$a[d||-1];return D(c)?(d||(b.ng339=d=++ne,d=$a[d]={}),void(d[a]=c)):d&&d[a]}function Mb(b,a,c){var d=ma(b,"data"),e=D(c),f=!e&&D(a),g=f&&!T(a);if(d||g||ma(b,"data",d={}),e)d[a]=c;else{if(!f)return d;if(g)return d&&d[a];E(d,a)}}function Nb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function lb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",aa((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+aa(a)+" "," ")))})}function mb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(a.split(" "),function(a){a=aa(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),b.setAttribute("class",aa(c))}}function Jb(b,a){if(a){a=a.nodeName||!D(a.length)||Fa(a)?[a]:a;for(var c=0;c<a.length;c++)b.push(a[c])}}function oc(b,a){return nb(b,"$"+(a||"ngController")+"Controller")}function nb(b,a,c){for(9==b.nodeType&&(b=b.documentElement),a=L(a)?a:[a];b;){for(var d=0,e=a.length;e>d;d++)if((c=y.data(b,a[d]))!==s)return c;b=b.parentNode||11===b.nodeType&&b.host}}function pc(b){for(var a=0,c=b.childNodes;a<c.length;a++)Ja(c[a]);for(;b.firstChild;)b.removeChild(b.firstChild)}function qc(b,a){var c=ob[a.toLowerCase()];return c&&rc[b.nodeName]&&c}function oe(b,a){var c=function(c,e){if(c.preventDefault||(c.preventDefault=function(){c.returnValue=!1}),c.stopPropagation||(c.stopPropagation=function(){c.cancelBubble=!0}),c.target||(c.target=c.srcElement||X),F(c.defaultPrevented)){var f=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0,f.call(c)},c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};var g=ga(a[e||c.type]||[]);r(g,function(a){a.call(b,c)}),8>=Q?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};return c.elem=b,c}function Ka(b,a){var d,c=typeof b;return"function"==c||"object"==c&&null!==b?"function"==typeof(d=b.$$hashKey)?d=b.$$hashKey():d===s&&(d=b.$$hashKey=(a||gb)()):d=b,c+":"+d}function ab(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function sc(b){var a,c;return"function"==typeof b?(a=b.$inject)||(a=[],b.length&&(c=b.toString().replace(pe,""),c=c.match(qe),r(c[1].split(re),function(b){b.replace(se,function(b,c,d){a.push(d)})})),b.$inject=a):L(b)?(c=b.length-1,Va(b[c],"fn"),a=b.slice(0,c)):Va(b,"fn",!0),a}function gc(b){function a(a){return function(b,c){return T(b)?void r(b,$b(a)):a(b,c)}}function c(a,b){if(Ca(a,"service"),(J(b)||L(b))&&(b=n.instantiate(b)),!b.$get)throw bb("pget",a);return l[a+k]=b}function d(a,b){return c(a,{$get:b})}function e(a){var c,d,f,k,b=[];return r(a,function(a){if(!h.get(a)){h.put(a,!0);try{if(C(a))for(c=Xa(a),b=b.concat(e(c.requires)).concat(c._runBlocks),d=c._invokeQueue,f=0,k=d.length;k>f;f++){var g=d[f],m=n.get(g[0]);m[g[1]].apply(m,g[2])}else J(a)?b.push(n.invoke(a)):L(a)?b.push(n.invoke(a)):Va(a,"module")}catch(l){throw L(a)&&(a=a[a.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),bb("modulerr",a,l.stack||l.message||l)}}}),b}function f(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===g)throw bb("cdep",d+" <- "+m.join(" <- "));return a[d]}try{return m.unshift(d),a[d]=g,a[d]=b(d)}catch(e){throw a[d]===g&&delete a[d],e}finally{m.shift()}}function d(a,b,e){var g,m,h,f=[],k=sc(a);for(m=0,g=k.length;g>m;m++){if(h=k[m],"string"!=typeof h)throw bb("itkn",h);f.push(e&&e.hasOwnProperty(h)?e[h]:c(h))}return L(a)&&(a=a[g]),a.apply(b,f)}return{invoke:d,instantiate:function(a,b){var e,c=function(){};return c.prototype=(L(a)?a[a.length-1]:a).prototype,c=new c,e=d(a,c,b),T(e)||J(e)?e:c},get:c,annotate:sc,has:function(b){return l.hasOwnProperty(b+k)||a.hasOwnProperty(b)}}}var g={},k="Provider",m=[],h=new ab([],!0),l={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,$(b))}),constant:a(function(a,b){Ca(a,"constant"),l[a]=b,p[a]=b}),decorator:function(a,b){var c=n.get(a+k),d=c.$get;c.$get=function(){var a=q.invoke(d,c);return q.invoke(b,null,{$delegate:a})}}}},n=l.$injector=f(l,function(){throw bb("unpr",m.join(" <- "))}),p={},q=p.$injector=f(p,function(a){return a=n.get(a+k),q.invoke(a.$get,a)});return r(e(b),function(a){q.invoke(a||z)}),q}function Ld(){var b=!0;this.disableAutoScrolling=function(){b=!1},this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;return r(a,function(a){b||"a"!==M(a.nodeName)||(b=a)}),b}function f(){var d,b=c.hash();b?(d=g.getElementById(b))?d.scrollIntoView():(d=e(g.getElementsByName(b)))?d.scrollIntoView():"top"===b&&a.scrollTo(0,0):a.scrollTo(0,0)}var g=a.document;return b&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(f)}),f}]}function he(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function te(b,a,c,d){function e(a){try{a.apply(null,Aa.call(arguments,1))}finally{if(t--,0===t)for(;K.length;)try{K.pop()()}catch(b){c.error(b)}}}function f(a,b){!function ca(){r(x,function(a){a()}),v=b(ca,a)}()}function g(){u=null,A!=k.url()&&(A=k.url(),r(da,function(a){a(k.url())}))}var k=this,m=a[0],h=b.location,l=b.history,n=b.setTimeout,p=b.clearTimeout,q={};k.isMock=!1;var t=0,K=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){t++},k.notifyWhenNoOutstandingRequests=function(a){r(x,function(a){a()}),0===t?a():K.push(a)};var v,x=[];k.addPollFn=function(a){return F(v)&&f(100,n),x.push(a),a};var A=h.href,R=a.find("base"),u=null;k.url=function(a,c){return h!==b.location&&(h=b.location),l!==b.history&&(l=b.history),a?A!=a?(A=a,d.history?c?l.replaceState(null,"",a):(l.pushState(null,"",a),R.attr("href",R.attr("href"))):(u=a,c?h.replace(a):h.href=a),k):void 0:u||h.href.replace(/%27/g,"'")};var da=[],I=!1;k.onUrlChange=function(a){return I||(d.history&&y(b).on("popstate",g),d.hashchange?y(b).on("hashchange",g):k.addPollFn(g),I=!0),da.push(a),a},k.baseHref=function(){var a=R.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var W={},ea="",N=k.baseHref();k.cookies=function(a,b){var d,e,f,k;if(!a){if(m.cookie!==ea)for(ea=m.cookie,d=ea.split("; "),W={},f=0;f<d.length;f++)e=d[f],k=e.indexOf("="),k>0&&(a=unescape(e.substring(0,k)),W[a]===s&&(W[a]=unescape(e.substring(k+1))));return W}b===s?m.cookie=escape(a)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":C(b)&&(d=(m.cookie=escape(a)+"="+escape(b)+";path="+N).length+1,d>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"))},k.defer=function(a,b){var c;return t++,c=n(function(){delete q[c],e(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return q[a]?(delete q[a],p(a),e(z),!0):!1}}function Nd(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new te(b,d,a,c)}]}function Od(){this.$get=function(){function b(b,d){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw w("$cacheFactory")("iid",b);var g=0,k=E({},d,{id:b}),m={},h=d&&d.capacity||Number.MAX_VALUE,l={},n=null,p=null;return a[b]={put:function(a,b){if(h<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return F(b)?void 0:(a in m||g++,m[a]=b,g>h&&this.remove(p.key),b)},get:function(a){if(h<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return m[a]},remove:function(a){if(h<Number.MAX_VALUE){var b=l[a];if(!b)return;b==n&&(n=b.p),b==p&&(p=b.n),f(b.n,b.p),delete l[a]}delete m[a],g--},removeAll:function(){m={},g=0,l={},n=p=null},destroy:function(){l=k=m=null,delete a[b]},info:function(){return E({},k,{size:g})}}}var a={};return b.info=function(){var b={};return r(a,function(a,e){b[e]=a.info()}),b},b.get=function(b){return a[b]},b}}function de(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function ic(b,a){var c={},d="Directive",e=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,f=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,g=/^(on[a-z]+|formaction)$/;this.directive=function m(a,e){return Ca(a,"directive"),C(a)?(Db(e,"directiveFactory"),c.hasOwnProperty(a)||(c[a]=[],b.factory(a+d,["$injector","$exceptionHandler",function(b,d){var e=[];return r(c[a],function(c,f){try{var g=b.invoke(c);J(g)?g={compile:$(g)}:!g.compile&&g.link&&(g.compile=$(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||a,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",e.push(g)}catch(m){d(m)}}),e}])),c[a].push(e)):r(a,$b(m)),this},this.aHrefSanitizationWhitelist=function(b){return D(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(b){return D(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,l,n,p,q,t,K,x,v,A,R){function u(a,b,c,d,e){a instanceof y||(a=y(a)),r(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=y(b).wrap("<span></span>").parent()[0])});var f=I(a,b,a,c,d,e);return da(a,"ng-scope"),function(b,c,d,e){Db(b,"scope");var g=c?La.clone.call(a):a;r(d,function(a,b){g.data("$"+b+"Controller",a)}),d=0;for(var m=g.length;m>d;d++){var h=g[d].nodeType;1!==h&&9!==h||g.eq(d).data("$scope",b)}return c&&c(g,b),f&&f(b,g,g,e),g}}function da(a,b){try{a.addClass(b)}catch(c){}}function I(a,b,c,d,e,f){function g(a,c,d,e){var f,h,l,q,n,p,t;f=c.length;var x=Array(f);for(q=0;f>q;q++)x[q]=c[q];for(p=q=0,n=m.length;n>q;p++)h=x[p],c=m[q++],f=m[q++],c?(c.scope?(l=a.$new(),y.data(h,"$scope",l)):l=a,t=c.transcludeOnThisElement?W(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?W(a,b):null,c(f,l,h,d,t)):f&&f(a,h.childNodes,s,e)}for(var h,l,q,n,m=[],p=0;p<a.length;p++)h=new Ob,l=ea(a[p],[],h,0===p?d:s,e),(f=l.length?G(l,a[p],h,b,c,null,[],[],f):null)&&f.scope&&da(h.$$element,"ng-scope"),h=f&&f.terminal||!(q=a[p].childNodes)||!q.length?null:I(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),m.push(f,h),n=n||f||h,f=null;return n?g:null}function W(a,b,c){return function(d,e,f){var g=!1;return d||(d=a.$new(),g=d.$$transcluded=!0),e=b(d,e,f,c),g&&e.on("$destroy",function(){d.$destroy()}),e}}function ea(a,b,c,d,g){var m,h=c.$attr;switch(a.nodeType){case 1:ca(b,na(Ma(a).toLowerCase()),"E",d,g);for(var l,q,n,p=a.attributes,t=0,x=p&&p.length;x>t;t++){var K=!1,v=!1;if(l=p[t],!Q||Q>=8||l.specified){m=l.name,q=aa(l.value),l=na(m),(n=V.test(l))&&(m=kb(l.substr(6),"-"));var A=l.replace(/(Start|End)$/,"");l===A+"Start"&&(K=m,v=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),l=na(m.toLowerCase()),h[l]=m,(n||!c.hasOwnProperty(l))&&(c[l]=q,qc(a,l)&&(c[l]=!0)),P(a,b,q,l),ca(b,l,"A",d,g,K,v)}}if(a=a.className,C(a)&&""!==a)for(;m=f.exec(a);)l=na(m[2]),ca(b,l,"C",d,g)&&(c[l]=aa(m[3])),a=a.substr(m.index+m[0].length);break;case 3:w(b,a.nodeValue);break;case 8:try{(m=e.exec(a.nodeValue))&&(l=na(m[1]),ca(b,l,"M",d,g)&&(c[l]=aa(m[2])))}catch(u){}}return b.sort(F),b}function N(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ia("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return y(d)}function B(a,b,c){return function(d,e,f,g,m){return e=N(e[0],b,c),a(d,e,f,g,m)}}function G(a,c,d,e,f,g,m,n,p){function x(a,b,c,d){a&&(c&&(a=B(a,c,d)),a.require=H.require,a.directiveName=oa,(I===H||H.$$isolateScope)&&(a=tc(a,{isolateScope:!0})),m.push(a)),b&&(c&&(b=B(b,c,d)),b.require=H.require,b.directiveName=oa,(I===H||H.$$isolateScope)&&(b=tc(b,{isolateScope:!0})),n.push(b))}function K(a,b,c,d){var e,f="data",g=!1;if(C(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(f="inheritedData"),g=g||"?"==e;if(e=null,d&&"data"===f&&(e=d[b]),e=e||c[f]("$"+b+"Controller"),!e&&!g)throw ia("ctreq",b,a)}else L(b)&&(e=[],r(b,function(b){e.push(K(a,b,c,d))}));return e}function v(a,e,f,g,p){function x(a,b){var c;return 2>arguments.length&&(b=a,a=s),Ea&&(c=ea),p(a,b,c)}var A,O,u,R,B,N,qb,ea={};if(A=c===f?d:ga(d,new Ob(y(f),d.$attr)),O=A.$$element,I){var Na=/^\s*([@=&])(\??)\s*(\w*)\s*$/;N=e.$new(!0),!G||G!==I&&G!==I.$$originalDirective?O.data("$isolateScopeNoTemplate",N):O.data("$isolateScope",N),da(O,"ng-isolate-scope"),r(I.scope,function(a,c){var m,l,n,p,d=a.match(Na)||[],f=d[3]||c,g="?"==d[2],d=d[1];switch(N.$$isolateBindings[c]=d+f,d){case"@":A.$observe(f,function(a){N[c]=a}),A.$$observers[f].$$scope=e,A[f]&&(N[c]=b(A[f])(e));break;case"=":if(g&&!A[f])break;l=q(A[f]),p=l.literal?za:function(a,b){return a===b||a!==a&&b!==b},n=l.assign||function(){throw m=N[c]=l(e),ia("nonassign",A[f],I.name)},m=N[c]=l(e),N.$watch(function(){var a=l(e);return p(a,N[c])||(p(a,m)?n(e,a=N[c]):N[c]=a),m=a},null,l.literal);break;case"&":l=q(A[f]),N[c]=function(a){return l(e,a)};break;default:throw ia("iscp",I.name,c,a)}})}for(qb=p&&x,W&&r(W,function(a){var c,b={$scope:a===I||a.$$isolateScope?N:e,$element:O,$attrs:A,$transclude:qb};B=a.controller,"@"==B&&(B=A[a.name]),c=t(B,b),ea[a.name]=c,Ea||O.data("$"+a.name+"Controller",c),a.controllerAs&&(b.$scope[a.controllerAs]=c)}),g=0,u=m.length;u>g;g++)try{(R=m[g])(R.isolateScope?N:e,O,A,R.require&&K(R.directiveName,R.require,O,ea),qb)}catch(ca){l(ca,ha(O))}for(g=e,I&&(I.template||null===I.templateUrl)&&(g=N),a&&a(g,f.childNodes,s,p),g=n.length-1;g>=0;g--)try{(R=n[g])(R.isolateScope?N:e,O,A,R.require&&K(R.directiveName,R.require,O,ea),qb)}catch(pb){l(pb,ha(O))}}p=p||{};for(var R,H,oa,U,Q,A=-Number.MAX_VALUE,W=p.controllerDirectives,I=p.newIsolateScopeDirective,G=p.templateDirective,ca=p.nonTlbTranscludeDirective,F=!1,E=!1,Ea=p.hasElementTranscludeDirective,w=d.$$element=y(c),S=e,P=0,pa=a.length;pa>P;P++){H=a[P];var V=H.$$start,Y=H.$$end;if(V&&(w=N(c,V,Y)),U=s,A>H.priority)break;if((U=H.scope)&&(R=R||H,H.templateUrl||(M("new/isolated scope",I,H,w),T(U)&&(I=H))),oa=H.name,!H.templateUrl&&H.controller&&(U=H.controller,W=W||{},M("'"+oa+"' controller",W[oa],H,w),W[oa]=H),(U=H.transclude)&&(F=!0,H.$$tlb||(M("transclusion",ca,H,w),ca=H),"element"==U?(Ea=!0,A=H.priority,U=w,w=d.$$element=y(X.createComment(" "+oa+": "+d[oa]+" ")),c=w[0],Na(f,Aa.call(U,0),c),S=u(U,e,A,g&&g.name,{nonTlbTranscludeDirective:ca})):(U=y(Kb(c)).contents(),w.empty(),S=u(U,e))),H.template)if(E=!0,M("template",G,H,w),G=H,U=J(H.template)?H.template(w,d):H.template,U=Z(U),H.replace){if(g=H,U=Ib.test(U)?y(aa(U)):[],c=U[0],1!=U.length||1!==c.nodeType)throw ia("tplrt",oa,"");Na(f,w,c),pa={$attr:{}},U=ea(c,[],pa);var $=a.splice(P+1,a.length-(P+1));I&&pb(U),a=a.concat(U).concat($),D(d,pa),pa=a.length}else w.html(U);if(H.templateUrl)E=!0,M("template",G,H,w),G=H,H.replace&&(g=H),v=z(a.splice(P,a.length-P),w,d,f,F&&S,m,n,{controllerDirectives:W,newIsolateScopeDirective:I,templateDirective:G,nonTlbTranscludeDirective:ca}),pa=a.length;else if(H.compile)try{Q=H.compile(w,d,S),J(Q)?x(null,Q,V,Y):Q&&x(Q.pre,Q.post,V,Y)}catch(ba){l(ba,ha(w))}H.terminal&&(v.terminal=!0,A=Math.max(A,H.priority))}return v.scope=R&&!0===R.scope,v.transcludeOnThisElement=F,v.templateOnThisElement=E,v.transclude=S,p.hasElementTranscludeDirective=Ea,v}function pb(a){for(var b=0,c=a.length;c>b;b++)a[b]=bc(a[b],{$$isolateScope:!0})}function ca(b,e,f,g,h,q,n){if(e===h)return null;if(h=null,c.hasOwnProperty(e)){var p;e=a.get(e+d);for(var t=0,x=e.length;x>t;t++)try{p=e[t],(g===s||g>p.priority)&&-1!=p.restrict.indexOf(f)&&(q&&(p=bc(p,{$$start:q,$$end:n})),b.push(p),h=p)}catch(K){l(K)}}return h}function D(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,f){"class"==f?(da(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function z(a,b,c,d,e,f,g,m){var l,q,h=[],t=b[0],x=a.shift(),K=E({},x,{templateUrl:null,transclude:null,replace:null,$$originalDirective:x}),A=J(x.templateUrl)?x.templateUrl(b,c):x.templateUrl;return b.empty(),n.get(v.getTrustedResourceUrl(A),{cache:p}).success(function(n){var p,v;if(n=Z(n),x.replace){if(n=Ib.test(n)?y(aa(n)):[],p=n[0],1!=n.length||1!==p.nodeType)throw ia("tplrt",x.name,A);n={$attr:{}},Na(d,b,p);var u=ea(p,[],n);T(x.scope)&&pb(u),a=u.concat(a),D(c,n)}else p=t,b.html(n);for(a.unshift(K),l=G(a,p,c,e,b,x,f,g,m),r(d,function(a,c){a==p&&(d[c]=b[0])}),q=I(b[0].childNodes,e);h.length;){n=h.shift(),v=h.shift();var R=h.shift(),B=h.shift(),u=b[0];if(v!==t){var N=v.className;m.hasElementTranscludeDirective&&x.replace||(u=Kb(p)),Na(R,y(v),u),da(y(u),N)}v=l.transcludeOnThisElement?W(n,l.transclude,B):B,l(q,n,u,d,v)}h=null}).error(function(a,b,c,d){throw ia("tpload",d.url)}),function(a,b,c,d,e){a=e,h?(h.push(b),h.push(c),h.push(d),h.push(a)):(l.transcludeOnThisElement&&(a=W(b,l.transclude,e)),l(q,b,c,d,a))}}function F(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function M(a,b,c,d){if(b)throw ia("multidir",b.name,c.name,a,ha(d))}function w(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent().length;return b&&da(a.parent(),"ng-binding"),function(a,c){var e=c.parent(),f=e.data("$binding")||[];f.push(d),e.data("$binding",f),b||da(e,"ng-binding"),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function S(a,b){if("srcdoc"==b)return v.HTML;var c=Ma(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?v.RESOURCE_URL:void 0}function P(a,c,d,e){var f=b(d,!0);if(f){if("multiple"===e&&"SELECT"===Ma(a))throw ia("selmulti",ha(a));c.push({priority:100,compile:function(){return{pre:function(c,d,m){if(d=m.$$observers||(m.$$observers={}),g.test(e))throw ia("nodomevents");(f=b(m[e],!0,S(a,e)))&&(m[e]=f(c),(d[e]||(d[e]=[])).$$inter=!0,(m.$$observers&&m.$$observers[e].$$scope||c).$watch(f,function(a,b){"class"===e&&a!=b?m.$updateClass(a,b):m.$set(e,a)}))}}}})}}function Na(a,b,c){var g,m,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,m=a.length;m>g;g++)if(a[g]==d){a[g++]=c,m=g+e-1;for(var h=a.length;h>g;g++,m++)h>m?a[g]=a[m]:delete a[g];a.length-=e-1;break}for(f&&f.replaceChild(c,d),a=X.createDocumentFragment(),a.appendChild(d),c[y.expando]=d[y.expando],d=1,e=b.length;e>d;d++)f=b[d],y(f).remove(),a.appendChild(f),delete b[d];b[0]=c,b.length=1}function tc(a,b){return E(function(){return a.apply(null,arguments)},a,b)}var Ob=function(a,b){this.$$element=a,this.$attr=b||{}};Ob.prototype={$normalize:na,$addClass:function(a){a&&0<a.length&&A.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&A.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=uc(a,b),d=uc(b,a);0===c.length?A.removeClass(this.$$element,d):0===d.length?A.addClass(this.$$element,c):A.setClass(this.$$element,c,d)},$set:function(a,b,c,d){var e=qc(this.$$element[0],a);e&&(this.$$element.prop(a,b),d=e),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=kb(a,"-")),e=Ma(this.$$element),("A"===e&&"href"===a||"IMG"===e&&"src"===a)&&(this[a]=b=R(b,"src"===a)),!1!==c&&(null===b||b===s?this.$$element.removeAttr(d):this.$$element.attr(d,b)),(c=this.$$observers)&&r(c[a],function(a){try{a(b)}catch(c){l(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),K.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var pa=b.startSymbol(),Ea=b.endSymbol(),Z="{{"==pa||"}}"==Ea?Ga:function(a){return a.replace(/\{\{/g,pa).replace(/}}/g,Ea)},V=/^ngAttr[A-Z]/;return u}]}function na(b){return Ya(b.replace(ue,""))}function uc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],k=0;k<e.length;k++)if(g==e[k])continue a;c+=(0<c.length?" ":"")+g}return c}function Pd(){var b={},a=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,d){Ca(a,"controller"),T(a)?E(b,a):b[a]=d},this.$get=["$injector","$window",function(c,d){return function(e,f){var g,k,m;if(C(e)&&(g=e.match(a),k=g[1],m=g[3],e=b.hasOwnProperty(k)?b[k]:hc(f.$scope,k,!0)||hc(d,k,!0),Va(e,k,!0)),g=c.instantiate(e,f),m){if(!f||"object"!=typeof f.$scope)throw w("$controller")("noscp",k||e.name,m);f.$scope[m]=g}return g}}]}function Qd(){this.$get=["$window",function(b){return y(b.document)}]}function Rd(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function vc(b){var c,d,e,a={};return b?(r(b.split("\n"),function(b){e=b.indexOf(":"),c=M(aa(b.substr(0,e))),d=aa(b.substr(e+1)),c&&(a[c]=a[c]?a[c]+", "+d:d)}),a):a}function wc(b){var a=T(b)?b:s;return function(c){return a||(a=vc(b)),c?a[M(c)]||null:a}}function xc(b,a,c){return J(c)?c(b,a):(r(c,function(c){b=c(b,a)}),b)}function Ud(){var b=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults={transformResponse:[function(d){
return C(d)&&(d=d.replace(c,""),b.test(d)&&a.test(d)&&(d=cc(d))),d}],transformRequest:[function(a){return T(a)&&"[object File]"!==ya.call(a)&&"[object Blob]"!==ya.call(a)?ta(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ga(d),put:ga(d),patch:ga(d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},f=this.interceptors=[],g=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,n,p){function q(a){function b(a){var d=E({},a,{data:xc(a.data,a.headers,c.transformResponse)});return 200<=a.status&&300>a.status?d:n.reject(d)}var c={method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},d=function(a){var d,f,b=e.headers,c=E({},a.headers),b=E({},b.common,b[M(a.method)]);a:for(d in b){a=M(d);for(f in c)if(M(f)===a)continue a;c[d]=b[d]}return function(a){var b;r(a,function(c,d){J(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}(c),c}(a);E(c,a),c.headers=d,c.method=Ia(c.method);var f=[function(a){d=a.headers;var c=xc(a.data,wc(d),a.transformRequest);return F(c)&&r(d,function(a,b){"content-type"===M(b)&&delete d[b]}),F(a.withCredentials)&&!F(e.withCredentials)&&(a.withCredentials=e.withCredentials),t(a,c,d).then(b,b)},s],g=n.when(c);for(r(v,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError),(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var m=f.shift(),g=g.then(a,m)}return g.success=function(a){return g.then(function(b){a(b.data,b.status,b.headers,c)}),g},g.error=function(a){return g.then(null,function(b){a(b.data,b.status,b.headers,c)}),g},g}function t(c,f,g){function h(a,b,c,e){B&&(a>=200&&300>a?B.put(y,[a,b,vc(c),e]):B.remove(y)),p(b,a,c,e),d.$$phase||d.$apply()}function p(a,b,d,e){b=Math.max(b,0),(b>=200&&300>b?v.resolve:v.reject)({data:a,status:b,headers:wc(d),config:c,statusText:e})}function t(){var a=Qa(q.pendingRequests,c);-1!==a&&q.pendingRequests.splice(a,1)}var B,G,v=n.defer(),r=v.promise,y=K(c.url,c.params);if(q.pendingRequests.push(c),r.then(t,t),!c.cache&&!e.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(B=T(c.cache)?c.cache:T(e.cache)?e.cache:x),B)if(G=B.get(y),D(G)){if(G&&J(G.then))return G.then(t,t),G;L(G)?p(G[1],G[0],ga(G[2]),G[3]):p(G,200,{},"OK")}else B.put(y,r);return F(G)&&((G=Pb(c.url)?b.cookies()[c.xsrfCookieName||e.xsrfCookieName]:s)&&(g[c.xsrfHeaderName||e.xsrfHeaderName]=G),a(c.method,y,f,h,g,c.timeout,c.withCredentials,c.responseType)),r}function K(a,b){if(!b)return a;var c=[];return Tc(b,function(a,b){null===a||F(a)||(L(a)||(a=[a]),r(a,function(a){T(a)&&(sa(a)?a=a.toISOString():T(a)&&(a=ta(a))),c.push(Ba(b)+"="+Ba(a))}))}),0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var x=c("$http"),v=[];return r(f,function(a){v.unshift(C(a)?p.get(a):p.invoke(a))}),r(g,function(a,b){var c=C(a)?p.get(a):p.invoke(a);v.splice(b,0,{response:function(a){return c(n.when(a))},responseError:function(a){return c(n.reject(a))}})}),q.pendingRequests=[],function(a){r(arguments,function(a){q[a]=function(b,c){return q(E(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){r(arguments,function(a){q[a]=function(b,c,d){return q(E(d||{},{method:a,url:b,data:c}))}})}("post","put"),q.defaults=e,q}]}function ve(b){if(8>=Q&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!P.XMLHttpRequest))return new P.ActiveXObject("Microsoft.XMLHTTP");if(P.XMLHttpRequest)return new P.XMLHttpRequest;throw w("$httpBackend")("noxhr")}function Vd(){this.$get=["$browser","$window","$document",function(b,a,c){return we(b,ve,b.defer,a.angular.callbacks,c[0])}]}function we(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){Za(f,"load",g),Za(f,"error",g),e.body.removeChild(f),f=null;var k=-1,t="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),t=a.type,k="error"===a.type?404:200),c&&c(k,t)},rb(f,"load",g),rb(f,"error",g),8>=Q&&(f.onreadystatechange=function(){C(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,g({type:"load"}))}),e.body.appendChild(f),g}var g=-1;return function(e,m,h,l,n,p,q,t){function K(){v=g,R&&R(),u&&u.abort()}function x(a,d,e,f,g){I&&c.cancel(I),R=u=null,0===d&&(d=e?200:"file"==ua(m).protocol?404:0),a(1223===d?204:d,e,f,g||""),b.$$completeOutstandingRequest(z)}var v;if(b.$$incOutstandingRequestCount(),m=m||b.url(),"jsonp"==M(e)){var A="_"+(d.counter++).toString(36);d[A]=function(a){d[A].data=a,d[A].called=!0};var R=f(m.replace("JSON_CALLBACK","angular.callbacks."+A),A,function(a,b){x(l,a,d[A].data,"",b),d[A]=z})}else{var u=a(e);if(u.open(e,m,!0),r(n,function(a,b){D(a)&&u.setRequestHeader(b,a)}),u.onreadystatechange=function(){if(u&&4==u.readyState){var a=null,b=null,c="";v!==g&&(a=u.getAllResponseHeaders(),b="response"in u?u.response:u.responseText),v===g&&10>Q||(c=u.statusText),x(l,v||u.status,b,a,c)}},q&&(u.withCredentials=!0),t)try{u.responseType=t}catch(da){if("json"!==t)throw da}u.send(h||null)}if(p>0)var I=c(K,p);else p&&J(p.then)&&p.then(K)}}function Sd(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b},this.endSymbol=function(b){return b?(a=b,this):a},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,h,l){for(var n,p,q=0,t=[],K=f.length,x=!1,v=[];K>q;)-1!=(n=f.indexOf(b,q))&&-1!=(p=f.indexOf(a,n+g))?(q!=n&&t.push(f.substring(q,n)),t.push(q=c(x=f.substring(n+g,p))),q.exp=x,q=p+k,x=!0):(q!=K&&t.push(f.substring(q)),q=K);if((K=t.length)||(t.push(""),K=1),l&&1<t.length)throw yc("noconcat",f);return!h||x?(v.length=K,q=function(a){try{for(var g,b=0,c=K;c>b;b++){if("function"==typeof(g=t[b]))if(g=g(a),g=l?e.getTrusted(l,g):e.valueOf(g),null==g)g="";else switch(typeof g){case"string":break;case"number":g=""+g;break;default:g=ta(g)}v[b]=g}return v.join("")}catch(k){a=yc("interr",f,k.toString()),d(a)}},q.exp=f,q.parts=t,q):void 0}var g=b.length,k=a.length;return f.startSymbol=function(){return b},f.endSymbol=function(){return a},f}]}function Td(){this.$get=["$rootScope","$window","$q",function(b,a,c){function d(d,g,k,m){var h=a.setInterval,l=a.clearInterval,n=c.defer(),p=n.promise,q=0,t=D(m)&&!m;return k=D(k)?k:0,p.then(null,null,d),p.$$intervalId=h(function(){n.notify(q++),k>0&&q>=k&&(n.resolve(q),l(p.$$intervalId),delete e[p.$$intervalId]),t||b.$apply()},g),e[p.$$intervalId]=n,p}var e={};return d.cancel=function(b){return b&&b.$$intervalId in e?(e[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete e[b.$$intervalId],!0):!1},d}]}function bd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function Qb(b){b=b.split("/");for(var a=b.length;a--;)b[a]=jb(b[a]);return b.join("/")}function zc(b,a,c){b=ua(b,c),a.$$protocol=b.protocol,a.$$host=b.hostname,a.$$port=Z(b.port)||xe[b.protocol]||null}function Ac(b,a,c){var d="/"!==b.charAt(0);d&&(b="/"+b),b=ua(b,c),a.$$path=decodeURIComponent(d&&"/"===b.pathname.charAt(0)?b.pathname.substring(1):b.pathname),a.$$search=ec(b.search),a.$$hash=decodeURIComponent(b.hash),a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function qa(b,a){return 0===a.indexOf(b)?a.substr(b.length):void 0}function cb(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Rb(b){return b.substr(0,cb(b).lastIndexOf("/")+1)}function Bc(b,a){this.$$html5=!0,a=a||"";var c=Rb(b);zc(b,this,b),this.$$parse=function(a){var e=qa(c,a);if(!C(e))throw Sb("ipthprfx",a,c);Ac(e,this,b),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Cb(this.$$search),b=this.$$hash?"#"+jb(this.$$hash):"";this.$$url=Qb(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=c+this.$$url.substr(1)},this.$$rewrite=function(d){var e;return(e=qa(b,d))!==s?(d=e,(e=qa(a,e))!==s?c+(qa("/",e)||e):b+d):(e=qa(c,d))!==s?c+e:c==d+"/"?c:void 0}}function Tb(b,a){var c=Rb(b);zc(b,this,b),this.$$parse=function(d){var e=qa(b,d)||qa(c,d),e="#"==e.charAt(0)?qa(a,e):this.$$html5?e:"";if(!C(e))throw Sb("ihshprfx",d,a);Ac(e,this,b),d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,"")),f.exec(e)||(d=(e=f.exec(d))?e[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var c=Cb(this.$$search),e=this.$$hash?"#"+jb(this.$$hash):"";this.$$url=Qb(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+(this.$$url?a+this.$$url:"")},this.$$rewrite=function(a){return cb(b)==cb(a)?a:void 0}}function Ub(b,a){this.$$html5=!0,Tb.apply(this,arguments);var c=Rb(b);this.$$rewrite=function(d){var e;return b==cb(d)?d:(e=qa(c,d))?b+a+e:c===d+"/"?c:void 0},this.$$compose=function(){var c=Cb(this.$$search),e=this.$$hash?"#"+jb(this.$$hash):"";this.$$url=Qb(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+a+this.$$url}}function sb(b){return function(){return this[b]}}function Cc(b,a){return function(c){return F(c)?this[b]:(this[b]=a(c),this.$$compose(),this)}}function Wd(){var b="",a=!1;this.hashPrefix=function(a){return D(a)?(b=a,this):b},this.html5Mode=function(b){return D(b)?(a=b,this):a},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,f){function g(a){c.$broadcast("$locationChangeSuccess",k.absUrl(),a)}var k,m,n,h=d.baseHref(),l=d.url();a?(n=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(h||"/"),m=e.history?Bc:Ub):(n=cb(l),m=Tb),k=new m(n,"#"+b),k.$$parse(k.$$rewrite(l));var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var e=y(a.target);"a"!==M(e[0].nodeName);)if(e[0]===f[0]||!(e=e.parent())[0])return;var g=e.prop("href");if(T(g)&&"[object SVGAnimatedString]"===g.toString()&&(g=ua(g.animVal).href),!p.test(g)){if(m===Ub){var h=e.attr("href")||e.attr("xlink:href");if(0>h.indexOf("://"))if(g="#"+b,"/"==h[0])g=n+g+h;else if("#"==h[0])g=n+g+(k.path()||"/")+h;else{for(var l=k.path().split("/"),h=h.split("/"),q=0;q<h.length;q++)"."!=h[q]&&(".."==h[q]?l.pop():h[q].length&&l.push(h[q]));g=n+g+l.join("/")}}l=k.$$rewrite(g),g&&!e.attr("target")&&l&&!a.isDefaultPrevented()&&(a.preventDefault(),l!=d.url()&&(k.$$parse(l),c.$apply(),P.angular["ff-684208-preventDefault"]=!0))}}}),k.absUrl()!=l&&d.url(k.absUrl(),!0),d.onUrlChange(function(a){k.absUrl()!=a&&(c.$evalAsync(function(){var b=k.absUrl();k.$$parse(a),c.$broadcast("$locationChangeStart",a,b).defaultPrevented?(k.$$parse(b),d.url(b)):g(b)}),c.$$phase||c.$digest())});var q=0;return c.$watch(function(){var a=d.url(),b=k.$$replace;return q&&a==k.absUrl()||(q++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",k.absUrl(),a).defaultPrevented?k.$$parse(a):(d.url(k.absUrl(),b),g(a))})),k.$$replace=!1,q}),k}]}function Xd(){var b=!0,a=this;this.debugEnabled=function(a){return D(a)?(b=a,this):b},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||z;a=!1;try{a=!!e.apply}catch(m){}return a?function(){var a=[];return r(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function ja(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw ka("isecfld",a);return b}function Oa(b,a){if(b){if(b.constructor===b)throw ka("isecfn",a);if(b.document&&b.location&&b.alert&&b.setInterval)throw ka("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw ka("isecdom",a);if(b===Object)throw ka("isecobj",a)}return b}function tb(b,a,c,d,e){e=e||{},a=a.split(".");for(var f,g=0;1<a.length;g++){f=ja(a.shift(),d);var k=b[f];k||(k={},b[f]=k),b=k,b.then&&e.unwrapPromises&&(va(d),"$$v"in b||function(a){a.then(function(b){a.$$v=b})}(b),b.$$v===s&&(b.$$v={}),b=b.$$v)}return f=ja(a.shift(),d),Oa(b,d),Oa(b[f],d),b[f]=c}function Dc(b,a,c,d,e,f,g){return ja(b,f),ja(a,f),ja(c,f),ja(d,f),ja(e,f),g.unwrapPromises?function(g,m){var l,h=m&&m.hasOwnProperty(b)?m:g;return null==h?h:((h=h[b])&&h.then&&(va(f),"$$v"in h||(l=h,l.$$v=s,l.then(function(a){l.$$v=a})),h=h.$$v),a?null==h?s:((h=h[a])&&h.then&&(va(f),"$$v"in h||(l=h,l.$$v=s,l.then(function(a){l.$$v=a})),h=h.$$v),c?null==h?s:((h=h[c])&&h.then&&(va(f),"$$v"in h||(l=h,l.$$v=s,l.then(function(a){l.$$v=a})),h=h.$$v),d?null==h?s:((h=h[d])&&h.then&&(va(f),"$$v"in h||(l=h,l.$$v=s,l.then(function(a){l.$$v=a})),h=h.$$v),e?null==h?s:((h=h[e])&&h.then&&(va(f),"$$v"in h||(l=h,l.$$v=s,l.then(function(a){l.$$v=a})),h=h.$$v),h):h):h):h):h)}:function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;return null==h?h:(h=h[b],a?null==h?s:(h=h[a],c?null==h?s:(h=h[c],d?null==h?s:(h=h[d],e?null==h?s:h=h[e]:h):h):h):h)}}function Ec(b,a,c){if(Vb.hasOwnProperty(b))return Vb[b];var f,d=b.split("."),e=d.length;if(a.csp)f=6>e?Dc(d[0],d[1],d[2],d[3],d[4],c,a):function(b,f){var k,g=0;do k=Dc(d[g++],d[g++],d[g++],d[g++],d[g++],c,a)(b,f),f=s,b=k;while(e>g);return k};else{var g="var p;\n";r(d,function(b,d){ja(b,c),g+="if(s == null) return undefined;\ns="+(d?"s":'((k&&k.hasOwnProperty("'+b+'"))?k:s)')+'["'+b+'"];\n'+(a.unwrapPromises?'if (s && s.then) {\n pw("'+c.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var g=g+"return s;",k=new Function("s","k","pw",g);k.toString=$(g),f=a.unwrapPromises?function(a,b){return k(a,b,va)}:k}return"hasOwnProperty"!==b&&(Vb[b]=f),f}function Yd(){var b={},a={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(b){return D(b)?(a.unwrapPromises=!!b,this):a.unwrapPromises},this.logPromiseWarnings=function(b){return D(b)?(a.logPromiseWarnings=b,this):a.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return a.csp=d.csp,va=function(b){a.logPromiseWarnings&&!Fc.hasOwnProperty(b)&&(Fc[b]=!0,e.warn("[$parse] Promise found in the expression `"+b+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(typeof d){case"string":return b.hasOwnProperty(d)?b[d]:(e=new Wb(a),e=new db(e,c,a).parse(d),"hasOwnProperty"!==d&&(b[d]=e),e);case"function":return d;default:return z}}}]}function $d(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return ye(function(a){b.$evalAsync(a)},a)}]}function ye(b,a){function c(a){return a}function d(a){return g(a)}var e=function(){var h,l,g=[];return l={resolve:function(a){if(g){var c=g;g=s,h=f(a),c.length&&b(function(){for(var a,b=0,d=c.length;d>b;b++)a=c[b],h.then(a[0],a[1],a[2])})}},reject:function(a){l.resolve(k(a))},notify:function(a){if(g){var c=g;g.length&&b(function(){for(var b,d=0,e=c.length;e>d;d++)b=c[d],b[2](a)})}},promise:{then:function(b,f,k){var l=e(),K=function(d){try{l.resolve((J(b)?b:c)(d))}catch(e){l.reject(e),a(e)}},x=function(b){try{l.resolve((J(f)?f:d)(b))}catch(c){l.reject(c),a(c)}},v=function(b){try{l.notify((J(k)?k:c)(b))}catch(d){a(d)}};return g?g.push([K,x,v]):h.then(K,x,v),l.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,c){var d=e();return c?d.resolve(a):d.reject(a),d.promise}function d(e,f){var g=null;try{g=(a||c)()}catch(k){return b(k,!1)}return g&&J(g.then)?g.then(function(){return b(e,f)},function(a){return b(a,!1)}):b(e,f)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},f=function(a){return a&&J(a.then)?a:{then:function(c){var d=e();return b(function(){d.resolve(c(a))}),d.promise}}},g=function(a){var b=e();return b.reject(a),b.promise},k=function(c){return{then:function(f,g){var k=e();return b(function(){try{k.resolve((J(g)?g:d)(c))}catch(b){k.reject(b),a(b)}}),k.promise}}};return{defer:e,reject:g,when:function(k,h,l,n){var q,p=e(),t=function(b){try{return(J(h)?h:c)(b)}catch(d){return a(d),g(d)}},K=function(b){try{return(J(l)?l:d)(b)}catch(c){return a(c),g(c)}},x=function(b){try{return(J(n)?n:c)(b)}catch(d){a(d)}};return b(function(){f(k).then(function(a){q||(q=!0,p.resolve(f(a).then(t,K,x)))},function(a){q||(q=!0,p.resolve(K(a)))},function(a){q||p.notify(x(a))})}),p.promise},all:function(a){var b=e(),c=0,d=L(a)?[]:{};return r(a,function(a,e){c++,f(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}}}function ge(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};return f.supported=e,f}]}function Zd(){var b=10,a=w("$rootScope"),c=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,f,g){function k(){this.$id=gb(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function m(b){if(p.$$phase)throw a("inprog",p.$$phase);p.$$phase=b}function h(a,b){var c=f(a);return Va(c,b),c}function l(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function n(){}k.prototype={constructor:k,$new:function(a){return a?(a=new k,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=gb(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),a=new this.$$childScopeClass),a["this"]=a,a.$parent=this,a.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a,a},$watch:function(a,b,d){var e=h(a,"watch"),f=this.$$watchers,g={fn:b,last:n,get:e,exp:a,eq:!!d};if(c=null,!J(b)){var k=h(b||z,"listener");g.fn=function(a,b,c){k(c)}}if("string"==typeof a&&e.constant){var m=g.fn;g.fn=function(a,b,c){m.call(this,a,b,c),Ra(f,g)}}return f||(f=this.$$watchers=[]),f.unshift(g),function(){Ra(f,g),c=null}},$watchCollection:function(a,b){var d,e,g,c=this,k=1<b.length,h=0,m=f(a),l=[],p={},n=!0,r=0;return this.$watch(function(){d=m(c);var a,b,f;if(T(d))if(fb(d))for(e!==l&&(e=l,r=e.length=0,h++),a=d.length,r!==a&&(h++,e.length=r=a),b=0;a>b;b++)f=e[b]!==e[b]&&d[b]!==d[b],f||e[b]===d[b]||(h++,e[b]=d[b]);else{e!==p&&(e=p={},r=0,h++),a=0;for(b in d)d.hasOwnProperty(b)&&(a++,e.hasOwnProperty(b)?(f=e[b]!==e[b]&&d[b]!==d[b],f||e[b]===d[b]||(h++,e[b]=d[b])):(r++,e[b]=d[b],h++));if(r>a)for(b in h++,e)e.hasOwnProperty(b)&&!d.hasOwnProperty(b)&&(r--,delete e[b])}else e!==d&&(e=d,h++);return h},function(){if(n?(n=!1,b(d,d,c)):b(d,g,c),k)if(T(d))if(fb(d)){g=Array(d.length);for(var a=0;a<d.length;a++)g[a]=d[a]}else for(a in g={},d)ib.call(d,a)&&(g[a]=d[a]);else g=d})},$digest:function(){var d,f,g,k,r,u,I,y,N,B,h=this.$$asyncQueue,l=this.$$postDigestQueue,s=b,W=[];m("$digest"),c=null;do{for(u=!1,I=this;h.length;){try{B=h.shift(),B.scope.$eval(B.expression)}catch(G){p.$$phase=null,e(G)}c=null}a:do{if(k=I.$$watchers)for(r=k.length;r--;)try{if(d=k[r])if((f=d.get(I))===(g=d.last)||(d.eq?za(f,g):"number"==typeof f&&"number"==typeof g&&isNaN(f)&&isNaN(g))){if(d===c){u=!1;break a}}else u=!0,c=d,d.last=d.eq?Ha(f,null):f,d.fn(f,g===n?f:g,I),5>s&&(y=4-s,W[y]||(W[y]=[]),N=J(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,N+="; newVal: "+ta(f)+"; oldVal: "+ta(g),W[y].push(N))}catch(D){p.$$phase=null,e(D)}if(!(k=I.$$childHead||I!==this&&I.$$nextSibling))for(;I!==this&&!(k=I.$$nextSibling);)I=I.$parent}while(I=k);if((u||h.length)&&!s--)throw p.$$phase=null,a("infdig",b,ta(W))}while(u||h.length);for(p.$$phase=null;l.length;)try{l.shift()()}catch(w){e(w)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==p&&(r(this.$$listenerCount,Bb(null,l,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=z,this.$on=this.$watch=function(){return z})}},$eval:function(a,b){return f(a)(this,b)},$evalAsync:function(a){p.$$phase||p.$$asyncQueue.length||g.defer(function(){p.$$asyncQueue.length&&p.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return m("$apply"),this.$eval(a)}catch(b){e(b)}finally{p.$$phase=null;try{p.$digest()}catch(c){throw e(c),c}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){c[Qa(c,b)]=null,l(e,1,a)}},$emit:function(a,b){var d,m,l,c=[],f=this,g=!1,k={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){k.defaultPrevented=!0},defaultPrevented:!1},h=[k].concat(Aa.call(arguments,1));do{for(d=f.$$listeners[a]||c,k.currentScope=f,m=0,l=d.length;l>m;m++)if(d[m])try{d[m].apply(null,h)}catch(p){e(p)}else d.splice(m,1),m--,l--;if(g)break;f=f.$parent}while(f);return k},$broadcast:function(a,b){for(var k,h,c=this,d=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},g=[f].concat(Aa.call(arguments,1));c=d;){for(f.currentScope=c,d=c.$$listeners[a]||[],k=0,h=d.length;h>k;k++)if(d[k])try{d[k].apply(null,g)}catch(m){e(m)}else d.splice(k,1),k--,h--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return f}};var p=new k;return p}]}function cd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(a){return D(a)?(b=a,this):b},this.imgSrcSanitizationWhitelist=function(b){return D(b)?(a=b,this):a},this.$get=function(){return function(c,d){var f,e=d?a:b;return Q&&!(Q>=8)||(f=ua(c).href,""===f||f.match(e))?c:"unsafe:"+f}}}function ze(b){if("self"===b)return b;if(C(b)){if(-1<b.indexOf("***"))throw wa("iwcard",b);return b=b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+b+"$")}if(hb(b))return RegExp("^"+b.source+"$");throw wa("imatcher")}function Gc(b){var a=[];return D(b)&&r(b,function(b){a.push(ze(b))}),a}function be(){this.SCE_CONTEXTS=fa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){return arguments.length&&(b=Gc(a)),b},this.resourceUrlBlacklist=function(b){return arguments.length&&(a=Gc(b)),a},this.$get=["$injector",function(c){function d(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var e=function(a){throw wa("unsafe")};c.has("$sanitize")&&(e=c.get("$sanitize"));var f=d(),g={};return g[fa.HTML]=d(f),g[fa.CSS]=d(f),g[fa.URL]=d(f),g[fa.JS]=d(f),g[fa.RESOURCE_URL]=d(g[fa.URL]),{trustAs:function(a,b){var c=g.hasOwnProperty(a)?g[a]:null;if(!c)throw wa("icontext",a,b);if(null===b||b===s||""===b)return b;if("string"!=typeof b)throw wa("itype",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===s||""===d)return d;var f=g.hasOwnProperty(c)?g[c]:null;if(f&&d instanceof f)return d.$$unwrapTrustedValue();if(c===fa.RESOURCE_URL){var l,n,f=ua(d.toString()),p=!1;for(l=0,n=b.length;n>l;l++)if("self"===b[l]?Pb(f):b[l].exec(f.href)){p=!0;break}if(p)for(l=0,n=a.length;n>l;l++)if("self"===a[l]?Pb(f):a[l].exec(f.href)){p=!1;break}if(p)return d;throw wa("insecurl",d.toString())}if(c===fa.HTML)return e(d);throw wa("unsafe")},valueOf:function(a){return a instanceof f?a.$$unwrapTrustedValue():a}}}]}function ae(){var b=!0;this.enabled=function(a){return arguments.length&&(b=!!a),b},this.$get=["$parse","$sniffer","$sceDelegate",function(a,c,d){if(b&&c.msie&&8>c.msieDocumentMode)throw wa("iequirks");var e=ga(fa);e.isEnabled=function(){return b},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,b||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=Ga),e.parseAs=function(b,c){var d=a(c);return d.literal&&d.constant?d:function(a,c){return e.getTrusted(b,d(a,c))}};var f=e.parseAs,g=e.getTrusted,k=e.trustAs;return r(fa,function(a,b){var c=M(b);e[Ya("parse_as_"+c)]=function(b){return f(a,b)},e[Ya("get_trusted_"+c)]=function(b){return g(a,b)},e[Ya("trust_as_"+c)]=function(b){return k(a,b)}}),e}]}function ce(){this.$get=["$window","$document",function(b,a){var k,c={},d=Z((/android (\d+)/.exec(M((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g=f.documentMode,m=/^(Moz|webkit|O|ms)(?=[A-Z])/,h=f.body&&f.body.style,l=!1,n=!1;if(h){for(var p in h)if(l=m.exec(p)){k=l[0],k=k.substr(0,1).toUpperCase()+k.substr(1);break}k||(k="WebkitOpacity"in h&&"webkit"),l=!!("transition"in h||k+"Transition"in h),n=!!("animation"in h||k+"Animation"in h),!d||l&&n||(l=C(f.body.style.webkitTransition),n=C(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hashchange:"onhashchange"in b&&(!g||g>7),hasEvent:function(a){if("input"==a&&9==Q)return!1;if(F(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:Wa(),vendorPrefix:k,transitions:l,animations:n,android:d,msie:Q,msieDocumentMode:g}}]}function ee(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(b,a,c,d){function e(e,k,m){var h=c.defer(),l=h.promise,n=D(m)&&!m;return k=a.defer(function(){try{h.resolve(e())}catch(a){h.reject(a),d(a)}finally{delete f[l.$$timeoutId]}n||b.$apply()},k),l.$$timeoutId=k,f[k]=h,l}var f={};return e.cancel=function(b){return b&&b.$$timeoutId in f?(f[b.$$timeoutId].reject("canceled"),delete f[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1},e}]}function ua(b,a){var c=b;return Q&&(V.setAttribute("href",c),c=V.href),V.setAttribute("href",c),{href:V.href,protocol:V.protocol?V.protocol.replace(/:$/,""):"",host:V.host,search:V.search?V.search.replace(/^\?/,""):"",hash:V.hash?V.hash.replace(/^#/,""):"",hostname:V.hostname,port:V.port,pathname:"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname}}function Pb(b){return b=C(b)?ua(b):b,b.protocol===Hc.protocol&&b.host===Hc.host}function fe(){this.$get=$(P)}function mc(b){function a(d,e){if(T(d)){var f={};return r(d,function(b,c){f[c]=a(c,b)}),f}return b.factory(d+c,e)}var c="Filter";this.register=a,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],a("currency",Ic),a("date",Jc),a("filter",Ae),a("json",Be),a("limitTo",Ce),a("lowercase",De),a("number",Kc),a("orderBy",Lc),a("uppercase",Ee)}function Ae(){return function(b,a,c){if(!L(b))return b;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Ua.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&ib.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),-1<(""+a).toLowerCase().indexOf(b)});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}};switch(typeof a){case"boolean":case"number":case"string":a={$:a};case"object":for(var g in a)(function(b){"undefined"!=typeof a[b]&&e.push(function(c){return f("$"==b?c:c&&c[b],a[b])})})(g);break;case"function":e.push(a);break;default:return b}for(d=[],g=0;g<b.length;g++){var k=b[g];e.check(k)&&d.push(k)}return d}}function Ic(b){var a=b.NUMBER_FORMATS;return function(b,d){return F(d)&&(d=a.CURRENCY_SYM),Mc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function Kc(b){var a=b.NUMBER_FORMATS;return function(b,d){return Mc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Mc(b,a,c,d,e){if(null==b||!isFinite(b)||T(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",k="",m=[],h=!1;if(-1!==g.indexOf("e")){var l=g.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>e+1?(g="0",b=0):(k=g,h=!0)}if(h)e>0&&b>-1&&1>b&&(k=b.toFixed(e));else{g=(g.split(Nc)[1]||"").length,F(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac)),b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e),b=(""+b).split(Nc),g=b[0],b=b[1]||"";var l=0,n=a.lgSize,p=a.gSize;if(g.length>=n+p)for(l=g.length-n,h=0;l>h;h++)0===(l-h)%p&&0!==h&&(k+=c),k+=g.charAt(h);for(h=l;h<g.length;h++)0===(g.length-h)%n&&0!==h&&(k+=c),k+=g.charAt(h);for(;b.length<e;)b+="0";e&&"0"!==e&&(k+=d+b.substr(0,e))}return m.push(f?a.negPre:a.posPre),m.push(k),m.push(f?a.negSuf:a.posSuf),m.join("")}function Xb(b,a,c){var d="";for(0>b&&(d="-",b=-b),b=""+b;b.length<a;)b="0"+b;return c&&(b=b.substr(b.length-a)),d+b}function Y(b,a,c,d){return c=c||0,function(e){return e=e["get"+b](),(c>0||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Xb(e,a,d)}}function ub(b,a){return function(c,d){var e=c["get"+b](),f=Ia(a?"SHORT"+b:b);return d[f][e]}}function Jc(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,k=b[8]?a.setUTCFullYear:a.setFullYear,m=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11])),k.call(a,Z(b[1]),Z(b[2])-1,Z(b[3])),f=Z(b[4]||0)-f,g=Z(b[5]||0)-g,k=Z(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),m.call(a,f,g,k,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var k,m,f="",g=[];if(e=e||"mediumDate",e=b.DATETIME_FORMATS[e]||e,C(c)&&(c=Fe.test(c)?Z(c):a(c)),Ab(c)&&(c=new Date(c)),!sa(c))return c;for(;e;)(m=Ge.exec(e))?(g=g.concat(Aa.call(m,1)),e=g.pop()):(g.push(e),e=null);return r(g,function(a){k=He[a],f+=k?k(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}}function Be(){return function(b){return ta(b,!0)}}function Ce(){return function(b,a){if(!L(b)&&!C(b))return b;if(a=1/0===Math.abs(Number(a))?Number(a):Z(a),C(b))return a?a>=0?b.slice(0,a):b.slice(a,b.length):"";var d,e,c=[];for(a>b.length?a=b.length:a<-b.length&&(a=-b.length),a>0?(d=0,e=a):(d=b.length+a,e=b.length);e>d;d++)c.push(b[d]);return c}}function Lc(b){return function(a,c,d){function e(a,b){return Ta(b)?function(b,c){return a(c,b)}:a}function f(a,b){var c=typeof a,d=typeof b;return c==d?(sa(a)&&sa(b)&&(a=a.valueOf(),b=b.valueOf()),
"string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}if(!L(a)||!c)return a;c=L(c)?c:[c],c=Vc(c,function(a){var c=!1,d=a||Ga;if(C(a)&&(("+"==a.charAt(0)||"-"==a.charAt(0))&&(c="-"==a.charAt(0),a=a.substring(1)),d=b(a),d.constant)){var g=d();return e(function(a,b){return f(a[g],b[g])},c)}return e(function(a,b){return f(d(a),d(b))},c)});for(var g=[],k=0;k<a.length;k++)g.push(a[k]);return g.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function xa(b){return J(b)&&(b={link:b}),b.restrict=b.restrict||"AC",$(b)}function Oc(b,a,c,d){function e(a,c){c=c?"-"+kb(c,"-"):"",d.removeClass(b,(a?vb:wb)+c),d.addClass(b,(a?wb:vb)+c)}var f=this,g=b.parent().controller("form")||xb,k=0,m=f.$error={},h=[];f.$name=a.name||a.ngForm,f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,g.$addControl(f),b.addClass(Pa),e(!0),f.$addControl=function(a){Ca(a.$name,"input"),h.push(a),a.$name&&(f[a.$name]=a)},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],r(m,function(b,c){f.$setValidity(c,!0,a)}),Ra(h,a)},f.$setValidity=function(a,b,c){var d=m[a];if(b)d&&(Ra(d,c),d.length||(k--,k||(e(b),f.$valid=!0,f.$invalid=!1),m[a]=!1,e(!0,a),g.$setValidity(a,!0,f)));else{if(k||e(b),d){if(-1!=Qa(d,c))return}else m[a]=d=[],k++,e(!1,a),g.$setValidity(a,!1,f);d.push(c),f.$valid=!1,f.$invalid=!0}},f.$setDirty=function(){d.removeClass(b,Pa),d.addClass(b,yb),f.$dirty=!0,f.$pristine=!1,g.$setDirty()},f.$setPristine=function(){d.removeClass(b,yb),d.addClass(b,Pa),f.$dirty=!1,f.$pristine=!0,r(h,function(a){a.$setPristine()})}}function ra(b,a,c,d){return b.$setValidity(a,c),c?d:s}function Pc(b,a){var c,d;if(a)for(c=0;c<a.length;++c)if(d=a[c],b[d])return!0;return!1}function Ie(b,a,c,d,e){T(e)&&(b.$$hasNativeValidators=!0,b.$parsers.push(function(f){return b.$error[a]||Pc(e,d)||!Pc(e,c)?f:void b.$setValidity(a,!1)}))}function zb(b,a,c,d,e,f){var g=a.prop(Je),k=a[0].placeholder,m={};if(d.$$validityState=g,!e.android){var h=!1;a.on("compositionstart",function(a){h=!0}),a.on("compositionend",function(){h=!1,l()})}var l=function(e){if(!h){var f=a.val();Q&&"input"===(e||m).type&&a[0].placeholder!==k?k=a[0].placeholder:(Ta(c.ngTrim||"T")&&(f=aa(f)),e=g&&d.$$hasNativeValidators,(d.$viewValue!==f||""===f&&e)&&(b.$$phase?d.$setViewValue(f):b.$apply(function(){d.$setViewValue(f)})))}};if(e.hasEvent("input"))a.on("input",l);else{var n,p=function(){n||(n=f.defer(function(){l(),n=null}))};a.on("keydown",function(a){a=a.keyCode,91===a||a>15&&19>a||a>=37&&40>=a||p()}),e.hasEvent("paste")&&a.on("paste cut",p)}a.on("change",l),d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)};var q=c.ngPattern;if(q&&((e=q.match(/^\/(.*)\/([gim]*)$/))?(q=RegExp(e[1],e[2]),e=function(a){return ra(d,"pattern",d.$isEmpty(a)||q.test(a),a)}):e=function(c){var e=b.$eval(q);if(!e||!e.test)throw w("ngPattern")("noregexp",q,e,ha(a));return ra(d,"pattern",d.$isEmpty(c)||e.test(c),c)},d.$formatters.push(e),d.$parsers.push(e)),c.ngMinlength){var t=Z(c.ngMinlength);e=function(a){return ra(d,"minlength",d.$isEmpty(a)||a.length>=t,a)},d.$parsers.push(e),d.$formatters.push(e)}if(c.ngMaxlength){var r=Z(c.ngMaxlength);e=function(a){return ra(d,"maxlength",d.$isEmpty(a)||a.length<=r,a)},d.$parsers.push(e),d.$formatters.push(e)}}function Yb(b,a){return b="ngClass"+b,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],l=0;l<b.length;l++)if(e==b[l])continue a;c.push(e)}return c}function e(a){if(!L(a)){if(C(a))return a.split(" ");if(T(a)){var b=[];return r(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}}return a}return{restrict:"AC",link:function(f,g,k){function m(a,b){var c=g.data("$classCounts")||{},d=[];return r(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function h(b){if(!0===a||f.$index%2===a){var h=e(b||[]);if(l){if(!za(b,l)){var r=e(l),q=d(h,r),h=d(r,h),h=m(h,-1),q=m(q,1);0===q.length?c.removeClass(g,h):0===h.length?c.addClass(g,q):c.setClass(g,q,h)}}else{var q=m(h,1);k.$addClass(q)}}l=ga(b)}var l;f.$watch(k[b],h,!0),k.$observe("class",function(a){h(f.$eval(k[b]))}),"ngClass"!==b&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var h=e(f.$eval(k[b]));g===a?(g=m(h,1),k.$addClass(g)):(g=m(h,-1),k.$removeClass(g))}})}}}]}var Q,y,Da,Xa,Ma,Je="validity",M=function(b){return C(b)?b.toLowerCase():b},ib=Object.prototype.hasOwnProperty,Ia=function(b){return C(b)?b.toUpperCase():b},Aa=[].slice,Ke=[].push,ya=Object.prototype.toString,Sa=w("ng"),Ua=P.angular||(P.angular={}),la=["0","0","0"];Q=Z((/msie (\d+)/.exec(M(navigator.userAgent))||[])[1]),isNaN(Q)&&(Q=Z((/trident\/.*; rv:(\d+)/.exec(M(navigator.userAgent))||[])[1])),z.$inject=[],Ga.$inject=[];var L=function(){return J(Array.isArray)?Array.isArray:function(b){return"[object Array]"===ya.call(b)}}(),aa=function(){return String.prototype.trim?function(b){return C(b)?b.trim():b}:function(b){return C(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b}}();Ma=9>Q?function(b){return b=b.nodeName?b:b[0],b.scopeName&&"HTML"!=b.scopeName?Ia(b.scopeName+":"+b.nodeName):b.nodeName}:function(b){return b.nodeName?b.nodeName:b[0].nodeName};var Wa=function(){if(D(Wa.isActive_))return Wa.isActive_;var b=!(!X.querySelector("[ng-csp]")&&!X.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return Wa.isActive_=b},Yc=/[A-Z]/g,ad={full:"1.2.22",major:1,minor:2,dot:22,codeName:"finicky-pleasure"};S.expando="ng339";var $a=S.cache={},ne=1,rb=P.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},Za=P.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)};S._data=function(b){return this.cache[b[this.expando]]||{}};var ie=/([\:\-\_]+(.))/g,je=/^moz([A-Z])/,Hb=w("jqLite"),ke=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ib=/<|&#?\w+;/,le=/<([\w:]+)/,me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ba.optgroup=ba.option,ba.tbody=ba.tfoot=ba.colgroup=ba.caption=ba.thead,ba.th=ba.td;var La=S.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===X.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),S(P).on("load",a))},toString:function(){var b=[];return r(this,function(a){b.push(""+a)}),"["+b.join(", ")+"]"},eq:function(b){return y(b>=0?this[b]:this[this.length+b])},length:0,push:Ke,sort:[].sort,splice:[].splice},ob={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){ob[M(b)]=b});var rc={};r("input select option textarea button form details".split(" "),function(b){rc[Ia(b)]=!0}),r({data:Mb,removeData:Lb},function(b,a){S[a]=b}),r({data:Mb,inheritedData:nb,scope:function(b){return y.data(b,"$scope")||nb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return y.data(b,"$isolateScope")||y.data(b,"$isolateScopeNoTemplate")},controller:oc,injector:function(b){return nb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Nb,css:function(b,a,c){if(a=Ya(a),!D(c)){var d;return 8>=Q&&(d=b.currentStyle&&b.currentStyle[a],""===d&&(d="auto")),d=d||b.style[a],8>=Q&&(d=""===d?s:d),d}b.style[a]=c},attr:function(b,a,c){var d=M(a);if(ob[d]){if(!D(c))return b[a]||(b.attributes.getNamedItem(a)||z).specified?d:s;c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d))}else if(D(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?s:b},prop:function(b,a,c){return D(c)?void(b[a]=c):b[a]},text:function(){function b(b,d){var e=a[b.nodeType];return F(d)?e?b[e]:"":void(b[e]=d)}var a=[];return 9>Q?(a[1]="innerText",a[3]="nodeValue"):a[1]=a[3]="textContent",b.$dv="",b}(),val:function(b,a){if(F(a)){if("SELECT"===Ma(b)&&b.multiple){var c=[];return r(b.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(F(a))return b.innerHTML;for(var c=0,d=b.childNodes;c<d.length;c++)Ja(d[c]);b.innerHTML=a},empty:pc},function(b,a){S.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==pc&&(2==b.length&&b!==Nb&&b!==oc?a:d)===s){if(T(a)){for(e=0;g>e;e++)if(b===Mb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}for(e=b.$dv,g=e===s?Math.min(g,1):g,f=0;g>f;f++){var k=b(this[f],a,d);e=e?e+k:k}return e}for(e=0;g>e;e++)b(this[e],a,d);return this}}),r({removeData:Lb,dealoc:Ja,on:function a(c,d,e,f){if(D(f))throw Hb("onargs");var g=ma(c,"events"),k=ma(c,"handle");g||ma(c,"events",g={}),k||ma(c,"handle",k=oe(c,g)),r(d.split(" "),function(d){var f=g[d];if(!f){if("mouseenter"==d||"mouseleave"==d){var l=X.body.contains||X.body.compareDocumentPosition?function(a,c){var d=9===a.nodeType?a.documentElement:a,e=c&&c.parentNode;return a===e||!(!e||1!==e.nodeType||!(d.contains?d.contains(e):a.compareDocumentPosition&&16&a.compareDocumentPosition(e)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};g[d]=[],a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var c=a.relatedTarget;c&&(c===this||l(this,c))||k(a,d)})}else rb(c,d,k),g[d]=[];f=g[d]}f.push(e)})},off:nc,one:function(a,c,d){a=y(a),a.on(c,function f(){a.off(c,d),a.off(c,f)}),a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;Ja(a),r(new S(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a),d=c})},children:function(a){var c=[];return r(a.childNodes,function(a){1===a.nodeType&&c.push(a)}),c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){r(new S(c),function(c){1!==a.nodeType&&11!==a.nodeType||a.appendChild(c)})},prepend:function(a,c){if(1===a.nodeType){var d=a.firstChild;r(new S(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=y(c)[0];var d=a.parentNode;d&&d.replaceChild(c,a),c.appendChild(a)},remove:function(a){Ja(a);var c=a.parentNode;c&&c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;r(new S(c),function(a){e.insertBefore(a,d.nextSibling),d=a})},addClass:mb,removeClass:lb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;F(f)&&(f=!Nb(a,c)),(f?mb:lb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Kb,triggerHandler:function(a,c,d){var e,f;e=c.type||c;var g=(ma(a,"events")||{})[e];g&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:z,type:e,target:a},c.type&&(e=E(e,c)),c=ga(g),f=d?[e].concat(d):[e],r(c,function(c){c.apply(a,f)}))}},function(a,c){S.prototype[c]=function(c,e,f){for(var g,k=0;k<this.length;k++)F(g)?(g=a(this[k],c,e,f),D(g)&&(g=y(g))):Jb(g,a(this[k],c,e,f));return D(g)?g:this},S.prototype.bind=S.prototype.on,S.prototype.unbind=S.prototype.off}),ab.prototype={put:function(a,c){this[Ka(a,this.nextUid)]=c},get:function(a){return this[Ka(a,this.nextUid)]},remove:function(a){var c=this[a=Ka(a,this.nextUid)];return delete this[a],c}};var qe=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,re=/,/,se=/^\s*(_?)(\S+?)\1\s*$/,pe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,bb=w("$injector"),Le=w("$animate"),Md=["$provide",function(a){this.$$selectors={},this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Le("notcsel",c);this.$$selectors[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,d){return{enter:function(a,c,g,k){g?g.after(a):(c&&c[0]||(c=g.parent()),c.append(a)),k&&d(k)},leave:function(a,c){a.remove(),c&&d(c)},move:function(a,c,d,k){this.enter(a,c,d,k)},addClass:function(a,c,g){c=C(c)?c:L(c)?c.join(" "):"",r(a,function(a){mb(a,c)}),g&&d(g)},removeClass:function(a,c,g){c=C(c)?c:L(c)?c.join(" "):"",r(a,function(a){lb(a,c)}),g&&d(g)},setClass:function(a,c,g,k){r(a,function(a){mb(a,c),lb(a,g)}),k&&d(k)},enabled:z}}]}],ia=w("$compile");ic.$inject=["$provide","$$sanitizeUriProvider"];var ue=/^(x[\:\-_]|data[\:\-_])/i,yc=w("$interpolate"),Me=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xe={http:80,https:443,ftp:21},Sb=w("$location");Ub.prototype=Tb.prototype=Bc.prototype={$$html5:!1,$$replace:!1,absUrl:sb("$$absUrl"),url:function(a,c){if(F(a))return this.$$url;var d=Me.exec(a);return d[1]&&this.path(decodeURIComponent(d[1])),(d[2]||d[1])&&this.search(d[3]||""),this.hash(d[5]||"",c),this},protocol:sb("$$protocol"),host:sb("$$host"),port:sb("$$port"),path:Cc("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a))this.$$search=ec(a);else{if(!T(a))throw Sb("isrcharg");r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a}break;default:F(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}return this.$$compose(),this},hash:Cc("$$hash",Ga),replace:function(){return this.$$replace=!0,this}};var va,ka=w("$parse"),Fc={},Ne=Function.prototype.call,Oe=Function.prototype.apply,Qc=Function.prototype.bind,eb={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:z,"+":function(a,c,d,e){return d=d(a,c),e=e(a,c),D(d)?D(e)?d+e:d:D(e)?e:s},"-":function(a,c,d,e){return d=d(a,c),e=e(a,c),(D(d)?d:0)-(D(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"^":function(a,c,d,e){return d(a,c)^e(a,c)},"=":z,"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"&":function(a,c,d,e){return d(a,c)&e(a,c)},"|":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},"!":function(a,c,d){return!d(a,c)}},Pe={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Wb=function(a){this.options=a};Wb.prototype={constructor:Wb,lex:function(a){for(this.text=a,this.index=0,this.ch=s,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}a=this.ch+this.peek();var c=a+this.peek(2),d=eb[this.ch],e=eb[a],f=eb[c];f?(this.tokens.push({index:this.index,text:c,fn:f}),this.index+=3):e?(this.tokens.push({index:this.index,text:a,fn:e}),this.index+=2):d?(this.tokens.push({index:this.index,text:this.ch,fn:d}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){return a=a||1,this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){throw d=d||this.index,c=D(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d,ka("lexerr",a,c,this.text)},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=M(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a*=1,this.tokens.push({index:c,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var e,f,g,k,a=this,c="",d=this.index;this.index<this.text.length&&(k=this.text.charAt(this.index),"."===k||this.isIdent(k)||this.isNumber(k));)"."===k&&(e=this.index),c+=k,this.index++;if(e)for(f=this.index;f<this.text.length;){if(k=this.text.charAt(f),"("===k){g=c.substr(e-d+1),c=c.substr(0,e-d),this.index=f;break}if(!this.isWhitespace(k))break;f++}if(d={index:d,text:c},eb.hasOwnProperty(c))d.fn=eb[c],d.literal=!0,d.constant=!0;else{var m=Ec(c,this.options,this.text);d.fn=E(function(a,c){return m(a,c)},{assign:function(d,e){return tb(d,c,e,a.text,a.options)}})}this.tokens.push(d),g&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:g}))},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Pe[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a)return this.index++,void this.tokens.push({index:c,text:e,string:d,literal:!0,constant:!0,fn:function(){return d}});d+=g}this.index++}this.throwError("Unterminated quote",c)}};var db=function(a,c,d){this.lexer=a,this.$filter=c,this.options=d};db.ZERO=E(function(){return 0},{constant:!0}),db.prototype={constructor:db,parse:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a.literal=!!a.literal,a.constant=!!a.constant,a},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var c=this.expect();(a=c.fn)||this.throwError("not a primary expression",c),a.literal=!!c.literal,a.constant=!!c.constant}for(var d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw ka("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index))},peekToken:function(){if(0===this.tokens.length)throw ka("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){if(0<this.tokens.length){var f=this.tokens[0],g=f.text;if(g===a||g===c||g===d||g===e||!(a||c||d||e))return f}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,c){return E(function(d,e){return a(d,e,c)},{constant:c.constant})},ternaryFn:function(a,c,d){return E(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})},binaryFn:function(a,c,d){return E(function(e,f){return c(e,f,a,d)},{constant:a.constant&&d.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0;f<a.length;f++){var g=a[f];g&&(e=g(c,d))}return e}},filterChain:function(){for(var c,a=this.expression();;){if(!(c=this.expect("|")))return a;a=this.binaryFn(a,c.fn,this.filter())}},filter:function(){for(var a=this.expect(),c=this.$filter(a.text),d=[];;){if(!(a=this.expect(":"))){var e=function(a,e,k){k=[k];for(var m=0;m<d.length;m++)k.push(d[m](a,e));return c.apply(a,k)};return function(){return e}}d.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var c,d,a=this.ternary();return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),function(d,f){return a.assign(d,c(d,f),f)}):a},ternary:function(){var c,d,a=this.logicalOR();return this.expect("?")?(c=this.assignment(),(d=this.expect(":"))?this.ternaryFn(a,c,this.assignment()):void this.throwError("expected :",d)):a},logicalOR:function(){for(var c,a=this.logicalAND();;){if(!(c=this.expect("||")))return a;a=this.binaryFn(a,c.fn,this.logicalAND())}},logicalAND:function(){var c,a=this.equality();return(c=this.expect("&&"))&&(a=this.binaryFn(a,c.fn,this.logicalAND())),a},equality:function(){var c,a=this.relational();return(c=this.expect("==","!=","===","!=="))&&(a=this.binaryFn(a,c.fn,this.equality())),a},relational:function(){var c,a=this.additive();return(c=this.expect("<",">","<=",">="))&&(a=this.binaryFn(a,c.fn,this.relational())),a},additive:function(){for(var c,a=this.multiplicative();c=this.expect("+","-");)a=this.binaryFn(a,c.fn,this.multiplicative());return a},multiplicative:function(){for(var c,a=this.unary();c=this.expect("*","/","%");)a=this.binaryFn(a,c.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(db.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var c=this,d=this.expect().text,e=Ec(d,this.options,this.text);return E(function(c,d,k){return e(k||a(c,d))},{assign:function(e,g,k){return(k=a(e,k))||a.assign(e,k={}),tb(k,d,g,c.text,c.options)}})},objectIndex:function(a){var c=this,d=this.expression();return this.consume("]"),E(function(e,f){var m,g=a(e,f),k=d(e,f);return ja(k,c.text),g?((g=Oa(g[k],c.text))&&g.then&&c.options.unwrapPromises&&(m=g,"$$v"in g||(m.$$v=s,m.then(function(a){m.$$v=a})),g=g.$$v),g):s},{assign:function(e,f,g){var k=ja(d(e,g),c.text);return(g=Oa(a(e,g),c.text))||a.assign(e,g={}),g[k]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this;return function(f,g){for(var k=[],m=c?c(f,g):f,h=0;h<d.length;h++)k.push(d[h](f,g));h=a(f,g,m)||z,Oa(m,e.text);var l=e.text;if(h){if(h.constructor===h)throw ka("isecfn",l);if(h===Ne||h===Oe||Qc&&h===Qc)throw ka("isecff",l)}return k=h.apply?h.apply(m,k):h(k[0],k[1],k[2],k[3],k[4]),Oa(k,e.text)}},arrayDeclaration:function(){var a=[],c=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var d=this.expression();a.push(d),d.constant||(c=!1)}while(this.expect(","));return this.consume("]"),E(function(c,d){for(var g=[],k=0;k<a.length;k++)g.push(a[k](c,d));return g},{literal:!0,constant:c})},object:function(){var a=[],c=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var d=this.expect(),d=d.string||d.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(c=!1)}while(this.expect(","));return this.consume("}"),E(function(c,d){for(var e={},m=0;m<a.length;m++){var h=a[m];e[h.key]=h.value(c,d)}return e},{literal:!0,constant:c})}};var Vb={},wa=w("$sce"),fa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},V=X.createElement("a"),Hc=ua(P.location.href,!0);mc.$inject=["$provide"],Ic.$inject=["$locale"],Kc.$inject=["$locale"];var Nc=".",He={yyyy:Y("FullYear",4),yy:Y("FullYear",2,0,!0),y:Y("FullYear",1),MMMM:ub("Month"),MMM:ub("Month",!0),MM:Y("Month",2,1),M:Y("Month",1,1),dd:Y("Date",2),d:Y("Date",1),HH:Y("Hours",2),H:Y("Hours",1),hh:Y("Hours",2,-12),h:Y("Hours",1,-12),mm:Y("Minutes",2),m:Y("Minutes",1),ss:Y("Seconds",2),s:Y("Seconds",1),sss:Y("Milliseconds",3),EEEE:ub("Day"),EEE:ub("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){return a=-1*a.getTimezoneOffset(),a=(a>=0?"+":"")+(Xb(Math[a>0?"floor":"ceil"](a/60),2)+Xb(Math.abs(a%60),2))}},Ge=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Fe=/^\-?\d+$/;Jc.$inject=["$locale"];var De=$(M),Ee=$(Ia);Lc.$inject=["$parse"];var dd=$({restrict:"E",compile:function(a,c){return 8>=Q&&(c.href||c.name||c.$set("href",""),a.append(X.createComment("IE fix"))),c.href||c.xlinkHref||c.name?void 0:function(a,c){var f="[object SVGAnimatedString]"===ya.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}),Fb={};r(ob,function(a,c){if("multiple"!=a){var d=na("ng-"+c);Fb[d]=function(){return{priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}}}}),r(["src","srcset","href"],function(a){var c=na("ng-"+a);Fb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,k=a;"href"===a&&"[object SVGAnimatedString]"===ya.call(e.prop("href"))&&(k="xlinkHref",f.$attr[k]="xlink:href",g=null),f.$observe(c,function(a){a&&(f.$set(k,a),Q&&g&&e.prop(g,f[k]))})}}}});var xb={$addControl:z,$removeControl:z,$setValidity:z,$setDirty:z,$setPristine:z};Oc.$inject=["$element","$attrs","$scope","$animate"];var Rc=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:Oc,compile:function(){return{pre:function(a,e,f,g){if(!f.action){var k=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};rb(e[0],"submit",k),e.on("$destroy",function(){c(function(){Za(e[0],"submit",k)},0,!1)})}var m=e.parent().controller("form"),h=f.name||f.ngForm;h&&tb(a,h,g,h),m&&e.on("$destroy",function(){m.$removeControl(g),h&&tb(a,h,s,h),E(g,xb)})}}}}}]},ed=Rc(),rd=Rc(!0),Qe=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Re=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Se=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Sc={text:zb,number:function(a,c,d,e,f,g){zb(a,c,d,e,f,g),e.$parsers.push(function(a){var c=e.$isEmpty(a);return c||Se.test(a)?(e.$setValidity("number",!0),""===a?null:c?a:parseFloat(a)):(e.$setValidity("number",!1),s)}),Ie(e,"number",Te,null,e.$$validityState),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min&&(a=function(a){var c=parseFloat(d.min);return ra(e,"min",e.$isEmpty(a)||a>=c,a)},e.$parsers.push(a),e.$formatters.push(a)),d.max&&(a=function(a){var c=parseFloat(d.max);return ra(e,"max",e.$isEmpty(a)||c>=a,a)},e.$parsers.push(a),e.$formatters.push(a)),e.$formatters.push(function(a){return ra(e,"number",e.$isEmpty(a)||Ab(a),a)})},url:function(a,c,d,e,f,g){zb(a,c,d,e,f,g),a=function(a){return ra(e,"url",e.$isEmpty(a)||Qe.test(a),a)},e.$formatters.push(a),e.$parsers.push(a)},email:function(a,c,d,e,f,g){zb(a,c,d,e,f,g),a=function(a){return ra(e,"email",e.$isEmpty(a)||Re.test(a),a)},e.$formatters.push(a),e.$parsers.push(a)},radio:function(a,c,d,e){F(d.name)&&c.attr("name",gb()),c.on("click",function(){c[0].checked&&a.$apply(function(){e.$setViewValue(d.value)})}),e.$render=function(){c[0].checked=d.value==e.$viewValue},d.$observe("value",e.$render)},checkbox:function(a,c,d,e){var f=d.ngTrueValue,g=d.ngFalseValue;C(f)||(f=!0),C(g)||(g=!1),c.on("click",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})}),e.$render=function(){c[0].checked=e.$viewValue},e.$isEmpty=function(a){return a!==f},e.$formatters.push(function(a){return a===f}),e.$parsers.push(function(a){return a?f:g})},hidden:z,button:z,submit:z,reset:z,file:z},Te=["badInput"],jc=["$browser","$sniffer",function(a,c){return{restrict:"E",require:"?ngModel",link:function(d,e,f,g){g&&(Sc[M(f.type)]||Sc.text)(d,e,f,g,c,a)}}}],wb="ng-valid",vb="ng-invalid",Pa="ng-pristine",yb="ng-dirty",Ue=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,c,d,e,f,g){function k(a,c){c=c?"-"+kb(c,"-"):"",g.removeClass(e,(a?vb:wb)+c),g.addClass(e,(a?wb:vb)+c)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=d.name;var m=f(d.ngModel),h=m.assign;if(!h)throw w("ngModel")("nonassign",d.ngModel,ha(e));this.$render=z,this.$isEmpty=function(a){return F(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||xb,n=0,p=this.$error={};e.addClass(Pa),k(!0),this.$setValidity=function(a,c){p[a]!==!c&&(c?(p[a]&&n--,n||(k(!0),this.$valid=!0,this.$invalid=!1)):(k(!1),this.$invalid=!0,this.$valid=!1,n++),p[a]=!c,k(c,a),l.$setValidity(a,c,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,g.removeClass(e,yb),g.addClass(e,Pa)},this.$setViewValue=function(d){this.$viewValue=d,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,g.removeClass(e,Pa),g.addClass(e,yb),l.$setDirty()),r(this.$parsers,function(a){d=a(d)}),this.$modelValue!==d&&(this.$modelValue=d,h(a,d),r(this.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}}))};var q=this;a.$watch(function(){var c=m(a);if(q.$modelValue!==c){var d=q.$formatters,e=d.length;for(q.$modelValue=c;e--;)c=d[e](c);q.$viewValue!==c&&(q.$viewValue=c,q.$render())}return c})}],Gd=function(){return{require:["ngModel","^?form"],controller:Ue,link:function(a,c,d,e){var f=e[0],g=e[1]||xb;g.$addControl(f),a.$on("$destroy",function(){g.$removeControl(f)})}}},Id=$({require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),kc=function(){return{require:"?ngModel",link:function(a,c,d,e){if(e){d.required=!0;var f=function(a){return d.required&&e.$isEmpty(a)?void e.$setValidity("required",!1):(e.$setValidity("required",!0),a)};e.$formatters.push(f),e.$parsers.unshift(f),d.$observe("required",function(){f(e.$viewValue)})}}}},Hd=function(){return{require:"ngModel",link:function(a,c,d,e){var f=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){if(!F(a)){var c=[];return a&&r(a.split(f),function(a){a&&c.push(aa(a))}),c}}),e.$formatters.push(function(a){return L(a)?a.join(", "):s}),e.$isEmpty=function(a){return!a||!a.length}}}},Ve=/^(true|false|\d+)$/,Jd=function(){return{priority:100,compile:function(a,c){return Ve.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},jd=xa({compile:function(a){return a.addClass("ng-binding"),function(a,d,e){d.data("$binding",e.ngBind),a.$watch(e.ngBind,function(a){d.text(a==s?"":a)})}}}),ld=["$interpolate",function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate)),d.addClass("ng-binding").data("$binding",c),e.$observe("ngBindTemplate",function(a){d.text(a)})}}],kd=["$sce","$parse",function(a,c){return{compile:function(d){return d.addClass("ng-binding"),function(d,f,g){f.data("$binding",g.ngBindHtml);var k=c(g.ngBindHtml);d.$watch(function(){return(k(d)||"").toString()},function(c){f.html(a.getTrustedHtml(k(d))||"")})}}}}],md=Yb("",!0),od=Yb("Odd",0),nd=Yb("Even",1),pd=xa({compile:function(a,c){c.$set("ngCloak",s),a.removeClass("ng-cloak")}}),qd=[function(){return{scope:!0,controller:"@",priority:500}}],lc={};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=na("ng-"+a);lc[c]=["$parse",function(d){return{compile:function(e,f){var g=d(f[c]);return function(c,d){d.on(M(a),function(a){c.$apply(function(){g(c,{$event:a})})})}}}}]});var td=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var k,m,h;c.$watch(e.ngIf,function(f){Ta(f)?m||(m=c.$new(),g(m,function(c){c[c.length++]=X.createComment(" end ngIf: "+e.ngIf+" "),k={clone:c},a.enter(c,d.parent(),d)})):(h&&(h.remove(),h=null),m&&(m.$destroy(),m=null),k&&(h=Eb(k.clone),a.leave(h,function(){h=null}),k=null))})}}}],ud=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,c,d,e,f){return{restrict:"ECA",priority:400,terminal:!0,
transclude:"element",controller:Ua.noop,compile:function(g,k){var m=k.ngInclude||k.src,h=k.onload||"",l=k.autoscroll;return function(g,k,q,r,K){var v,A,s,x=0,u=function(){A&&(A.remove(),A=null),v&&(v.$destroy(),v=null),s&&(e.leave(s,function(){A=null}),A=s,s=null)};g.$watch(f.parseAsResourceUrl(m),function(f){var m=function(){!D(l)||l&&!g.$eval(l)||d()},q=++x;f?(a.get(f,{cache:c}).success(function(a){if(q===x){var c=g.$new();r.template=a,a=K(c,function(a){u(),e.enter(a,null,k,m)}),v=c,s=a,v.$emit("$includeContentLoaded"),g.$eval(h)}}).error(function(){q===x&&u()}),g.$emit("$includeContentRequested")):(u(),r.template=null)})}}}}],Kd=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){d.html(f.template),a(d.contents())(c)}}}],vd=xa({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),wd=xa({terminal:!0,priority:1e3}),xd=["$locale","$interpolate",function(a,c){var d=/{}/g;return{restrict:"EA",link:function(e,f,g){var k=g.count,m=g.$attr.when&&f.attr(g.$attr.when),h=g.offset||0,l=e.$eval(m)||{},n={},p=c.startSymbol(),q=c.endSymbol(),t=/^when(Minus)?(.+)$/;r(g,function(a,c){t.test(c)&&(l[M(c.replace("when","").replace("Minus","-"))]=f.attr(g.$attr[c]))}),r(l,function(a,e){n[e]=c(a.replace(d,p+k+"-"+h+q))}),e.$watch(function(){var c=parseFloat(e.$eval(k));return isNaN(c)?"":(c in l||(c=a.pluralCat(c-h)),n[c](e,f,!0))},function(a){f.text(a)})}}}],yd=["$parse","$animate",function(a,c){var d=w("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(e,f,g,k,m){var n,p,q,t,s,x,h=g.ngRepeat,l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),v={$id:Ka};if(!l)throw d("iexp",h);if(g=l[1],k=l[2],(l=l[3])?(n=a(l),p=function(a,c,d){return x&&(v[x]=a),v[s]=c,v.$index=d,n(e,v)}):(q=function(a,c){return Ka(c)},t=function(a){return a}),l=g.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!l)throw d("iidexp",g);s=l[3]||l[1],x=l[2];var A={};e.$watchCollection(k,function(a){var g,k,n,D,B,G,w,C,z,l=f[0],v={},F=[];if(fb(a))C=a,n=p||q;else{n=p||t,C=[];for(G in a)a.hasOwnProperty(G)&&"$"!=G.charAt(0)&&C.push(G);C.sort()}for(D=C.length,k=F.length=C.length,g=0;k>g;g++)if(G=a===C?g:C[g],w=a[G],w=n(G,w,g),Ca(w,"`track by` id"),A.hasOwnProperty(w))z=A[w],delete A[w],v[w]=z,F[g]=z;else{if(v.hasOwnProperty(w))throw r(F,function(a){a&&a.scope&&(A[a.id]=a)}),d("dupes",h,w);F[g]={id:w},v[w]=!1}for(G in A)A.hasOwnProperty(G)&&(z=A[G],g=Eb(z.clone),c.leave(g),r(g,function(a){a.$$NG_REMOVED=!0}),z.scope.$destroy());for(g=0,k=C.length;k>g;g++){if(G=a===C?g:C[g],w=a[G],z=F[g],F[g-1]&&(l=F[g-1].clone[F[g-1].clone.length-1]),z.scope){B=z.scope,n=l;do n=n.nextSibling;while(n&&n.$$NG_REMOVED);z.clone[0]!=n&&c.move(Eb(z.clone),null,y(l)),l=z.clone[z.clone.length-1]}else B=e.$new();B[s]=w,x&&(B[x]=G),B.$index=g,B.$first=0===g,B.$last=g===D-1,B.$middle=!(B.$first||B.$last),B.$odd=!(B.$even=0===(1&g)),z.scope||m(B,function(a){a[a.length++]=X.createComment(" end ngRepeat: "+h+" "),c.enter(a,null,y(l)),l=a,z.scope=B,z.clone=a,v[z.id]=z})}A=v})}}}],zd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngShow,function(c){a[Ta(c)?"removeClass":"addClass"](d,"ng-hide")})}}],sd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngHide,function(c){a[Ta(c)?"addClass":"removeClass"](d,"ng-hide")})}}],Ad=xa(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")}),a&&c.css(a)},!0)}),Bd=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],k=[],m=[],h=[];c.$watch(e.ngSwitch||e.on,function(d){var n,p;for(n=0,p=m.length;p>n;++n)m[n].remove();for(n=m.length=0,p=h.length;p>n;++n){var q=k[n];h[n].$destroy(),m[n]=q,a.leave(q,function(){m.splice(n,1)})}k.length=0,h.length=0,(g=f.cases["!"+d]||f.cases["?"])&&(c.$eval(e.change),r(g,function(d){var e=c.$new();h.push(e),d.transclude(e,function(c){var e=d.element;k.push(c),a.enter(c,e.parent(),e)})}))})}}}],Cd=xa({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[],e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),Dd=xa({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[],e.cases["?"].push({transclude:f,element:c})}}),Fd=xa({link:function(a,c,d,e,f){if(!f)throw w("ngTransclude")("orphan",ha(c));f(function(a){c.empty(),c.append(a)})}}),fd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],We=w("ngOptions"),Ed=$({terminal:!0}),gd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:z};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var n,m=this,h={},l=e;m.databound=d.ngModel,m.init=function(a,c,d){l=a,n=d},m.addOption=function(c){Ca(c,'"option value"'),h[c]=!0,l.$viewValue==c&&(a.val(c),n.parent()&&n.remove())},m.removeOption=function(a){this.hasOption(a)&&(delete h[a],l.$viewValue==a&&this.renderUnknownOption(a))},m.renderUnknownOption=function(c){c="? "+Ka(c)+" ?",n.val(c),a.prepend(n),a.val(c),n.prop("selected",!0)},m.hasOption=function(a){return h.hasOwnProperty(a)},c.$on("$destroy",function(){m.renderUnknownOption=z})}],link:function(e,g,k,m){function h(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(z.parent()&&z.remove(),c.val(a),""===a&&x.prop("selected",!0)):F(a)&&x?c.val(""):e.renderUnknownOption(a)},c.on("change",function(){a.$apply(function(){z.parent()&&z.remove(),d.$setViewValue(c.val())})})}function l(a,c,d){var e;d.$render=function(){var a=new ab(d.$viewValue);r(c.find("option"),function(c){c.selected=D(a.get(c.value))})},a.$watch(function(){za(e,d.$viewValue)||(e=ga(d.$viewValue),d.$render())}),c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)}),d.$setViewValue(a)})})}function n(e,f,g){function k(){var d,h,s,t,u,a={"":[]},c=[""];s=g.$modelValue,t=z(e)||[];var F,O,B,C=n?Zb(t):t;if(O={},B=!1,q)if(h=g.$modelValue,x&&L(h))for(B=new ab([]),d={},u=0;u<h.length;u++)d[m]=h[u],B.put(x(e,d),h[u]);else B=new ab(h);u=B;var E,J;for(B=0;F=C.length,F>B;B++){if(h=B,n){if(h=C[B],"$"===h.charAt(0))continue;O[n]=h}O[m]=t[h],d=p(e,O)||"",(h=a[d])||(h=a[d]=[],c.push(d)),q?d=D(u.remove(x?x(e,O):r(e,O))):(x?(d={},d[m]=s,d=x(e,d)===x(e,O)):d=s===r(e,O),u=u||d),E=l(e,O),E=D(E)?E:"",h.push({id:x?x(e,O):n?C[B]:B,label:E,selected:d})}for(q||(w||null===s?a[""].unshift({id:"",label:"",selected:!u}):u||a[""].unshift({id:"?",label:"",selected:!0})),O=0,C=c.length;C>O;O++){for(d=c[O],h=a[d],y.length<=O?(s={element:A.clone().attr("label",d),label:h.label},t=[s],y.push(t),f.append(s.element)):(t=y[O],s=t[0],s.label!=d&&s.element.attr("label",s.label=d)),E=null,B=0,F=h.length;F>B;B++)d=h[B],(u=t[B+1])?(E=u.element,u.label!==d.label&&E.text(u.label=d.label),u.id!==d.id&&E.val(u.id=d.id),E[0].selected!==d.selected&&(E.prop("selected",u.selected=d.selected),Q&&E.prop("selected",u.selected))):(""===d.id&&w?J=w:(J=v.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).text(d.label),t.push({element:J,label:d.label,id:d.id,selected:d.selected}),E?E.after(J):s.element.append(J),E=J);for(B++;t.length>B;)t.pop().element.remove()}for(;y.length>O;)y.pop()[0].element.remove()}var h;if(!(h=t.match(d)))throw We("iexp",t,ha(f));var l=c(h[2]||h[1]),m=h[4]||h[6],n=h[5],p=c(h[3]||""),r=c(h[2]?h[1]:m),z=c(h[7]),x=h[8]?c(h[8]):null,y=[[{element:f,label:""}]];w&&(a(w)(e),w.removeClass("ng-scope"),w.remove()),f.empty(),f.on("change",function(){e.$apply(function(){var a,h,l,p,t,u,w,v,c=z(e)||[],d={};if(q){for(l=[],t=0,w=y.length;w>t;t++)for(a=y[t],p=1,u=a.length;u>p;p++)if((h=a[p].element)[0].selected){if(h=h.val(),n&&(d[n]=h),x)for(v=0;v<c.length&&(d[m]=c[v],x(e,d)!=h);v++);else d[m]=c[h];l.push(r(e,d))}}else if(h=f.val(),"?"==h)l=s;else if(""===h)l=null;else if(x){for(v=0;v<c.length;v++)if(d[m]=c[v],x(e,d)==h){l=r(e,d);break}}else d[m]=c[h],n&&(d[n]=h),l=r(e,d);g.$setViewValue(l),k()})}),g.$render=k,e.$watchCollection(z,k),q&&e.$watchCollection(function(){return g.$modelValue},k)}if(m[1]){var p=m[0];m=m[1];var x,q=k.multiple,t=k.ngOptions,w=!1,v=y(X.createElement("option")),A=y(X.createElement("optgroup")),z=v.clone();k=0;for(var u=g.children(),C=u.length;C>k;k++)if(""===u[k].value){x=w=u.eq(k);break}p.init(m,w,z),q&&(m.$isEmpty=function(a){return!a||0===a.length}),t?n(e,g,m):q?l(e,g,m):h(e,g,m,p)}}}}],id=["$interpolate",function(a){var c={addOption:z,removeOption:z};return{restrict:"E",priority:100,compile:function(d,e){if(F(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var h=d.parent(),l=h.data("$selectController")||h.parent().data("$selectController");l&&l.databound?d.prop("selected",!1):l=c,f?a.$watch(f,function(a,c){e.$set("value",a),a!==c&&l.removeOption(c),l.addOption(a)}):l.addOption(e.value),d.on("$destroy",function(){l.removeOption(e.value)})}}}}],hd=$({restrict:"E",terminal:!0});P.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Da=P.jQuery)&&Da.fn.on?(y=Da,E(Da.fn,{scope:La.scope,isolateScope:La.isolateScope,controller:La.controller,injector:La.injector,inheritedData:La.inheritedData}),Gb("remove",!0,!0,!1),Gb("empty",!1,!1,!1),Gb("html",!1,!1,!0)):y=S,Ua.element=y,$c(Ua),y(X).ready(function(){Xc(X,fc)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>');;
//!file:angular-route.min.js
!function(n,e,A){"use strict";function x(s,g,h){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,c,b,f,w){function y(){p&&(p.remove(),p=null),k&&(k.$destroy(),k=null),l&&(h.leave(l,function(){p=null}),p=l,l=null)}function v(){var b=s.current&&s.current.locals;if(e.isDefined(b&&b.$template)){var b=a.$new(),d=s.current;l=w(b,function(d){h.enter(d,null,l||c,function(){!e.isDefined(t)||t&&!a.$eval(t)||g()}),y()}),k=d.scope=b,k.$emit("$viewContentLoaded"),k.$eval(u)}else y()}var k,l,p,t=b.autoscroll,u=b.onload||"";a.$on("$routeChangeSuccess",v),v()}}}function z(e,g,h){return{restrict:"ECA",priority:-400,link:function(a,c){var b=h.current,f=b.locals;c.html(f.$template);var w=e(c.contents());b.controller&&(f.$scope=a,f=g(b.controller,f),b.controllerAs&&(a[b.controllerAs]=f),c.data("$ngControllerController",f),c.children().data("$ngControllerController",f)),w(a)}}}n=e.module("ngRoute",["ng"]).provider("$route",function(){function s(a,c){return e.extend(new(e.extend(function(){},{prototype:a})),c)}function g(a,e){var b=e.caseInsensitiveMatch,f={originalPath:a,regexp:a},h=f.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,e,b,c){return a="?"===c?c:null,c="*"===c?c:null,h.push({name:b,optional:!!a}),e=e||"",""+(a?"":e)+"(?:"+(a?e:"")+(c&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),f.regexp=RegExp("^"+a+"$",b?"i":""),f}var h={};this.when=function(a,c){if(h[a]=e.extend({reloadOnSearch:!0},c,a&&g(a,c)),a){var b="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";h[b]=e.extend({redirectTo:a},g(b,c))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(a,c,b,f,g,n,v,k){function l(){var d=p(),m=r.current;d&&m&&d.$$route===m.$$route&&e.equals(d.pathParams,m.pathParams)&&!d.reloadOnSearch&&!u?(m.params=d.params,e.copy(m.params,b),a.$broadcast("$routeUpdate",m)):(d||m)&&(u=!1,a.$broadcast("$routeChangeStart",d,m),(r.current=d)&&d.redirectTo&&(e.isString(d.redirectTo)?c.path(t(d.redirectTo,d.params)).search(d.params).replace():c.url(d.redirectTo(d.pathParams,c.path(),c.search())).replace()),f.when(d).then(function(){if(d){var c,b,a=e.extend({},d.resolve);return e.forEach(a,function(d,c){a[c]=e.isString(d)?g.get(d):g.invoke(d)}),e.isDefined(c=d.template)?e.isFunction(c)&&(c=c(d.params)):e.isDefined(b=d.templateUrl)&&(e.isFunction(b)&&(b=b(d.params)),b=k.getTrustedResourceUrl(b),e.isDefined(b)&&(d.loadedTemplateUrl=b,c=n.get(b,{cache:v}).then(function(a){return a.data}))),e.isDefined(c)&&(a.$template=c),f.all(a)}}).then(function(c){d==r.current&&(d&&(d.locals=c,e.copy(d.params,b)),a.$broadcast("$routeChangeSuccess",d,m))},function(c){d==r.current&&a.$broadcast("$routeChangeError",d,m,c)}))}function p(){var a,b;return e.forEach(h,function(f,h){var q;if(q=!b){var g=c.path();q=f.keys;var l={};if(f.regexp)if(g=f.regexp.exec(g)){for(var k=1,p=g.length;p>k;++k){var n=q[k-1],r=g[k];n&&r&&(l[n.name]=r)}q=l}else q=null;else q=null;q=a=q}q&&(b=s(f,{params:e.extend({},c.search(),a),pathParams:a}),b.$$route=f)}),b||h[null]&&s(h[null],{params:{},pathParams:{}})}function t(a,c){var b=[];return e.forEach((a||"").split(":"),function(a,d){if(0===d)b.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];b.push(c[f]),b.push(e[2]||""),delete c[f]}}),b.join("")}var u=!1,r={routes:h,reload:function(){u=!0,a.$evalAsync(l)}};return a.$on("$locationChangeSuccess",l),r}]}),n.provider("$routeParams",function(){this.$get=function(){return{}}}),n.directive("ngView",x),n.directive("ngView",z),x.$inject=["$route","$anchorScroll","$animate"],z.$inject=["$compile","$controller","$route"]}(window,window.angular);;
//!file:angular-resource.min.js
!function(H,a,A){"use strict";function D(p,g){g=g||{},a.forEach(g,function(a,c){delete g[c]});for(var c in p)!p.hasOwnProperty(c)||"$"===c.charAt(0)&&"$"===c.charAt(1)||(g[c]=p[c]);return g}var v=a.$$minErr("$resource"),C=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;a.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(p,g){function c(a,c){this.template=a,this.defaults=c||{},this.urlParams={}}function t(n,w,l){function r(h,d){var e={};return d=x({},w,d),s(d,function(b,d){u(b)&&(b=b());var k;if(b&&b.charAt&&"@"==b.charAt(0)){k=h;var a=b.substr(1);if(null==a||""===a||"hasOwnProperty"===a||!C.test("."+a))throw v("badmember",a);for(var a=a.split("."),f=0,c=a.length;c>f&&k!==A;f++){var g=a[f];k=null!==k?k[g]:A}}else k=b;e[d]=k}),e}function e(a){return a.resource}function f(a){D(a||{},this)}var F=new c(n);return l=x({},B,l),s(l,function(h,d){var c=/^(POST|PUT|PATCH)$/i.test(h.method);f[d]=function(b,d,k,w){var n,l,y,q={};switch(arguments.length){case 4:y=w,l=k;case 3:case 2:if(!u(d)){q=b,n=d,l=k;break}if(u(b)){l=b,y=d;break}l=d,y=k;case 1:u(b)?l=b:c?n=b:q=b;break;case 0:break;default:throw v("badargs",arguments.length)}var t=this instanceof f,m=t?n:h.isArray?[]:new f(n),z={},B=h.interceptor&&h.interceptor.response||e,C=h.interceptor&&h.interceptor.responseError||A;return s(h,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(z[b]=G(a))}),c&&(z.data=n),F.setUrlParams(z,x({},r(n,h.params||{}),q),h.url),q=p(z).then(function(b){var d=b.data,k=m.$promise;if(d){if(a.isArray(d)!==!!h.isArray)throw v("badcfg",h.isArray?"array":"object",a.isArray(d)?"array":"object");h.isArray?(m.length=0,s(d,function(b){m.push("object"==typeof b?new f(b):b)})):(D(d,m),m.$promise=k)}return m.$resolved=!0,b.resource=m,b},function(b){return m.$resolved=!0,(y||E)(b),g.reject(b)}),q=q.then(function(b){var a=B(b);return(l||E)(a,b.headers),a},C),t?q:(m.$promise=q,m.$resolved=!1,m)},f.prototype["$"+d]=function(b,a,k){return u(b)&&(k=a,a=b,b={}),b=f[d].call(this,b,this,a,k),b.$promise||b}}),f.bind=function(a){return t(n,x({},w,a),l)},f}var B={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},E=a.noop,s=a.forEach,x=a.extend,G=a.copy,u=a.isFunction;return c.prototype={setUrlParams:function(c,g,l){var f,p,r=this,e=l||r.template,h=r.urlParams={};s(e.split(/\W/),function(a){if("hasOwnProperty"===a)throw v("badname");!/^\d+$/.test(a)&&a&&RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(e)&&(h[a]=!0)}),e=e.replace(/\\:/g,":"),g=g||{},s(r.urlParams,function(d,c){f=g.hasOwnProperty(c)?g[c]:r.defaults[c],a.isDefined(f)&&null!==f?(p=encodeURIComponent(f).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),e=e.replace(RegExp(":"+c+"(\\W|$)","g"),function(a,c){return p+c})):e=e.replace(RegExp("(/?):"+c+"(\\W|$)","g"),function(a,c,d){return"/"==d.charAt(0)?d:c+d})}),e=e.replace(/\/+$/,"")||"/",e=e.replace(/\/\.(?=\w+($|\?))/,"."),c.url=e.replace(/\/\\\./,"/."),s(g,function(a,e){r.urlParams[e]||(c.params=c.params||{},c.params[e]=a)})}},t}])}(window,window.angular);;
//!file:angular-sanitize.min.js
!function(q,g,r){"use strict";function F(a){var d=[];return t(d,g.noop).chars(a),d.join("")}function m(a){var d={};a=a.split(",");var c;for(c=0;c<a.length;c++)d[a[c]]=!0;return d}function G(a,d){function c(a,b,c,h){if(b=g.lowercase(b),u[b])for(;f.last()&&v[f.last()];)e("",f.last());w[b]&&f.last()==b&&e("",b),(h=x[b]||!!h)||f.push(b);var n={};c.replace(H,function(a,b,d,c,e){n[b]=s(d||c||e||"")}),d.start&&d.start(b,n,h)}function e(a,b){var e,c=0;if(b=g.lowercase(b))for(c=f.length-1;c>=0&&f[c]!=b;c--);if(c>=0){for(e=f.length-1;e>=c;e--)d.end&&d.end(f[e]);f.length=c}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var b,l,h,f=[],n=a;for(f.last=function(){return f[f.length-1]};a;){if(h="",l=!0,f.last()&&y[f.last()]?(a=a.replace(RegExp("(.*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(a,b){return b=b.replace(I,"$1").replace(J,"$1"),d.chars&&d.chars(s(b)),""}),e("",f.last())):(0===a.indexOf("<!--")?(b=a.indexOf("--",4),b>=0&&a.lastIndexOf("-->",b)===b&&(d.comment&&d.comment(a.substring(4,b)),a=a.substring(b+3),l=!1)):z.test(a)?(b=a.match(z))&&(a=a.replace(b[0],""),l=!1):K.test(a)?(b=a.match(A))&&(a=a.substring(b[0].length),b[0].replace(A,e),l=!1):L.test(a)&&((b=a.match(B))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(B,c)),l=!1):(h+="<",a=a.substring(1))),l&&(b=a.indexOf("<"),h+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),d.chars&&d.chars(s(h)))),a==n)throw M("badparse",a);n=a}e()}function s(a){if(!a)return"";var d=N.exec(a);a=d[1];var c=d[3];return(d=d[2])&&(p.innerHTML=d.replace(/</g,"&lt;"),d="textContent"in p?p.textContent:p.innerText),a+d+c}function C(a){return a.replace(/&/g,"&amp;").replace(O,function(a){var c=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(c-55296)+(a-56320)+65536)+";"}).replace(P,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(a,d){var c=!1,e=g.bind(a,a.push);return{start:function(a,l,f){a=g.lowercase(a),!c&&y[a]&&(c=a),c||!0!==D[a]||(e("<"),e(a),g.forEach(l,function(c,f){var k=g.lowercase(f),l="img"===a&&"src"===k||"background"===k;!0!==Q[k]||!0===E[k]&&!d(c,l)||(e(" "),e(f),e('="'),e(C(c)),e('"'))}),e(f?"/>":">"))},end:function(a){a=g.lowercase(a),c||!0!==D[a]||(e("</"),e(a),e(">")),a==c&&(c=!1)},chars:function(a){c||e(C(a))}}}var M=g.$$minErr("$sanitize"),B=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,A=/^<\/\s*([\w:-]+)[^>]*>/,H=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,L=/^</,K=/^<\//,I=/\x3c!--(.*?)--\x3e/g,z=/<!DOCTYPE([^>]*?)>/i,J=/<!\[CDATA\[(.*?)]]\x3e/g,O=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P=/([^\#-~| |!])/g,x=m("area,br,col,hr,img,wbr");q=m("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r=m("rp,rt");var w=g.extend({},r,q),u=g.extend({},q,m("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),v=g.extend({},r,m("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),y=m("script,style"),D=g.extend({},x,u,v,w),E=m("background,cite,href,longdesc,src,usemap"),Q=g.extend({},E,m("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),p=document.createElement("pre"),N=/^(\s*)([\s\S]*?)(\s*)$/;g.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(d){var c=[];return G(d,t(c,function(c,b){return!/^unsafe/.test(a(c,b))})),c.join("")}}]}),g.module("ngSanitize").filter("linky",["$sanitize",function(a){var d=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,c=/^mailto:/;return function(e,b){function l(a){a&&k.push(F(a))}function f(a,c){k.push("<a "),g.isDefined(b)&&(k.push('target="'),k.push(b),k.push('" ')),k.push('href="'),k.push(a),k.push('">'),l(c),k.push("</a>")}if(!e)return e;for(var n,m,p,h=e,k=[];n=h.match(d);)m=n[0],n[2]==n[3]&&(m="mailto:"+m),p=n.index,l(h.substr(0,p)),f(m,n[0].replace(c,"")),h=h.substring(p+n[0].length);return l(h),a(k.join(""))}}])}(window,window.angular);;
//!file:react-with-addons.min.js
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r=e(22),o=e(26),a=e(37),i=e(29),u=e(62),s=e(91),l=e(93),c=e(115),p=e(137),d=e(140);e(168),o.addons={CSSTransitionGroup:i,LinkedStateMixin:r,PureRenderMixin:a,TransitionGroup:s,batchedUpdates:function(){return l.batchedUpdates.apply(this,arguments)},cloneWithProps:c,createFragment:u.create,shallowCompare:p,update:d},t.exports=o},{115:115,137:137,140:140,168:168,22:22,26:26,29:29,37:37,62:62,91:91,93:93}],2:[function(e,t,n){"use strict";var r=e(70),o=e(119),a=e(152),i={componentDidMount:function(){this.props.autoFocus&&a(o(this))}},u={Mixin:i,focusDOMComponent:function(){a(r.getNode(this._rootNodeID))}};t.exports=u},{119:119,152:152,70:70}],3:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function a(e){switch(e){case N.topCompositionStart:return w.compositionStart;case N.topCompositionEnd:return w.compositionEnd;case N.topCompositionUpdate:return w.compositionUpdate}}function i(e,t){return e===N.topKeyDown&&t.keyCode===E}function u(e,t){switch(e){case N.topKeyUp:return-1!==b.indexOf(t.keyCode);case N.topKeyDown:return t.keyCode!==E;case N.topKeyPress:case N.topMouseDown:case N.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r,o){var l,c;if(_?l=a(e):R?u(e,r)&&(l=w.compositionEnd):i(e,r)&&(l=w.compositionStart),!l)return null;P&&(R||l!==w.compositionStart?l===w.compositionEnd&&R&&(c=R.getData()):R=m.getPooled(t));var p=g.getPooled(l,n,r,o);if(c)p.data=c;else{var d=s(r);null!==d&&(p.data=d)}return h.accumulateTwoPhaseDispatches(p),p}function c(e,t){switch(e){case N.topCompositionEnd:return s(t);case N.topKeyPress:var n=t.which;return n!==T?null:(S=!0,M);case N.topTextInput:var r=t.data;return r===M&&S?null:r;default:return null}}function p(e,t){if(R){if(e===N.topCompositionEnd||u(e,t)){var n=R.getData();return m.release(R),R=null,n}return null}switch(e){case N.topPaste:return null;case N.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case N.topCompositionEnd:return P?null:t.data;default:return null}}function d(e,t,n,r,o){var a;if(a=D?c(e,r):p(e,r),!a)return null;var i=y.getPooled(w.beforeInput,n,r,o);return i.data=a,h.accumulateTwoPhaseDispatches(i),i}var f=e(15),h=e(19),v=e(144),m=e(20),g=e(100),y=e(104),C=e(163),b=[9,13,27,32],E=229,_=v.canUseDOM&&"CompositionEvent"in window,x=null;v.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var D=v.canUseDOM&&"TextEvent"in window&&!x&&!r(),P=v.canUseDOM&&(!_||x&&x>8&&11>=x),T=32,M=String.fromCharCode(T),N=f.topLevelTypes,w={beforeInput:{phasedRegistrationNames:{bubbled:C({onBeforeInput:null}),captured:C({onBeforeInputCapture:null})},dependencies:[N.topCompositionEnd,N.topKeyPress,N.topTextInput,N.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:C({onCompositionEnd:null}),captured:C({onCompositionEndCapture:null})},dependencies:[N.topBlur,N.topCompositionEnd,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:C({onCompositionStart:null}),captured:C({onCompositionStartCapture:null})},dependencies:[N.topBlur,N.topCompositionStart,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:C({onCompositionUpdate:null}),captured:C({onCompositionUpdateCapture:null})},dependencies:[N.topBlur,N.topCompositionUpdate,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]}},S=!1,R=null,I={eventTypes:w,extractEvents:function(e,t,n,r,o){return[l(e,t,n,r,o),d(e,t,n,r,o)]}};t.exports=I},{100:100,104:104,144:144,15:15,163:163,19:19,20:20}],4:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){a.forEach(function(t){o[r(t,e)]=o[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:o,shorthandPropertyExpansions:i};t.exports=u},{}],5:[function(e,t,n){"use strict";var r=e(4),o=e(144),a=e(76),i=(e(146),e(116)),u=e(157),s=e(165),l=(e(168),s(function(e){return u(e)})),c=!1,p="cssFloat";if(o.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(f){c=!0}void 0===document.documentElement.style.cssFloat&&(p="styleFloat")}var h={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=l(n)+":",t+=i(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=i(o,t[o]);if("float"===o&&(o=p),a)n[o]=a;else{var u=c&&r.shorthandPropertyExpansions[o];if(u)for(var s in u)n[s]="";else n[o]=""}}}};a.measureMethods(h,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=h},{116:116,144:144,146:146,157:157,165:165,168:168,4:4,76:76}],6:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e(25),a=e(24),i=e(158);a(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?i(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r},{158:158,24:24,25:25}],7:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=x.getPooled(w.change,R,e,D(e));b.accumulateTwoPhaseDispatches(t),_.batchedUpdates(a,t)}function a(e){C.enqueueEvents(e),C.processEventQueue(!1)}function i(e,t){S=e,R=t,S.attachEvent("onchange",o)}function u(){S&&(S.detachEvent("onchange",o),S=null,R=null)}function s(e,t,n){return e===N.topChange?n:void 0}function l(e,t,n){e===N.topFocus?(u(),i(t,n)):e===N.topBlur&&u()}function c(e,t){S=e,R=t,I=e.value,k=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(S,"value",L),S.attachEvent("onpropertychange",d)}function p(){S&&(delete S.value,S.detachEvent("onpropertychange",d),S=null,R=null,I=null,k=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,o(e))}}function f(e,t,n){return e===N.topInput?n:void 0}function h(e,t,n){e===N.topFocus?(p(),c(t,n)):e===N.topBlur&&p()}function v(e,t,n){return e!==N.topSelectionChange&&e!==N.topKeyUp&&e!==N.topKeyDown||!S||S.value===I?void 0:(I=S.value,R)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===N.topClick?n:void 0}var y=e(15),C=e(16),b=e(19),E=e(144),_=e(93),x=e(102),D=e(125),P=e(130),T=e(131),M=e(163),N=y.topLevelTypes,w={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[N.topBlur,N.topChange,N.topClick,N.topFocus,N.topInput,N.topKeyDown,N.topKeyUp,N.topSelectionChange]}},S=null,R=null,I=null,k=null,O=!1;E.canUseDOM&&(O=P("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;E.canUseDOM&&(A=P("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return k.get.call(this)},set:function(e){I=""+e,k.set.call(this,e)}},U={eventTypes:w,extractEvents:function(e,t,n,o,a){var i,u;if(r(t)?O?i=s:u=l:T(t)?A?i=f:(i=v,u=h):m(t)&&(i=g),i){var c=i(e,t,n);if(c){var p=x.getPooled(w.change,c,o,a);return p.type="change",b.accumulateTwoPhaseDispatches(p),p}}u&&u(e,t,n)}};t.exports=U},{102:102,125:125,130:130,131:131,144:144,15:15,16:16,163:163,19:19,93:93}],8:[function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};t.exports=o},{}],9:[function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var o=e(12),a=e(72),i=e(76),u=e(135),s=e(136),l=e(158),c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(e,t){for(var n,i=null,c=null,p=0;p<e.length;p++)if(n=e[p],n.type===a.MOVE_EXISTING||n.type===a.REMOVE_NODE){var d=n.fromIndex,f=n.parentNode.childNodes[d],h=n.parentID;f?void 0:l(!1),i=i||{},i[h]=i[h]||[],i[h][d]=f,c=c||[],c.push(f)}var v;if(v=t.length&&"string"==typeof t[0]?o.dangerouslyRenderMarkup(t):t,c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case a.INSERT_MARKUP:r(n.parentNode,v[n.markupIndex],n.toIndex);break;case a.MOVE_EXISTING:r(n.parentNode,i[n.parentID][n.fromIndex],n.toIndex);break;case a.SET_MARKUP:u(n.parentNode,n.content);break;case a.TEXT_CONTENT:s(n.parentNode,n.content);break;case a.REMOVE_NODE:}}};i.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},{12:12,135:135,136:136,158:158,72:72,76:76}],10:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(158),a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){u.properties.hasOwnProperty(p)?o(!1):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:r(f,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty?o(!1):void 0,!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),s.hasOwnProperty(p)){var v=s[p];h.attributeName=v}i.hasOwnProperty(p)&&(h.attributeNamespace=i[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),u.properties[p]=h}}},i={},u={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=i[e];return r||(i[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:a};t.exports=u},{158:158}],11:[function(e,t,n){"use strict";function r(e){return c.hasOwnProperty(e)?!0:l.hasOwnProperty(e)?!1:s.test(e)?(c[e]=!0,!0):(l[e]=!0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var a=e(10),i=e(76),u=e(133),s=(e(168),/^[a-zA-Z_][\w\.\-]*$/),l={},c={},p={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+u(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+u(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+u(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+u(t):""},setValueForProperty:function(e,t,n){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var i=r.mutationMethod;if(i)i(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var u=r.attributeName,s=r.attributeNamespace;s?e.setAttributeNS(s,u,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(u,""):e.setAttribute(u,""+n)}else{var l=r.propertyName;r.hasSideEffects&&""+e[l]==""+n||(e[l]=n)}}else a.isCustomAttribute(t)&&p.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var o=n.propertyName,i=a.getDefaultValueForProperty(e.nodeName,o);n.hasSideEffects&&""+e[o]===i||(e[o]=i)}}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};i.measureMethods(p,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=p},{10:10,133:133,168:168,76:76}],12:[function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e(144),a=e(149),i=e(150),u=e(154),s=e(158),l=/^(<[^ \/>]+)/,c="data-danger-index",p={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:s(!1);for(var t,n={},p=0;p<e.length;p++)e[p]?void 0:s(!1),t=r(e[p]),t=u(t)?t:"*",n[t]=n[t]||[],n[t][p]=e[p];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,v=n[t];for(h in v)if(v.hasOwnProperty(h)){var m=v[h];v[h]=m.replace(l,"$1 "+c+'="'+h+'" ')}for(var g=a(v.join(""),i),y=0;y<g.length;++y){var C=g[y];C.hasAttribute&&C.hasAttribute(c)&&(h=+C.getAttribute(c),C.removeAttribute(c),d.hasOwnProperty(h)?s(!1):void 0,d[h]=C,f+=1)}}return f!==d.length?s(!1):void 0,d.length!==e.length?s(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){o.canUseDOM?void 0:s(!1),t?void 0:s(!1),"html"===e.tagName.toLowerCase()?s(!1):void 0;var n;n="string"==typeof t?a(t,i)[0]:t,e.parentNode.replaceChild(n,e)}};t.exports=p},{144:144,149:149,150:150,154:154,158:158}],13:[function(e,t,n){"use strict";var r=e(163),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{163:163}],14:[function(e,t,n){"use strict";var r=e(15),o=e(19),a=e(106),i=e(70),u=e(163),s=r.topLevelTypes,l=i.getFirstReactDOM,c={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},p=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,r,u){if(e===s.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var d;if(t.window===t)d=t;else{var f=t.ownerDocument;d=f?f.defaultView||f.parentWindow:window}var h,v,m="",g="";if(e===s.topMouseOut?(h=t,m=n,v=l(r.relatedTarget||r.toElement),v?g=i.getID(v):v=d,v=v||d):(h=d,v=t,g=n),h===v)return null;var y=a.getPooled(c.mouseLeave,m,r,u);y.type="mouseleave",y.target=h,y.relatedTarget=v;var C=a.getPooled(c.mouseEnter,g,r,u);return C.type="mouseenter",C.target=v,C.relatedTarget=h,o.accumulateEnterLeaveDispatches(y,C,m,g),p[0]=y,p[1]=C,p}};t.exports=d},{106:106,15:15,163:163,19:19,70:70}],15:[function(e,t,n){"use strict";var r=e(162),o=r({bubbled:null,captured:null}),a=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),i={topLevelTypes:a,PropagationPhases:o};t.exports=i},{162:162}],16:[function(e,t,n){"use strict";var r=e(17),o=e(18),a=e(59),i=e(112),u=e(121),s=e(158),l=(e(168),{}),c=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h=null,v={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){h=e},getInstanceHandle:function(){return h},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?s(!1):void 0;var o=l[t]||(l[t]={});o[e]=n;var a=r.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=l[t];o&&delete o[e]},deleteAllListeners:function(e){for(var t in l)if(l[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e]}},extractEvents:function(e,t,n,o,a){for(var u,s=r.plugins,l=0;l<s.length;l++){var c=s[l];if(c){var p=c.extractEvents(e,t,n,o,a);p&&(u=i(u,p))}}return u},enqueueEvents:function(e){e&&(c=i(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,d):u(t,f),c?s(!1):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=v},{112:112,121:121,158:158,168:168,17:17,18:18,59:59}],17:[function(e,t,n){"use strict";function r(){if(u)for(var e in s){var t=s[e],n=u.indexOf(e);if(n>-1?void 0:i(!1),!l.plugins[n]){t.extractEvents?void 0:i(!1),l.plugins[n]=t;var r=t.eventTypes;for(var a in r)o(r[a],t,a)?void 0:i(!1)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?i(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];a(u,t,n)}return!0}return e.registrationName?(a(e.registrationName,t,n),!0):!1}function a(e,t,n){l.registrationNameModules[e]?i(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var i=e(158),u=null,s={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){u?i(!1):void 0,u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];s.hasOwnProperty(n)&&s[n]===o||(s[n]?i(!1):void 0,s[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{158:158}],18:[function(e,t,n){"use strict";function r(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function o(e){return e===m.topMouseMove||e===m.topTouchMove}function a(e){return e===m.topMouseDown||e===m.topTouchStart}function i(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(r),t?f.invokeGuardedCallbackWithCatch(o,n,e,r):f.invokeGuardedCallback(o,n,e,r),e.currentTarget=null}function u(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)i(e,t,n[o],r[o]);else n&&i(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function s(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=s(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?h(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function p(e){return!!e._dispatchListeners}var d=e(15),f=e(59),h=e(158),v=(e(168),{Mount:null,injectMount:function(e){v.Mount=e}}),m=d.topLevelTypes,g={isEndish:r,isMoveish:o,isStartish:a,executeDirectDispatch:c,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};t.exports=g},{15:15,158:158,168:168,59:59}],19:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function o(e,t,n){var o=t?g.bubbled:g.captured,a=r(e,n,o);a&&(n._dispatchListeners=v(n._dispatchListeners,a),n._dispatchIDs=v(n._dispatchIDs,e))}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,o,e)}function u(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=y(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchIDs=v(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&u(e.dispatchMarker,null,e)}function l(e){m(e,a)}function c(e){m(e,i)}function p(e,t,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,u,e,t)}function d(e){m(e,s)}var f=e(15),h=e(16),v=(e(168),e(112)),m=e(121),g=f.PropagationPhases,y=h.getListener,C={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=C},{112:112,121:121,15:15,16:16,168:168}],20:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(25),a=e(24),i=e(128);a(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),a=o.length;for(e=0;r>e&&n[e]===o[e];e++);var i=r-e;for(t=1;i>=t&&n[r-t]===o[a-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),o.addPoolingTo(r),t.exports=r},{128:128,24:24,25:25}],21:[function(e,t,n){"use strict";var r,o=e(10),a=e(144),i=o.injection.MUST_USE_ATTRIBUTE,u=o.injection.MUST_USE_PROPERTY,s=o.injection.HAS_BOOLEAN_VALUE,l=o.injection.HAS_SIDE_EFFECTS,c=o.injection.HAS_NUMERIC_VALUE,p=o.injection.HAS_POSITIVE_NUMERIC_VALUE,d=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(a.canUseDOM){var f=document.implementation;r=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:i|s,allowTransparency:i,alt:null,async:s,autoComplete:null,autoPlay:s,capture:i|s,cellPadding:null,cellSpacing:null,charSet:i,challenge:i,checked:u|s,classID:i,className:r?i:u,cols:i|p,colSpan:null,content:null,contentEditable:null,contextMenu:i,controls:u|s,coords:null,crossOrigin:null,data:null,dateTime:i,"default":s,defer:s,dir:null,disabled:i|s,download:d,draggable:null,encType:null,form:i,formAction:i,formEncType:i,formMethod:i,formNoValidate:s,formTarget:i,frameBorder:i,headers:null,height:i,hidden:i|s,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:u,inputMode:i,is:i,keyParams:i,keyType:i,kind:null,label:null,lang:null,list:i,loop:u|s,low:null,manifest:i,marginHeight:null,marginWidth:null,max:null,maxLength:i,media:i,mediaGroup:null,method:null,min:null,minLength:i,multiple:u|s,muted:u|s,name:null,noValidate:s,open:s,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:u|s,rel:null,required:s,role:i,rows:i|p,rowSpan:null,sandbox:null,scope:null,scoped:s,scrolling:null,seamless:i|s,selected:u|s,shape:null,size:i|p,sizes:i,span:p,spellCheck:null,src:null,srcDoc:u,srcLang:null,srcSet:i,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:u|l,width:i,wmode:i,wrap:null,about:i,datatype:i,inlist:i,prefix:i,property:i,resource:i,"typeof":i,vocab:i,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:i,itemScope:i|s,itemType:i,itemID:i,itemRef:i,results:null,security:i,unselectable:i},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},{10:10,144:144}],22:[function(e,t,n){"use strict";var r=e(68),o=e(88),a={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=a},{68:68,88:88}],23:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function a(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function i(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var u=e(80),s=e(79),l=e(158),c=(e(168),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,s.prop);o instanceof Error&&!(o.message in d)&&(d[o.message]=!0,i(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(a(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(a(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{158:158,168:168,79:79,80:80}],24:[function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a){var i=Object(a);for(var u in i)r.call(i,u)&&(n[u]=i[u])}}return n}t.exports=r},{}],25:[function(e,t,n){"use strict";var r=e(158),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},i=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r),a}return new o(e,t,n,r)},s=function(e,t,n,r,o){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,e,t,n,r,o),i}return new a(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:a,threeArgumentPooler:i,fourArgumentPooler:u,fiveArgumentPooler:s};t.exports=f},{158:158}],26:[function(e,t,n){"use strict";var r=e(40),o=e(50),a=e(67),i=e(24),u=e(117),s={};i(s,a),i(s,{findDOMNode:u("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:u("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:u("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:u("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:u("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),s.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,t.exports=s},{117:117,24:24,40:40,50:50,67:67}],27:[function(e,t,n){"use strict";var r=(e(66),e(119)),o=(e(168),"_getDOMNodeDidWarn"),a={getDOMNode:function(){return this.constructor[o]=!0,r(this)}};t.exports=a},{119:119,168:168,66:66}],28:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,d[e[m]]={}),d[e[m]]}var o=e(15),a=e(16),i=e(17),u=e(60),s=e(76),l=e(111),c=e(24),p=e(130),d={},f=!1,h=0,v={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",
topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,a=r(n),u=i.registrationNameDependencies[e],s=o.topLevelTypes,l=0;l<u.length;l++){var c=u[l];a.hasOwnProperty(c)&&a[c]||(c===s.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):c===s.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===s.topFocus||c===s.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),a[s.topBlur]=!0,a[s.topFocus]=!0):v.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,v[c],n),a[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!f){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}},eventNameDispatchConfigs:a.eventNameDispatchConfigs,registrationNameModules:a.registrationNameModules,putListener:a.putListener,getListener:a.getListener,deleteListener:a.deleteListener,deleteAllListeners:a.deleteAllListeners});s.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=g},{111:111,130:130,15:15,16:16,17:17,24:24,60:60,76:76}],29:[function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var o=e(26),a=e(24),i=e(91),u=e(30),s=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:u.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o.createElement(u,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return o.createElement(i,a({},this.props,{childFactory:this._wrapChild}))}});t.exports=s},{24:24,26:26,30:30,91:91}],30:[function(e,t,n){"use strict";var r=e(26),o=e(40),a=e(142),i=e(90),u=e(132),s=17,l=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=o.findDOMNode(this);if(!r)return void(t&&t());var u=this.props.name[e]||this.props.name+"-"+e,s=this.props.name[e+"Active"]||u+"-active",l=null,c=function(e){e&&e.target!==r||(clearTimeout(l),a.removeClass(r,u),a.removeClass(r,s),i.removeEndEventListener(r,c),t&&t())};a.addClass(r,u),this.queueClass(s),n?l=setTimeout(c,n):i.addEndEventListener(r,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,s))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(a.addClass.bind(a,o.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return u(this.props.children)}});t.exports=l},{132:132,142:142,26:26,40:40,90:90}],31:[function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=a(t,null))}var o=e(82),a=e(129),i=e(138),u=e(139),s=(e(168),{instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return u(e,r,o),o},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var u;for(u in t)if(t.hasOwnProperty(u)){var s=e&&e[u],l=s&&s._currentElement,c=t[u];if(null!=s&&i(l,c))o.receiveComponent(s,c,n,r),t[u]=s;else{s&&o.unmountComponent(s,u);var p=a(c,null);t[u]=p}}for(u in e)!e.hasOwnProperty(u)||t&&t.hasOwnProperty(u)||o.unmountComponent(e[u]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];o.unmountComponent(n)}}});t.exports=s},{129:129,138:138,139:139,168:168,82:82}],32:[function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"//")}function o(e,t){this.func=e,this.context=t,this.count=0}function a(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function i(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,a,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,a=e.keyPrefix,i=e.func,u=e.context,s=i.call(u,t,e.count++);Array.isArray(s)?l(s,o,n,m.thatReturnsArgument):null!=s&&(v.isValidElement(s)&&(s=v.cloneAndReplaceKey(s,a+(s!==t?r(s.key||"")+"/":"")+n)),o.push(s))}function l(e,t,n,o,a){var i="";null!=n&&(i=r(n)+"/");var l=u.getPooled(t,i,o,a);g(e,s,l),u.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return l(e,t,null,m.thatReturnsArgument),t}var h=e(25),v=e(55),m=e(150),g=e(139),y=h.twoArgumentPooler,C=h.fourArgumentPooler,b=/\/(?!\/)/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,C);var E={forEach:i,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:f};t.exports=E},{139:139,150:150,25:25,55:55}],33:[function(e,t,n){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&(n!==b.OVERRIDE_BASE?m(!1):void 0),e.hasOwnProperty(t)&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?m(!1):void 0)}function o(e,t){if(t){"function"==typeof t?m(!1):void 0,d.isValidElement(t)?m(!1):void 0;var n=e.prototype;t.hasOwnProperty(C)&&x.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==C){var a=t[o];if(r(n,o),x.hasOwnProperty(o))x[o](e,a);else{var i=_.hasOwnProperty(o),l=n.hasOwnProperty(o),c="function"==typeof a,p=c&&!i&&!l&&t.autobind!==!1;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=a,n[o]=a;else if(l){var f=_[o];!i||f!==b.DEFINE_MANY_MERGED&&f!==b.DEFINE_MANY?m(!1):void 0,f===b.DEFINE_MANY_MERGED?n[o]=u(n[o],a):f===b.DEFINE_MANY&&(n[o]=s(n[o],a))}else n[o]=a}}}}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in x;o?m(!1):void 0;var a=n in e;a?m(!1):void 0,e[n]=r}}}function i(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return i(o,n),i(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,n)}}var p=e(34),d=e(55),f=(e(79),e(78),e(74)),h=e(24),v=e(151),m=e(158),g=e(162),y=e(163),C=(e(168),y({mixins:null})),b=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},x={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=h({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=h({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?u(e.getDefaultProps,t):t},propTypes:function(e,t){e.propTypes=h({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},P=function(){};h(P.prototype,p.prototype,D);var T={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.refs=v,this.updater=n||f,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?m(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,E.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};t.exports=T},{151:151,158:158,162:162,163:163,168:168,24:24,34:34,55:55,74:74,78:78,79:79}],34:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var o=e(74),a=(e(114),e(151)),i=e(158);e(168),r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)},t.exports=r},{114:114,151:151,158:158,168:168,74:74}],35:[function(e,t,n){"use strict";var r=e(45),o=e(70),a={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};t.exports=a},{45:45,70:70}],36:[function(e,t,n){"use strict";var r=e(158),o=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1):void 0,a.unmountIDFromEnvironment=e.unmountIDFromEnvironment,a.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,a.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=a},{158:158}],37:[function(e,t,n){"use strict";var r=e(137),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=o},{137:137}],38:[function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}var a=e(36),i=e(39),u=e(55),s=e(66),l=e(76),c=e(79),p=(e(78),e(82)),d=e(92),f=e(24),h=e(151),v=e(158),m=e(138);e(168),o.prototype.render=function(){var e=s.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var r,a,i=this._processProps(this._currentElement.props),l=this._processContext(n),c=this._currentElement.type,f="prototype"in c;f&&(r=new c(i,l,d)),(!f||null===r||r===!1||u.isValidElement(r))&&(a=r,r=new o(c)),r.props=i,r.context=l,r.refs=h,r.updater=d,this._instance=r,s.set(r,this);var m=r.state;void 0===m&&(r.state=m=null),"object"!=typeof m||Array.isArray(m)?v(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===a&&(a=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(a);var y=p.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,s.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return h;t={};for(var o in r)t[o]=e[o];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?v(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:v(!1);return f({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var a in e)if(e.hasOwnProperty(a)){var i;try{"function"!=typeof e[a]?v(!1):void 0,i=e[a](t,a,o,n)}catch(u){i=u}i instanceof Error&&(r(this),n===c.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){var a,i=this._instance,u=this._context===o?i.context:this._processContext(o);t===n?a=n.props:(a=this._processProps(n.props),i.componentWillReceiveProps&&i.componentWillReceiveProps(a,u));var s=this._processPendingState(a,u),l=this._pendingForceUpdate||!i.shouldComponentUpdate||i.shouldComponentUpdate(a,s,u);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,s,u,e,o)):(this._currentElement=n,this._context=o,i.props=a,i.state=s,i.context=u)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=f({},o?r[0]:n.state),i=o?1:0;i<r.length;i++){var u=r[i];f(a,"function"==typeof u?u.call(n,a,e,t):u)}return a},_performComponentUpdate:function(e,t,n,r,o,a){var i,u,s,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(i=l.props,u=l.state,s=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=a,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,a),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,i,u,s),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(m(r,o))p.receiveComponent(n,o,e,this._processChildContext(t));else{var a=this._rootNodeID,i=n._rootNodeID;p.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var u=p.mountComponent(this._renderedComponent,a,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(i,u)}},_replaceNodeWithMarkupByID:function(e,t){a.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;i.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=null}return null===e||e===!1||u.isValidElement(e)?void 0:v(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?v(!1):void 0;var r=t.getPublicInstance(),o=n.refs===h?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};l.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var C={Mixin:y};t.exports=C},{138:138,151:151,158:158,168:168,24:24,36:36,39:39,55:55,66:66,76:76,78:78,79:79,82:82,92:92}],39:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e(39),o=e(51),a=e(54),i=e(65),u=e(70),s=e(76),l=e(82),c=e(93),p=e(94),d=e(119),f=e(134);e(168),a.inject();var h=s.measure("React","render",u.render),v={findDOMNode:d,render:h,unmountComponentAtNode:u.unmountComponentAtNode,version:p,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:i,Mount:u,Reconciler:l,TextComponent:o}),t.exports=v},{119:119,134:134,168:168,39:39,51:51,54:54,65:65,70:70,76:76,82:82,93:93,94:94}],41:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t,n){if(!t.disabled)return t;var o={};for(var a in t)t.hasOwnProperty(a)&&!r[a]&&(o[a]=t[a]);return o}};t.exports=o},{}],42:[function(e,t,n){"use strict";function r(){return this}function o(){var e=this._reactInternalComponent;return!!e}function a(){}function i(e,t){var n=this._reactInternalComponent;n&&(I.enqueueSetPropsInternal(n,e),t&&I.enqueueCallbackInternal(n,t))}function u(e,t){var n=this._reactInternalComponent;n&&(I.enqueueReplacePropsInternal(n,e),t&&I.enqueueCallbackInternal(n,t))}function s(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?L(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&H in t.dangerouslySetInnerHTML?void 0:L(!1)),null!=t.style&&"object"!=typeof t.style?L(!1):void 0)}function l(e,t,n,r){var o=w.findReactContainerForID(e);if(o){var a=o.nodeType===z?o.ownerDocument:o;j(t,a)}r.getReactMountReady().enqueue(c,{id:e,registrationName:t,listener:n})}function c(){var e=this;_.putListener(e.id,e.registrationName,e.listener)}function p(){var e=this;e._rootNodeID?void 0:L(!1);var t=w.getNode(e._rootNodeID);switch(t?void 0:L(!1),e._tag){case"iframe":e._wrapperState.listeners=[_.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(_.trapBubbledEvent(E.topLevelTypes[n],Y[n],t));break;case"img":e._wrapperState.listeners=[_.trapBubbledEvent(E.topLevelTypes.topError,"error",t),_.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[_.trapBubbledEvent(E.topLevelTypes.topReset,"reset",t),_.trapBubbledEvent(E.topLevelTypes.topSubmit,"submit",t)]}}function d(){P.mountReadyWrapper(this)}function f(){M.postUpdateWrapper(this)}function h(e){Z.call($,e)||(X.test(e)?void 0:L(!1),$[e]=!0)}function v(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){h(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=e(2),y=e(5),C=e(10),b=e(11),E=e(15),_=e(28),x=e(35),D=e(41),P=e(46),T=e(47),M=e(48),N=e(52),w=e(70),S=e(71),R=e(76),I=e(92),k=e(24),O=e(114),A=e(118),L=e(158),U=(e(130),e(163)),F=e(135),B=e(136),V=(e(166),e(141),e(168),_.deleteListener),j=_.listenTo,W=_.registrationNameModules,K={string:!0,number:!0},q=U({style:null}),H=U({__html:null}),z=1,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},X=(k({menuitem:!0},G),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),$={},Z={}.hasOwnProperty;m.displayName="ReactDOMComponent",m.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(p,this);break;case"button":r=D.getNativeProps(this,r,n);break;case"input":P.mountWrapper(this,r,n),r=P.getNativeProps(this,r,n);break;case"option":T.mountWrapper(this,r,n),r=T.getNativeProps(this,r,n);break;case"select":M.mountWrapper(this,r,n),r=M.getNativeProps(this,r,n),n=M.processChildContext(this,r,n);break;case"textarea":N.mountWrapper(this,r,n),r=N.getNativeProps(this,r,n)}s(this,r);var o;if(t.useCreateElement){var a=n[w.ownerDocumentContextKey],i=a.createElement(this._currentElement.type);b.setAttributeForID(i,this._rootNodeID),w.getID(i),this._updateDOMProperties({},r,t,i),this._createInitialChildren(t,r,n,i),o=i}else{var u=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);o=!l&&G[this._tag]?u+"/>":u+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(d,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(W.hasOwnProperty(r))o&&l(this._rootNodeID,r,o,e);else{r===q&&(o&&(o=this._previousStyleCopy=k({},t.style)),o=y.createMarkupForStyles(o));var a=null;a=null!=this._tag&&v(this._tag,t)?b.createMarkupForCustomAttribute(r,o):b.createMarkupForProperty(r,o),a&&(n+=" "+a)}}if(e.renderToStaticMarkup)return n;var i=b.createMarkupForID(this._rootNodeID);return n+" "+i},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var a=K[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)r=A(a);else if(null!=i){var u=this.mountChildren(i,e,n);r=u.join("")}}return Q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&F(r,o.__html);else{var a=K[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)B(r,a);else if(null!=i)for(var u=this.mountChildren(i,e,n),s=0;s<u.length;s++)r.appendChild(u[s])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=D.getNativeProps(this,o),a=D.getNativeProps(this,a);break;case"input":P.updateWrapper(this),o=P.getNativeProps(this,o),a=P.getNativeProps(this,a);break;case"option":o=T.getNativeProps(this,o),a=T.getNativeProps(this,a);break;case"select":o=M.getNativeProps(this,o),a=M.getNativeProps(this,a);break;case"textarea":N.updateWrapper(this),o=N.getNativeProps(this,o),a=N.getNativeProps(this,a)}s(this,a),this._updateDOMProperties(o,a,e,null),this._updateDOMChildren(o,a,e,r),!O&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=a),"select"===this._tag&&e.getReactMountReady().enqueue(f,this)},_updateDOMProperties:function(e,t,n,r){var o,a,i;for(o in e)if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o===q){var u=this._previousStyleCopy;for(a in u)u.hasOwnProperty(a)&&(i=i||{},i[a]="");this._previousStyleCopy=null}else W.hasOwnProperty(o)?e[o]&&V(this._rootNodeID,o):(C.properties[o]||C.isCustomAttribute(o))&&(r||(r=w.getNode(this._rootNodeID)),b.deleteValueForProperty(r,o));for(o in t){var s=t[o],c=o===q?this._previousStyleCopy:e[o];if(t.hasOwnProperty(o)&&s!==c)if(o===q)if(s?s=this._previousStyleCopy=k({},s):this._previousStyleCopy=null,c){for(a in c)!c.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(i=i||{},i[a]="");for(a in s)s.hasOwnProperty(a)&&c[a]!==s[a]&&(i=i||{},i[a]=s[a])}else i=s;else W.hasOwnProperty(o)?s?l(this._rootNodeID,o,s,n):c&&V(this._rootNodeID,o):v(this._tag,t)?(r||(r=w.getNode(this._rootNodeID)),b.setValueForAttribute(r,o,s)):(C.properties[o]||C.isCustomAttribute(o))&&(r||(r=w.getNode(this._rootNodeID)),null!=s?b.setValueForProperty(r,o,s):b.deleteValueForProperty(r,o))}i&&(r||(r=w.getNode(this._rootNodeID)),y.setValueForStyles(r,i))},_updateDOMChildren:function(e,t,n,r){var o=K[typeof e.children]?e.children:null,a=K[typeof t.children]?t.children:null,i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=null!=o?null:e.children,l=null!=a?null:t.children,c=null!=o||null!=i,p=null!=a||null!=u;null!=s&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=a?o!==a&&this.updateTextContent(""+a):null!=u?i!==u&&this.updateMarkup(""+u):null!=l&&this.updateChildren(l,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":P.unmountWrapper(this);break;case"html":case"head":case"body":L(!1)}if(this.unmountChildren(),_.deleteAllListeners(this._rootNodeID),x.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=w.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=o,e.setState=a,e.replaceState=a,e.forceUpdate=a,e.setProps=i,e.replaceProps=u,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},R.measureMethods(m,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),k(m.prototype,m.Mixin,S.Mixin),t.exports=m},{10:10,11:11,114:114,118:118,130:130,135:135,136:136,141:141,15:15,158:158,163:163,166:166,168:168,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,70:70,71:71,76:76,92:92}],43:[function(e,t,n){"use strict";function r(e){return o.createFactory(e)}var o=e(55),a=(e(56),e(164)),i=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=i},{164:164,55:55,56:56}],44:[function(e,t,n){"use strict";var r={useCreateElement:!1};t.exports=r},{}],45:[function(e,t,n){"use strict";var r=e(9),o=e(11),a=e(70),i=e(76),u=e(158),s={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(e,t,n){var r=a.getNode(e);s.hasOwnProperty(t)?u(!1):void 0,null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=a.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);r.processUpdates(e,t)}};i.measureMethods(l,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=l},{11:11,158:158,70:70,76:76,9:9}],46:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);s.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=u.getNode(this._rootNodeID),l=a;l.parentNode;)l=l.parentNode;for(var d=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),f=0;f<d.length;f++){var h=d[f];if(h!==a&&h.form===a.form){var v=u.getID(h);v?void 0:c(!1);var m=p[v];m?void 0:c(!1),s.asap(r,m)}}}return n}var a=e(45),i=e(23),u=e(70),s=e(93),l=e(24),c=e(158),p={},d={getNativeProps:function(e,t,n){var r=i.getValue(t),o=i.getChecked(t),a=l({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=o?o:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return a},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:o.bind(e)}},mountReadyWrapper:function(e){p[e._rootNodeID]=e},unmountWrapper:function(e){delete p[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&a.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=i.getValue(t);null!=r&&a.updatePropertyByID(e._rootNodeID,"value",""+r)}};t.exports=d},{158:158,23:23,24:24,45:45,70:70,93:93}],47:[function(e,t,n){"use strict";var r=e(32),o=e(48),a=e(24),i=(e(168),o.valueContextKey),u={mountWrapper:function(e,t,n){var r=n[i],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var a=0;a<r.length;a++)if(""+r[a]==""+t.value){o=!0;break}}else o=""+r==""+t.value;e._wrapperState={selected:o}},getNativeProps:function(e,t,n){var o=a({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(o.selected=e._wrapperState.selected);var i="";return r.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e)&&(i+=e)}),o.children=i,o}};t.exports=u},{168:168,24:24,32:32,48:48}],48:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=i.getValue(e);null!=t&&o(this,e,t)}}function o(e,t,n){var r,o,a=u.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<a.length;o++){var i=r.hasOwnProperty(a[o].value);a[o].selected!==i&&(a[o].selected=i)}}else{for(r=""+n,o=0;o<a.length;o++)if(a[o].value===r)return void(a[o].selected=!0);a.length&&(a[0].selected=!0)}}function a(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,s.asap(r,this),n}var i=e(23),u=e(70),s=e(93),l=e(24),c=(e(168),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),p={valueContextKey:c,getNativeProps:function(e,t,n){return l({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=i.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=l({},n);return r[c]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=i.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{168:168,23:23,24:24,70:70,93:93}],49:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var a=o.text.length,i=a+r;return{start:a,end:i}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,a=t.focusNode,i=t.focusOffset,u=t.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:u.toString().length,p=u.cloneRange();p.selectNodeContents(e),p.setEnd(u.startContainer,u.startOffset);var d=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+c,v=document.createRange();v.setStart(n,o),v.setEnd(a,i);var m=v.collapsed;return{start:m?h:f,end:m?f:h}}function i(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function u(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),a="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>a){var i=a;a=o,o=i}var u=l(e,o),s=l(e,a);if(u&&s){var p=document.createRange();p.setStart(u.node,u.offset),n.removeAllRanges(),o>a?(n.addRange(p),n.extend(s.node,s.offset)):(p.setEnd(s.node,s.offset),n.addRange(p))}}}var s=e(144),l=e(127),c=e(128),p=s.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:a,setOffsets:p?i:u};t.exports=d},{127:127,128:128,144:144}],50:[function(e,t,n){"use strict";var r=e(54),o=e(86),a=e(94);r.inject();var i={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:a};t.exports=i},{54:54,86:86,94:94}],51:[function(e,t,n){"use strict";var r=e(9),o=e(11),a=e(35),i=e(70),u=e(24),s=e(118),l=e(136),c=(e(141),function(e){});u(c.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[i.ownerDocumentContextKey],a=r.createElement("span");return o.setAttributeForID(a,e),i.getID(a),l(a,this._stringText),a}var u=s(this._stringText);return t.renderToStaticMarkup?u:"<span "+o.createMarkupForID(e)+">"+u+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=i.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},{11:11,118:118,136:136,141:141,24:24,35:35,70:70,9:9}],52:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return u.asap(r,this),n}var a=e(23),i=e(45),u=e(93),s=e(24),l=e(158),c=(e(168),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?l(!1):void 0;var r=s({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?l(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:l(!1),r=r[0]),n=""+r),null==n&&(n="");var i=a.getValue(t);e._wrapperState={initialValue:""+(null!=i?i:n),onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=a.getValue(t);null!=n&&i.updatePropertyByID(e._rootNodeID,"value",""+n)}});t.exports=c},{158:158,168:168,23:23,24:24,45:45,93:93}],53:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(93),a=e(110),i=e(24),u=e(150),s={initialize:u,close:function(){d.isBatchingUpdates=!1}},l={initialize:u,close:o.flushBatchedUpdates.bind(o)},c=[l,s];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,a){var i=d.isBatchingUpdates;d.isBatchingUpdates=!0,i?e(t,n,r,o,a):p.perform(e,null,t,n,r,o,a)}};t.exports=d},{110:110,150:150,24:24,93:93}],54:[function(e,t,n){"use strict";function r(){P||(P=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(u),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(C),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:a,SelectEventPlugin:E,BeforeInputEventPlugin:o}),g.NativeComponent.injectGenericComponentClass(h),g.NativeComponent.injectTextComponentClass(v),g.Class.injectMixin(p),g.DOMProperty.injectDOMPropertyConfig(c),g.DOMProperty.injectDOMPropertyConfig(D),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(b),g.Updates.injectBatchingStrategy(f),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?i.createReactRootIndex:_.createReactRootIndex),g.Component.injectEnvironment(d))}var o=e(3),a=e(7),i=e(8),u=e(13),s=e(14),l=e(144),c=e(21),p=e(27),d=e(35),f=e(53),h=e(42),v=e(51),m=e(61),g=e(63),y=e(65),C=e(70),b=e(81),E=e(96),_=e(97),x=e(98),D=e(95),P=!1;t.exports={inject:r}},{13:13,14:14,144:144,21:21,27:27,3:3,35:35,42:42,51:51,53:53,61:61,63:63,65:65,7:7,70:70,8:8,81:81,95:95,96:96,97:97,98:98}],55:[function(e,t,n){"use strict";var r=e(39),o=e(24),a=(e(114),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),i={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,i,u){var s={$$typeof:a,type:e,key:t,ref:n,props:u,_owner:i};return s};u.createElement=function(e,t,n){var o,a={},s=null,l=null,c=null,p=null;if(null!=t){l=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(o in t)t.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(a[o]=t[o])}var d=arguments.length-2;if(1===d)a.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];a.children=f}if(e&&e.defaultProps){var v=e.defaultProps;for(o in v)"undefined"==typeof a[o]&&(a[o]=v[o])}return u(e,s,l,c,p,r.current,a)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneAndReplaceProps=function(e,t){var n=u(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},u.cloneElement=function(e,t,n){var a,s=o({},e.props),l=e.key,c=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,f=r.current),void 0!==t.key&&(l=""+t.key);for(a in t)t.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(s[a]=t[a])}var h=arguments.length-2;if(1===h)s.children=n;else if(h>1){for(var v=Array(h),m=0;h>m;m++)v[m]=arguments[m+2];s.children=v}return u(e.type,l,c,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.exports=u},{114:114,24:24,39:39}],56:[function(e,t,n){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,a("uniqueKey",e,t))}function a(e,t,n){var o=r();if(!o){var a="string"==typeof n?n:n.displayName||n.name;a&&(o=" Check the top-level render call using <"+a+">.")}var i=h[e]||(h[e]={});if(i[o])return null;i[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function i(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];l.isValidElement(r)&&o(r,t)}else if(l.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var a=d(e);if(a&&a!==e.entries)for(var i,u=a.call(e);!(i=u.next()).done;)l.isValidElement(i.value)&&o(i.value,t)}}function u(e,t,n,o){for(var a in t)if(t.hasOwnProperty(a)){var i;try{"function"!=typeof t[a]?f(!1):void 0,i=t[a](n,a,e,o)}catch(u){i=u}i instanceof Error&&!(i.message in v)&&(v[i.message]=!0,r())}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var l=e(55),c=e(79),p=(e(78),e(39)),d=(e(114),e(126)),f=e(158),h=(e(168),{}),v={},m={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=l.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var a=2;a<arguments.length;a++)i(arguments[a],e);return s(o),o},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=l.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)i(arguments[o],r.type);return s(r),r}};t.exports=m},{114:114,126:126,158:158,168:168,39:39,55:55,78:78,79:79}],57:[function(e,t,n){"use strict";var r,o=e(55),a=e(58),i=e(82),u=e(24),s={injectEmptyComponent:function(e){r=o.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};u(l.prototype,{construct:function(e){},mountComponent:function(e,t,n){return a.registerNullComponentID(e),this._rootNodeID=e,i.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){i.unmountComponent(this._renderedComponent),a.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=s,t.exports=l},{24:24,55:55,58:58,82:82}],58:[function(e,t,n){"use strict";function r(e){return!!i[e]}function o(e){i[e]=!0}function a(e){delete i[e]}var i={},u={isNullComponentID:r,registerNullComponentID:o,deregisterNullComponentID:a};t.exports=u},{}],59:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(a){return void(null===o&&(o=a))}}var o=null,a={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=a},{}],60:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(16),a={handleTopLevel:function(e,t,n,a,i){var u=o.extractEvents(e,t,n,a,i);r(u)}};t.exports=a},{16:16}],61:[function(e,t,n){"use strict";function r(e){var t=d.getID(e),n=p.getReactRootIDFromNodeID(t),r=d.findReactContainerForID(n),o=d.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){i(e)}function i(e){for(var t=d.getFirstReactDOM(v(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;o<e.ancestors.length;o++){t=e.ancestors[o];var a=d.getID(t)||"";g._handleTopLevel(e.topLevelType,t,a,e.nativeEvent,v(e.nativeEvent))}}function u(e){var t=m(window);e(t)}var s=e(143),l=e(144),c=e(25),p=e(65),d=e(70),f=e(93),h=e(24),v=e(125),m=e(155);h(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=u.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=o.getPooled(e,t);try{f.batchedUpdates(a,n)}finally{o.release(n)}}}};t.exports=g},{125:125,143:143,144:144,155:155,24:24,25:25,65:65,70:70,93:93}],62:[function(e,t,n){"use strict";var r=e(32),o=e(55),a=e(150),i=e(158),u=(e(168),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(o.isValidElement(e))return e;1===e.nodeType?i(!1):void 0;var t=[];for(var n in e)r.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});t.exports=u},{150:150,158:158,168:168,32:32,55:55}],63:[function(e,t,n){"use strict";var r=e(10),o=e(16),a=e(36),i=e(33),u=e(57),s=e(28),l=e(73),c=e(76),p=e(84),d=e(93),f={Component:a.injection,Class:i.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventEmitter:s.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:p.injection,Updates:d.injection};t.exports=f},{10:10,16:16,28:28,33:33,36:36,57:57,73:73,76:76,84:84,93:93}],64:[function(e,t,n){"use strict";function r(e){return a(document.documentElement,e)}var o=e(49),a=e(147),i=e(152),u=e(153),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=u();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=u(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,o),i(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",r-n),a.select()}else o.setOffsets(e,t)}};t.exports=s},{147:147,152:152,153:153,49:49}],65:[function(e,t,n){"use strict";function r(e){return f+e.toString(36)}function o(e,t){return e.charAt(t)===f||t===e.length}function a(e){return""===e||e.charAt(0)===f&&e.charAt(e.length-1)!==f}function i(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function u(e){return e?e.substr(0,e.lastIndexOf(f)):""}function s(e,t){if(a(e)&&a(t)?void 0:d(!1),i(e,t)?void 0:d(!1),e===t)return e;var n,r=e.length+h;for(n=r;n<t.length&&!o(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,i=0;n>=i;i++)if(o(e,i)&&o(t,i))r=i;else if(e.charAt(i)!==t.charAt(i))break;var u=e.substr(0,r);return a(u)?void 0:d(!1),u}function c(e,t,n,r,o,a){e=e||"",t=t||"",e===t?d(!1):void 0;var l=i(t,e);l||i(e,t)?void 0:d(!1);for(var c=0,p=l?u:s,f=e;;f=p(f,t)){var h;if(o&&f===e||a&&f===t||(h=n(f,l,r)),h===!1||f===t)break;c++<v?void 0:d(!1)}}var p=e(84),d=e(158),f=".",h=f.length,v=1e4,m={createReactRootID:function(){return r(p.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===f&&e.length>1){var t=e.indexOf(f,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var a=l(e,t);a!==e&&c(e,a,n,r,!1,!0),a!==t&&c(a,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:s,isAncestorIDOf:i,SEPARATOR:f};t.exports=m},{158:158,84:84}],66:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],67:[function(e,t,n){"use strict";var r=e(32),o=e(34),a=e(33),i=e(43),u=e(55),s=(e(56),e(80)),l=e(94),c=e(24),p=e(132),d=u.createElement,f=u.createFactory,h=u.cloneElement,v={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:p},Component:o,createElement:d,cloneElement:h,isValidElement:u.isValidElement,PropTypes:s,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:i,version:l,__spread:c};t.exports=v},{132:132,24:24,32:32,33:33,34:34,43:43,55:55,56:56,80:80,94:94}],68:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function o(e){var t={value:"undefined"==typeof e?a.PropTypes.any.isRequired:e.isRequired,requestChange:a.PropTypes.func.isRequired};return a.PropTypes.shape(t)}var a=e(26);r.PropTypes={link:o},t.exports=r},{26:26}],69:[function(e,t,n){"use strict";var r=e(113),o=/\/?>/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=a},{113:113}],70:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===W?e.documentElement:e.firstChild:null}function a(e){var t=o(e);return t&&X.getID(t)}function i(e){var t=u(e);if(t)if(V.hasOwnProperty(t)){var n=V[t];n!==e&&(p(n,t)?L(!1):void 0,V[t]=e)}else V[t]=e;return t}function u(e){return e&&e.getAttribute&&e.getAttribute(B)||""}function s(e,t){var n=u(e);n!==t&&delete V[n],e.setAttribute(B,t),V[t]=e}function l(e){return V.hasOwnProperty(e)&&p(V[e],e)||(V[e]=X.findReactNodeByID(e)),V[e]}function c(e){var t=T.get(e)._rootNodeID;return D.isNullComponentID(t)?null:(V.hasOwnProperty(t)&&p(V[t],t)||(V[t]=X.findReactNodeByID(t)),V[t])}function p(e,t){if(e){u(e)!==t?L(!1):void 0;var n=X.findReactContainerForID(t);if(n&&O(n,e))return!0}return!1}function d(e){delete V[e]}function f(e){var t=V[e];return t&&p(t,e)?void(G=t):!1}function h(e){G=null,P.traverseAncestors(e,f);var t=G;return G=null,t}function v(e,t,n,r,o,a){_.useCreateElement&&(a=I({},a),a[q]=n.nodeType===W?n:n.ownerDocument);var i=w.mountComponent(e,t,r,a);e._renderedComponent._topLevelWrapper=e,X._mountImageIntoNode(i,n,o,r)}function m(e,t,n,r,o){var a=R.ReactReconcileTransaction.getPooled(r);a.perform(v,null,e,t,n,a,r,o),R.ReactReconcileTransaction.release(a)}function g(e,t){for(w.unmountComponent(e),t.nodeType===W&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=a(e);return t?t!==P.getReactRootIDFromNodeID(t):!1}function C(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=u(e);if(t){var n,r=P.getReactRootIDFromNodeID(t),o=e;do if(n=u(o),o=o.parentNode,null==o)return null;while(n!==r);if(o===z[r])return e}}return null}var b=e(10),E=e(28),_=(e(39),e(44)),x=e(55),D=e(58),P=e(65),T=e(66),M=e(69),N=e(76),w=e(82),S=e(92),R=e(93),I=e(24),k=e(151),O=e(147),A=e(129),L=e(158),U=e(135),F=e(138),B=(e(141),e(168),b.ID_ATTRIBUTE_NAME),V={},j=1,W=9,K=11,q="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),H={},z={},Y=[],G=null,Q=function(){};Q.prototype.isReactComponent={},Q.prototype.render=function(){return this.props};var X={TopLevelWrapper:Q,_instancesByReactRootID:H,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return X.scrollMonitor(n,function(){S.enqueueElementInternal(e,t),r&&S.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==j&&t.nodeType!==W&&t.nodeType!==K?L(!1):void 0,E.ensureScrollValueMonitoring();var n=X.registerContainer(t);return H[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var o=A(e,null),a=X._registerComponent(o,t);return R.batchedUpdates(m,o,a,t,n,r),o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?L(!1):void 0,X._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){x.isValidElement(t)?void 0:L(!1);var i=new x(Q,null,null,null,null,null,t),s=H[a(n)];if(s){var l=s._currentElement,c=l.props;if(F(c,t)){var p=s._renderedComponent.getPublicInstance(),d=r&&function(){r.call(p)};return X._updateRootComponent(s,i,n,d),p}X.unmountComponentAtNode(n)}var f=o(n),h=f&&!!u(f),v=y(n),m=h&&!s&&!v,g=X._renderNewRootComponent(i,n,m,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):k)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return X._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=a(e);return t&&(t=P.getReactRootIDFromNodeID(t)),t||(t=P.createReactRootID()),z[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==j&&e.nodeType!==W&&e.nodeType!==K?L(!1):void 0;var t=a(e),n=H[t];if(!n){var r=(y(e),u(e));return r&&r===P.getReactRootIDFromNodeID(r),!1}return R.batchedUpdates(g,n,e),delete H[t],delete z[t],!0},findReactContainerForID:function(e){var t=P.getReactRootIDFromNodeID(e),n=z[t];return n},findReactNodeByID:function(e){var t=X.findReactContainerForID(e);return X.findComponentRoot(t,e)},getFirstReactDOM:function(e){return C(e)},findComponentRoot:function(e,t){var n=Y,r=0,o=h(t)||e;for(n[0]=o.firstChild,n.length=1;r<n.length;){for(var a,i=n[r++];i;){var u=X.getID(i);u?t===u?a=i:P.isAncestorIDOf(u,t)&&(n.length=r=0,n.push(i.firstChild)):n.push(i.firstChild),i=i.nextSibling}if(a)return n.length=0,a}n.length=0,L(!1)},_mountImageIntoNode:function(e,t,n,a){if(!t||t.nodeType!==j&&t.nodeType!==W&&t.nodeType!==K?L(!1):void 0,n){var i=o(t);if(M.canReuseMarkup(e,i))return;var u=i.getAttribute(M.CHECKSUM_ATTR_NAME);i.removeAttribute(M.CHECKSUM_ATTR_NAME);var s=i.outerHTML;i.setAttribute(M.CHECKSUM_ATTR_NAME,u);var l=e,c=r(l,s);" (client) "+l.substring(c-20,c+20)+"\n (server) "+s.substring(c-20,c+20),t.nodeType===W?L(!1):void 0}if(t.nodeType===W?L(!1):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else U(t,e)},ownerDocumentContextKey:q,getReactRootID:a,getID:i,setID:s,getNode:l,getNodeFromInstance:c,isValid:p,purgeID:d};N.measureMethods(X,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=X},{10:10,129:129,135:135,138:138,141:141,147:147,151:151,158:158,168:168,24:24,28:28,39:39,44:44,55:55,58:58,65:65,66:66,69:69,76:76,82:82,92:92,93:93}],71:[function(e,t,n){"use strict";function r(e,t,n){m.push({parentID:e,parentNode:null,type:p.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:n})}function o(e,t,n){m.push({parentID:e,parentNode:null,type:p.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function a(e,t){m.push({parentID:e,parentNode:null,type:p.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function i(e,t){m.push({parentID:e,parentNode:null,type:p.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function u(e,t){m.push({parentID:e,parentNode:null,type:p.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(){m.length&&(c.processChildrenUpdates(m,g),l())}function l(){m.length=0,g.length=0}var c=e(36),p=e(72),d=(e(39),e(82)),f=e(31),h=e(120),v=0,m=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var o;return o=h(t),f.updateChildren(e,o,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],a=0;for(var i in r)if(r.hasOwnProperty(i)){var u=r[i],s=this._rootNodeID+i,l=d.mountComponent(u,s,t,n);u._mountIndex=a++,o.push(l)}return o},updateTextContent:function(e){v++;var t=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{v--,v||(t?l():s())}},updateMarkup:function(e){v++;var t=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{v--,v||(t?l():s())}},updateChildren:function(e,t,n){v++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{v--,v||(r?l():s())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var a,i=0,u=0;for(a in o)if(o.hasOwnProperty(a)){var s=r&&r[a],l=o[a];s===l?(this.moveChild(s,u,i),i=Math.max(s._mountIndex,i),s._mountIndex=u):(s&&(i=Math.max(s._mountIndex,i),this._unmountChild(s)),this._mountChildByNameAtIndex(l,a,u,t,n)),u++}for(a in r)!r.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||this._unmountChild(r[a])}},unmountChildren:function(){var e=this._renderedChildren;f.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){a(this._rootNodeID,e._mountIndex)},setTextContent:function(e){u(this._rootNodeID,e)},setMarkup:function(e){i(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var a=this._rootNodeID+t,i=d.mountComponent(e,a,r,o);e._mountIndex=n,this.createChild(e,i)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=y},{120:120,31:31,36:36,39:39,72:72,82:82}],72:[function(e,t,n){"use strict";var r=e(162),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{162:162}],73:[function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=l(t)),n}function o(e){return c?void 0:s(!1),new c(e.type,e.props)}function a(e){return new d(e)}function i(e){return e instanceof d}var u=e(24),s=e(158),l=null,c=null,p={},d=null,f={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){u(p,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:a,isTextComponent:i,injection:f};t.exports=h},{158:158,24:24}],74:[function(e,t,n){"use strict";function r(e,t){}var o=(e(168),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}});t.exports=o},{168:168}],75:[function(e,t,n){"use strict";var r=e(158),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=o},{158:158}],76:[function(e,t,n){"use strict";function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){o.storedMeasure=e}}};t.exports=o},{}],77:[function(e,t,n){"use strict";function r(e){return function(t,n,r){t[n]=t.hasOwnProperty(n)?e(t[n],r):r}}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=l[n];r&&l.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var a=e(24),i=e(150),u=e(161),s=r(function(e,t){return a({},t,e)}),l={children:i,className:r(u),style:s},c={mergeProps:function(e,t){return o(a({},e),t)}};t.exports=c},{150:150,161:161,24:24}],78:[function(e,t,n){"use strict";var r={};t.exports=r},{}],79:[function(e,t,n){"use strict";var r=e(162),o=r({prop:null,context:null,childContext:null});t.exports=o},{162:162}],80:[function(e,t,n){"use strict";function r(e){function t(t,n,r,o,a,i){if(o=o||_,i=i||r,null==n[r]){var u=C[a];return t?new Error("Required "+u+" `"+i+"` was not specified in "+("`"+o+"`.")):null;

}return e(n,r,o,a,i)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,a){var i=t[n],u=v(i);if(u!==e){var s=C[o],l=m(i);return new Error("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function a(){return r(b.thatReturns(null))}function i(e){function t(t,n,r,o,a){var i=t[n];if(!Array.isArray(i)){var u=C[o],s=v(i);return new Error("Invalid "+u+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<i.length;l++){var c=e(i,l,r,o,a+"["+l+"]");if(c instanceof Error)return c}return null}return r(t)}function u(){function e(e,t,n,r,o){if(!y.isValidElement(e[t])){var a=C[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function s(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var i=C[o],u=e.name||_,s=g(t[n]);return new Error("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return r(t)}function l(e){function t(t,n,r,o,a){for(var i=t[n],u=0;u<e.length;u++)if(i===e[u])return null;var s=C[o],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+a+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,r,o,a){var i=t[n],u=v(i);if("object"!==u){var s=C[o];return new Error("Invalid "+s+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in i)if(i.hasOwnProperty(l)){var c=e(i,l,r,o,a+"."+l);if(c instanceof Error)return c}return null}return r(t)}function p(e){function t(t,n,r,o,a){for(var i=0;i<e.length;i++){var u=e[i];if(null==u(t,n,r,o,a))return null}var s=C[o];return new Error("Invalid "+s+" `"+a+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function d(){function e(e,t,n,r,o){if(!h(e[t])){var a=C[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function f(e){function t(t,n,r,o,a){var i=t[n],u=v(i);if("object"!==u){var s=C[o];return new Error("Invalid "+s+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var p=c(i,l,r,o,a+"."+l);if(p)return p}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||y.isValidElement(e))return!0;var t=E(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!h(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=e(55),C=e(78),b=e(150),E=e(126),_="<<anonymous>>",x={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:a(),arrayOf:i,element:u(),instanceOf:s,node:d(),objectOf:c,oneOf:l,oneOfType:p,shape:f};t.exports=x},{126:126,150:150,55:55,78:78}],81:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!e&&u.useCreateElement}var o=e(6),a=e(25),i=e(28),u=e(44),s=e(64),l=e(110),c=e(24),p={initialize:s.getSelectionInformation,close:s.restoreSelection},d={initialize:function(){var e=i.isEnabled();return i.setEnabled(!1),e},close:function(e){i.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],v={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};c(r.prototype,l.Mixin,v),a.addPoolingTo(r),t.exports=r},{110:110,24:24,25:25,28:28,44:44,6:6,64:64}],82:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(83),a={mountComponent:function(e,t,n,o){var a=e.mountComponent(t,n,o);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),a},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,a){var i=e._currentElement;if(t!==i||a!==e._context){var u=o.shouldUpdateRefs(i,t);u&&o.detachRefs(e,i),e.receiveComponent(t,n,a),u&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=a},{83:83}],83:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=e(75),i={};i.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},i.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=i},{75:75}],84:[function(e,t,n){"use strict";var r={injectCreateReactRootIndex:function(e){o.createReactRootIndex=e}},o={createReactRootIndex:null,injection:r};t.exports=o},{}],85:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],86:[function(e,t,n){"use strict";function r(e){i.isValidElement(e)?void 0:h(!1);var t;try{p.injection.injectBatchingStrategy(l);var n=u.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var r=f(e,null),o=r.mountComponent(n,t,d);return s.addChecksumToMarkup(o)},null)}finally{c.release(t),p.injection.injectBatchingStrategy(a)}}function o(e){i.isValidElement(e)?void 0:h(!1);var t;try{p.injection.injectBatchingStrategy(l);var n=u.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var r=f(e,null);return r.mountComponent(n,t,d)},null)}finally{c.release(t),p.injection.injectBatchingStrategy(a)}}var a=e(53),i=e(55),u=e(65),s=e(69),l=e(85),c=e(87),p=e(93),d=e(151),f=e(129),h=e(158);t.exports={renderToString:r,renderToStaticMarkup:o}},{129:129,151:151,158:158,53:53,55:55,65:65,69:69,85:85,87:87,93:93}],87:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=a.getPooled(null),this.useCreateElement=!1}var o=e(25),a=e(6),i=e(110),u=e(24),s=e(150),l={initialize:function(){this.reactMountReady.reset()},close:s},c=[l],p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};u(r.prototype,i.Mixin,p),o.addPoolingTo(r),t.exports=r},{110:110,150:150,24:24,25:25,6:6}],88:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,a,i,u){var s=t.call(e,n,r,o,a,i,u);s&&e.setState(s)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],89:[function(e,t,n){"use strict";var r=e(120),o={getChildMapping:function(e){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var a in e)t.hasOwnProperty(a)?o.length&&(r[a]=o,o=[]):o.push(a);var i,u={};for(var s in t){if(r.hasOwnProperty(s))for(i=0;i<r[s].length;i++){var l=r[s][i];u[r[s][i]]=n(l)}u[s]=n(s)}for(i=0;i<o.length;i++)u[o[i]]=n(o[i]);return u}};t.exports=o},{120:120}],90:[function(e,t,n){"use strict";function r(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete u.animationend.animation,"TransitionEvent"in window||delete u.transitionend.transition;for(var n in u){var r=u[n];for(var o in r)if(o in t){s.push(r[o]);break}}}function o(e,t,n){e.addEventListener(t,n,!1)}function a(e,t,n){e.removeEventListener(t,n,!1)}var i=e(144),u={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];i.canUseDOM&&r();var l={addEndEventListener:function(e,t){return 0===s.length?void window.setTimeout(t,0):void s.forEach(function(n){o(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){a(e,n,t)})}};t.exports=l},{144:144}],91:[function(e,t,n){"use strict";var r=e(26),o=e(89),a=e(24),i=e(150),u=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:i.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=o.getChildMapping(e.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var r;for(r in t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=a({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(r.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});t.exports=u},{150:150,24:24,26:26,89:89}],92:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e,t){var n=i.get(e);return n?n:null}var a=(e(39),e(55)),i=e(66),u=e(93),s=e(24),l=e(158),c=(e(168),{isMounted:function(e){var t=i.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?l(!1):void 0;var n=o(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?l(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var a=n._pendingStateQueue||(n._pendingStateQueue=[]);a.push(t),r(n)}},enqueueSetProps:function(e,t){var n=o(e,"setProps");n&&c.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var o=n._pendingElement||n._currentElement,i=o.props,u=s({},i.props,t);n._pendingElement=a.cloneAndReplaceProps(o,a.cloneAndReplaceProps(i,u)),r(n)},enqueueReplaceProps:function(e,t){var n=o(e,"replaceProps");n&&c.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var o=n._pendingElement||n._currentElement,i=o.props;n._pendingElement=a.cloneAndReplaceProps(o,a.cloneAndReplaceProps(i,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=c},{158:158,168:168,24:24,39:39,55:55,66:66,93:93}],93:[function(e,t,n){"use strict";function r(){T.ReactReconcileTransaction&&b?void 0:m(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!1)}function a(e,t,n,o,a,i){r(),b.batchedUpdates(e,t,n,o,a,i)}function i(e,t){return e._mountOrder-t._mountOrder}function u(e){var t=e.dirtyComponentsLength;t!==g.length?m(!1):void 0,g.sort(i);for(var n=0;t>n;n++){var r=g[n],o=r._pendingCallbacks;if(r._pendingCallbacks=null,f.performUpdateIfNecessary(r,e.reconcileTransaction),o)for(var a=0;a<o.length;a++)e.callbackQueue.enqueue(o[a],r.getPublicInstance())}}function s(e){return r(),b.isBatchingUpdates?void g.push(e):void b.batchedUpdates(s,e)}function l(e,t){b.isBatchingUpdates?void 0:m(!1),y.enqueue(e,t),C=!0}var c=e(6),p=e(25),d=e(76),f=e(82),h=e(110),v=e(24),m=e(158),g=[],y=c.getPooled(),C=!1,b=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),D()):g.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[E,_];v(o.prototype,h.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(o);var D=function(){for(;g.length||C;){if(g.length){var e=o.getPooled();e.perform(u,null,e),o.release(e)}if(C){C=!1;var t=y;y=c.getPooled(),t.notifyAll(),c.release(t)}}};D=d.measure("ReactUpdates","flushBatchedUpdates",D);var P={injectReconcileTransaction:function(e){e?void 0:m(!1),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:m(!1),"function"!=typeof e.batchedUpdates?m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?m(!1):void 0,b=e}},T={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:s,flushBatchedUpdates:D,injection:P,asap:l};t.exports=T},{110:110,158:158,24:24,25:25,6:6,76:76,82:82}],94:[function(e,t,n){"use strict";t.exports="0.14.1"},{}],95:[function(e,t,n){"use strict";var r=e(10),o=r.injection.MUST_USE_ATTRIBUTE,a={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:a.xlink,xlinkArcrole:a.xlink,xlinkHref:a.xlink,xlinkRole:a.xlink,xlinkShow:a.xlink,xlinkTitle:a.xlink,xlinkType:a.xlink,xmlBase:a.xml,xmlLang:a.xml,xmlSpace:a.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=i},{10:10}],96:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(b||null==g||g!==c())return null;var n=r(g);if(!C||!f(C,n)){C=n;var o=l.getPooled(m.select,y,e,t);return o.type="select",o.target=g,i.accumulateTwoPhaseDispatches(o),o}return null}var a=e(15),i=e(19),u=e(144),s=e(64),l=e(102),c=e(153),p=e(131),d=e(163),f=e(166),h=a.topLevelTypes,v=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},g=null,y=null,C=null,b=!1,E=!1,_=d({onSelect:null}),x={eventTypes:m,extractEvents:function(e,t,n,r,a){if(!E)return null;switch(e){case h.topFocus:(p(t)||"true"===t.contentEditable)&&(g=t,y=n,C=null);break;case h.topBlur:g=null,y=null,C=null;break;case h.topMouseDown:b=!0;break;case h.topContextMenu:case h.topMouseUp:return b=!1,o(r,a);case h.topSelectionChange:if(v)break;case h.topKeyDown:case h.topKeyUp:return o(r,a)}return null},didPutListener:function(e,t,n){t===_&&(E=!0)}};t.exports=x},{102:102,131:131,144:144,15:15,153:153,163:163,166:166,19:19,64:64}],97:[function(e,t,n){"use strict";var r=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=o},{}],98:[function(e,t,n){"use strict";var r=e(15),o=e(143),a=e(19),i=e(70),u=e(99),s=e(102),l=e(103),c=e(105),p=e(106),d=e(101),f=e(107),h=e(108),v=e(109),m=e(150),g=e(122),y=e(158),C=e(163),b=r.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:C({onAbort:!0}),captured:C({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:C({onBlur:!0}),captured:C({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:C({onCanPlay:!0}),captured:C({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:C({onCanPlayThrough:!0}),captured:C({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:C({onClick:!0}),captured:C({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:C({onContextMenu:!0}),captured:C({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:C({onCopy:!0}),captured:C({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:C({onCut:!0}),captured:C({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:C({onDoubleClick:!0}),captured:C({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:C({onDrag:!0}),captured:C({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:C({onDragEnd:!0}),captured:C({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:C({onDragEnter:!0}),captured:C({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:C({onDragExit:!0}),captured:C({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:C({onDragLeave:!0}),captured:C({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:C({onDragOver:!0}),captured:C({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:C({onDragStart:!0}),captured:C({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:C({onDrop:!0}),captured:C({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:C({onDurationChange:!0}),captured:C({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:C({onEmptied:!0}),captured:C({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:C({onEncrypted:!0}),captured:C({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:C({onEnded:!0}),captured:C({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:C({onError:!0}),captured:C({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:C({onFocus:!0}),captured:C({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:C({onInput:!0}),captured:C({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:C({onKeyDown:!0}),captured:C({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:C({onKeyPress:!0}),captured:C({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:C({onKeyUp:!0}),captured:C({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:C({onLoad:!0}),captured:C({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:C({onLoadedData:!0}),captured:C({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:C({onLoadedMetadata:!0}),captured:C({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:C({onLoadStart:!0}),captured:C({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:C({onMouseDown:!0}),captured:C({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:C({onMouseMove:!0}),captured:C({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:C({onMouseOut:!0}),captured:C({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:C({onMouseOver:!0}),captured:C({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:C({onMouseUp:!0}),captured:C({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:C({onPaste:!0}),captured:C({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:C({onPause:!0}),captured:C({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:C({onPlay:!0}),captured:C({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:C({onPlaying:!0}),captured:C({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:C({onProgress:!0}),captured:C({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:C({onRateChange:!0}),captured:C({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:C({onReset:!0}),captured:C({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:C({onScroll:!0}),captured:C({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:C({onSeeked:!0}),captured:C({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:C({onSeeking:!0}),captured:C({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:C({onStalled:!0}),captured:C({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:C({onSubmit:!0}),captured:C({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:C({onSuspend:!0}),captured:C({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:C({onTimeUpdate:!0}),captured:C({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:C({onTouchCancel:!0}),captured:C({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:C({onTouchEnd:!0}),captured:C({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:C({onTouchMove:!0}),captured:C({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:C({onTouchStart:!0}),captured:C({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:C({onVolumeChange:!0}),captured:C({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:C({onWaiting:!0}),captured:C({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:C({onWheel:!0}),captured:C({onWheelCapture:!0})}}},_={topAbort:E.abort,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var x in _)_[x].dependencies=[x];var D=C({onClick:null}),P={},T={eventTypes:E,extractEvents:function(e,t,n,r,o){var i=_[e];if(!i)return null;var m;switch(e){case b.topAbort:case b.topCanPlay:case b.topCanPlayThrough:case b.topDurationChange:case b.topEmptied:case b.topEncrypted:case b.topEnded:case b.topError:case b.topInput:case b.topLoad:case b.topLoadedData:case b.topLoadedMetadata:case b.topLoadStart:case b.topPause:case b.topPlay:case b.topPlaying:case b.topProgress:case b.topRateChange:case b.topReset:case b.topSeeked:case b.topSeeking:case b.topStalled:case b.topSubmit:case b.topSuspend:case b.topTimeUpdate:case b.topVolumeChange:case b.topWaiting:m=s;break;case b.topKeyPress:if(0===g(r))return null;case b.topKeyDown:case b.topKeyUp:m=c;break;case b.topBlur:case b.topFocus:m=l;break;case b.topClick:if(2===r.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:m=p;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:m=d;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:m=f;break;case b.topScroll:m=h;break;case b.topWheel:m=v;break;case b.topCopy:case b.topCut:case b.topPaste:m=u}m?void 0:y(!1);var C=m.getPooled(i,n,r,o);return a.accumulateTwoPhaseDispatches(C),C},didPutListener:function(e,t,n){if(t===D){var r=i.getNode(e);P[e]||(P[e]=o.listen(r,"click",m))}},willDeleteListener:function(e,t){t===D&&(P[e].remove(),delete P[e])}};t.exports=T},{101:101,102:102,103:103,105:105,106:106,107:107,108:108,109:109,122:122,143:143,15:15,150:150,158:158,163:163,19:19,70:70,99:99}],99:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(102),a={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,a),t.exports=r},{102:102}],100:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(102),a={data:null};o.augmentClass(r,a),t.exports=r},{102:102}],101:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(106),a={dataTransfer:null};o.augmentClass(r,a),t.exports=r},{106:106}],102:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=r,this.currentTarget=r;var o=this.constructor.Interface;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];this[a]=u?u(n):n[a]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=s?i.thatReturnsTrue:i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse}var o=e(25),a=e(24),i=e(150),u=(e(168),{type:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});a(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=i.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=i.thatReturnsTrue)},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);a(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=a({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),t.exports=r},{150:150,168:168,24:24,25:25}],103:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(108),a={relatedTarget:null};o.augmentClass(r,a),t.exports=r},{108:108}],104:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(102),a={data:null};o.augmentClass(r,a),t.exports=r},{102:102}],105:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(108),a=e(122),i=e(123),u=e(124),s={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?a(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?a(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,s),t.exports=r},{108:108,122:122,123:123,124:124}],106:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(108),a=e(111),i=e(124),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+a.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+a.currentScrollTop}};o.augmentClass(r,u),t.exports=r},{108:108,111:111,124:124}],107:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(108),a=e(124),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,
ctrlKey:null,shiftKey:null,getModifierState:a};o.augmentClass(r,i),t.exports=r},{108:108,124:124}],108:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(102),a=e(125),i={view:function(e){if(e.view)return e.view;var t=a(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,i),t.exports=r},{102:102,125:125}],109:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(106),a={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,a),t.exports=r},{106:106}],110:[function(e,t,n){"use strict";var r=e(158),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,a,i,u,s){this.isInTransaction()?r(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,a,i,u,s),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=a.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===a.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,i=t[n],u=this.wrapperInitData[n];try{o=!0,u!==a.OBSERVED_ERROR&&i.close&&i.close.call(this,u),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},a={Mixin:o,OBSERVED_ERROR:{}};t.exports=a},{158:158}],111:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],112:[function(e,t,n){"use strict";function r(e,t){if(null==t?o(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e(158);t.exports=r},{158:158}],113:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,a=e.length,i=-4&a;i>r;){for(;r<Math.min(r+4096,i);r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;a>r;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],114:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],115:[function(e,t,n){"use strict";function r(e,t){var n=a.mergeProps(t,e.props);return!n.hasOwnProperty(u)&&e.props.hasOwnProperty(u)&&(n.children=e.props.children),o.createElement(e.type,n)}var o=e(55),a=e(77),i=e(163),u=(e(168),i({children:null}));t.exports=r},{163:163,168:168,55:55,77:77}],116:[function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||a.hasOwnProperty(e)&&a[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(4),a=o.isUnitlessNumber;t.exports=r},{4:4}],117:[function(e,t,n){"use strict";function r(e,t,n,r,o){return o}e(24),e(168),t.exports=r},{168:168,24:24}],118:[function(e,t,n){"use strict";function r(e){return a[e]}function o(e){return(""+e).replace(i,r)}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;t.exports=o},{}],119:[function(e,t,n){"use strict";function r(e){return null==e?null:1===e.nodeType?e:o.has(e)?a.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?i(!1):void 0,void i(!1))}var o=(e(39),e(66)),a=e(70),i=e(158);e(168),t.exports=r},{158:158,168:168,39:39,66:66,70:70}],120:[function(e,t,n){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return a(e,r,t),t}var a=e(139);e(168),t.exports=o},{139:139,168:168}],121:[function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],122:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],123:[function(e,t,n){"use strict";function r(e){if(e.key){var t=a[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?i[e.keyCode]||"Unidentified":""}var o=e(122),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{122:122}],124:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=a[e];return r?!!n[r]:!1}function o(e){return r}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],125:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],126:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[a]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";t.exports=r},{}],127:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function a(e,t){for(var n=r(e),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,t>=a&&i>=t)return{node:n,offset:t-a};a=i}n=r(o(n))}}t.exports=a},{}],128:[function(e,t,n){"use strict";function r(){return!a&&o.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var o=e(144),a=null;t.exports=r},{144:144}],129:[function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t;if(null===e||e===!1)t=new i(o);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?l(!1):void 0,t="string"==typeof n.type?u.createInternalComponent(n):r(n.type)?new n.type(n):new c}else"string"==typeof e||"number"==typeof e?t=u.createInstanceForText(e):l(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var a=e(38),i=e(57),u=e(73),s=e(24),l=e(158),c=(e(168),function(){});s(c.prototype,a.Mixin,{_instantiateReactComponent:o}),t.exports=o},{158:158,168:168,24:24,38:38,57:57,73:73}],130:[function(e,t,n){"use strict";function r(e,t){if(!a.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r="function"==typeof i[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,a=e(144);a.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{144:144}],131:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],132:[function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:a(!1),e}var o=e(55),a=e(158);t.exports=r},{158:158,55:55}],133:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(118);t.exports=r},{118:118}],134:[function(e,t,n){"use strict";var r=e(70);t.exports=r.renderSubtreeIntoContainer},{70:70}],135:[function(e,t,n){"use strict";var r=e(144),o=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,i=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(i=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(i=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=i},{144:144}],136:[function(e,t,n){"use strict";var r=e(144),o=e(118),a=e(135),i=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(i=function(e,t){a(e,o(t))})),t.exports=i},{118:118,135:135,144:144}],137:[function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=e(166);t.exports=r},{166:166}],138:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,a=typeof t;return"string"===o||"number"===o?"string"===a||"number"===a:"object"===a&&e.type===t.type&&e.key===t.key}t.exports=r},{}],139:[function(e,t,n){"use strict";function r(e){return v[e]}function o(e,t){return e&&null!=e.key?i(e.key):t.toString(36)}function a(e){return(""+e).replace(m,r)}function i(e){return"$"+a(e)}function u(e,t,n,r){var a=typeof e;if(("undefined"===a||"boolean"===a)&&(e=null),null===e||"string"===a||"number"===a||l.isValidElement(e))return n(r,e,""===t?f+o(e,0):t),1;var s,c,v=0,m=""===t?f:t+h;if(Array.isArray(e))for(var g=0;g<e.length;g++)s=e[g],c=m+o(s,g),v+=u(s,c,n,r);else{var y=p(e);if(y){var C,b=y.call(e);if(y!==e.entries)for(var E=0;!(C=b.next()).done;)s=C.value,c=m+o(s,E++),v+=u(s,c,n,r);else for(;!(C=b.next()).done;){var _=C.value;_&&(s=_[1],c=m+i(_[0])+h+o(s,0),v+=u(s,c,n,r))}}else"object"===a&&(String(e),d(!1))}return v}function s(e,t,n){return null==e?0:u(e,"",t,n)}var l=(e(39),e(55)),c=e(65),p=e(126),d=e(158),f=(e(168),c.SEPARATOR),h=":",v={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;t.exports=s},{126:126,158:158,168:168,39:39,55:55,65:65}],140:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?i(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)?void 0:s(!1);var r=t[n];Array.isArray(r)?void 0:s(!1)}function a(e,t){if("object"!=typeof t?s(!1):void 0,l.call(t,f))return 1!==Object.keys(t).length?s(!1):void 0,t[f];var n=r(e);if(l.call(t,h)){var u=t[h];u&&"object"==typeof u?void 0:s(!1),n&&"object"==typeof n?void 0:s(!1),i(n,t[h])}l.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,p)&&(o(e,t,p),t[p].forEach(function(e){n.unshift(e)})),l.call(t,d)&&(Array.isArray(e)?void 0:s(!1),Array.isArray(t[d])?void 0:s(!1),t[d].forEach(function(e){Array.isArray(e)?void 0:s(!1),n.splice.apply(n,e)})),l.call(t,v)&&("function"!=typeof t[v]?s(!1):void 0,n=t[v](n));for(var m in t)g.hasOwnProperty(m)&&g[m]||(n[m]=a(e[m],t[m]));return n}var i=e(24),u=e(163),s=e(158),l={}.hasOwnProperty,c=u({$push:null}),p=u({$unshift:null}),d=u({$splice:null}),f=u({$set:null}),h=u({$merge:null}),v=u({$apply:null}),m=[c,p,d,f,h,v],g={};m.forEach(function(e){g[e]=!0}),t.exports=a},{158:158,163:163,24:24}],141:[function(e,t,n){"use strict";var r=(e(24),e(150)),o=(e(168),r);t.exports=o},{150:150,168:168,24:24}],142:[function(e,t,n){"use strict";var r=e(158),o={addClass:function(e,t){return/\s/.test(t)?r(!1):void 0,t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?r(!1):void 0,t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?r(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=o},{158:158}],143:[function(e,t,n){"use strict";var r=e(150),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{150:150}],144:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],145:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],146:[function(e,t,n){"use strict";function r(e){return o(e.replace(a,"ms-"))}var o=e(145),a=/^-ms-/;t.exports=r},{145:145}],147:[function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,a=t;if(n=!1,r&&a){if(r===a)return!0;if(o(r))return!1;if(o(a)){e=r,t=a.parentNode,n=!0;continue e}return r.contains?r.contains(a):r.compareDocumentPosition?!!(16&r.compareDocumentPosition(a)):!1}return!1}}var o=e(160);t.exports=r},{160:160}],148:[function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():a(e):[e]}var a=e(167);t.exports=o},{167:167}],149:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:s(!1);var o=r(e),a=o&&u(o);if(a){n.innerHTML=a[1]+e+a[2];for(var c=a[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:s(!1),i(p).forEach(t));for(var d=i(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var a=e(144),i=e(148),u=e(154),s=e(158),l=a.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{144:144,148:148,154:154,158:158}],150:[function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],151:[function(e,t,n){"use strict";var r={};t.exports=r},{}],152:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],153:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],154:[function(e,t,n){"use strict";function r(e){return i?void 0:a(!1),d.hasOwnProperty(e)||(e="*"),u.hasOwnProperty(e)||(i.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",u[e]=!i.firstChild),u[e]?d[e]:null}var o=e(144),a=e(158),i=o.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,u[e]=!0}),t.exports=r},{144:144,158:158}],155:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],156:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],157:[function(e,t,n){"use strict";function r(e){return o(e).replace(a,"-ms-")}var o=e(156),a=/^ms-/;t.exports=r},{156:156}],158:[function(e,t,n){"use strict";var r=function(e,t,n,r,o,a,i,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,u],c=0;s=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[c++]}))}throw s.framesToPop=1,s}};t.exports=r},{}],159:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],160:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(159);t.exports=r},{159:159}],161:[function(e,t,n){"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=r},{}],162:[function(e,t,n){"use strict";var r=e(158),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{158:158}],163:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],164:[function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var a in e)o.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],165:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],166:[function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=o.bind(t),i=0;i<n.length;i++)if(!a(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],167:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1):void 0,"number"!=typeof t?o(!1):void 0,0===t||t-1 in e?void 0:o(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),a=0;t>a;a++)r[a]=e[a];return r}var o=e(158);t.exports=r},{158:158}],168:[function(e,t,n){"use strict";var r=e(150),o=r;t.exports=o},{150:150}]},{},[1])(1)});;
//!file:react-dom.min.js
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,f.ReactDOM=e(f.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});;
//!file:jquery.uniform.min.js
!function(e,t,n){"use strict";function s(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function a(e,t,n){var s,a;for(s in n)n.hasOwnProperty(s)&&(a=s.replace(/ |$/g,t.eventNamespace),e.bind(a,n[s]))}function r(e,t,n){a(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function i(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function l(e,t,n){n?e.addClass(t):e.removeClass(t)}function u(e,t,n){var s="checked",a=t.is(":"+s);t.prop?t.prop(s,a):a?t.attr(s,s):t.removeAttr(s),l(e,n.checkedClass,a)}function o(e,t,n){l(e,n.disabledClass,t.is(":disabled"))}function c(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function d(e,n,a){var r,i,l;return a||(a={}),a=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},a),r=t("<div />"),i=t("<span />"),n.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&r.hide(),a.divClass&&r.addClass(a.divClass),n.wrapperClass&&r.addClass(n.wrapperClass),a.spanClass&&i.addClass(a.spanClass),l=s(e,"id"),n.useID&&l&&s(r,"id",n.idPrefix+"-"+l),a.spanHtml&&i.html(a.spanHtml),r=c(e,r,a.divWrap),i=c(e,i,a.spanWrap),o(r,e,n),{div:r,span:i}}function f(e,n){var s;return n.wrapperClass?(s=t("<span />").addClass(n.wrapperClass),s=c(e,s,"wrap")):null}function p(){var n,s,a,r;return r="rgb(120,2,153)",s=t('<div style="width:0;height:0;color:'+r+'">'),t("body").append(s),a=s.get(0),n=e.getComputedStyle?e.getComputedStyle(a,"").color:(a.currentStyle||a.style||{}).color,s.remove(),n.replace(/ /g,"")!==r}function m(e){return e?t("<span />").text(e).html():""}function v(){return navigator.cpuClass&&!navigator.product}function h(){return void 0!==e.XMLHttpRequest?!0:!1}function C(e){var t;return e[0].multiple?!0:(t=s(e,"size"),!t||1>=t?!1:!0)}function b(){return!1}function y(e,t){var n="none";a(e,t,{"selectstart dragstart mousedown":b}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function w(e,t,n){var s=e.val();""===s?s=n.fileDefaultHtml:(s=s.split(/[\/\\]+/),s=s[s.length-1]),t.text(s)}function g(e,t,n){var s,a;for(s=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();s.length;)a=s.pop(),a.el.style[a.name]=a.old}function k(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),g(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function H(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var x=!0,A=!1,W=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,n){var l,u,c,f,p;return u=n.submitDefaultHtml,t.is(":reset")&&(u=n.resetDefaultHtml),f=t.is("a, button")?function(){return t.html()||u}:function(){return m(s(t,"value"))||u},c=d(t,n,{divClass:n.buttonClass,spanHtml:f()}),l=c.div,r(t,l,n),p=!1,a(l,n,{"click touchend":function(){var n,a,r,i;p||t.is(":disabled")||(p=!0,t[0].dispatchEvent?(n=document.createEvent("MouseEvents"),n.initEvent("click",!0,!0),a=t[0].dispatchEvent(n),t.is("a")&&a&&(r=s(t,"target"),i=s(t,"href"),r&&"_self"!==r?e.open(i,r):document.location.href=i)):t.click(),p=!1)}}),y(l,n),{remove:function(){return l.after(t),l.remove(),t.unbind(n.eventNamespace),t},update:function(){i(l,n),o(l,t,n),t.detach(),c.span.html(f()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,s,l;return n=d(e,t,{divClass:t.checkboxClass}),s=n.div,l=n.span,r(e,s,t),a(e,t,{"click touchend":function(){u(l,e,t)}}),u(l,e,t),{remove:H(e,t),update:function(){i(s,t),l.removeClass(t.checkedClass),u(l,e,t),o(s,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,n){function l(){w(e,p,n)}var u,f,p,m;return u=d(e,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:n.fileButtonHtml,spanWrap:"after"}),f=u.div,m=u.span,p=t("<span />").html(n.fileDefaultHtml),p.addClass(n.filenameClass),p=c(e,p,"after"),s(e,"size")||s(e,"size",f.width()/10),r(e,f,n),l(),v()?a(e,n,{click:function(){e.trigger("change"),setTimeout(l,0)}}):a(e,n,{change:l}),y(p,n),y(m,n),{remove:function(){return p.remove(),m.remove(),e.unwrap().unbind(n.eventNamespace)},update:function(){i(f,n),w(e,p,n),o(f,e,n)}}}},{match:function(e){if(e.is("input")){var t=(" "+s(e,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(t)>=0}return!1},apply:function(e,t){var n,a;return n=s(e,"type"),e.addClass(t.inputClass),a=f(e,t),r(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),a&&e.unwrap()},update:b}}},{match:function(e){return e.is(":radio")},apply:function(e,n){var l,c,f;return l=d(e,n,{divClass:n.radioClass}),c=l.div,f=l.span,r(e,c,n),a(e,n,{"click touchend":function(){t.uniform.update(t(':radio[name="'+s(e,"name")+'"]'))}}),u(f,e,n),{remove:H(e,n),update:function(){i(c,n),u(f,e,n),o(c,e,n)}}}},{match:function(e){return e.is("select")&&!C(e)?!0:!1},apply:function(e,n){var s,l,u,c;return n.selectAutoWidth&&k(e,function(){c=e.width()}),s=d(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),l=s.div,u=s.span,n.selectAutoWidth?k(e,function(){g(t([u[0],l[0]]),{display:"block"},function(){var e;e=u.outerWidth()-u.width(),l.width(c+e),u.width(c)})}):l.addClass("fixedWidth"),r(e,l,n),a(e,n,{change:function(){u.html(e.find(":selected").html()),l.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();u.html()!==t&&e.trigger("change")},keyup:function(){u.html(e.find(":selected").html())}}),y(u,n),{remove:function(){return u.remove(),e.unwrap().unbind(n.eventNamespace),e},update:function(){n.selectAutoWidth?(t.uniform.restore(e),e.uniform(n)):(i(l,n),u.html(e.find(":selected").html()),o(l,e,n))}}}},{match:function(e){return e.is("select")&&C(e)?!0:!1},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=f(e,t),r(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:b}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=f(e,t),r(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:b}}}];v()&&!h()&&(x=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(n){var s=this;return n=t.extend({},t.uniform.defaults,n),A||(A=!0,p()&&(x=!1)),x?(n.resetSelector&&t(n.resetSelector).mouseup(function(){e.setTimeout(function(){t.uniform.update(s)},10)}),this.each(function(){var e,s,a,r=t(this);if(r.data("uniformed"))return void t.uniform.update(r);for(e=0;e<W.length;e+=1)if(s=W[e],s.match(r,n))return a=s.apply(r,n),r.data("uniformed",a),void t.uniform.elements.push(r.get(0))})):this},t.uniform.restore=t.fn.uniform.restore=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n,s=t(this);n=s.data("uniformed"),n&&(n.remove(),e=t.inArray(this,t.uniform.elements),e>=0&&t.uniform.elements.splice(e,1),s.removeData("uniformed"))})},t.uniform.update=t.fn.uniform.update=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n=t(this);e=n.data("uniformed"),e&&e.update(n,e.options)})}}(this,jQuery);;
//!file:jquery.autosize.js
!function($){var mirrored,defaults={className:"autosizejs",append:"",callback:!1},hidden="hidden",borderBox="border-box",lineHeight="lineHeight",copy='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',copyStyle=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],oninput="oninput",onpropertychange="onpropertychange",mirror=$(copy).data("autosize",!0)[0];mirror.style.lineHeight="99px","99px"===$(mirror).css(lineHeight)&&copyStyle.push(lineHeight),mirror.style.lineHeight="",$.fn.autosize=function(options){return options=$.extend({},defaults,options||{}),mirror.parentNode!==document.body&&$(document.body).append(mirror),this.each(function(){function initMirror(){mirrored=ta,mirror.className=options.className,$.each(copyStyle,function(i,val){mirror.style[val]=$ta.css(val)})}function adjust(){var height,overflow,original;if(mirrored!==ta&&initMirror(),!active){active=!0,mirror.value=ta.value+options.append,mirror.style.overflowY=ta.style.overflowY,original=parseInt(ta.style.height,10),mirror.style.width=Math.max($ta.width(),0)+"px",mirror.scrollTop=0,mirror.scrollTop=9e4,height=mirror.scrollTop;var maxHeight=parseInt($ta.css("maxHeight"),10);maxHeight=maxHeight&&maxHeight>0?maxHeight:9e4,height>maxHeight?(height=maxHeight,overflow="scroll"):minHeight>height&&(height=minHeight),height+=boxOffset,ta.style.overflowY=overflow||hidden,original!==height&&(ta.style.height=height+"px",callback&&options.callback.call(ta)),setTimeout(function(){active=!1},1)}}var minHeight,active,resize,ta=this,$ta=$(ta),boxOffset=0,callback=$.isFunction(options.callback);$ta.data("autosize")||(minHeight=parseInt($ta.css("minHeight"),10)||$ta.height(),($ta.css("box-sizing")===borderBox||$ta.css("-moz-box-sizing")===borderBox||$ta.css("-webkit-box-sizing")===borderBox)&&(boxOffset=$ta.outerHeight()-$ta.height()),resize="none"===$ta.css("resize")||"vertical"===$ta.css("resize")?"none":"horizontal",$ta.css({overflow:hidden,overflowY:hidden,wordWrap:"break-word",resize:resize}).data("autosize",!0),onpropertychange in ta?oninput in ta?ta[oninput]=ta.onkeyup=adjust:ta[onpropertychange]=adjust:ta[oninput]=adjust,$(window).resize(adjust),$ta.bind("autosize",adjust),adjust())})}}(window.jQuery||window.Zepto);;
//!file:jquery.spin.min.js
!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function o(t,e){var o,i=document.createElement(t||"div");for(o in e)i[o]=e[o];return i}function n(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function s(t,o,n,s){var a=["opacity",o,~~(100*t),n,s].join("-"),f=.01+n/s*100,l=Math.max(1-(1-t)/o*(100-f),t),u=i.substring(0,i.indexOf("Animation")).toLowerCase(),d=u&&"-"+u+"-"||"";return e[a]||(r.insertRule("@"+d+"keyframes "+a+"{0%{opacity:"+l+"}"+f+"%{opacity:"+t+"}"+(f+.01)+"%{opacity:1}"+(f+o)%100+"%{opacity:"+t+"}100%{opacity:"+l+"}}",r.cssRules.length),e[a]=1),a}function a(e,i){var n,r,o=e.style;for(i=i.charAt(0).toUpperCase()+i.slice(1),r=0;r<t.length;r++)if(n=t[r]+i,void 0!==o[n])return n;return void 0!==o[i]?i:void 0}function f(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function u(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function d(t,e){return"string"==typeof t?t:t[e%t.length]}function c(t){return"undefined"==typeof this?new c(t):void(this.opts=l(t||{},c.defaults,p))}function h(){function t(t,e){return o("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}r.addRule(".spin-vml","behavior:url(#default#VML)"),c.prototype.lines=function(e,i){function s(){return f(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}function p(e,r,a){n(l,n(f(s(),{rotation:360/i.lines*e+"deg",left:~~r}),n(f(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:d(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}var u,o=i.length+i.width,r=2*o,a=2*-(i.width+i.length)+"px",l=f(s(),{position:"absolute",top:a,left:a});if(i.shadow)for(u=1;u<=i.lines;u++)p(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=i.lines;u++)p(u);return n(e,l)},c.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=n.childNodes[e+o],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}var i,t=["webkit","Moz","ms","O"],e={},r=function(){var t=o("style",{type:"text/css"});return n(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};c.defaults={},l(c.prototype,{spin:function(t){this.stop();var a,l,e=this,n=e.opts,r=e.el=f(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width;if(t&&(t.insertBefore(r,t.firstChild||null),l=u(t),a=u(r),f(r,{left:("auto"==n.left?l.x-a.x+(t.offsetWidth>>1):parseInt(n.left,10)+s)+"px",top:("auto"==n.top?l.y-a.y+(t.offsetHeight>>1):parseInt(n.top,10)+s)+"px"})),r.setAttribute("role","progressbar"),e.lines(r,e.opts),!i){var c,d=0,p=(n.lines-1)*(1-n.direction)/2,h=n.fps,m=h/n.speed,y=(1-n.opacity)/(m*n.trail/100),g=m/n.lines;!function v(){d++;for(var t=0;t<n.lines;t++)c=Math.max(1-(d+(n.lines-t)*g)%m*y,n.opacity),e.opacity(r,t*n.direction+p,c,n);e.timeout=e.el&&setTimeout(v,~~(1e3/h))}()}return e},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(t,e){function u(t,i){return f(o(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*r+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var l,r=0,a=(e.lines-1)*(1-e.direction)/2;r<e.lines;r++)l=f(o(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:i&&s(e.opacity,e.trail,a+r*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&n(l,f(u("#000","0 0 4px #000"),{top:"2px"})),n(t,n(l,u(d(e.color,r),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var m=f(o("group"),{behavior:"url(#default#VML)"});return!a(m,"transform")&&m.adj?h():i=a(m,"animation"),c});;
//!file:raphael-min.js
!function(a){var h,i,b="0.3.4",c="hasOwnProperty",d=/[\.\/]/,e="*",f=function(){},g=function(a,b){return a-b},j={n:{}},k=function(a,b){var n,d=i,e=Array.prototype.slice.call(arguments,2),f=k.listeners(a),l=0,o=[],p={},q=[],r=h;h=a,i=0;for(var t=0,u=f.length;u>t;t++)"zIndex"in f[t]&&(o.push(f[t].zIndex),f[t].zIndex<0&&(p[f[t].zIndex]=f[t]));for(o.sort(g);o[l]<0;)if(n=p[o[l++]],q.push(n.apply(b,e)),i)return i=d,q;for(t=0;u>t;t++)if(n=f[t],"zIndex"in n)if(n.zIndex==o[l]){if(q.push(n.apply(b,e)),i)break;do if(l++,n=p[o[l]],n&&q.push(n.apply(b,e)),i)break;while(n)}else p[n.zIndex]=n;else if(q.push(n.apply(b,e)),i)break;return i=d,h=r,q.length?q:null};k.listeners=function(a){var f,g,h,i,k,l,m,n,b=a.split(d),c=j,o=[c],p=[];for(i=0,k=b.length;k>i;i++){for(n=[],l=0,m=o.length;m>l;l++)for(c=o[l].n,g=[c[b[i]],c[e]],h=2;h--;)f=g[h],f&&(n.push(f),p=p.concat(f.f||[]));o=n}return p},k.on=function(a,b){for(var c=a.split(d),e=j,g=0,h=c.length;h>g;g++)e=e.n,!e[c[g]]&&(e[c[g]]={n:{}}),e=e[c[g]];for(e.f=e.f||[],g=0,h=e.f.length;h>g;g++)if(e.f[g]==b)return f;return e.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){i=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(h):h},k.off=k.unbind=function(a,b){var g,h,i,k,l,m,n,f=a.split(d),o=[j];for(k=0,l=f.length;l>k;k++)for(m=0;m<o.length;m+=i.length-2){if(i=[m,1],g=o[m].n,f[k]!=e)g[f[k]]&&i.push(g[f[k]]);else for(h in g)g[c](h)&&i.push(g[h]);o.splice.apply(o,i)}for(k=0,l=o.length;l>k;k++)for(g=o[k];g.n;){if(b){if(g.f){for(m=0,n=g.f.length;n>m;m++)if(g.f[m]==b){g.f.splice(m,1);break}!g.f.length&&delete g.f}for(h in g.n)if(g.n[c](h)&&g.n[h].f){var p=g.n[h].f;for(m=0,n=p.length;n>m;m++)if(p[m]==b){p.splice(m,1);break}!p.length&&delete g.n[h].f}}else{delete g.f;for(h in g.n)g.n[c](h)&&g.n[h].f&&delete g.n[h].f}g=g.n}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);return k.unbind(a,c),d};return k.on(a,c)},k.version=b,k.toString=function(){return"You are running Eve "+b},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(){function cF(a){for(var b=0;b<cy.length;b++)cy[b].el.paper==a&&cy.splice(b--,1)}function cE(b,d,e,f,h,i){e=Q(e);var j,k,l,o,p,q,t=b.ms,u={},v={},w={};if(f)for(y=0,z=cy.length;z>y;y++){var x=cy[y];if(x.el.id==d.id&&x.anim==b){x.percent!=e?(cy.splice(y,1),l=1):k=x,d.attr(x.totalOrigin);break}}else f=+v;for(var y=0,z=b.percents.length;z>y;y++){if(b.percents[y]==e||b.percents[y]>f*b.top){e=b.percents[y],p=b.percents[y-1]||0,t=t/b.top*(e-p),o=b.percents[y+1],j=b.anim[e];break}f&&d.attr(b.anim[b.percents[y]])}if(j){if(k)k.initstatus=f,k.start=new Date-k.ms*f;else{for(var A in j)if(j[g](A)&&(U[g](A)||d.paper.customAttributes[g](A)))switch(u[A]=d.attr(A),null==u[A]&&(u[A]=T[A]),v[A]=j[A],U[A]){case C:w[A]=(v[A]-u[A])/t;break;case"colour":u[A]=a.getRGB(u[A]);var B=a.getRGB(v[A]);w[A]={r:(B.r-u[A].r)/t,g:(B.g-u[A].g)/t,b:(B.b-u[A].b)/t};break;case"path":var D=bR(u[A],v[A]),E=D[1];for(u[A]=D[0],w[A]=[],y=0,z=u[A].length;z>y;y++){w[A][y]=[0];for(var F=1,G=u[A][y].length;G>F;F++)w[A][y][F]=(E[y][F]-u[A][y][F])/t}break;case"transform":var H=d._,I=ca(H[A],v[A]);if(I)for(u[A]=I.from,v[A]=I.to,w[A]=[],w[A].real=!0,y=0,z=u[A].length;z>y;y++)for(w[A][y]=[u[A][y][0]],F=1,G=u[A][y].length;G>F;F++)w[A][y][F]=(v[A][y][F]-u[A][y][F])/t;else{var J=d.matrix||new cb,K={_:{transform:H.transform},getBBox:function(){return d.getBBox(1)}};u[A]=[J.a,J.b,J.c,J.d,J.e,J.f],b$(K,v[A]),v[A]=K._.transform,w[A]=[(K.matrix.a-J.a)/t,(K.matrix.b-J.b)/t,(K.matrix.c-J.c)/t,(K.matrix.d-J.d)/t,(K.matrix.e-J.e)/t,(K.matrix.f-J.f)/t]}break;case"csv":var L=r(j[A])[s](c),M=r(u[A])[s](c);if("clip-rect"==A)for(u[A]=M,w[A]=[],y=M.length;y--;)w[A][y]=(L[y]-u[A][y])/t;v[A]=L;break;default:for(L=[][n](j[A]),M=[][n](u[A]),w[A]=[],y=d.paper.customAttributes[A].length;y--;)w[A][y]=((L[y]||0)-(M[y]||0))/t}var O=j.easing,P=a.easing_formulas[O];if(!P)if(P=r(O).match(N),P&&5==P.length){var R=P;P=function(a){return cC(a,+R[1],+R[2],+R[3],+R[4],t)}}else P=bf;if(q=j.start||b.start||+new Date,x={anim:b,percent:e,timestamp:q,start:q+(b.del||0),status:0,initstatus:f||0,stop:!1,ms:t,easing:P,from:u,diff:w,to:v,el:d,callback:j.callback,prev:p,next:o,repeat:i||b.times,origin:d.attr(),totalOrigin:h},cy.push(x),f&&!k&&!l&&(x.stop=!0,x.start=new Date-t*f,1==cy.length))return cA();l&&(x.start=new Date-x.ms*f),1==cy.length&&cz(cA)}eve("raphael.anim.start."+d.id,d,b)}}function cD(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[g](e)&&(d[Q(e)]=a[e],c.push(Q(e)));c.sort(bd)}this.anim=d,this.top=c[c.length-1],this.percents=c}function cC(a,b,c,d,e,f){function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;8>k;k++){if(f=m(e)-a,z(f)<b)return e;if(j=(3*i*e+2*h)*e+g,z(j)<1e-6)break;e-=f/j}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=m(e),z(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function m(a){return((i*a+h)*a+g)*a}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}function cq(){return this.x+q+this.y+q+this.width+" × "+this.height}function cb(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function bH(b,c,d){b=a._path2curve(b),c=a._path2curve(c);for(var e,f,g,h,i,j,k,l,m,n,o=d?0:[],p=0,q=b.length;q>p;p++){var r=b[p];if("M"==r[0])e=i=r[1],f=j=r[2];else{"C"==r[0]?(m=[e,f].concat(r.slice(1)),e=m[6],f=m[7]):(m=[e,f,e,f,i,j,i,j],e=i,f=j);for(var s=0,t=c.length;t>s;s++){var u=c[s];if("M"==u[0])g=k=u[1],h=l=u[2];else{"C"==u[0]?(n=[g,h].concat(u.slice(1)),g=n[6],h=n[7]):(n=[g,h,g,h,k,l,k,l],g=k,h=l);var v=bG(m,n,d);if(d)o+=v;else{for(var w=0,x=v.length;x>w;w++)v[w].segment1=p,v[w].segment2=s,v[w].bez1=m,v[w].bez2=n;o=o.concat(v)}}}}}return o}function bG(b,c,d){var e=a.bezierBBox(b),f=a.bezierBBox(c);if(!a.isBBoxIntersect(e,f))return d?0:[];for(var g=bB.apply(0,b),h=bB.apply(0,c),i=~~(g/5),j=~~(h/5),k=[],l=[],m={},n=d?0:[],o=0;i+1>o;o++){var p=a.findDotsAtSegment.apply(a,b.concat(o/i));k.push({x:p.x,y:p.y,t:o/i})}for(o=0;j+1>o;o++)p=a.findDotsAtSegment.apply(a,c.concat(o/j)),l.push({x:p.x,y:p.y,t:o/j});for(o=0;i>o;o++)for(var q=0;j>q;q++){var r=k[o],s=k[o+1],t=l[q],u=l[q+1],v=z(s.x-r.x)<.001?"y":"x",w=z(u.x-t.x)<.001?"y":"x",x=bD(r.x,r.y,s.x,s.y,t.x,t.y,u.x,u.y);if(x){if(m[x.x.toFixed(4)]==x.y.toFixed(4))continue;m[x.x.toFixed(4)]=x.y.toFixed(4);var y=r.t+z((x[v]-r[v])/(s[v]-r[v]))*(s.t-r.t),A=t.t+z((x[w]-t[w])/(u[w]-t[w]))*(u.t-t.t);y>=0&&1>=y&&A>=0&&1>=A&&(d?n++:n.push({x:x.x,y:x.y,t1:y,t2:A}))}}return n}function bD(a,b,c,d,e,f,g,h){if(!(x(a,c)<y(e,g)||y(a,c)>x(e,g)||x(b,d)<y(f,h)||y(b,d)>x(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(!k)return;var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(n<+y(a,c).toFixed(2)||n>+x(a,c).toFixed(2)||n<+y(e,g).toFixed(2)||n>+x(e,g).toFixed(2)||o<+y(b,d).toFixed(2)||o>+x(b,d).toFixed(2)||o<+y(f,h).toFixed(2)||o>+x(f,h).toFixed(2))return;return{x:l,y:m}}}function bC(a,b,c,d,e,f,g,h,i){if(!(0>i||bB(a,b,c,d,e,f,g,h)<i)){var m,j=1,k=j/2,l=j-k,n=.01;for(m=bB(a,b,c,d,e,f,g,h,l);z(m-i)>n;)k/=2,l+=(i>m?1:-1)*k,m=bB(a,b,c,d,e,f,g,h,l);return l}}function bB(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,o=0;k>o;o++){var p=j*l[o]+j,q=bA(p,a,c,e,g),r=bA(p,b,d,f,h),s=q*q+r*r;n+=m[o]*w.sqrt(s)}return j*n}function bA(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function by(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function bx(){return this.hex}function bv(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),h=d.cache=d.cache||{},i=d.count=d.count||[];return h[g](f)?(bu(i,f),c?c(h[f]):h[f]):(i.length>=1e3&&delete h[i.shift()],i.push(f),h[f]=a[m](b,e),c?c(h[f]):h[f])}return d}function bu(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function bm(a){if(Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[g](c)&&(b[c]=bm(a[c]));return b}function a(c){if(a.is(c,"function"))return b?c():eve.on("raphael.DOMload",c);if(a.is(c,E))return a._engine.create[m](a,c.splice(0,3+a.is(c[0],C))).add(c);var d=Array.prototype.slice.call(arguments,0);if(a.is(d[d.length-1],"function")){var e=d.pop();return b?e.call(a._engine.create[m](a,d)):eve.on("raphael.DOMload",function(){e.call(a._engine.create[m](a,d))})}return a._engine.create[m](a,arguments)}a.version="2.1.0",a.eve=eve;var b,k,c=/[, ]+/,d={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},e=/\{(\d+)\}/g,g="hasOwnProperty",h={doc:document,win:window},i={was:Object.prototype[g].call(h.win,"Raphael"),is:h.win.Raphael},j=function(){this.ca=this.customAttributes={}},m="apply",n="concat",o="createTouch"in h.doc,p="",q=" ",r=String,s="split",t="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[s](q),u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},v=r.prototype.toLowerCase,w=Math,x=w.max,y=w.min,z=w.abs,A=w.pow,B=w.PI,C="number",D="string",E="array",H=Object.prototype.toString,L=(a._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),M={NaN:1,Infinity:1,"-Infinity":1},N=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,O=w.round,Q=parseFloat,R=parseInt,S=r.prototype.toUpperCase,T=a._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},U=a._availableAnimAttrs={blur:C,"clip-rect":"csv",cx:C,cy:C,fill:"colour","fill-opacity":C,"font-size":C,height:C,opacity:C,path:"path",r:C,rx:C,ry:C,stroke:"colour","stroke-opacity":C,"stroke-width":C,transform:"transform",width:C,x:C,y:C},W=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,X={hs:1,rg:1},Y=/,?([achlmqrstvxz]),?/gi,Z=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,$=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,_=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,bb=(a._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),bd=function(a,b){return Q(a)-Q(b)},be=function(){},bf=function(a){return a},bg=a._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},bh=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},bi=a._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return bh(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return bh(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return bg(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return bg(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return bg(b.x,b.y,b.width,b.height)}},bj=a.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=bR(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(a._g=h,a.type=h.win.SVGAngle||h.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==a.type){var bl,bk=h.doc.createElement("div");if(bk.innerHTML='<v:shape adj="1"/>',bl=bk.firstChild,bl.style.behavior="url(#default#VML)",!bl||"object"!=typeof bl.adj)return a.type=p;bk=null}a.svg=!(a.vml="VML"==a.type),a._Paper=j,a.fn=k=j.prototype=a.prototype,a._id=0,a._oid=0,a.is=function(a,b){return b=v.call(b),"finite"==b?!M[g](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||H.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(null==f){var h=b-d,i=c-e;return h||i?(180+180*w.atan2(-i,-h)/B+360)%360:0}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*B/180},a.deg=function(a){return 180*a/B%360},a.snapTo=function(b,c,d){if(d=a.is(d,"finite")?d:10,a.is(b,E)){for(var e=b.length;e--;)if(z(b[e]-c)<=d)return b[e]}else{b=+b;var f=c%b;if(d>f)return c-f;if(f>b-d)return c-f+b}return c};a.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*w.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});a.setWindow=function(b){eve("raphael.setWindow",a,h.win,b),h.win=b,h.doc=h.win.document,a._engine.initWin&&a._engine.initWin(h.win)};var bo=function(b){if(a.vml){var d,c=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),d=e.body}catch(f){d=createPopup().document.body}var g=d.createTextRange();bo=bv(function(a){try{d.style.color=r(a).replace(c,p);var b=g.queryCommandValue("ForeColor");return b=(255&b)<<16|65280&b|(16711680&b)>>>16,"#"+("000000"+b.toString(16)).slice(-6)}catch(e){return"none"}})}else{var i=h.doc.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",h.doc.body.appendChild(i),bo=bv(function(a){return i.style.color=a,h.doc.defaultView.getComputedStyle(i,p).getPropertyValue("color")})}return bo(b)},bp=function(){return"hsb("+[this.h,this.s,this.b]+")"},bq=function(){return"hsl("+[this.h,this.s,this.l]+")"},br=function(){return this.hex},bs=function(b,c,d){if(null==c&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r),null==c&&a.is(b,D)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}return(b>1||c>1||d>1)&&(b/=255,c/=255,d/=255),[b,c,d]},bt=function(b,c,d,e){b*=255,c*=255,d*=255;var f={r:b,g:c,b:d,hex:a.rgb(b,c,d),toString:br};return a.is(e,"finite")&&(f.opacity=e),f};a.color=function(b){var c;return a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):a.is(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):(a.is(b,"string")&&(b=a.getRGB(b)),a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1)),b.toString=br,b},a.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-z(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],bt(e,f,g,d)},a.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-z(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],bt(e,f,g,d)},a.rgb2hsb=function(a,b,c){c=bs(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=x(a,b,c),g=f-y(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:bp}},a.rgb2hsl=function(a,b,c){c=bs(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=x(a,b,c),h=y(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:bq}},a._path2string=function(){return this.join(",").replace(Y,"$1")};a._preload=function(a,b){var c=h.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,h.doc.body.removeChild(this)},c.onerror=function(){h.doc.body.removeChild(this)},h.doc.body.appendChild(c),c.src=a};a.getRGB=bv(function(b){if(!b||(b=r(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bx};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:bx};!X[g](b.toLowerCase().substring(0,2))&&"#"!=b.charAt()&&(b=bo(b));var d,e,f,h,i,j,k=b.match(L);return k?(k[2]&&(f=R(k[2].substring(5),16),e=R(k[2].substring(3,5),16),d=R(k[2].substring(1,3),16)),k[3]&&(f=R((i=k[3].charAt(3))+i,16),e=R((i=k[3].charAt(2))+i,16),d=R((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][s](W),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),"rgba"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100)),k[5]?(j=k[5][s](W),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||"°"==j[0].slice(-1))&&(d/=360),"hsba"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100),a.hsb2rgb(d,e,f,h)):k[6]?(j=k[6][s](W),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||"°"==j[0].slice(-1))&&(d/=360),"hsla"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100),a.hsl2rgb(d,e,f,h)):(k={r:d,g:e,b:f,toString:bx},k.hex="#"+(16777216|f|e<<8|d<<16).toString(16).slice(1),a.is(h,"finite")&&(k.opacity=h),k)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bx}},a),a.hsb=bv(function(b,c,d){return a.hsb2rgb(b,c,d).hex}),a.hsl=bv(function(b,c,d){return a.hsl2rgb(b,c,d).hex}),a.rgb=bv(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=function(b){if(!b)return null;var c=bz(b);if(c.arr)return bJ(c.arr);var d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[];return a.is(b,E)&&a.is(b[0],E)&&(e=bJ(b)),e.length||r(b).replace(Z,function(a,b,c){var f=[],g=b.toLowerCase();if(c.replace(_,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(e.push([b][n](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)e.push([b][n](f));else for(;f.length>=d[g]&&(e.push([b][n](f.splice(0,d[g]))),d[g]););}),e.toString=a._path2string,c.arr=bJ(e),e},a.parseTransformString=bv(function(b){if(!b)return null;var d=[];return a.is(b,E)&&a.is(b[0],E)&&(d=bJ(b)),d.length||r(b).replace($,function(a,b,c){{var e=[];v.call(b)}c.replace(_,function(a,b){b&&e.push(+b)}),d.push([b][n](e))}),d.toString=a._path2string,d});var bz=function(a){var b=bz.ps=bz.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[g](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]};a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=A(j,3),l=A(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,x=j*e+i*g,y=j*f+i*h,z=90-180*w.atan2(q-s,r-t)/B;return(q>s||t>r)&&(z+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:x,y:y},alpha:z}},a.bezierBBox=function(b,c,d,e,f,g,h,i){a.is(b,"array")||(b=[b,c,d,e,f,g,h,i]);var j=bQ.apply(null,b);return{x:j.min.x,y:j.min.y,x2:j.max.x,y2:j.max.y,width:j.max.x-j.min.x,height:j.max.y-j.min.y}},a.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},a.isBBoxIntersect=function(b,c){var d=a.isPointInsideBBox;return d(c,b.x,b.y)||d(c,b.x2,b.y)||d(c,b.x,b.y2)||d(c,b.x2,b.y2)||d(b,c.x,c.y)||d(b,c.x2,c.y)||d(b,c.x,c.y2)||d(b,c.x2,c.y2)||(b.x<c.x2&&b.x>c.x||c.x<b.x2&&c.x>b.x)&&(b.y<c.y2&&b.y>c.y||c.y<b.y2&&c.y>b.y)},a.pathIntersection=function(a,b){return bH(a,b)},a.pathIntersectionNumber=function(a,b){return bH(a,b,1)},a.isPointInsidePath=function(b,c,d){var e=a.pathBBox(b);return a.isPointInsideBBox(e,c,d)&&bH(b,[["M",c,d],["H",e.x2+10]],1)%2==1},a._removedFactory=function(a){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+a+"” of removed object",a)}};var bI=a.pathBBox=function(a){var b=bz(a);if(b.bbox)return b.bbox;if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=bR(a);for(var g,c=0,d=0,e=[],f=[],h=0,i=a.length;i>h;h++)if(g=a[h],"M"==g[0])c=g[1],d=g[2],e.push(c),f.push(d);else{var j=bQ(c,d,g[1],g[2],g[3],g[4],g[5],g[6]);e=e[n](j.min.x,j.max.x),f=f[n](j.min.y,j.max.y),c=g[5],d=g[6]}var k=y[m](0,e),l=y[m](0,f),o=x[m](0,e),p=x[m](0,f),q={x:k,y:l,x2:o,y2:p,width:o-k,height:p-l};return b.bbox=bm(q),q},bJ=function(b){var c=bm(b);return c.toString=a._path2string,c},bK=a._pathToRelative=function(b){var c=bz(b);if(c.rel)return bJ(c.rel);a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b));var d=[],e=0,f=0,g=0,h=0,i=0;"M"==b[0][0]&&(e=b[0][1],f=b[0][2],g=e,h=f,i++,d.push(["M",e,f]));for(var j=i,k=b.length;k>j;j++){var l=d[j]=[],m=b[j];if(m[0]!=v.call(m[0]))switch(l[0]=v.call(m[0]),l[0]){case"a":l[1]=m[1],l[2]=m[2],l[3]=m[3],l[4]=m[4],l[5]=m[5],l[6]=+(m[6]-e).toFixed(3),l[7]=+(m[7]-f).toFixed(3);break;case"v":l[1]=+(m[1]-f).toFixed(3);break;case"m":g=m[1],h=m[2];default:for(var n=1,o=m.length;o>n;n++)l[n]=+(m[n]-(n%2?e:f)).toFixed(3)}else{l=d[j]=[],"m"==m[0]&&(g=m[1]+e,h=m[2]+f);for(var p=0,q=m.length;q>p;p++)d[j][p]=m[p]}var r=d[j].length;switch(d[j][0]){case"z":e=g,f=h;break;case"h":e+=+d[j][r-1];break;case"v":f+=+d[j][r-1];break;default:e+=+d[j][r-2],f+=+d[j][r-1]}}return d.toString=a._path2string,c.rel=bJ(d),d},bL=a._pathToAbsolute=function(b){var c=bz(b);if(c.abs)return bJ(c.abs);if(a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var d=[],e=0,f=0,g=0,h=0,i=0;"M"==b[0][0]&&(e=+b[0][1],f=+b[0][2],g=e,h=f,i++,d[0]=["M",e,f]);for(var k,l,j=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),m=i,o=b.length;o>m;m++){if(d.push(k=[]),l=b[m],l[0]!=S.call(l[0]))switch(k[0]=S.call(l[0]),k[0]){case"A":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+e),k[7]=+(l[7]+f);break;case"V":k[1]=+l[1]+f;break;case"H":k[1]=+l[1]+e;break;case"R":for(var p=[e,f][n](l.slice(1)),q=2,r=p.length;r>q;q++)p[q]=+p[q]+e,p[++q]=+p[q]+f;d.pop(),d=d[n](by(p,j));break;case"M":g=+l[1]+e,h=+l[2]+f;default:for(q=1,r=l.length;r>q;q++)k[q]=+l[q]+(q%2?e:f)}else if("R"==l[0])p=[e,f][n](l.slice(1)),d.pop(),d=d[n](by(p,j)),k=["R"][n](l.slice(-2));else for(var s=0,t=l.length;t>s;s++)k[s]=l[s];switch(k[0]){case"Z":e=g,f=h;break;case"H":e=k[1];break;case"V":f=k[1];break;case"M":g=k[k.length-2],h=k[k.length-1];default:e=k[k.length-2],f=k[k.length-1]}}return d.toString=a._path2string,c.abs=bJ(d),d},bM=function(a,b,c,d){return[a,b,c,d,c,d]},bN=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},bO=function(a,b,c,d,e,f,g,h,i,j){var o,k=120*B/180,l=B/180*(+e||0),m=[],p=bv(function(a,b,c){var d=a*w.cos(c)-b*w.sin(c),e=a*w.sin(c)+b*w.cos(c);return{x:d,y:e}});if(j)E=j[0],F=j[1],C=j[2],D=j[3];else{o=p(a,b,-l),a=o.x,b=o.y,o=p(h,i,-l),h=o.x,i=o.y;var t=(w.cos(B/180*e),w.sin(B/180*e),(a-h)/2),u=(b-i)/2,v=t*t/(c*c)+u*u/(d*d);v>1&&(v=w.sqrt(v),c=v*c,d=v*d);var x=c*c,y=d*d,A=(f==g?-1:1)*w.sqrt(z((x*y-x*u*u-y*t*t)/(x*u*u+y*t*t))),C=A*c*u/d+(a+h)/2,D=A*-d*t/c+(b+i)/2,E=w.asin(((b-D)/d).toFixed(9)),F=w.asin(((i-D)/d).toFixed(9));E=C>a?B-E:E,F=C>h?B-F:F,0>E&&(E=2*B+E),0>F&&(F=2*B+F),g&&E>F&&(E-=2*B),!g&&F>E&&(F-=2*B)}var G=F-E;if(z(G)>k){var H=F,I=h,J=i;F=E+k*(g&&F>E?1:-1),h=C+c*w.cos(F),i=D+d*w.sin(F),m=bO(h,i,c,d,e,0,g,I,J,[F,H,C,D])}G=F-E;var K=w.cos(E),L=w.sin(E),M=w.cos(F),N=w.sin(F),O=w.tan(G/4),P=4/3*c*O,Q=4/3*d*O,R=[a,b],S=[a+P*L,b-Q*K],T=[h+P*N,i-Q*M],U=[h,i];if(S[0]=2*R[0]-S[0],S[1]=2*R[1]-S[1],j)return[S,T,U][n](m);m=[S,T,U][n](m).join()[s](",");for(var V=[],W=0,X=m.length;X>W;W++)V[W]=W%2?p(m[W-1],m[W],l).y:p(m[W],m[W+1],l).x;return V},bP=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:A(j,3)*a+3*A(j,2)*i*c+3*j*i*i*e+A(i,3)*g,y:A(j,3)*b+3*A(j,2)*i*d+3*j*i*i*f+A(i,3)*h}},bQ=bv(function(a,b,c,d,e,f,g,h){var q,i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g];return z(l)>"1e12"&&(l=.5),z(n)>"1e12"&&(n=.5),l>0&&1>l&&(q=bP(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&1>n&&(q=bP(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,z(l)>"1e12"&&(l=.5),z(n)>"1e12"&&(n=.5),l>0&&1>l&&(q=bP(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&1>n&&(q=bP(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),{min:{x:y[m](0,p),y:y[m](0,o)},max:{x:x[m](0,p),y:x[m](0,o)}}}),bR=a._path2curve=bv(function(a,b){var c=!b&&bz(a);if(!b&&c.curve)return bJ(c.curve);for(var d=bL(a),e=b&&bL(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][n](bO[m](0,[b.x,b.y][n](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][n](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][n](bN(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][n](bN(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][n](bM(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][n](bM(b.x,b.y,a[1],b.y));break;case"V":a=["C"][n](bM(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][n](bM(b.x,b.y,b.X,b.Y))}return a}),i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"][n](c.splice(0,6)));a.splice(b,1),l=x(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=x(d.length,e&&e.length||0))},k=0,l=x(d.length,e&&e.length||0);l>k;k++){d[k]=h(d[k],f),i(d,k),e&&(e[k]=h(e[k],g)),e&&i(e,k),j(d,e,f,g,k),j(e,d,g,f,k);var o=d[k],p=e&&e[k],q=o.length,r=e&&p.length;f.x=o[q-2],f.y=o[q-1],f.bx=Q(o[q-4])||f.x,f.by=Q(o[q-3])||f.y,g.bx=e&&(Q(p[r-4])||g.x),g.by=e&&(Q(p[r-3])||g.y),g.x=e&&p[r-2],g.y=e&&p[r-1]}return e||(c.curve=bJ(d)),e?[d,e]:d},null,bJ),bT=(a._parseDots=bv(function(b){for(var c=[],d=0,e=b.length;e>d;d++){var f={},g=b[d].match(/^([^:]*):?([\d\.]*)/);if(f.color=a.getRGB(g[1]),f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c.push(f)}for(d=1,e=c.length-1;e>d;d++)if(!c[d].offset){for(var h=Q(c[d-1].offset||0),i=0,j=d+1;e>j;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=Q(i);for(var k=(i-h)/(j-d+1);j>d;d++)h+=k,c[d].offset=h+"%"}return c}),a._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),bY=(a._tofront=function(a,b){b.top!==a&&(bT(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},a._toback=function(a,b){b.bottom!==a&&(bT(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},a._insertafter=function(a,b,c){bT(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},a._insertbefore=function(a,b,c){bT(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},a.toMatrix=function(a,b){var c=bI(a),d={_:{transform:p},getBBox:function(){return c}};return b$(d,b),d.matrix}),b$=(a.transformPath=function(a,b){return bj(a,bY(a,b))},a._extractTransform=function(b,c){if(null==c)return b._.transform;c=r(c).replace(/\.{3}|\u2026/g,b._.transform||p);var d=a.parseTransformString(c),e=0,f=0,g=0,h=1,i=1,j=b._,k=new cb;if(j.transform=d||[],d)for(var l=0,m=d.length;m>l;l++){var u,v,w,x,y,n=d[l],o=n.length,q=r(n[0]).toLowerCase(),s=n[0]!=q,t=s?k.invert():0;"t"==q&&3==o?s?(u=t.x(0,0),v=t.y(0,0),w=t.x(n[1],n[2]),x=t.y(n[1],n[2]),k.translate(w-u,x-v)):k.translate(n[1],n[2]):"r"==q?2==o?(y=y||b.getBBox(1),k.rotate(n[1],y.x+y.width/2,y.y+y.height/2),e+=n[1]):4==o&&(s?(w=t.x(n[2],n[3]),x=t.y(n[2],n[3]),k.rotate(n[1],w,x)):k.rotate(n[1],n[2],n[3]),e+=n[1]):"s"==q?2==o||3==o?(y=y||b.getBBox(1),k.scale(n[1],n[o-1],y.x+y.width/2,y.y+y.height/2),h*=n[1],i*=n[o-1]):5==o&&(s?(w=t.x(n[3],n[4]),x=t.y(n[3],n[4]),k.scale(n[1],n[2],w,x)):k.scale(n[1],n[2],n[3],n[4]),h*=n[1],i*=n[2]):"m"==q&&7==o&&k.add(n[1],n[2],n[3],n[4],n[5],n[6]),j.dirtyT=1,b.matrix=k}b.matrix=k,j.sx=h,j.sy=i,j.deg=e,j.dx=f=k.e,j.dy=g=k.f,1==h&&1==i&&!e&&j.bbox?(j.bbox.x+=+f,j.bbox.y+=+g):j.dirtyT=1}),b_=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},ca=a._equaliseTransform=function(b,c){c=r(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var h,i,j,k,d=x(b.length,c.length),e=[],f=[],g=0;d>g;g++){if(j=b[g]||b_(c[g]),k=c[g]||b_(j),j[0]!=k[0]||"r"==j[0].toLowerCase()&&(j[2]!=k[2]||j[3]!=k[3])||"s"==j[0].toLowerCase()&&(j[3]!=k[3]||j[4]!=k[4]))return;for(e[g]=[],f[g]=[],h=0,i=x(j.length,k.length);i>h;h++)h in j&&(e[g][h]=j[h]),h in k&&(f[g][h]=k[h])}return{from:e,to:f}};a._getContainer=function(b,c,d,e){var f;return f=null!=e||a.is(b,"object")?b:h.doc.getElementById(b),null!=f?f.tagName?null==c?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}:{container:1,x:b,y:c,width:d,height:e}:void 0},a.pathToRelative=bK,a._engine={},a.path2curve=bR,a.matrix=function(a,b,c,d,e,f){return new cb(a,b,c,d,e,f)},function(b){function d(a){var b=w.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}function c(a){
return a[0]*a[0]+a[1]*a[1]}b.add=function(a,b,c,d,e,f){var j,k,l,m,g=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],i=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof cb&&(i=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),j=0;3>j;j++)for(k=0;3>k;k++){for(m=0,l=0;3>l;l++)m+=h[j][l]*i[l][k];g[j][k]=m}this.a=g[0][0],this.b=g[1][0],this.c=g[0][1],this.d=g[1][1],this.e=g[0][2],this.f=g[1][2]},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new cb(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new cb(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+w.cos(b).toFixed(9),f=+w.sin(b).toFixed(9);this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[r.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return a.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},b.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.split=function(){var b={};b.dx=this.e,b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=w.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=w.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley;var f=-e[0][1],g=e[1][1];return 0>g?(b.rotate=a.deg(w.acos(g)),0>f&&(b.rotate=360-b.rotate)):b.rotate=a.deg(w.asin(f)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},b.toTransformString=function(a){var b=a||this[s]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:p)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:p)+(b.rotate?"r"+[b.rotate,0,0]:p)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(cb.prototype);var cc=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);k.safari="Apple Computer, Inc."==navigator.vendor&&(cc&&cc[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&cc&&cc[1]<8?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:be;for(var cd=function(){this.returnValue=!1},ce=function(){return this.originalEvent.preventDefault()},cf=function(){this.cancelBubble=!0},cg=function(){return this.originalEvent.stopPropagation()},ch=function(){return h.doc.addEventListener?function(a,b,c,d){var e=o&&u[b]?u[b]:b,f=function(e){var f=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,i=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,j=e.clientX+i,k=e.clientY+f;if(o&&u[g](b))for(var l=0,m=e.targetTouches&&e.targetTouches.length;m>l;l++)if(e.targetTouches[l].target==a){var n=e;e=e.targetTouches[l],e.originalEvent=n,e.preventDefault=ce,e.stopPropagation=cg;break}return c.call(d,e,j,k)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:h.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||h.win.event;var b=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||cd,a.stopPropagation=a.stopPropagation||cf,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),ci=[],cj=function(a){for(var f,b=a.clientX,c=a.clientY,d=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,g=ci.length;g--;){if(f=ci[g],o){for(var j,i=a.touches.length;i--;)if(j=a.touches[i],j.identifier==f.el._drag.id){b=j.clientX,c=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var l,k=f.el.node,m=k.nextSibling,n=k.parentNode,p=k.style.display;h.win.opera&&n.removeChild(k),k.style.display="none",l=f.el.paper.getElementByPoint(b,c),k.style.display=p,h.win.opera&&(m?n.insertBefore(k,m):n.appendChild(k)),l&&eve("raphael.drag.over."+f.el.id,f.el,l),b+=e,c+=d,eve("raphael.drag.move."+f.el.id,f.move_scope||f.el,b-f.el._drag.x,c-f.el._drag.y,b,c,a)}},ck=function(b){a.unmousemove(cj).unmouseup(ck);for(var d,c=ci.length;c--;)d=ci[c],d.el._drag={},eve("raphael.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,b);ci=[]},cl=a.el={},cm=t.length;cm--;)(function(b){a[b]=cl[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:ch(this.shape||this.node||h.doc,b,c,d||this)})),this},a["un"+b]=cl["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&c[d].f==a)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}})(t[cm]);cl.data=function(b,c){var d=bb[this.id]=bb[this.id]||{};if(1==arguments.length){if(a.is(b,"object")){for(var e in b)b[g](e)&&this.data(e,b[e]);return this}return eve("raphael.data.get."+this.id,this,d[b],b),d[b]}return d[b]=c,eve("raphael.data.set."+this.id,this,c,b),this},cl.removeData=function(a){return null==a?bb[this.id]={}:bb[this.id]&&delete bb[this.id][a],this},cl.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},cl.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var cn=[];cl.drag=function(b,c,d,e,f,g){function i(i){(i.originalEvent||i).preventDefault();var j=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,k=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft;this._drag.x=i.clientX+k,this._drag.y=i.clientY+j,this._drag.id=i.identifier,!ci.length&&a.mousemove(cj).mouseup(ck),ci.push({el:this,move_scope:e,start_scope:f,end_scope:g}),c&&eve.on("raphael.drag.start."+this.id,c),b&&eve.on("raphael.drag.move."+this.id,b),d&&eve.on("raphael.drag.end."+this.id,d),eve("raphael.drag.start."+this.id,f||e||this,i.clientX+k,i.clientY+j,i)}return this._drag={},cn.push({el:this,start:i}),this.mousedown(i),this},cl.onDragOver=function(a){a?eve.on("raphael.drag.over."+this.id,a):eve.unbind("raphael.drag.over."+this.id)},cl.undrag=function(){for(var b=cn.length;b--;)cn[b].el==this&&(this.unmousedown(cn[b].start),cn.splice(b,1),eve.unbind("raphael.drag.*."+this.id));!cn.length&&a.unmousemove(cj).unmouseup(ck)},k.circle=function(b,c,d){var e=a._engine.circle(this,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},k.rect=function(b,c,d,e,f){var g=a._engine.rect(this,b||0,c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},k.ellipse=function(b,c,d,e){var f=a._engine.ellipse(this,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},k.path=function(b){b&&!a.is(b,D)&&!a.is(b[0],E)&&(b+=p);var c=a._engine.path(a.format[m](a,arguments),this);return this.__set__&&this.__set__.push(c),c},k.image=function(b,c,d,e,f){var g=a._engine.image(this,b||"about:blank",c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},k.text=function(b,c,d){var e=a._engine.text(this,b||0,c||0,r(d));return this.__set__&&this.__set__.push(e),e},k.set=function(b){!a.is(b,"array")&&(b=Array.prototype.splice.call(arguments,0,arguments.length));var c=new cG(b);return this.__set__&&this.__set__.push(c),c},k.setStart=function(a){this.__set__=a||this.set()},k.setFinish=function(a){var b=this.__set__;return delete this.__set__,b},k.setSize=function(b,c){return a._engine.setSize.call(this,b,c)},k.setViewBox=function(b,c,d,e,f){return a._engine.setViewBox.call(this,b,c,d,e,f)},k.top=k.bottom=null,k.raphael=a;var co=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,i=b.top+(h.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(h.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:i,x:j}};k.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=h.doc.elementFromPoint(a,b);if(h.win.opera&&"svg"==e.tagName){var f=co(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var i=d.getIntersectionList(g,null);i.length&&(e=i[i.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},k.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},k.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},k.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c},cl.isPointInside=function(b,c){var d=this.realPath=this.realPath||bi[this.type](this);return a.isPointInsidePath(d,b,c)},cl.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=bi[this.type](this),b.bboxwt=bI(this.realPath),b.bboxwt.toString=cq,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=bi[this.type](this)),b.bbox=bI(bj(this.realPath,this.matrix)),b.bbox.toString=cq,b.dirty=b.dirtyT=0),b.bbox)},cl.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},cl.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||bi[this.type](this);f=this.matrix?bj(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var cs=function(b,c,d,e,f,g,h,i,j){return null==j?bB(b,c,d,e,f,g,h,i):a.findDotsAtSegment(b,c,d,e,f,g,h,i,bC(b,c,d,e,f,g,h,i,j))},ct=function(b,c){return function(d,e,f){d=bR(d);for(var g,h,i,j,m,k="",l={},n=0,o=0,p=d.length;p>o;o++){if(i=d[o],"M"==i[0])g=+i[1],h=+i[2];else{if(j=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6]),n+j>e){if(c&&!l.start){if(m=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=["C"+m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y],f)return k;l.start=k,k=["M"+m.x,m.y+"C"+m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c)return m=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:m.x,y:m.y,alpha:m.alpha}}n+=j,g=+i[5],h=+i[6]}k+=i.shift()+i}return l.end=k,m=b?n:c?l:a.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha}),m}},cu=ct(1),cv=ct(),cw=ct(0,1);a.getTotalLength=cu,a.getPointAtLength=cv,a.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return cw(a,b).end;var d=cw(a,c,1);return b?cw(d,b).end:d},cl.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():cu(this.attrs.path):void 0},cl.getPointAtLength=function(a){return"path"==this.type?cv(this.attrs.path,a):void 0},cl.getSubpath=function(b,c){return"path"==this.type?a.getSubpath(this.attrs.path,b,c):void 0};var cx=a.easing_formulas={linear:function(a){return a},"<":function(a){return A(a,1.7)},">":function(a){return A(a,.48)},"<>":function(a){var b=.48-a/1.04,c=w.sqrt(.1734+b*b),d=c-b,e=A(z(d),1/3)*(0>d?-1:1),f=-c-b,g=A(z(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:A(2,-10*a)*w.sin(2*(a-.075)*B/.3)+1},bounce:function(a){var d,b=7.5625,c=2.75;return 1/c>a?d=b*a*a:2/c>a?(a-=1.5/c,d=b*a*a+.75):2.5/c>a?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375),d}};cx.easeIn=cx["ease-in"]=cx["<"],cx.easeOut=cx["ease-out"]=cx[">"],cx.easeInOut=cx["ease-in-out"]=cx["<>"],cx["back-in"]=cx.backIn,cx["back-out"]=cx.backOut;var cy=[],cz=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},cA=function(){for(var b=+new Date,c=0;c<cy.length;c++){var d=cy[c];if(!d.el.removed&&!d.paused){var p,s,e=b-d.start,f=d.ms,h=d.easing,i=d.from,j=d.diff,k=d.to,m=(d.t,d.el),o={},r={};if(d.initstatus?(e=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*f,d.status=d.initstatus,delete d.initstatus,d.stop&&cy.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(e/f))/d.anim.top,!(0>e))if(f>e){var t=h(e/f);for(var u in i)if(i[g](u)){switch(U[u]){case C:p=+i[u]+t*f*j[u];break;case"colour":p="rgb("+[cB(O(i[u].r+t*f*j[u].r)),cB(O(i[u].g+t*f*j[u].g)),cB(O(i[u].b+t*f*j[u].b))].join(",")+")";break;case"path":p=[];for(var v=0,w=i[u].length;w>v;v++){p[v]=[i[u][v][0]];for(var x=1,y=i[u][v].length;y>x;x++)p[v][x]=+i[u][v][x]+t*f*j[u][v][x];p[v]=p[v].join(q)}p=p.join(q);break;case"transform":if(j[u].real)for(p=[],v=0,w=i[u].length;w>v;v++)for(p[v]=[i[u][v][0]],x=1,y=i[u][v].length;y>x;x++)p[v][x]=i[u][v][x]+t*f*j[u][v][x];else{var z=function(a){return+i[u][a]+t*f*j[u][a]};p=[["m",z(0),z(1),z(2),z(3),z(4),z(5)]]}break;case"csv":if("clip-rect"==u)for(p=[],v=4;v--;)p[v]=+i[u][v]+t*f*j[u][v];break;default:var A=[][n](i[u]);for(p=[],v=m.paper.customAttributes[u].length;v--;)p[v]=+A[v]+t*f*j[u][v]}o[u]=p}m.attr(o),function(a,b,c){setTimeout(function(){eve("raphael.anim.frame."+a,b,c)})}(m.id,m,d.anim)}else{if(function(b,c,d){setTimeout(function(){eve("raphael.anim.frame."+c.id,c,d),eve("raphael.anim.finish."+c.id,c,d),a.is(b,"function")&&b.call(c)})}(d.callback,m,d.anim),m.attr(k),cy.splice(c--,1),d.repeat>1&&!d.next){for(s in k)k[g](s)&&(r[s]=d.totalOrigin[s]);d.el.attr(r),cE(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&cE(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}}a.svg&&m&&m.paper&&m.paper.safari(),cy.length&&cz(cA)},cB=function(a){return a>255?255:0>a?0:a};cl.animateWith=function(b,c,d,e,f,g){var h=this;if(h.removed)return g&&g.call(h),h;var i=d instanceof cD?d:a.animation(d,e,f,g);cE(i,h,i.percents[0],null,h.attr());for(var l=0,m=cy.length;m>l;l++)if(cy[l].anim==c&&cy[l].el==b){cy[m-1].start=cy[l].start;break}return h},cl.onAnimation=function(a){return a?eve.on("raphael.anim.frame."+this.id,a):eve.unbind("raphael.anim.frame."+this.id),this},cD.prototype.delay=function(a){var b=new cD(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},cD.prototype.repeat=function(a){var b=new cD(this.anim,this.ms);return b.del=this.del,b.times=w.floor(x(a,0))||1,b},a.animation=function(b,c,d,e){if(b instanceof cD)return b;(a.is(d,"function")||!d)&&(e=e||d||null,d=null),b=Object(b),c=+c||0;var h,i,f={};for(i in b)b[g](i)&&Q(i)!=i&&Q(i)+"%"!=i&&(h=!0,f[i]=b[i]);return h?(d&&(f.easing=d),e&&(f.callback=e),new cD({100:f},c)):new cD(b,c)},cl.animate=function(b,c,d,e){var f=this;if(f.removed)return e&&e.call(f),f;var g=b instanceof cD?b:a.animation(b,c,d,e);return cE(g,f,g.percents[0],null,f.attr()),f},cl.setTime=function(a,b){return a&&null!=b&&this.status(a,y(b,a.ms)/a.ms),this},cl.status=function(a,b){var e,f,c=[],d=0;if(null!=b)return cE(a,this,-1,y(b,1)),this;for(e=cy.length;e>d;d++)if(f=cy[d],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;c.push({anim:f.anim,status:f.status})}return a?0:c},cl.pause=function(a){for(var b=0;b<cy.length;b++)cy[b].el.id==this.id&&(!a||cy[b].anim==a)&&eve("raphael.anim.pause."+this.id,this,cy[b].anim)!==!1&&(cy[b].paused=!0);return this},cl.resume=function(a){for(var b=0;b<cy.length;b++)if(cy[b].el.id==this.id&&(!a||cy[b].anim==a)){var c=cy[b];eve("raphael.anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},cl.stop=function(a){for(var b=0;b<cy.length;b++)cy[b].el.id==this.id&&(!a||cy[b].anim==a)&&eve("raphael.anim.stop."+this.id,this,cy[b].anim)!==!1&&cy.splice(b--,1);return this},eve.on("raphael.remove",cF),eve.on("raphael.clear",cF),cl.toString=function(){return"Raphaël’s object"};var cG=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(a[b].constructor==cl.constructor||a[b].constructor==cG)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},cH=cG.prototype;cH.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(a.constructor==cl.constructor||a.constructor==cG)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},cH.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},cH.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var cI in cl)cl[g](cI)&&(cH[cI]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][m](c,b)})}}(cI));cH.attr=function(b,c){if(b&&a.is(b,E)&&a.is(b[0],"object"))for(var d=0,e=b.length;e>d;d++)this.items[d].attr(b[d]);else for(var f=0,g=this.items.length;g>f;f++)this.items[f].attr(b,c);return this},cH.clear=function(){for(;this.length;)this.pop()},cH.splice=function(a,b,c){a=0>a?x(this.length+a,0):a,b=x(0,y(this.length-a,b));var g,d=[],e=[],f=[];for(g=2;g<arguments.length;g++)f.push(arguments[g]);for(g=0;b>g;g++)e.push(this[a+g]);for(;g<this.length-a;g++)d.push(this[a+g]);var h=f.length;for(g=0;g<h+d.length;g++)this.items[a+g]=this[a+g]=h>g?f[g]:d[g-h];for(g=this.items.length=this.length-=b-h;this[g];)delete this[g++];return new cG(e)},cH.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},cH.animate=function(b,c,d,e){(a.is(d,"function")||!d)&&(e=d||null);var h,j,f=this.items.length,g=f,i=this;if(!f)return this;e&&(j=function(){!--f&&e.call(i)}),d=a.is(d,D)?d:j;var k=a.animation(b,c,d,j);for(h=this.items[--g].animate(k);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,k,k);return this},cH.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},cH.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=y[m](0,a),b=y[m](0,b),c=x[m](0,c),d=x[m](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},cH.clone=function(a){a=new cG;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},cH.toString=function(){return"Raphaël‘s set"},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[g](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=R(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[g](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var h in f.k)f[g](h)&&(b.glyphs[e].k[h]=f.k[h])}}return a},k.getFont=function(b,c,d,e){if(e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400,a.fonts){var f=a.fonts[b];if(!f){var h=new RegExp("(^|\\s)"+b.replace(/[^\w\d\s+!~.:_-]/g,p)+"(\\s|$)","i");for(var i in a.fonts)if(a.fonts[g](i)&&h.test(i)){f=a.fonts[i];break}}var j;if(f)for(var k=0,l=f.length;l>k&&(j=f[k],j.face["font-weight"]!=c||j.face["font-style"]!=d&&j.face["font-style"]||j.face["font-stretch"]!=e);k++);return j}},k.print=function(b,d,e,f,g,h,i){h=h||"middle",i=x(y(i||0,1),-1);var n,j=r(e)[s](p),k=0,l=0,m=p;if(a.is(f,e)&&(f=this.getFont(f)),f){n=(g||16)/f.face["units-per-em"];for(var o=f.face.bbox[s](c),q=+o[0],t=o[3]-o[1],u=0,v=+o[1]+("baseline"==h?t+ +f.face.descent:t/2),w=0,z=j.length;z>w;w++){if("\n"==j[w])k=0,B=0,l=0,u+=t;else{var A=l&&f.glyphs[j[w-1]]||{},B=f.glyphs[j[w]];k+=l?(A.w||f.w)+(A.k&&A.k[j[w]]||0)+f.w*i:0,l=1}B&&B.d&&(m+=a.transformPath(B.d,["t",k*n,u*n,"s",n,n,q,v,"t",(b-q)/n,(d-v)/n]))}}return this.path(m).attr({fill:"#000",stroke:"none"})},k.add=function(b){if(a.is(b,"array"))for(var h,c=this.set(),e=0,f=b.length;f>e;e++)h=b[e]||{},d[g](h.type)&&c.push(this[h.type]().attr(h));return c},a.format=function(b,c){var d=a.is(c,E)?[0][n](c):arguments;return b&&a.is(b,D)&&d.length-1&&(b=b.replace(e,function(a,b){return null==d[++b]?p:d[b]})),b||p},a.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),a.ninja=function(){return i.was?h.win.Raphael=i.is:delete Raphael,a},a.st=cH,function(b,c,d){function e(){/in/.test(b.readyState)?setTimeout(e,9):a.eve("raphael.DOMload")}null==b.readyState&&b.addEventListener&&(b.addEventListener(c,d=function(){b.removeEventListener(c,d,!1),b.readyState="complete"},!1),b.readyState="loading"),e()}(document,"DOMContentLoaded"),i.was?h.win.Raphael=a:Raphael=a,eve.on("raphael.DOMload",function(){b=!0})}(),window.Raphael.svg&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var s,t,u,v,w,g=c(e).toLowerCase().split("-"),h=d.paper,i=f?"end":"start",j=d.node,k=d.attrs,m=k["stroke-width"],n=g.length,r="classic",x=3,y=3,z=5;n--;)switch(g[n]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":r=g[n];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==r?(x+=2,y+=2,z+=2,u=1,v=f?4:1,w={fill:"none",stroke:k.stroke}):(v=u=x/2,w={fill:k.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=r){var A="raphael-marker-"+r,B="raphael-marker-"+i+r+x+y;a._g.doc.getElementById(A)?p[A]++:(h.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[r],id:A})),p[A]=1);var D,C=a._g.doc.getElementById(B);C?(p[B]++,D=C.getElementsByTagName("use")[0]):(C=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:v,refY:y/2}),D=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),C.appendChild(D),h.defs.appendChild(C),p[B]=1),q(D,w);var F=u*("diamond"!=r&&"oval"!=r);f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-F*m):(s=F*m,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),w={},w["marker-"+i]="url(#"+B+")",(t||s)&&(w.d=Raphael.getSubpath(k.path,s,t)),q(j,w),d._.arrows[i+"Path"]=A,d._.arrows[i+"Marker"]=B,d._.arrows[i+"dx"]=F,d._.arrows[i+"Type"]=r,d._.arrows[i+"String"]=e}else f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-s):(s=0,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),d._.arrows[i+"Path"]&&q(j,{d:Raphael.getSubpath(k.path,s,t)}),delete d._.arrows[i+"Path"],delete d._.arrows[i+"Marker"],delete d._.arrows[i+"dx"],delete d._.arrows[i+"Type"],delete d._.arrows[i+"String"];for(w in p)if(p[b](w)&&!p[w]){var G=a._g.doc.getElementById(w);G&&G.parentNode.removeChild(G)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":var u=i.parentNode;if("a"!=u.tagName.toLowerCase()){var w=q("a");u.insertBefore(w,i),w.appendChild(i),u=w}"target"==o?u.setAttributeNS(n,"show","blank"==p?"new":p):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var x=c(p).split(j);if(4==x.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q("clipPath"),A=q("rect");z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A}if(!p){var B=i.getAttribute("clip-path");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var D=c(p).match(a._ISURL);if(D){z=q("pattern");var F=q("image");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(F,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(F),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(F,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}var G=a.getRGB(p);if(G.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var H=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(H){var I=H.getElementsByTagName("stop");q(I[I.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});G[b]("opacity")&&q(i,{"fill-opacity":G.opacity>1?G.opacity/100:G.opacity});case"stroke":G=a.getRGB(p),i.setAttribute(o,G.hex),"stroke"==o&&G[b]("opacity")&&q(i,{"stroke-opacity":G.opacity>1?G.opacity/100:G.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){H=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),H&&(I=H.getElementsByTagName("stop"),q(I[I.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var J=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[J]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var m,j=c(f.text).split("\n"),k=[],n=0,o=j.length;o>n;n++)m=q("tspan"),n&&q(m,{dy:i*x,x:g.x}),m.appendChild(a._g.doc.createTextNode(j[n])),h.appendChild(m),k[n]=m}else for(k=h.getElementsByTagName("tspan"),n=0,o=k.length;o>n;n++)n?q(k[n],{dy:i*x,x:g.x}):q(k[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(k[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);

return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed&&this.node.parentNode){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind("raphael.*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("raphael.attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper);this.paper;return this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var c=this;if(0!==+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);var g=new z(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var j,h=q("svg"),i="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(h,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(h.style.cssText=i+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(h),j=1):(h.style.cssText=i+"position:relative",c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h)),c=new a._Paper,c.width=f,c.height=g,c.canvas=h,c.clear(),c._left=c._top=0,j&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var j,l,f=g(c/this.width,d/this.height),h=this.top,i=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(f=1),delete this._vbSize,j="0 0 "+this.width+m+this.height):(this._vbSize=f,j=a+m+b+m+c+m+d),q(this.canvas,{viewBox:j,preserveAspectRatio:i});f&&h;)l="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":l}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var c,a=this.canvas,b=a.style;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(d){c=a.createSVGMatrix()}var e=-c.e%1,f=-c.f%1;(e||f)&&(e&&(this._left=(this._left+e)%1,b.left=this._left+"px"),f&&(this._top=(this._top+f)%1,b.top=this._top+"px"))},a.prototype.clear=function(){a.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var i,j,h=e(b);g=[];for(var k=0,l=h.length;l>k;k++){i=h[k],j=h[k][0].toLowerCase(),"z"==j&&(j="x");for(var m=1,r=i.length;r>m;m++)j+=f(i[m]*u)+(m!=r-1?",":o);g.push(j)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",r=u/b,s=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(r)+n+i(s),m.rotation=f*(0>b*c?-1:1),f){var t=y(f,d,e);d=t.dx,e=t.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-r+n+e*-s,k||g.fillsize){var v=l.getElementsByTagName(j);v=v&&v[0],l.removeChild(v),k&&(t=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),v.position=t.dx*o+n+t.dy*o),g.fillsize&&(v.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(v)}m.visibility="visible"}};a.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,r=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),s=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),t=e;for(var y in i)i[b](y)&&(m[y]=i[y]);if(r&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||r)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),s){var B=+m.cx,D=+m.cy,E=+m.rx||+m.r||0,G=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((B-E)*u),f((D-G)*u),f((B+E)*u),f((D+G)*u),f(B*u))}if("clip-rect"in i){var H=c(i["clip-rect"]).split(k);if(4==H.length){H[2]=+H[2]+ +H[0],H[3]=+H[3]+ +H[1];var I=l.clipRect||a._g.doc.createElement("div"),J=I.style;J.clip=a.format("rect({1}px {2}px {3}px {0}px)",H),l.clipRect||(J.position="absolute",J.top=0,J.left=0,J.width=e.paper.width+"px",J.height=e.paper.height+"px",l.parentNode.insertBefore(I,l),I.appendChild(l),l.clipRect=I)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var K=e.textpath.style;i.font&&(K.font=i.font),i["font-family"]&&(K.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(K.fontSize=i["font-size"]),i["font-weight"]&&(K.fontWeight=i["font-weight"]),i["font-style"]&&(K.fontStyle=i["font-style"])}if("arrow-start"in i&&A(t,i["arrow-start"]),"arrow-end"in i&&A(t,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var L=l.getElementsByTagName(j),M=!1;if(L=L&&L[0],!L&&(M=L=F(j)),"image"==e.type&&i.src&&(L.src=i.src),i.fill&&(L.on=!0),(null==L.on||"none"==i.fill||null===i.fill)&&(L.on=!1),L.on&&i.fill){var N=c(i.fill).match(a._ISURL);if(N){L.parentNode==l&&l.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var O=e.getBBox(1);L.position=O.x+n+O.y,e._.fillpos=[O.x,O.y],a._preload(N[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=a.getRGB(i.fill).hex,L.src=o,L.type="solid",a.getRGB(i.fill).error&&(t.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(t,i.fill,L)&&(m.fill="none",m.gradient=i.fill,L.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var P=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);P=h(g(P,0),1),L.opacity=P,L.src&&(L.color="none")}l.appendChild(L);var Q=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],T=!1;!Q&&(T=Q=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(Q.on=!0),("none"==i.stroke||null===i.stroke||null==Q.on||0==i.stroke||0==i["stroke-width"])&&(Q.on=!1);var U=a.getRGB(i.stroke);Q.on&&i.stroke&&(Q.color=U.hex),P=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+U.o+1||2)-1);var V=.75*(d(i["stroke-width"])||1);if(P=h(g(P,0),1),null==i["stroke-width"]&&(V=m["stroke-width"]),i["stroke-width"]&&(Q.weight=V),V&&1>V&&(P*=V)&&(Q.weight=1),Q.opacity=P,i["stroke-linejoin"]&&(Q.joinstyle=i["stroke-linejoin"]||"miter"),Q.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(Q.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Q.dashstyle=W[b](i["stroke-dasharray"])?W[i["stroke-dasharray"]]:o}T&&l.appendChild(Q)}if("text"==t.type){t.paper.canvas.style.display=o;var X=t.paper.span,Y=100,Z=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=X.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),Z=d(m["font-size"]||Z&&Z[0])||10,p.fontSize=Z*Y+"px",t.textpath.string&&(X.innerHTML=c(t.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var $=X.getBoundingClientRect();t.W=m.w=($.right-$.left)/Y,t.H=m.h=($.bottom-$.top)/Y,t.X=m.x,t.Y=m.y+t.H/2,("x"in i||"y"in i)&&(t.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var _=["x","y","text","font","font-family","font-weight","font-style","font-size"],ba=0,bb=_.length;bb>ba;ba++)if(_[ba]in i){t._.dirty=1;break}switch(m["text-anchor"]){case"start":t.textpath.style["v-text-align"]="left",t.bbx=t.W/2;break;case"end":t.textpath.style["v-text-align"]="right",t.bbx=-t.W/2;break;default:t.textpath.style["v-text-align"]="center",t.bbx=0}t.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var i=(b.attrs,Math.pow),l="linear",m=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return l="radial",b&&c&&(b=d(b),c=d(c),i(b-.5,2)+i(c-.5,2)>.25&&(c=e.sqrt(.25-i(b-.5,2))*(2*(c>.5)-1)+.5),m=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==l){var p=f.shift();if(p=-d(p),isNaN(p))return null}var q=a._parseDots(f);if(!q)return null;if(b=b.shape||b.node,q.length){b.removeChild(g),g.on=!0,g.method="none",g.color=q[0].color,g.color2=q[q.length-1].color;for(var r=[],s=0,t=q.length;t>s;s++)q[s].offset&&r.push(q[s].offset+n+q[s].color);g.colors=r.length?r.join():"0% "+g.color,"radial"==l?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=m,g.angle=0):(g.type="gradient",g.angle=(270-p)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var f,d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:o;d&&(f=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,e+b);var j,g=this.matrix.clone(),h=this.skew,i=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(g.translate(-.5,-.5),l||k||"image"==this.type)if(h.matrix="1 0 0 1",h.offset="0 0",j=g.split(),k&&j.noRotation||!j.isSimple){i.style.filter=g.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;i.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else i.style.filter=o,z(this,j.scalex,j.scaley,j.dx,j.dy,j.rotate);else i.style.filter=o,h.matrix=c(g),h.offset=g.offset();return f&&(this._.transform=f),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("raphael.*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("raphael.attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){{var f=a.path();f.attrs}return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){{var e=a.path();e.attrs}return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("raphael.setViewBox",this,this._viewBox,[b,c,d,e,f]);var k,l,h=this.width,i=this.height,j=1/g(d/h,e/i);return f&&(k=i/e,l=h/d,h>d*k&&(b-=(h-d*k)/2/k),i>e*l&&(c-=(i-e*l)/2/l)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:j},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,f=b.width,g=b.x,h=b.y;if(!c)throw new Error("VML container not found.");var i=new a._Paper,j=i.canvas=a._g.doc.createElement("div"),k=j.style;return g=g||0,h=h||0,f=f||512,d=d||342,i.width=f,i.height=d,f==+f&&(f+="px"),d==+d&&(d+="px"),i.coordsize=1e3*u+n+1e3*u,i.coordorigin="0 0",i.span=a._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",j.appendChild(i.span),k.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,d),1==c?(a._g.doc.body.appendChild(j),k.left=g+"px",k.top=h+"px",k.position="absolute"):c.firstChild?c.insertBefore(j,c.firstChild):c.appendChild(j),i.renderfix=function(){},i},a.prototype.clear=function(){a.eve("raphael.clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael);;
//!file:raphael-export.js
!function(R){function escapeXML(s){if("number"==typeof s)return s.toString();var replace={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"};for(var entity in replace)s=s.replace(new RegExp(entity,"g"),"&"+replace[entity]+";");return s}function map(iterable,callback){var mapped=new Array;for(var i in iterable)if(iterable.hasOwnProperty(i)){var value=callback.call(this,iterable[i],i);null!==value&&mapped.push(value)}return mapped}function reduce(iterable,callback,initial){for(var i in iterable)iterable.hasOwnProperty(i)&&(initial=callback.call(this,initial,iterable[i],i));return initial}function tag(name,attrs,matrix,content){return("undefined"==typeof content||null===content)&&(content=""),"object"==typeof attrs&&(attrs=map(attrs,function(element,name){switch(name){case"transform":return;case"fill":if(element.match(/^hsb/)){var hsb=element.replace(/^hsb\(|\)$/g,"").split(",");3===hsb.length&&(element=R.hsb2rgb(hsb[0],hsb[1],hsb[2]).toString())}}return name+'="'+escapeXML(element)+'"'}).join(" ")),"<"+name+(matrix?' transform="matrix('+matrix.toString().replace(/^matrix\(|\)$/g,"")+')" ':" ")+attrs+">"+content+"</"+name+">"}function extractStyle(node){return{font:{family:node.attrs.font.replace(/^.*?"(\w+)".*$/,"$1"),size:"undefined"==typeof node.attrs["font-size"]?null:node.attrs["font-size"]}}}function styleToString(style){return"font: normal normal normal 10px/normal "+style.font.family+(null===style.font.size?"":"; font-size: "+style.font.size)}function computeTSpanDy(fontSize,line,lines){return(null===fontSize||isNaN(fontSize))&&(fontSize=18),4.5*fontSize/13*(line-.2-lines/2)*3.5}var serializer={text:function(node){style=extractStyle(node);var tags=new Array,GLOBAL_LINE=-1;return map(node.attrs.text.split("\n"),function(text,iterable,line){line=line||0,GLOBAL_LINE+=1,tags.push(tag("text",reduce(node.attrs,function(initial,value,name){return"text"!==name&&"w"!==name&&"h"!==name&&("font-size"===name&&(value+="px"),initial[name]=escapeXML(value.toString())),initial},{style:styleToString(style)+";"}),node.matrix,tag("tspan",{dy:computeTSpanDy(style.font.size,GLOBAL_LINE+line+1,node.attrs.text.split("\n").length)},null,escapeXML(text))))}),tags},path:function(node){1===node.matrix.a&&1===node.matrix.d?{}:{transform:node.matrix.toString()};return tag("path",reduce(node.attrs,function(initial,value,name){return"path"===name&&(name="d"),initial[name]=value.toString(),initial},{}),node.matrix)}};R.fn.toSVG=function(){var paper=this,restore={svg:R.svg,vml:R.vml},svg='<svg style="overflow: hidden; position: relative;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+paper.width+'" version="1.1" height="'+paper.height+'">';R.svg=!0,R.vml=!1;for(var node=paper.bottom;null!=node;node=node.next)if("none"!==node.node.style.display){var attrs="";if("function"!=typeof serializer[node.type]){switch(node.type){case"image":attrs+=' preserveAspectRatio="none"'}for(i in node.attrs){var name=i;switch(i){case"src":name="xlink:href";break;case"transform":name=""}name&&(attrs+=" "+name+'="'+escapeXML(node.attrs[i].toString())+'"')}svg+="<"+node.type+' transform="matrix('+node.matrix.toString().replace(/^matrix\(|\)$/g,"")+')"'+attrs+"></"+node.type+">"}else svg+=serializer[node.type](node)}return svg+="</svg>",R.svg=restore.svg,R.vml=restore.vml,svg}}(window.Raphael);;
//!file:jquery.nicescroll.min.js
!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function(jQuery){function getScriptPath(){var scripts=document.getElementsByTagName("script"),path=scripts[scripts.length-1].src.split("?")[0];return path.split("/").length>0?path.split("/").slice(0,-1).join("/")+"/":""}function mplex(el,lst,fn){for(var a=0;a<lst.length;a++)fn(el,lst[a])}var domfocus=!1,mousefocus=!1,tabindexcounter=5e3,ascrailcounter=2e3,globalmaxzindex=0,$=jQuery,vendors=["ms","moz","webkit","o"],setAnimationFrame=window.requestAnimationFrame||!1,clearAnimationFrame=window.cancelAnimationFrame||!1;if(!setAnimationFrame)for(var vx in vendors){var v=vendors[vx];setAnimationFrame||(setAnimationFrame=window[v+"RequestAnimationFrame"]),clearAnimationFrame||(clearAnimationFrame=window[v+"CancelAnimationFrame"]||window[v+"CancelRequestAnimationFrame"])}var clsMutationObserver=window.MutationObserver||window.WebKitMutationObserver||!1,_globaloptions={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},railmargin:{top:0,right:0,left:0,bottom:0},railhpadding:{top:-1,right:-1,left:-1,bottom:-1},railhmargin:{top:-1,right:-1,left:-1,bottom:-1},mirrorrails:!0,disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:getScriptPath()},browserdetected=!1,getBrowserDetection=function(){function detectCursorGrab(){var lst=["-moz-grab","-webkit-grab","grab"];(d.ischrome&&!d.ischrome22||d.isie)&&(lst=[]);for(var a=0;a<lst.length;a++){var p=lst[a];if(domtest.style.cursor=p,domtest.style.cursor==p)return p}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}if(browserdetected)return browserdetected;var domtest=document.createElement("DIV"),d={};d.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,d.isopera="opera"in window,d.isopera12=d.isopera&&"getUserMedia"in navigator,d.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),d.isie="all"in document&&"attachEvent"in domtest&&!d.isopera,d.isieold=d.isie&&!("msInterpolationMode"in domtest.style),d.isie7=!(!d.isie||d.isieold||"documentMode"in document&&7!=document.documentMode),d.isie8=d.isie&&"documentMode"in document&&8==document.documentMode,d.isie9=d.isie&&"performance"in window&&document.documentMode>=9,d.isie10=d.isie&&"performance"in window&&document.documentMode>=10,d.isie9mobile=/iemobile.9/i.test(navigator.userAgent),d.isie9mobile&&(d.isie9=!1),d.isie7mobile=!d.isie9mobile&&d.isie7&&/iemobile/i.test(navigator.userAgent),d.ismozilla="MozAppearance"in domtest.style,d.iswebkit="WebkitAppearance"in domtest.style,d.ischrome="chrome"in window,d.ischrome22=d.ischrome&&d.haspointerlock,d.ischrome26=d.ischrome&&"transition"in domtest.style,d.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,d.hasmstouch=window.navigator.msPointerEnabled||!1,d.ismac=/^mac$/i.test(navigator.platform),d.isios=d.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),d.isios4=d.isios&&!("seal"in Object),d.isandroid=/android/i.test(navigator.userAgent),d.trstyle=!1,d.hastransform=!1,d.hastranslate3d=!1,d.transitionstyle=!1,d.hastransition=!1,d.transitionend=!1;for(var check=["transform","msTransform","webkitTransform","MozTransform","OTransform"],a=0;a<check.length;a++)if("undefined"!=typeof domtest.style[check[a]]){d.trstyle=check[a];break}d.hastransform=0!=d.trstyle,d.hastransform&&(domtest.style[d.trstyle]="translate3d(1px,2px,3px)",d.hastranslate3d=/translate3d/.test(domtest.style[d.trstyle])),d.transitionstyle=!1,d.prefixstyle="",d.transitionend=!1;for(var check=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],prefix=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],evs=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"],a=0;a<check.length;a++)if(check[a]in domtest.style){d.transitionstyle=check[a],d.prefixstyle=prefix[a],d.transitionend=evs[a];break}return d.ischrome26&&(d.prefixstyle=prefix[1]),d.hastransition=d.transitionstyle,d.cursorgrabvalue=detectCursorGrab(),d.hasmousecapture="setCapture"in domtest,d.hasMutationObserver=clsMutationObserver!==!1,domtest=null,browserdetected=d,d},NiceScrollClass=function(myopt,me){function getMatrixValues(){var tr=self.doc.css(cap.trstyle);return tr&&"matrix"==tr.substr(0,6)?tr.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function getZIndex(){var dom=self.win;if("zIndex"in dom)return dom.zIndex();for(;dom.length>0;){if(9==dom[0].nodeType)return!1;var zi=dom.css("zIndex");if(!isNaN(zi)&&0!=zi)return parseInt(zi);dom=dom.parent()}return!1}function getWidthToPixel(dom,prop,chkheight){var wd=dom.css(prop),px=parseFloat(wd);if(isNaN(px)){px=_convertBorderWidth[wd]||0;var brd=3==px?chkheight?self.win.outerHeight()-self.win.innerHeight():self.win.outerWidth()-self.win.innerWidth():1;return self.isie8&&px&&(px+=1),brd?px:0}return px}function _modernWheelEvent(dom,name,fn,bubble){self._bind(dom,name,function(e){var e=e?e:window.event,event={original:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==name?(event.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(event.deltaX=-1/40*e.wheelDeltaX)):event.deltaY=e.detail,fn.call(dom,event)},bubble)}function execScrollWheel(e,hr,chkscroll){var px,py;if(0==e.deltaMode?(px=-Math.floor(e.deltaX*(self.opt.mousescrollstep/54)),py=-Math.floor(e.deltaY*(self.opt.mousescrollstep/54))):1==e.deltaMode&&(px=-Math.floor(e.deltaX*self.opt.mousescrollstep),py=-Math.floor(e.deltaY*self.opt.mousescrollstep)),hr&&self.opt.oneaxismousemode&&0==px&&py&&(px=py,py=0),px&&(self.scrollmom&&self.scrollmom.stop(),self.lastdeltax+=px,self.debounced("mousewheelx",function(){var dt=self.lastdeltax;self.lastdeltax=0,self.rail.drag||self.doScrollLeftBy(dt)},15)),py){if(self.opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive)if(0>py){if(self.getScrollTop()>=self.page.maxh)return!0}else if(self.getScrollTop()<=0)return!0;self.scrollmom&&self.scrollmom.stop(),self.lastdeltay+=py,self.debounced("mousewheely",function(){var dt=self.lastdeltay;self.lastdeltay=0,self.rail.drag||self.doScrollBy(dt)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var self=this;if(this.version="3.5.4",this.name="nicescroll",this.me=me,this.opt={doc:$("body"),win:!1},$.extend(this.opt,_globaloptions),this.opt.snapbackspeed=80,myopt)for(var a in self.opt)"undefined"!=typeof myopt[a]&&(self.opt[a]=myopt[a]);this.opt.mirrorrails&&-1==this.opt.railhmargin.top&&(this.opt.railhmargin.top=this.opt.railmargin.left),this.opt.mirrorrails&&-1==this.opt.railhmargin.right&&(this.opt.railhmargin.right=this.opt.railmargin.bottom),this.opt.mirrorrails&&-1==this.opt.railhmargin.left&&(this.opt.railhmargin.left=this.opt.railmargin.top),this.opt.mirrorrails&&-1==this.opt.railhmargin.bottom&&(this.opt.railhmargin.bottom=this.opt.railmargin.right),this.opt.mirrorrails&&-1==this.opt.railhpadding.top&&(this.opt.railhpadding.top=this.opt.railpadding.left),this.opt.mirrorrails&&-1==this.opt.railhpadding.right&&(this.opt.railhpadding.right=this.opt.railpadding.bottom),this.opt.mirrorrails&&-1==this.opt.railhpadding.left&&(this.opt.railhpadding.left=this.opt.railpadding.top),this.opt.mirrorrails&&-1==this.opt.railhpadding.bottom&&(this.opt.railhpadding.bottom=this.opt.railpadding.right),this.doc=self.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(self.opt.win?self.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=self.opt.win!==!1,this.win=self.opt.win||(this.ispage?$(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?$(window):this.win,this.body=$("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=self.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode=!1,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1;do this.id="ascrail"+ascrailcounter++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=self.opt.overflowx,this.overflowy=self.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=getBrowserDetection();var cap=$.extend({},this.detected);this.canhwscroll=cap.hastransform&&self.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&self.haswrapper,this.istouchcapable=!1,cap.cantouch&&cap.ischrome&&!cap.isios&&!cap.isandroid&&(this.istouchcapable=!0,cap.cantouch=!1),cap.cantouch&&cap.ismozilla&&!cap.isios&&!cap.isandroid&&(this.istouchcapable=!0,cap.cantouch=!1),self.opt.enablemouselockapi||(cap.hasmousecapture=!1,cap.haspointerlock=!1),this.delayed=function(name,fn,tm,lazy){var dd=self.delaylist[name],nw=(new Date).getTime();return!lazy&&dd&&dd.tt?!1:(dd&&dd.tt&&clearTimeout(dd.tt),void(dd&&dd.last+tm>nw&&!dd.tt?self.delaylist[name]={last:nw+tm,tt:setTimeout(function(){self&&(self.delaylist[name].tt=0,fn.call())},tm)}:dd&&dd.tt||(self.delaylist[name]={last:nw,tt:0},setTimeout(function(){fn.call()},0))))},this.debounced=function(name,fn,tm){{var dd=self.delaylist[name];(new Date).getTime()}self.delaylist[name]=fn,dd||setTimeout(function(){var fn=self.delaylist[name];self.delaylist[name]=!1,fn.call()},tm)};var _onsync=!1;if(this.synched=function(name,fn){function requestSync(){_onsync||(setAnimationFrame(function(){_onsync=!1;for(name in self.synclist){var fn=self.synclist[name];fn&&fn.call(self),self.synclist[name]=!1}}),_onsync=!0)}return self.synclist[name]=fn,requestSync(),name},this.unsynched=function(name){self.synclist[name]&&(self.synclist[name]=!1)},this.css=function(el,pars){for(var n in pars)self.saved.css.push([el,n,el.css(n)]),el.css(n,pars[n])},this.scrollTop=function(val){return"undefined"==typeof val?self.getScrollTop():self.setScrollTop(val)},this.scrollLeft=function(val){return"undefined"==typeof val?self.getScrollLeft():self.setScrollLeft(val)},BezierClass=function(st,ed,spd,p1,p2,p3,p4){this.st=st,this.ed=ed,this.spd=spd,this.p1=p1||0,this.p2=p2||1,this.p3=p3||0,this.p4=p4||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var nw=(new Date).getTime(),pc=1-(nw-this.ts)/this.spd,bz=this.B2(pc)+this.B3(pc)+this.B4(pc);return 0>pc?this.ed:this.st+Math.round(this.df*bz)},update:function(ed,spd){return this.st=this.getNow(),this.ed=ed,this.spd=spd,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},cap.hastranslate3d&&cap.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return 16==mtx.length?-mtx[13]:-mtx[5];if(self.timerscroll&&self.timerscroll.bz)return self.timerscroll.bz.getNow()}return self.doc.translate.y},this.getScrollLeft=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return 16==mtx.length?-mtx[12]:-mtx[4];if(self.timerscroll&&self.timerscroll.bh)return self.timerscroll.bh.getNow()}return self.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(el){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),el.dispatchEvent(e)}:document.fireEvent?function(el){var e=document.createEventObject();el.fireEvent("onscroll"),e.cancelBubble=!0}:function(el,add){};var cxscrollleft=-1;cap.hastranslate3d&&self.opt.enabletranslate3d?(this.setScrollTop=function(val,silent){self.doc.translate.y=val,self.doc.translate.ty=-1*val+"px",self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0px)"),silent||self.notifyScrollEvent(self.win[0])},this.setScrollLeft=function(val,silent){self.doc.translate.x=val,self.doc.translate.tx=val*cxscrollleft+"px",self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0px)"),silent||self.notifyScrollEvent(self.win[0])}):(this.setScrollTop=function(val,silent){self.doc.translate.y=val,self.doc.translate.ty=-1*val+"px",self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")"),silent||self.notifyScrollEvent(self.win[0])},this.setScrollLeft=function(val,silent){self.doc.translate.x=val,self.doc.translate.tx=val*cxscrollleft+"px",self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")"),silent||self.notifyScrollEvent(self.win[0])})}else this.getScrollTop=function(){return self.docscroll.scrollTop()},this.setScrollTop=function(val){return self.docscroll.scrollTop(val)},this.getScrollLeft=function(){return self.docscroll.scrollLeft()},this.setScrollLeft=function(val){return self.docscroll.scrollLeft(val)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,id){if(!e)return!1;for(var el=e.target||e.srcElement||e||!1;el&&el.id!=id;)el=el.parentNode||!1;return el!==!1};var _convertBorderWidth={thin:1,medium:3,thick:5};this.getOffset=function(){if(self.isfixed)return{top:parseFloat(self.win.css("top")),left:parseFloat(self.win.css("left"))};if(!self.viewport)return self.win.offset();var ww=self.win.offset(),vp=self.viewport.offset();return{top:ww.top-vp.top+self.viewport.scrollTop(),left:ww.left-vp.left+self.viewport.scrollLeft()}},this.updateScrollBar=function(len){var boxoffsetv=self.opt.railmargin.top+self.opt.railmargin.bottom,boxoffseth=self.opt.railhmargin.left+self.opt.railhmargin.right;if(self.ishwscroll)self.rail.css({height:self.win.innerHeight()-boxoffsetv}),self.railh&&self.railh.css({width:self.win.innerWidth()-boxoffseth});else{var wpos=self.getOffset(),pos={top:wpos.top,left:wpos.left};pos.top+=getWidthToPixel(self.win,"border-top-width",!0);{(self.win.outerWidth()-self.win.innerWidth())/2}pos.left+=self.rail.align?self.win.outerWidth()-getWidthToPixel(self.win,"border-right-width")-self.rail.width:getWidthToPixel(self.win,"border-left-width");var off=self.opt.railoffset;if(off&&(off.top&&(pos.top+=off.top),self.rail.align&&off.left&&(pos.left+=off.left)),self.locked||self.rail.css({top:pos.top,left:pos.left,height:len?len.h-boxoffsetv:self.win.innerHeight()-boxoffsetv}),self.zoom&&self.zoom.css({top:pos.top+1,left:1==self.rail.align?pos.left-20:pos.left+self.rail.width+4}),self.railh&&!self.locked){var pos={top:wpos.top,left:wpos.left},y=self.railh.align?pos.top+getWidthToPixel(self.win,"border-top-width",!0)+self.win.innerHeight()-self.railh.height:pos.top+getWidthToPixel(self.win,"border-top-width",!0),x=pos.left+getWidthToPixel(self.win,"border-left-width")+self.opt.railhmargin.left;self.railh.css({top:y-self.opt.railhmargin.top,left:x,width:self.railh.width-boxoffseth})}}},this.doRailClick=function(e,dbl,hr){var fn,pg,cur,pos;self.locked||(self.cancelEvent(e),dbl?(fn=hr?self.doScrollLeft:self.doScrollTop,cur=hr?(e.pageX-self.railh.offset().left-self.cursorwidth/2)*self.scrollratio.x:(e.pageY-self.rail.offset().top-self.cursorheight/2)*self.scrollratio.y,fn(cur)):(fn=hr?self.doScrollLeftBy:self.doScrollBy,cur=hr?self.scroll.x:self.scroll.y,pos=hr?e.pageX-self.railh.offset().left:e.pageY-self.rail.offset().top,pg=hr?self.view.w:self.view.h,fn(cur>=pos?pg:-pg)))},self.hasanimationframe=setAnimationFrame,self.hascancelanimationframe=clearAnimationFrame,self.hasanimationframe?self.hascancelanimationframe||(clearAnimationFrame=function(){self.cancelAnimationFrame=!0}):(setAnimationFrame=function(fn){return setTimeout(fn,15-Math.floor(+new Date/1e3)%16)},clearAnimationFrame=clearInterval),this.init=function(){function checkSelectionScroll(e){if(self.selectiondrag){if(e){var ww=self.win.outerHeight(),df=e.pageY-self.selectiondrag.top;df>0&&ww>df&&(df=0),df>=ww&&(df-=ww),self.selectiondrag.df=df}if(0!=self.selectiondrag.df){var rt=2*-Math.floor(self.selectiondrag.df/6);self.doScrollBy(rt),self.debounced("doselectionscroll",function(){checkSelectionScroll()},50)}}}function oniframeload(e){self.iframexd=!1;try{{var doc="contentDocument"in this?this.contentDocument:this.contentWindow.document;doc.domain}}catch(e){self.iframexd=!0,doc=!1}if(self.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(self.forcescreen=!0,self.isiframe&&(self.iframe={doc:$(doc),html:self.doc.contents().find("html")[0],body:self.doc.contents().find("body")[0]},self.getContentSize=function(){return{w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)}},self.docscroll=$(self.iframe.body)),!cap.isios&&self.opt.iframeautoresize&&!self.isiframe){self.win.scrollTop(0),self.doc.height("");var hh=Math.max(doc.getElementsByTagName("html")[0].scrollHeight,doc.body.scrollHeight);self.doc.height(hh)}self.lazyResize(30),cap.isie7&&self.css($(self.iframe.html),{"overflow-y":"hidden"}),self.css($(self.iframe.body),{"overflow-y":"hidden"}),cap.isios&&self.haswrapper&&self.css($(doc.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?self.bind(this.contentWindow,"scroll",self.onscroll):self.bind(doc,"scroll",self.onscroll),self.opt.enablemousewheel&&self.bind(doc,"mousewheel",self.onmousewheel),self.opt.enablekeyboard&&self.bind(doc,cap.isopera?"keypress":"keydown",self.onkeypress),(cap.cantouch||self.opt.touchbehavior)&&(self.bind(doc,"mousedown",self.ontouchstart),self.bind(doc,"mousemove",function(e){self.ontouchmove(e,!0)}),self.opt.grabcursorenabled&&cap.cursorgrabvalue&&self.css($(doc.body),{cursor:cap.cursorgrabvalue})),self.bind(doc,"mouseup",self.ontouchend),self.zoom&&(self.opt.dblclickzoom&&self.bind(doc,"dblclick",self.doZoom),self.ongesturezoom&&self.bind(doc,"gestureend",self.ongesturezoom))}if(self.saved.css=[],cap.isie7mobile)return!0;if(cap.isoperamini)return!0;if(cap.hasmstouch&&self.css(self.ispage?$("html"):self.win,{"-ms-touch-action":"none"}),self.zindex="auto",self.zindex=self.ispage||"auto"!=self.opt.zindex?self.opt.zindex:getZIndex()||"auto",self.ispage||"auto"==self.zindex||self.zindex>globalmaxzindex&&(globalmaxzindex=self.zindex),self.isie&&0==self.zindex&&"auto"==self.opt.zindex&&(self.zindex="auto"),!self.ispage||!cap.cantouch&&!cap.isieold&&!cap.isie9mobile){var cont=self.docscroll;self.ispage&&(cont=self.haswrapper?self.win:self.doc),cap.isie9mobile||self.css(cont,{"overflow-y":"hidden"}),self.ispage&&cap.isie7&&("BODY"==self.doc[0].nodeName?self.css($("html"),{"overflow-y":"hidden"}):"HTML"==self.doc[0].nodeName&&self.css($("body"),{"overflow-y":"hidden"})),!cap.isios||self.ispage||self.haswrapper||self.css($("body"),{"-webkit-overflow-scrolling":"touch"});var cursor=$(document.createElement("div"));cursor.css({position:"relative",top:0,"float":"right",width:self.opt.cursorwidth,height:"0px","background-color":self.opt.cursorcolor,border:self.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":self.opt.cursorborderradius,"-moz-border-radius":self.opt.cursorborderradius,"border-radius":self.opt.cursorborderradius}),cursor.hborder=parseFloat(cursor.outerHeight()-cursor.innerHeight()),self.cursor=cursor;var rail=$(document.createElement("div"));rail.attr("id",self.id),rail.addClass("nicescroll-rails");var v,a,kp=["left","right","top","bottom"];for(var n in kp)a=kp[n],v=self.opt.railpadding[a],v?rail.css("padding-"+a,v+"px"):self.opt.railpadding[a]=0,v2=self.opt.railmargin[a],v2?rail.css("margin-"+a,v2+"px"):self.opt.railmargin[a]=0;rail.append(cursor),rail.width=Math.max(parseFloat(self.opt.cursorwidth),cursor.outerWidth())+self.opt.railpadding.left+self.opt.railpadding.right,rail.css({width:rail.width+"px",zIndex:self.zindex,background:self.opt.background,cursor:"default"}),rail.visibility=!0,rail.scrollable=!0,rail.align="left"==self.opt.railalign?0:1,self.rail=rail,self.rail.drag=!1;var zoom=!1;if(!self.opt.boxzoom||self.ispage||cap.isieold||(zoom=document.createElement("div"),self.bind(zoom,"click",self.doZoom),self.zoom=$(zoom),self.zoom.css({cursor:"pointer","z-index":self.zindex,backgroundImage:"url("+self.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),self.opt.dblclickzoom&&self.bind(self.win,"dblclick",self.doZoom),cap.cantouch&&self.opt.gesturezoom&&(self.ongesturezoom=function(e){return e.scale>1.5&&self.doZoomIn(e),e.scale<.8&&self.doZoomOut(e),self.cancelEvent(e)},self.bind(self.win,"gestureend",self.ongesturezoom))),self.railh=!1,self.opt.horizrailenabled){self.css(cont,{"overflow-x":"hidden"});var cursor=$(document.createElement("div"));cursor.css({position:"relative",top:0,height:self.opt.cursorwidth,width:"0px","background-color":self.opt.cursorcolor,border:self.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":self.opt.cursorborderradius,"-moz-border-radius":self.opt.cursorborderradius,"border-radius":self.opt.cursorborderradius}),cursor.wborder=parseFloat(cursor.outerWidth()-cursor.innerWidth()),self.cursorh=cursor;var railh=$(document.createElement("div"));railh.attr("id",self.id+"-hr"),railh.addClass("nicescroll-rails"),railh.height=Math.max(parseFloat(self.opt.cursorwidth),cursor.outerHeight()),railh.css({height:railh.height+"px",zIndex:self.zindex,background:self.opt.background});var v,v2,a,kp=["left","right","top","bottom"];for(var n in kp)a=kp[n],v=self.opt.railhpadding[a],v?railh.css("padding-"+a,v+"px"):self.opt.railhpadding[a]=0,v2=self.opt.railhmargin[a],v2?railh.css("margin-"+a,v2+"px"):self.opt.railhmargin[a]=0;railh.append(cursor),railh.visibility=!0,railh.scrollable=!0,railh.align="top"==self.opt.railvalign?0:1,self.railh=railh,self.railh.drag=!1}if(self.ispage)rail.css({position:"fixed",top:"0px",height:self.win.height()-self.opt.railpadding.top-self.opt.railpadding.bottom-self.opt.railmargin.top-self.opt.railmargin.bottom}),rail.css(rail.align?{right:"0px"}:{left:"0px"}),self.body.append(rail),self.railh&&(railh.css({position:"fixed",left:"0px",width:self.win.width()-self.opt.railhpadding.left-self.opt.railhpadding.right-self.opt.railhmargin.left-self.opt.railhmargin.right}),railh.css(railh.align?{bottom:"0px"}:{top:"0px"}),self.body.append(railh));else{if(self.ishwscroll){"static"==self.win.css("position")&&self.css(self.win,{position:"relative"});var bd="HTML"==self.win[0].nodeName?self.body:self.win;self.zoom&&(self.zoom.css({position:"absolute",top:1,right:0,"margin-right":rail.width+4}),bd.append(self.zoom)),rail.css({position:"absolute",top:0}),rail.css(rail.align?{right:0}:{left:0}),bd.append(rail),railh&&(railh.css({position:"absolute",left:0,bottom:0}),railh.css(railh.align?{bottom:0}:{top:0}),bd.append(railh))}else{self.isfixed="fixed"==self.win.css("position");var rlpos=self.isfixed?"fixed":"absolute";self.isfixed||(self.viewport=self.getViewport(self.win[0])),self.viewport&&(self.body=self.viewport,0==/fixed|relative|absolute/.test(self.viewport.css("position"))&&self.css(self.viewport,{position:"relative"})),rail.css({position:rlpos}),self.zoom&&self.zoom.css({position:rlpos}),self.updateScrollBar(),self.body.append(rail),self.zoom&&self.body.append(self.zoom),self.railh&&(railh.css({position:rlpos}),self.body.append(railh))}cap.isios&&self.css(self.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),cap.isie&&self.opt.disableoutline&&self.win.attr("hideFocus","true"),cap.iswebkit&&self.opt.disableoutline&&self.win.css({outline:"none"})}if(self.opt.autohidemode===!1?(self.autohidedom=!1,self.rail.css({opacity:self.opt.cursoropacitymax}),self.railh&&self.railh.css({opacity:self.opt.cursoropacitymax})):self.opt.autohidemode===!0||"leave"===self.opt.autohidemode?(self.autohidedom=$().add(self.rail),cap.isie8&&(self.autohidedom=self.autohidedom.add(self.cursor)),self.railh&&(self.autohidedom=self.autohidedom.add(self.railh)),self.railh&&cap.isie8&&(self.autohidedom=self.autohidedom.add(self.cursorh))):"scroll"==self.opt.autohidemode?(self.autohidedom=$().add(self.rail),self.railh&&(self.autohidedom=self.autohidedom.add(self.railh))):"cursor"==self.opt.autohidemode?(self.autohidedom=$().add(self.cursor),self.railh&&(self.autohidedom=self.autohidedom.add(self.cursorh))):"hidden"==self.opt.autohidemode&&(self.autohidedom=!1,self.hide(),self.locked=!1),cap.isie9mobile){self.scrollmom=new ScrollMomentumClass2D(self),self.onmangotouch=function(e){var py=self.getScrollTop(),px=self.getScrollLeft();if(py==self.scrollmom.lastscrolly&&px==self.scrollmom.lastscrollx)return!0;var dfy=py-self.mangotouch.sy,dfx=px-self.mangotouch.sx,df=Math.round(Math.sqrt(Math.pow(dfx,2)+Math.pow(dfy,2)));if(0!=df){var dry=0>dfy?-1:1,drx=0>dfx?-1:1,tm=+new Date;if(self.mangotouch.lazy&&clearTimeout(self.mangotouch.lazy),tm-self.mangotouch.tm>80||self.mangotouch.dry!=dry||self.mangotouch.drx!=drx)self.scrollmom.stop(),self.scrollmom.reset(px,py),self.mangotouch.sy=py,self.mangotouch.ly=py,self.mangotouch.sx=px,self.mangotouch.lx=px,self.mangotouch.dry=dry,self.mangotouch.drx=drx,self.mangotouch.tm=tm;else{self.scrollmom.stop(),self.scrollmom.update(self.mangotouch.sx-dfx,self.mangotouch.sy-dfy);{tm-self.mangotouch.tm}self.mangotouch.tm=tm;var ds=Math.max(Math.abs(self.mangotouch.ly-py),Math.abs(self.mangotouch.lx-px));self.mangotouch.ly=py,self.mangotouch.lx=px,ds>2&&(self.mangotouch.lazy=setTimeout(function(){self.mangotouch.lazy=!1,self.mangotouch.dry=0,self.mangotouch.drx=0,self.mangotouch.tm=0,self.scrollmom.doMomentum(30)},100))}}};var top=self.getScrollTop(),lef=self.getScrollLeft();self.mangotouch={sy:top,ly:top,dry:0,sx:lef,lx:lef,drx:0,lazy:!1,tm:0},self.bind(self.docscroll,"scroll",self.onmangotouch)}else{if(cap.cantouch||self.istouchcapable||self.opt.touchbehavior||cap.hasmstouch){self.scrollmom=new ScrollMomentumClass2D(self),self.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(self.hasmoving=!1,!self.locked){if(cap.hasmstouch)for(var tg=e.target?e.target:!1;tg;){var nc=$(tg).getNiceScroll();if(nc.length>0&&nc[0].me==self.me)break;if(nc.length>0)return!1;if("DIV"==tg.nodeName&&tg.id==self.id)break;tg=tg.parentNode?tg.parentNode:!1}self.cancelScroll();var tg=self.getTarget(e);if(tg){var skp=/INPUT/i.test(tg.nodeName)&&/range/i.test(tg.type);if(skp)return self.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),self.forcescreen){var le=e,e={original:e.original?e.original:e};e.clientX=le.screenX,e.clientY=le.screenY}if(self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:!1},self.ispage||!self.opt.directionlockdeadzone)self.rail.drag.dl="f";else{var view={w:$(window).width(),h:$(window).height()},page={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},maxh=Math.max(0,page.h-view.h),maxw=Math.max(0,page.w-view.w);self.rail.drag.ck=!self.rail.scrollable&&self.railh.scrollable?maxh>0?"v":!1:self.rail.scrollable&&!self.railh.scrollable&&maxw>0?"h":!1,self.rail.drag.ck||(self.rail.drag.dl="f")}if(self.opt.touchbehavior&&self.isiframe&&cap.isie){var wp=self.win.position();self.rail.drag.x+=wp.left,self.rail.drag.y+=wp.top}if(self.hasmoving=!1,self.lastmouseup=!1,self.scrollmom.reset(e.clientX,e.clientY),!cap.cantouch&&!this.istouchcapable&&!cap.hasmstouch){var ip=tg?/INPUT|SELECT|TEXTAREA/i.test(tg.nodeName):!1;if(!ip)return!self.ispage&&cap.hasmousecapture&&tg.setCapture(),self.opt.touchbehavior?(tg.onclick&&!tg._onclick&&(tg._onclick=tg.onclick,tg.onclick=function(e){return self.hasmoving?!1:void tg._onclick.call(this,e)}),self.cancelEvent(e)):self.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr("type"))&&(pc={tg:tg,click:!1},self.preventclick=pc)}}},self.ontouchend=function(e){return e.pointerType&&2!=e.pointerType?!1:self.rail.drag&&2==self.rail.drag.pt&&(self.scrollmom.doMomentum(),self.rail.drag=!1,self.hasmoving&&(self.lastmouseup=!0,self.hideCursor(),cap.hasmousecapture&&document.releaseCapture(),!cap.cantouch))?self.cancelEvent(e):void 0};var moveneedoffset=self.opt.touchbehavior&&self.isiframe&&!cap.hasmousecapture;self.ontouchmove=function(e,byiframe){if(e.pointerType&&2!=e.pointerType)return!1;if(self.rail.drag&&2==self.rail.drag.pt){if(cap.cantouch&&"undefined"==typeof e.original)return!0;self.hasmoving=!0,self.preventclick&&!self.preventclick.click&&(self.preventclick.click=self.preventclick.tg.onclick||!1,self.preventclick.tg.onclick=self.onpreventclick);var ev=$.extend({original:e},e);if(e=ev,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),self.forcescreen){var le=e,e={original:e.original?e.original:e};e.clientX=le.screenX,e.clientY=le.screenY}var ofx=ofy=0;if(moveneedoffset&&!byiframe){var wp=self.win.position();ofx=-wp.left,ofy=-wp.top}var fy=e.clientY+ofy,my=fy-self.rail.drag.y,fx=e.clientX+ofx,mx=fx-self.rail.drag.x,ny=self.rail.drag.st-my;if(self.ishwscroll&&self.opt.bouncescroll?0>ny?ny=Math.round(ny/2):ny>self.page.maxh&&(ny=self.page.maxh+Math.round((ny-self.page.maxh)/2)):(0>ny&&(ny=0,fy=0),ny>self.page.maxh&&(ny=self.page.maxh,fy=0)),self.railh&&self.railh.scrollable){var nx=self.rail.drag.sl-mx;self.ishwscroll&&self.opt.bouncescroll?0>nx?nx=Math.round(nx/2):nx>self.page.maxw&&(nx=self.page.maxw+Math.round((nx-self.page.maxw)/2)):(0>nx&&(nx=0,fx=0),nx>self.page.maxw&&(nx=self.page.maxw,fx=0))}var grabbed=!1;if(self.rail.drag.dl)grabbed=!0,"v"==self.rail.drag.dl?nx=self.rail.drag.sl:"h"==self.rail.drag.dl&&(ny=self.rail.drag.st);else{var ay=Math.abs(my),ax=Math.abs(mx),dz=self.opt.directionlockdeadzone;if("v"==self.rail.drag.ck){if(ay>dz&&.3*ay>=ax)return self.rail.drag=!1,!0;ax>dz&&(self.rail.drag.dl="f",$("body").scrollTop($("body").scrollTop()))}else if("h"==self.rail.drag.ck){if(ax>dz&&.3*ax>=ay)return self.rail.drag=!1,!0;ay>dz&&(self.rail.drag.dl="f",$("body").scrollLeft($("body").scrollLeft()))}}if(self.synched("touchmove",function(){self.rail.drag&&2==self.rail.drag.pt&&(self.prepareTransition&&self.prepareTransition(0),self.rail.scrollable&&self.setScrollTop(ny),self.scrollmom.update(fx,fy),self.railh&&self.railh.scrollable?(self.setScrollLeft(nx),self.showCursor(ny,nx)):self.showCursor(ny),
cap.isie10&&document.selection.clear())}),cap.ischrome&&self.istouchcapable&&(grabbed=!1),grabbed)return self.cancelEvent(e)}}}self.onmousedown=function(e,hronly){if(!self.rail.drag||1==self.rail.drag.pt){if(self.locked)return self.cancelEvent(e);self.cancelScroll(),self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:!!hronly};var tg=self.getTarget(e);return!self.ispage&&cap.hasmousecapture&&tg.setCapture(),self.isiframe&&!cap.hasmousecapture&&(self.saved.csspointerevents=self.doc.css("pointer-events"),self.css(self.doc,{"pointer-events":"none"})),self.hasmoving=!1,self.cancelEvent(e)}},self.onmouseup=function(e){if(self.rail.drag){if(cap.hasmousecapture&&document.releaseCapture(),self.isiframe&&!cap.hasmousecapture&&self.doc.css("pointer-events",self.saved.csspointerevents),1!=self.rail.drag.pt)return;return self.rail.drag=!1,self.hasmoving&&self.triggerScrollEnd(),self.cancelEvent(e)}},self.onmousemove=function(e){if(self.rail.drag){if(1!=self.rail.drag.pt)return;if(cap.ischrome&&0==e.which)return self.onmouseup(e);if(self.cursorfreezed=!0,self.hasmoving=!0,self.rail.drag.hr){self.scroll.x=self.rail.drag.sx+(e.clientX-self.rail.drag.x),self.scroll.x<0&&(self.scroll.x=0);var mw=self.scrollvaluemaxw;self.scroll.x>mw&&(self.scroll.x=mw)}else{self.scroll.y=self.rail.drag.sy+(e.clientY-self.rail.drag.y),self.scroll.y<0&&(self.scroll.y=0);var my=self.scrollvaluemax;self.scroll.y>my&&(self.scroll.y=my)}return self.synched("mousemove",function(){self.rail.drag&&1==self.rail.drag.pt&&(self.showCursor(),self.rail.drag.hr?self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),self.opt.cursordragspeed):self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),self.opt.cursordragspeed))}),self.cancelEvent(e)}},cap.cantouch||self.opt.touchbehavior?(self.onpreventclick=function(e){return self.preventclick?(self.preventclick.tg.onclick=self.preventclick.click,self.preventclick=!1,self.cancelEvent(e)):void 0},self.bind(self.win,"mousedown",self.ontouchstart),self.onclick=cap.isios?!1:function(e){return self.lastmouseup?(self.lastmouseup=!1,self.cancelEvent(e)):!0},self.opt.grabcursorenabled&&cap.cursorgrabvalue&&(self.css(self.ispage?self.doc:self.win,{cursor:cap.cursorgrabvalue}),self.css(self.rail,{cursor:cap.cursorgrabvalue}))):(self.hasTextSelected="getSelection"in document?function(){return document.getSelection().rangeCount>0}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},self.onselectionstart=function(e){self.ispage||(self.selectiondrag=self.win.offset())},self.onselectionend=function(e){self.selectiondrag=!1},self.onselectiondrag=function(e){self.selectiondrag&&self.hasTextSelected()&&self.debounced("selectionscroll",function(){checkSelectionScroll(e)},250)}),cap.hasmstouch&&(self.css(self.rail,{"-ms-touch-action":"none"}),self.css(self.cursor,{"-ms-touch-action":"none"}),self.bind(self.win,"MSPointerDown",self.ontouchstart),self.bind(document,"MSPointerUp",self.ontouchend),self.bind(document,"MSPointerMove",self.ontouchmove),self.bind(self.cursor,"MSGestureHold",function(e){e.preventDefault()}),self.bind(self.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(self.bind(self.win,"touchstart",self.ontouchstart),self.bind(document,"touchend",self.ontouchend),self.bind(document,"touchcancel",self.ontouchend),self.bind(document,"touchmove",self.ontouchmove)),self.bind(self.cursor,"mousedown",self.onmousedown),self.bind(self.cursor,"mouseup",self.onmouseup),self.railh&&(self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,!0)}),self.bind(self.cursorh,"mouseup",self.onmouseup)),(self.opt.cursordragontouch||!cap.cantouch&&!self.opt.touchbehavior)&&(self.rail.css({cursor:"default"}),self.railh&&self.railh.css({cursor:"default"}),self.jqbind(self.rail,"mouseenter",function(){return self.win.is(":visible")?(self.canshowonmouseevent&&self.showCursor(),void(self.rail.active=!0)):!1}),self.jqbind(self.rail,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}),self.opt.sensitiverail&&(self.bind(self.rail,"click",function(e){self.doRailClick(e,!1,!1)}),self.bind(self.rail,"dblclick",function(e){self.doRailClick(e,!0,!1)}),self.bind(self.cursor,"click",function(e){self.cancelEvent(e)}),self.bind(self.cursor,"dblclick",function(e){self.cancelEvent(e)})),self.railh&&(self.jqbind(self.railh,"mouseenter",function(){return self.win.is(":visible")?(self.canshowonmouseevent&&self.showCursor(),void(self.rail.active=!0)):!1}),self.jqbind(self.railh,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}),self.opt.sensitiverail&&(self.bind(self.railh,"click",function(e){self.doRailClick(e,!1,!0)}),self.bind(self.railh,"dblclick",function(e){self.doRailClick(e,!0,!0)}),self.bind(self.cursorh,"click",function(e){self.cancelEvent(e)}),self.bind(self.cursorh,"dblclick",function(e){self.cancelEvent(e)})))),cap.cantouch||self.opt.touchbehavior?(self.bind(cap.hasmousecapture?self.win:document,"mouseup",self.ontouchend),self.bind(document,"mousemove",self.ontouchmove),self.onclick&&self.bind(document,"click",self.onclick),self.opt.cursordragontouch&&(self.bind(self.cursor,"mousedown",self.onmousedown),self.bind(self.cursor,"mousemove",self.onmousemove),self.cursorh&&self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,!0)}),self.cursorh&&self.bind(self.cursorh,"mousemove",self.onmousemove))):(self.bind(cap.hasmousecapture?self.win:document,"mouseup",self.onmouseup),self.bind(document,"mousemove",self.onmousemove),self.onclick&&self.bind(document,"click",self.onclick),!self.ispage&&self.opt.enablescrollonselection&&(self.bind(self.win[0],"mousedown",self.onselectionstart),self.bind(document,"mouseup",self.onselectionend),self.bind(self.cursor,"mouseup",self.onselectionend),self.cursorh&&self.bind(self.cursorh,"mouseup",self.onselectionend),self.bind(document,"mousemove",self.onselectiondrag)),self.zoom&&(self.jqbind(self.zoom,"mouseenter",function(){self.canshowonmouseevent&&self.showCursor(),self.rail.active=!0}),self.jqbind(self.zoom,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}))),self.opt.enablemousewheel&&(self.isiframe||self.bind(cap.isie&&self.ispage?document:self.win,"mousewheel",self.onmousewheel),self.bind(self.rail,"mousewheel",self.onmousewheel),self.railh&&self.bind(self.railh,"mousewheel",self.onmousewheelhr)),self.ispage||cap.cantouch||/HTML|^BODY/.test(self.win[0].nodeName)||(self.win.attr("tabindex")||self.win.attr({tabindex:tabindexcounter++}),self.jqbind(self.win,"focus",function(e){domfocus=self.getTarget(e).id||!0,self.hasfocus=!0,self.canshowonmouseevent&&self.noticeCursor()}),self.jqbind(self.win,"blur",function(e){domfocus=!1,self.hasfocus=!1}),self.jqbind(self.win,"mouseenter",function(e){mousefocus=self.getTarget(e).id||!0,self.hasmousefocus=!0,self.canshowonmouseevent&&self.noticeCursor()}),self.jqbind(self.win,"mouseleave",function(){mousefocus=!1,self.hasmousefocus=!1,self.rail.drag||self.hideCursor()}))}if(self.onkeypress=function(e){if(self.locked&&0==self.page.maxh)return!0;e=e?e:window.e;var tg=self.getTarget(e);if(tg&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)){var tp=tg.getAttribute("type")||tg.type||!1;if(!tp||!/submit|button|cancel/i.tp)return!0}if($(tg).attr("contenteditable"))return!0;if(self.hasfocus||self.hasmousefocus&&!domfocus||self.ispage&&!domfocus&&!mousefocus){var key=e.keyCode;if(self.locked&&27!=key)return self.cancelEvent(e);var ctrl=e.ctrlKey||!1,shift=e.shiftKey||!1,ret=!1;switch(key){case 38:case 63233:self.doScrollBy(72),ret=!0;break;case 40:case 63235:self.doScrollBy(-72),ret=!0;break;case 37:case 63232:self.railh&&(ctrl?self.doScrollLeft(0):self.doScrollLeftBy(72),ret=!0);break;case 39:case 63234:self.railh&&(ctrl?self.doScrollLeft(self.page.maxw):self.doScrollLeftBy(-72),ret=!0);break;case 33:case 63276:self.doScrollBy(self.view.h),ret=!0;break;case 34:case 63277:self.doScrollBy(-self.view.h),ret=!0;break;case 36:case 63273:self.railh&&ctrl?self.doScrollPos(0,0):self.doScrollTo(0),ret=!0;break;case 35:case 63275:self.railh&&ctrl?self.doScrollPos(self.page.maxw,self.page.maxh):self.doScrollTo(self.page.maxh),ret=!0;break;case 32:self.opt.spacebarenabled&&(self.doScrollBy(shift?self.view.h:-self.view.h),ret=!0);break;case 27:self.zoomactive&&(self.doZoom(),ret=!0)}if(ret)return self.cancelEvent(e)}},self.opt.enablekeyboard&&self.bind(document,cap.isopera&&!cap.isopera12?"keypress":"keydown",self.onkeypress),self.bind(document,"keydown",function(e){var ctrl=e.ctrlKey||!1;ctrl&&(self.wheelprevented=!0)}),self.bind(document,"keyup",function(e){var ctrl=e.ctrlKey||!1;ctrl||(self.wheelprevented=!1)}),self.bind(window,"resize",self.lazyResize),self.bind(window,"orientationchange",self.lazyResize),self.bind(window,"load",self.lazyResize),cap.ischrome&&!self.ispage&&!self.haswrapper){var tmp=self.win.attr("style"),ww=parseFloat(self.win.css("width"))+1;self.win.css("width",ww),self.synched("chromefix",function(){self.win.attr("style",tmp)})}self.onAttributeChange=function(e){self.lazyResize(250)},self.ispage||self.haswrapper||(clsMutationObserver!==!1?(self.observer=new clsMutationObserver(function(mutations){mutations.forEach(self.onAttributeChange)}),self.observer.observe(self.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),self.observerremover=new clsMutationObserver(function(mutations){mutations.forEach(function(mo){if(mo.removedNodes.length>0)for(var dd in mo.removedNodes)if(mo.removedNodes[dd]==self.win[0])return self.remove()})}),self.observerremover.observe(self.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(self.bind(self.win,cap.isie&&!cap.isie9?"propertychange":"DOMAttrModified",self.onAttributeChange),cap.isie9&&self.win[0].attachEvent("onpropertychange",self.onAttributeChange),self.bind(self.win,"DOMNodeRemoved",function(e){e.target==self.win[0]&&self.remove()}))),!self.ispage&&self.opt.boxzoom&&self.bind(window,"resize",self.resizeZoom),self.istextarea&&self.bind(self.win,"mouseup",self.lazyResize),self.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){oniframeload.call(self.doc[0],!1)},500),self.bind(this.doc,"load",oniframeload))},this.showCursor=function(py,px){self.cursortimeout&&(clearTimeout(self.cursortimeout),self.cursortimeout=0),self.rail&&(self.autohidedom&&(self.autohidedom.stop().css({opacity:self.opt.cursoropacitymax}),self.cursoractive=!0),self.rail.drag&&1==self.rail.drag.pt||("undefined"!=typeof py&&py!==!1&&(self.scroll.y=Math.round(1*py/self.scrollratio.y)),"undefined"!=typeof px&&(self.scroll.x=Math.round(1*px/self.scrollratio.x))),self.cursor.css({height:self.cursorheight,top:self.scroll.y}),self.cursorh&&(self.cursorh.css(!self.rail.align&&self.rail.visibility?{width:self.cursorwidth,left:self.scroll.x+self.rail.width}:{width:self.cursorwidth,left:self.scroll.x}),self.cursoractive=!0),self.zoom&&self.zoom.stop().css({opacity:self.opt.cursoropacitymax}))},this.hideCursor=function(tm){self.cursortimeout||self.rail&&self.autohidedom&&(self.hasmousefocus&&"leave"==self.opt.autohidemode||(self.cursortimeout=setTimeout(function(){self.rail.active&&self.showonmouseevent||(self.autohidedom.stop().animate({opacity:self.opt.cursoropacitymin}),self.zoom&&self.zoom.stop().animate({opacity:self.opt.cursoropacitymin}),self.cursoractive=!1),self.cursortimeout=0},tm||self.opt.hidecursordelay)))},this.noticeCursor=function(tm,py,px){self.showCursor(py,px),self.rail.active||self.hideCursor(tm)},this.getContentSize=self.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:self.haswrapper?function(){return{w:self.doc.outerWidth()+parseInt(self.win.css("paddingLeft"))+parseInt(self.win.css("paddingRight")),h:self.doc.outerHeight()+parseInt(self.win.css("paddingTop"))+parseInt(self.win.css("paddingBottom"))}}:function(){return{w:self.docscroll[0].scrollWidth,h:self.docscroll[0].scrollHeight}},this.onResize=function(e,page){if(!self||!self.win)return!1;if(!self.haswrapper&&!self.ispage){if("none"==self.win.css("display"))return self.visibility&&self.hideRail().hideRailHr(),!1;self.hidden||self.visibility||self.showRail().showRailHr()}var premaxh=self.page.maxh,premaxw=self.page.maxw,preview={h:self.view.h,w:self.view.w};if(self.view={w:self.ispage?self.win.width():parseInt(self.win[0].clientWidth),h:self.ispage?self.win.height():parseInt(self.win[0].clientHeight)},self.page=page?page:self.getContentSize(),self.page.maxh=Math.max(0,self.page.h-self.view.h),self.page.maxw=Math.max(0,self.page.w-self.view.w),self.page.maxh==premaxh&&self.page.maxw==premaxw&&self.view.w==preview.w){if(self.ispage)return self;var pos=self.win.offset();if(self.lastposition){var lst=self.lastposition;if(lst.top==pos.top&&lst.left==pos.left)return self}self.lastposition=pos}if(0==self.page.maxh?(self.hideRail(),self.scrollvaluemax=0,self.scroll.y=0,self.scrollratio.y=0,self.cursorheight=0,self.setScrollTop(0),self.rail.scrollable=!1):self.rail.scrollable=!0,0==self.page.maxw?(self.hideRailHr(),self.scrollvaluemaxw=0,self.scroll.x=0,self.scrollratio.x=0,self.cursorwidth=0,self.setScrollLeft(0),self.railh.scrollable=!1):self.railh.scrollable=!0,self.locked=0==self.page.maxh&&0==self.page.maxw,self.locked)return self.ispage||self.updateScrollBar(self.view),!1;self.hidden||self.visibility?self.hidden||self.railh.visibility||self.showRailHr():self.showRail().showRailHr(),self.istextarea&&self.win.css("resize")&&"none"!=self.win.css("resize")&&(self.view.h-=20),self.cursorheight=Math.min(self.view.h,Math.round(self.view.h*(self.view.h/self.page.h))),self.cursorheight=self.opt.cursorfixedheight?self.opt.cursorfixedheight:Math.max(self.opt.cursorminheight,self.cursorheight),self.cursorwidth=Math.min(self.view.w,Math.round(self.view.w*(self.view.w/self.page.w))),self.cursorwidth=self.opt.cursorfixedheight?self.opt.cursorfixedheight:Math.max(self.opt.cursorminheight,self.cursorwidth-self.opt.railhpadding.left-self.opt.railhpadding.right),self.scrollvaluemax=self.view.h-self.cursorheight-self.cursor.hborder-self.opt.railpadding.top-self.opt.railpadding.bottom-self.opt.railmargin.top-self.opt.railmargin.bottom,self.railh&&(self.railh.width=self.page.maxh>0?self.view.w-self.rail.width:self.view.w,self.scrollvaluemaxw=self.railh.width-self.cursorwidth-self.cursorh.wborder-self.opt.railhpadding.left-self.opt.railhpadding.right-self.opt.railhmargin.left-self.opt.railhmargin.right),self.ispage||self.updateScrollBar(self.view),self.scrollratio={x:self.page.maxw/self.scrollvaluemaxw,y:self.page.maxh/self.scrollvaluemax};var sy=self.getScrollTop();return sy>Math.abs(self.page.maxh)?self.doScrollTop(self.page.maxh):(self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.scroll.x=Math.round(self.getScrollLeft()*(1/self.scrollratio.x)),self.cursoractive&&self.noticeCursor()),self.scroll.y&&0==self.getScrollTop()&&self.doScrollTo(Math.floor(self.scroll.y*self.scrollratio.y)),self},this.resize=self.onResize,this.lazyResize=function(tm){return tm=isNaN(tm)?30:tm,self.delayed("resize",self.resize,tm),self},this._bind=function(el,name,fn,bubble){self.events.push({e:el,n:name,f:fn,b:bubble,q:!1}),el.addEventListener?el.addEventListener(name,fn,bubble||!1):el.attachEvent?el.attachEvent("on"+name,fn):el["on"+name]=fn},this.jqbind=function(dom,name,fn){self.events.push({e:dom,n:name,f:fn,q:!0}),$(dom).bind(name,fn)},this.bind=function(dom,name,fn,bubble){var el="jquery"in dom?dom[0]:dom;if("mousewheel"==name)if("onwheel"in self.win)self._bind(el,"wheel",fn,bubble||!1);else{var wname="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll";_modernWheelEvent(el,wname,fn,bubble||!1),"DOMMouseScroll"==wname&&_modernWheelEvent(el,"MozMousePixelScroll",fn,bubble||!1)}else if(el.addEventListener){if(cap.cantouch&&/mouseup|mousedown|mousemove/.test(name)){var tt="mousedown"==name?"touchstart":"mouseup"==name?"touchend":"touchmove";self._bind(el,tt,function(e){if(e.touches){if(e.touches.length<2){var ev=e.touches.length?e.touches[0]:e;ev.original=e,fn.call(this,ev)}}else if(e.changedTouches){var ev=e.changedTouches[0];ev.original=e,fn.call(this,ev)}},bubble||!1)}self._bind(el,name,fn,bubble||!1),cap.cantouch&&"mouseup"==name&&self._bind(el,"touchcancel",fn,bubble||!1)}else self._bind(el,name,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),fn.call(el,e)===!1||bubble===!1?self.cancelEvent(e):!0})},this._unbind=function(el,name,fn,bub){el.removeEventListener?el.removeEventListener(name,fn,bub):el.detachEvent?el.detachEvent("on"+name,fn):el["on"+name]=!1},this.unbindAll=function(){for(var a=0;a<self.events.length;a++){var r=self.events[a];r.q?r.e.unbind(r.n,r.f):self._unbind(r.e,r.n,r.f,r.b)}},this.cancelEvent=function(e){var e=e.original?e.original:e?e:window.event||!1;return e?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1):!1},this.stopPropagation=function(e){var e=e.original?e.original:e?e:window.event||!1;return e?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==self.page.maxh||!self.ispage&&"none"==self.win.css("display")||(self.visibility=!0,self.rail.visibility=!0,self.rail.css("display","block")),self},this.showRailHr=function(){return self.railh?(0==self.page.maxw||!self.ispage&&"none"==self.win.css("display")||(self.railh.visibility=!0,self.railh.css("display","block")),self):self},this.hideRail=function(){return self.visibility=!1,self.rail.visibility=!1,self.rail.css("display","none"),self},this.hideRailHr=function(){return self.railh?(self.railh.visibility=!1,self.railh.css("display","none"),self):self},this.show=function(){return self.hidden=!1,self.locked=!1,self.showRail().showRailHr()},this.hide=function(){return self.hidden=!0,self.locked=!0,self.hideRail().hideRailHr()},this.toggle=function(){return self.hidden?self.show():self.hide()},this.remove=function(){self.stop(),self.cursortimeout&&clearTimeout(self.cursortimeout),self.doZoomOut(),self.unbindAll(),cap.isie9&&self.win[0].detachEvent("onpropertychange",self.onAttributeChange),self.observer!==!1&&self.observer.disconnect(),self.observerremover!==!1&&self.observerremover.disconnect(),self.events=null,self.cursor&&self.cursor.remove(),self.cursorh&&self.cursorh.remove(),self.rail&&self.rail.remove(),self.railh&&self.railh.remove(),self.zoom&&self.zoom.remove();for(var a=0;a<self.saved.css.length;a++){var d=self.saved.css[a];d[0].css(d[1],"undefined"==typeof d[2]?"":d[2])}self.saved=!1,self.me.data("__nicescroll","");var lst=$.nicescroll;lst.each(function(i){if(this&&this.id===self.id){delete lst[i];for(var b=++i;b<lst.length;b++,i++)lst[i]=lst[b];lst.length--,lst.length&&delete lst[lst.length]}});for(var i in self)self[i]=null,delete self[i];self=null},this.scrollstart=function(fn){return this.onscrollstart=fn,self},this.scrollend=function(fn){return this.onscrollend=fn,self},this.scrollcancel=function(fn){return this.onscrollcancel=fn,self},this.zoomin=function(fn){return this.onzoomin=fn,self},this.zoomout=function(fn){return this.onzoomout=fn,self},this.isScrollable=function(e){var dom=e.target?e.target:e;if("OPTION"==dom.nodeName)return!0;for(;dom&&1==dom.nodeType&&!/^BODY|HTML/.test(dom.nodeName);){var dd=$(dom),ov=dd.css("overflowY")||dd.css("overflowX")||dd.css("overflow")||"";if(/scroll|auto/.test(ov))return dom.clientHeight!=dom.scrollHeight;dom=dom.parentNode?dom.parentNode:!1}return!1},this.getViewport=function(me){for(var dom=me&&me.parentNode?me.parentNode:!1;dom&&1==dom.nodeType&&!/^BODY|HTML/.test(dom.nodeName);){var dd=$(dom);if(/fixed|absolute/.test(dd.css("position")))return dd;var ov=dd.css("overflowY")||dd.css("overflowX")||dd.css("overflow")||"";if(/scroll|auto/.test(ov)&&dom.clientHeight!=dom.scrollHeight)return dd;if(dd.getNiceScroll().length>0)return dd;dom=dom.parentNode?dom.parentNode:!1}return dom?$(dom):!1},this.triggerScrollEnd=function(){if(self.onscrollend){var px=self.getScrollLeft(),py=self.getScrollTop(),info={type:"scrollend",current:{x:px,y:py},end:{x:px,y:py}};self.onscrollend.call(self,info)}},this.onmousewheel=function(e){if(!self.wheelprevented){if(self.locked)return self.debounced("checkunlock",self.resize,250),!0;if(self.rail.drag)return self.cancelEvent(e);if("auto"==self.opt.oneaxismousemode&&0!=e.deltaX&&(self.opt.oneaxismousemode=!1),self.opt.oneaxismousemode&&0==e.deltaX&&!self.rail.scrollable)return self.railh&&self.railh.scrollable?self.onmousewheelhr(e):!0;var nw=+new Date,chk=!1;if(self.opt.preservenativescrolling&&self.checkarea+600<nw&&(self.nativescrollingarea=self.isScrollable(e),chk=!0),self.checkarea=nw,self.nativescrollingarea)return!0;var ret=execScrollWheel(e,!1,chk);return ret&&(self.checkarea=0),ret}},this.onmousewheelhr=function(e){if(!self.wheelprevented){if(self.locked||!self.railh.scrollable)return!0;if(self.rail.drag)return self.cancelEvent(e);var nw=+new Date,chk=!1;return self.opt.preservenativescrolling&&self.checkarea+600<nw&&(self.nativescrollingarea=self.isScrollable(e),chk=!0),self.checkarea=nw,self.nativescrollingarea?!0:self.locked?self.cancelEvent(e):execScrollWheel(e,!0,chk)}},this.stop=function(){return self.cancelScroll(),self.scrollmon&&self.scrollmon.stop(),self.cursorfreezed=!1,self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.noticeCursor(),self},this.getTransitionSpeed=function(dif){var sp=Math.round(10*self.opt.scrollspeed),ex=Math.min(sp,Math.round(dif/20*self.opt.scrollspeed));return ex>20?ex:0},self.opt.smoothscroll?self.ishwscroll&&cap.hastransition&&self.opt.usetransition?(this.prepareTransition=function(dif,istime){var ex=istime?dif>20?dif:0:self.getTransitionSpeed(dif),trans=ex?cap.prefixstyle+"transform "+ex+"ms ease-out":"";return self.lasttransitionstyle&&self.lasttransitionstyle==trans||(self.lasttransitionstyle=trans,self.doc.css(cap.transitionstyle,trans)),ex},this.doScrollLeft=function(x,spd){var y=self.scrollrunning?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.scrollrunning?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){var py=self.getScrollTop(),px=self.getScrollLeft();return((self.newscrolly-py)*(y-py)<0||(self.newscrollx-px)*(x-px)<0)&&self.cancelScroll(),0==self.opt.bouncescroll&&(0>y?y=0:y>self.page.maxh&&(y=self.page.maxh),0>x?x=0:x>self.page.maxw&&(x=self.page.maxw)),self.scrollrunning&&x==self.newscrollx&&y==self.newscrolly?!1:(self.newscrolly=y,self.newscrollx=x,self.newscrollspeed=spd||!1,self.timer?!1:void(self.timer=setTimeout(function(){var top=self.getScrollTop(),lft=self.getScrollLeft(),dst={};dst.x=x-lft,dst.y=y-top,dst.px=lft,dst.py=top;var dd=Math.round(Math.sqrt(Math.pow(dst.x,2)+Math.pow(dst.y,2))),ms=self.newscrollspeed&&self.newscrollspeed>1?self.newscrollspeed:self.getTransitionSpeed(dd);if(self.newscrollspeed&&self.newscrollspeed<=1&&(ms*=self.newscrollspeed),self.prepareTransition(ms,!0),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),ms>0){if(!self.scrollrunning&&self.onscrollstart){var info={type:"scrollstart",current:{x:lft,y:top},request:{x:x,y:y},end:{x:self.newscrollx,y:self.newscrolly},speed:ms};self.onscrollstart.call(self,info)}cap.transitionend?self.scrollendtrapped||(self.scrollendtrapped=!0,self.bind(self.doc,cap.transitionend,self.onScrollTransitionEnd,!1)):(self.scrollendtrapped&&clearTimeout(self.scrollendtrapped),self.scrollendtrapped=setTimeout(self.onScrollTransitionEnd,ms));var py=top,px=lft;self.timerscroll={bz:new BezierClass(py,self.newscrolly,ms,0,0,.58,1),bh:new BezierClass(px,self.newscrollx,ms,0,0,.58,1)},self.cursorfreezed||(self.timerscroll.tm=setInterval(function(){self.showCursor(self.getScrollTop(),self.getScrollLeft())},60))}self.synched("doScroll-set",function(){self.timer=0,self.scrollendtrapped&&(self.scrollrunning=!0),self.setScrollTop(self.newscrolly),self.setScrollLeft(self.newscrollx),self.scrollendtrapped||self.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!self.scrollendtrapped)return!0;var py=self.getScrollTop(),px=self.getScrollLeft();return self.scrollrunning=!1,cap.transitionend||clearTimeout(cap.transitionend),self.scrollendtrapped=!1,self._unbind(self.doc,cap.transitionend,self.onScrollTransitionEnd),self.prepareTransition(0),self.setScrollTop(py),self.railh&&self.setScrollLeft(px),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),self.timerscroll=!1,self.cursorfreezed=!1,self.showCursor(py,px),self},this.onScrollTransitionEnd=function(){self.scrollendtrapped&&self._unbind(self.doc,cap.transitionend,self.onScrollTransitionEnd),self.scrollendtrapped=!1,self.prepareTransition(0),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),self.timerscroll=!1;var py=self.getScrollTop(),px=self.getScrollLeft();return self.setScrollTop(py),self.railh&&self.setScrollLeft(px),self.noticeCursor(!1,py,px),self.cursorfreezed=!1,0>py?py=0:py>self.page.maxh&&(py=self.page.maxh),0>px?px=0:px>self.page.maxw&&(px=self.page.maxw),py!=self.newscrolly||px!=self.newscrollx?self.doScrollPos(px,py,self.opt.snapbackspeed):(self.onscrollend&&self.scrollrunning&&self.triggerScrollEnd(),void(self.scrollrunning=!1))}):(this.doScrollLeft=function(x,spd){var y=self.scrollrunning?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.scrollrunning?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){function scrolling(){if(self.cancelAnimationFrame)return!0;if(self.scrollrunning=!0,sync=1-sync)return self.timer=setAnimationFrame(scrolling)||1;var done=0,sc=sy=self.getScrollTop();if(self.dst.ay){sc=self.bzscroll?self.dst.py+self.bzscroll.getNow()*self.dst.ay:self.newscrolly;var dr=sc-sy;(0>dr&&sc<self.newscrolly||dr>0&&sc>self.newscrolly)&&(sc=self.newscrolly),self.setScrollTop(sc),sc==self.newscrolly&&(done=1)}else done=1;var scx=sx=self.getScrollLeft();if(self.dst.ax){scx=self.bzscroll?self.dst.px+self.bzscroll.getNow()*self.dst.ax:self.newscrollx;var dr=scx-sx;(0>dr&&scx<self.newscrollx||dr>0&&scx>self.newscrollx)&&(scx=self.newscrollx),self.setScrollLeft(scx),scx==self.newscrollx&&(done+=1)}else done+=1;2==done?(self.timer=0,self.cursorfreezed=!1,self.bzscroll=!1,self.scrollrunning=!1,0>sc?sc=0:sc>self.page.maxh&&(sc=self.page.maxh),0>scx?scx=0:scx>self.page.maxw&&(scx=self.page.maxw),scx!=self.newscrollx||sc!=self.newscrolly?self.doScrollPos(scx,sc):self.onscrollend&&self.triggerScrollEnd()):self.timer=setAnimationFrame(scrolling)||1}var y="undefined"==typeof y||y===!1?self.getScrollTop(!0):y;if(self.timer&&self.newscrolly==y&&self.newscrollx==x)return!0;self.timer&&clearAnimationFrame(self.timer),self.timer=0;var py=self.getScrollTop(),px=self.getScrollLeft();((self.newscrolly-py)*(y-py)<0||(self.newscrollx-px)*(x-px)<0)&&self.cancelScroll(),self.newscrolly=y,self.newscrollx=x,self.bouncescroll&&self.rail.visibility||(self.newscrolly<0?self.newscrolly=0:self.newscrolly>self.page.maxh&&(self.newscrolly=self.page.maxh)),self.bouncescroll&&self.railh.visibility||(self.newscrollx<0?self.newscrollx=0:self.newscrollx>self.page.maxw&&(self.newscrollx=self.page.maxw)),self.dst={},self.dst.x=x-px,self.dst.y=y-py,self.dst.px=px,self.dst.py=py;var dst=Math.round(Math.sqrt(Math.pow(self.dst.x,2)+Math.pow(self.dst.y,2)));self.dst.ax=self.dst.x/dst,self.dst.ay=self.dst.y/dst;var pa=0,pe=dst;0==self.dst.x?(pa=py,pe=y,self.dst.ay=1,self.dst.py=0):0==self.dst.y&&(pa=px,pe=x,self.dst.ax=1,self.dst.px=0);var ms=self.getTransitionSpeed(dst);if(spd&&1>=spd&&(ms*=spd),self.bzscroll=ms>0?self.bzscroll?self.bzscroll.update(pe,ms):new BezierClass(pa,pe,ms,0,1,0,1):!1,!self.timer){(py==self.page.maxh&&y>=self.page.maxh||px==self.page.maxw&&x>=self.page.maxw)&&self.checkContentSize();var sync=1;if(self.cancelAnimationFrame=!1,self.timer=1,self.onscrollstart&&!self.scrollrunning){var info={type:"scrollstart",current:{x:px,y:py},request:{x:x,y:y},end:{x:self.newscrollx,y:self.newscrolly},speed:ms};self.onscrollstart.call(self,info)}scrolling(),(py==self.page.maxh&&y>=py||px==self.page.maxw&&x>=px)&&self.checkContentSize(),self.noticeCursor()}},this.cancelScroll=function(){return self.timer&&clearAnimationFrame(self.timer),self.timer=0,self.bzscroll=!1,self.scrollrunning=!1,self}):(this.doScrollLeft=function(x,spd){var y=self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){var nx=x>self.page.maxw?self.page.maxw:x;0>nx&&(nx=0);var ny=y>self.page.maxh?self.page.maxh:y;0>ny&&(ny=0),self.synched("scroll",function(){self.setScrollTop(ny),self.setScrollLeft(nx)})},this.cancelScroll=function(){}),this.doScrollBy=function(stp,relative){var ny=0;if(relative)ny=Math.floor((self.scroll.y-stp)*self.scrollratio.y);else{var sy=self.timer?self.newscrolly:self.getScrollTop(!0);ny=sy-stp}if(self.bouncescroll){var haf=Math.round(self.view.h/2);-haf>ny?ny=-haf:ny>self.page.maxh+haf&&(ny=self.page.maxh+haf)}return self.cursorfreezed=!1,py=self.getScrollTop(!0),0>ny&&py<=0?self.noticeCursor():ny>self.page.maxh&&py>=self.page.maxh?(self.checkContentSize(),self.noticeCursor()):void self.doScrollTop(ny)},this.doScrollLeftBy=function(stp,relative){var nx=0;if(relative)nx=Math.floor((self.scroll.x-stp)*self.scrollratio.x);else{var sx=self.timer?self.newscrollx:self.getScrollLeft(!0);nx=sx-stp}if(self.bouncescroll){var haf=Math.round(self.view.w/2);-haf>nx?nx=-haf:nx>self.page.maxw+haf&&(nx=self.page.maxw+haf)}return self.cursorfreezed=!1,px=self.getScrollLeft(!0),0>nx&&px<=0?self.noticeCursor():nx>self.page.maxw&&px>=self.page.maxw?self.noticeCursor():void self.doScrollLeft(nx)},this.doScrollTo=function(pos,relative){var ny=relative?Math.round(pos*self.scrollratio.y):pos;0>ny?ny=0:ny>self.page.maxh&&(ny=self.page.maxh),self.cursorfreezed=!1,self.doScrollTop(pos)},this.checkContentSize=function(){var pg=self.getContentSize();(pg.h!=self.page.h||pg.w!=self.page.w)&&self.resize(!1,pg)},self.onscroll=function(e){self.rail.drag||self.cursorfreezed||self.synched("scroll",function(){self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.railh&&(self.scroll.x=Math.round(self.getScrollLeft()*(1/self.scrollratio.x))),self.noticeCursor()})},self.bind(self.docscroll,"scroll",self.onscroll),this.doZoomIn=function(e){if(!self.zoomactive){self.zoomactive=!0,self.zoomrestore={style:{}};var lst=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],win=self.win[0].style;for(var a in lst){var pp=lst[a];self.zoomrestore.style[pp]="undefined"!=typeof win[pp]?win[pp]:""}self.zoomrestore.style.width=self.win.css("width"),self.zoomrestore.style.height=self.win.css("height"),self.zoomrestore.padding={w:self.win.outerWidth()-self.win.width(),h:self.win.outerHeight()-self.win.height()},cap.isios4&&(self.zoomrestore.scrollTop=$(window).scrollTop(),$(window).scrollTop(0)),self.win.css({position:cap.isios4?"absolute":"fixed",top:0,left:0,"z-index":globalmaxzindex+100,margin:"0px"});var bkg=self.win.css("backgroundColor");return(""==bkg||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(bkg))&&self.win.css("backgroundColor","#fff"),self.rail.css({"z-index":globalmaxzindex+101}),self.zoom.css({"z-index":globalmaxzindex+102}),self.zoom.css("backgroundPosition","0px -18px"),self.resizeZoom(),self.onzoomin&&self.onzoomin.call(self),self.cancelEvent(e)}},this.doZoomOut=function(e){return self.zoomactive?(self.zoomactive=!1,self.win.css("margin",""),
self.win.css(self.zoomrestore.style),cap.isios4&&$(window).scrollTop(self.zoomrestore.scrollTop),self.rail.css({"z-index":self.zindex}),self.zoom.css({"z-index":self.zindex}),self.zoomrestore=!1,self.zoom.css("backgroundPosition","0px 0px"),self.onResize(),self.onzoomout&&self.onzoomout.call(self),self.cancelEvent(e)):void 0},this.doZoom=function(e){return self.zoomactive?self.doZoomOut(e):self.doZoomIn(e)},this.resizeZoom=function(){if(self.zoomactive){var py=self.getScrollTop();self.win.css({width:$(window).width()-self.zoomrestore.padding.w+"px",height:$(window).height()-self.zoomrestore.padding.h+"px"}),self.onResize(),self.setScrollTop(Math.min(self.page.maxh,py))}},this.init(),$.nicescroll.push(this)},ScrollMomentumClass2D=function(nc){var self=this;this.nc=nc,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(px,py){self.stop();var now=self.time();self.steptime=0,self.lasttime=now,self.speedx=0,self.speedy=0,self.lastx=px,self.lasty=py,self.lastscrollx=-1,self.lastscrolly=-1},this.update=function(px,py){var now=self.time();self.steptime=now-self.lasttime,self.lasttime=now;var dy=py-self.lasty,dx=px-self.lastx,sy=self.nc.getScrollTop(),sx=self.nc.getScrollLeft(),newy=sy+dy,newx=sx+dx;self.snapx=0>newx||newx>self.nc.page.maxw,self.snapy=0>newy||newy>self.nc.page.maxh,self.speedx=dx,self.speedy=dy,self.lastx=px,self.lasty=py},this.stop=function(){self.nc.unsynched("domomentum2d"),self.timer&&clearTimeout(self.timer),self.timer=0,self.lastscrollx=-1,self.lastscrolly=-1},this.doSnapy=function(nx,ny){var snap=!1;0>ny?(ny=0,snap=!0):ny>self.nc.page.maxh&&(ny=self.nc.page.maxh,snap=!0),0>nx?(nx=0,snap=!0):nx>self.nc.page.maxw&&(nx=self.nc.page.maxw,snap=!0),snap?self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed):self.nc.triggerScrollEnd()},this.doMomentum=function(gp){var t=self.time(),l=gp?t+gp:self.lasttime,sl=self.nc.getScrollLeft(),st=self.nc.getScrollTop(),pageh=self.nc.page.maxh,pagew=self.nc.page.maxw;self.speedx=pagew>0?Math.min(60,self.speedx):0,self.speedy=pageh>0?Math.min(60,self.speedy):0;var chk=l&&60>=t-l;(0>st||st>pageh||0>sl||sl>pagew)&&(chk=!1);var sy=self.speedy&&chk?self.speedy:!1,sx=self.speedx&&chk?self.speedx:!1;if(sy||sx){var tm=Math.max(16,self.steptime);if(tm>50){var xm=tm/50;self.speedx*=xm,self.speedy*=xm,tm=50}self.demulxy=0,self.lastscrollx=self.nc.getScrollLeft(),self.chkx=self.lastscrollx,self.lastscrolly=self.nc.getScrollTop(),self.chky=self.lastscrolly;var nx=self.lastscrollx,ny=self.lastscrolly,onscroll=function(){var df=self.time()-t>600?.04:.02;self.speedx&&(nx=Math.floor(self.lastscrollx-self.speedx*(1-self.demulxy)),self.lastscrollx=nx,(0>nx||nx>pagew)&&(df=.1)),self.speedy&&(ny=Math.floor(self.lastscrolly-self.speedy*(1-self.demulxy)),self.lastscrolly=ny,(0>ny||ny>pageh)&&(df=.1)),self.demulxy=Math.min(1,self.demulxy+df),self.nc.synched("domomentum2d",function(){if(self.speedx){var scx=self.nc.getScrollLeft();scx!=self.chkx&&self.stop(),self.chkx=nx,self.nc.setScrollLeft(nx)}if(self.speedy){var scy=self.nc.getScrollTop();scy!=self.chky&&self.stop(),self.chky=ny,self.nc.setScrollTop(ny)}self.timer||(self.nc.hideCursor(),self.doSnapy(nx,ny))}),self.demulxy<1?self.timer=setTimeout(onscroll,tm):(self.stop(),self.nc.hideCursor(),self.doSnapy(nx,ny))};onscroll()}else self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop())}},_scrollTop=jQuery.fn.scrollTop;jQuery.cssHooks.pageYOffset={get:function(elem,computed,extra){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.getScrollTop():_scrollTop.call(elem)},set:function(elem,value){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.setScrollTop(parseInt(value)):_scrollTop.call(elem,value),this}},jQuery.fn.scrollTop=function(value){if("undefined"==typeof value){var nice=this[0]?$.data(this[0],"__nicescroll")||!1:!1;return nice&&nice.ishwscroll?nice.getScrollTop():_scrollTop.call(this)}return this.each(function(){var nice=$.data(this,"__nicescroll")||!1;nice&&nice.ishwscroll?nice.setScrollTop(parseInt(value)):_scrollTop.call($(this),value)})};var _scrollLeft=jQuery.fn.scrollLeft;$.cssHooks.pageXOffset={get:function(elem,computed,extra){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.getScrollLeft():_scrollLeft.call(elem)},set:function(elem,value){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.setScrollLeft(parseInt(value)):_scrollLeft.call(elem,value),this}},jQuery.fn.scrollLeft=function(value){if("undefined"==typeof value){var nice=this[0]?$.data(this[0],"__nicescroll")||!1:!1;return nice&&nice.ishwscroll?nice.getScrollLeft():_scrollLeft.call(this)}return this.each(function(){var nice=$.data(this,"__nicescroll")||!1;nice&&nice.ishwscroll?nice.setScrollLeft(parseInt(value)):_scrollLeft.call($(this),value)})};var NiceScrollArray=function(doms){var self=this;if(this.length=0,this.name="nicescrollarray",this.each=function(fn){for(var a=0,i=0;a<self.length;a++)fn.call(self[a],i++);return self},this.push=function(nice){self[self.length]=nice,self.length++},this.eq=function(idx){return self[idx]},doms)for(var a=0;a<doms.length;a++){var nice=$.data(doms[a],"__nicescroll")||!1;nice&&(this[this.length]=nice,this.length++)}return this};mplex(NiceScrollArray.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,n){e[n]=function(){var args=arguments;return this.each(function(){this[n].apply(this,args)})}}),jQuery.fn.getNiceScroll=function(index){if("undefined"==typeof index)return new NiceScrollArray(this);var nice=this[index]&&$.data(this[index],"__nicescroll")||!1;return nice},jQuery.extend(jQuery.expr[":"],{nicescroll:function(a){return $.data(a,"__nicescroll")?!0:!1}}),$.fn.niceScroll=function(wrapper,opt){"undefined"==typeof opt&&("object"!=typeof wrapper||"jquery"in wrapper||(opt=wrapper,wrapper=!1));var ret=new NiceScrollArray;"undefined"==typeof opt&&(opt={}),wrapper&&(opt.doc=$(wrapper),opt.win=$(this));var docundef=!("doc"in opt);return docundef||"win"in opt||(opt.win=$(this)),this.each(function(){var nice=$(this).data("__nicescroll")||!1;nice||(opt.doc=docundef?$(this):opt.doc,nice=new NiceScrollClass(opt,$(this)),$(this).data("__nicescroll",nice)),ret.push(nice)}),1==ret.length?ret[0]:ret},window.NiceScroll={getjQuery:function(){return jQuery}},$.nicescroll||($.nicescroll=new NiceScrollArray,$.nicescroll.options=_globaloptions)});;
//!file:intlTelInput.custom.min.js
!function(){"use strict";!function(t,n,r,i){function a(e,n){this.element=e,this.options=t.extend({},u,n),this._defaults=u,this.id=o++,this._name=s,this.init()}var s="intlTelInput",o=1,u={preferredCountries:["us","gb"],americaMode:!1,onlyCountries:[],defaultStyling:!0,autoHideDialCode:!0,defaultCountry:""};a.prototype={init:function(){var i=this;if(this.options.onlyCountries.length>0){var s=[],o={};t.each(this.options.onlyCountries,function(e,t){var n=i._getCountryData(t,!0);if(n){s.push(n);var r=n["calling-code"];o[r]?o[r].push(t):o[r]=[t]}}),n.intlData={countries:s,countryCodes:o}}else n.intlData=e;var u=[];t.each(this.options.preferredCountries,function(e,t){var n=i._getCountryData(t,!1);n&&u.push(n)}),this.defaultCountry=this.options.defaultCountry?this._getCountryData(this.options.defaultCountry,!1):u.length?u[0]:intlData.countries[0],this.telInput=t(this.element),this.options.autoHideDialCode||""!==this.telInput.val()||this._resetToDialCode(this.defaultCountry["calling-code"]);var a="intl-tel-input";this.options.defaultStyling&&(a+=" pretty"),this.telInput.wrap(t("<div>",{"class":a}));var f=t("<div>",{"class":"flag-dropdown f16"}).insertBefore(this.telInput),l=t("<div>",{"class":"selected-flag"}).appendTo(f),c=this.defaultCountry.cca2;this.selectedFlagInner=t("<div>",{"class":"flag "+c}).appendTo(l),t("<div>",{"class":"down-arrow"}).appendTo(this.selectedFlagInner),this.countryList=t("<ul>",{"class":"country-list hide"}).appendTo(f),u.length&&(this._appendListItems(u,"preferred"),t("<li>",{"class":"divider"}).appendTo(this.countryList)),this._appendListItems(intlData.countries,""),this.countryListItems=this.countryList.children(".country"),this.countryListItems.first().addClass("active"),this.options.autoHideDialCode&&(this.telInput.focusin(function(){var e=t.trim(i.telInput.val());if(0===e.length){var n=i.selectedFlagInner.attr("class").split(" ")[1],r=i._getCountryData(n,!1);i._resetToDialCode(r["calling-code"])}}),this.telInput.focusout(function(){var e=t.trim(i.telInput.val());if(e.length>0){var n=i._getDialCode(e);"+"+n==e&&i.telInput.val("")}})),this.telInput.keyup(function(){i._updateFlagFromInputVal()}),i._updateFlagFromInputVal(),l.click(function(e){if(i.countryList.hasClass("hide")){var n=i.countryList.children(".active");i._highlightListItem(n),i.countryList.removeClass("hide"),i._scrollTo(n);var s=!0;t("html").bind("click.intlTelInput"+i.id,function(e){s||i._closeDropdown(),s=!1}),t(r).bind("keydown.intlTelInput"+i.id,function(e){if(38==e.which||40==e.which){e.preventDefault();var n=i.countryList.children(".highlight").first(),r=38==e.which?n.prev():n.next();r.length&&(r.hasClass("divider")&&(r=38==e.which?r.prev():r.next()),i._highlightListItem(r),i._scrollTo(r))}else if(13==e.which){var s=i.countryList.children(".highlight").first();s.length&&i._selectListItem(s)}else if(9==e.which||27==e.which)i._closeDropdown();else if(e.which>=97&&e.which<=122||e.which>=65&&e.which<=90){var o=String.fromCharCode(e.which),u=i.countryListItems.filter(function(){return t(this).text().charAt(0)==o&&!t(this).hasClass("preferred")});if(u.length){var f,a=u.filter(".highlight").first();f=a&&a.next()&&a.next().text().charAt(0)==o?a.next():u.first(),i._highlightListItem(f),i._scrollTo(f)}}})}}),this.countryListItems.mouseover(function(){i._highlightListItem(t(this))}),this.countryListItems.click(function(e){var n=t(e.currentTarget);i._selectListItem(n)})},_updateFlagFromInputVal:function(){var n,e=this,r=!1,i=this._getDialCode(this.telInput.val());if(i){var s=intlData.countryCodes[i];t.each(s,function(t,n){e.selectedFlagInner.hasClass(n)&&(r=!0)}),n=s[0]}else n=this.defaultCountry.cca2;r||this._selectFlag(n)},_resetToDialCode:function(e){var t="1"==e&&this.options.americaMode?"":"+"+e+" ";this.telInput.val(t)},_highlightListItem:function(e){this.countryListItems.removeClass("highlight"),e.addClass("highlight")},_getCountryData:function(t,n){for(var r=n?e.countries:intlData.countries,i=0;i<r.length;i++)if(r[i].cca2==t)return r[i]},_selectFlag:function(e){this.selectedFlagInner.attr("class","flag "+e);var t=this.countryListItems.children(".flag."+e).parent();this.countryListItems.removeClass("active"),t.addClass("active")},_selectListItem:function(e){var t=e.attr("data-country-code");this._selectFlag(t);var n=this._updateNumber(e.attr("data-dial-code"));this.telInput.val(n),this.telInput.focus()},_closeDropdown:function(){this.countryList.addClass("hide"),t(r).unbind("keydown.intlTelInput"+this.id),t("html").unbind("click.intlTelInput"+this.id)},_scrollTo:function(e){var t=this.countryList,n=t.height(),r=t.offset().top,i=r+n,s=e.outerHeight(),o=e.offset().top,u=o+s,a=o-r+t.scrollTop();if(r>o)t.scrollTop(a);else if(u>i){var f=n-s;t.scrollTop(a-f)}},_updateNumber:function(e){var s,n=this.telInput.val(),r="+"+this._getDialCode(n),i="+"+e;return r.length>1?(s=n.replace(r,i),n==r&&(s+=" ")):s=n.length&&"+"!=n.substr(0,1)?i+" "+t.trim(n):i+" ",this.options.americaMode&&"+1 "==s.substring(0,3)&&(s=s.substring(3)),s},_getDialCode:function(e){var n=t.trim(e).split(" ")[0];if("+"==n.substring(0,1))for(var r=n.replace(/\D/g,"").substring(0,4),i=r.length;i>0;i--)if(r=r.substring(0,i),intlData.countryCodes[r])return r;return""},_appendListItems:function(e,n){var r="";t.each(e,function(e,t){r+="<li class='country "+n+"' data-dial-code='"+t["calling-code"]+"' data-country-code='"+t.cca2+"'>",r+="<div class='flag "+t.cca2+"'></div>",r+="<span class='country-name'>"+t.name+"</span>",r+="<span class='dial-code'>+"+t["calling-code"]+"</span>",r+="</li>"}),this.countryList.append(r)},setNumber:function(e){this.telInput.val(e),this._updateFlagFromInputVal()},selectCountry:function(e){if(!this.selectedFlagInner.hasClass(e)&&(this._selectFlag(e),!this.options.autoHideDialCode)){var t=this._getCountryData(e,!1);this._resetToDialCode(t["calling-code"])}}},t.fn[s]=function(e){var n=arguments;if(e===i||"object"==typeof e)return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new a(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var r;return this.each(function(){var i=t.data(this,"plugin_"+s);i instanceof a&&"function"==typeof i[e]&&(r=i[e].apply(i,Array.prototype.slice.call(n,1)))}),r!==i?r:this}},t.fn[s].getCountryData=function(){return e},t.fn[s].setCountryData=function(t){e=t}}(jQuery,window,document);var e={countries:[{name:"Afghanistan",cca2:"af","calling-code":"93"},{name:"Albania",cca2:"al","calling-code":"355"},{name:"Algeria",cca2:"dz","calling-code":"213"},{name:"American Samoa",cca2:"as","calling-code":"1684"},{name:"Andorra",cca2:"ad","calling-code":"376"},{name:"Angola",cca2:"ao","calling-code":"244"},{name:"Anguilla",cca2:"ai","calling-code":"1264"},{name:"Antigua and Barbuda",cca2:"ag","calling-code":"1268"},{name:"Argentina",cca2:"ar","calling-code":"54"},{name:"Armenia",cca2:"am","calling-code":"374"},{name:"Aruba",cca2:"aw","calling-code":"297"},{name:"Australia",cca2:"au","calling-code":"61"},{name:"Austria",cca2:"at","calling-code":"43"},{name:"Azerbaijan",cca2:"az","calling-code":"994"},{name:"Bahamas",cca2:"bs","calling-code":"1242"},{name:"Bahrain",cca2:"bh","calling-code":"973"},{name:"Bangladesh",cca2:"bd","calling-code":"880"},{name:"Barbados",cca2:"bb","calling-code":"1246"},{name:"Belarus",cca2:"by","calling-code":"375"},{name:"Belgium",cca2:"be","calling-code":"32"},{name:"Belize",cca2:"bz","calling-code":"501"},{name:"Benin",cca2:"bj","calling-code":"229"},{name:"Bermuda",cca2:"bm","calling-code":"1441"},{name:"Bhutan",cca2:"bt","calling-code":"975"},{name:"Bolivia",cca2:"bo","calling-code":"591"},{name:"Bosnia and Herzegovina",cca2:"ba","calling-code":"387"},{name:"Botswana",cca2:"bw","calling-code":"267"},{name:"Brazil",cca2:"br","calling-code":"55"},{name:"Brunei",cca2:"bn","calling-code":"673"},{name:"Bulgaria",cca2:"bg","calling-code":"359"},{name:"Burkina Faso",cca2:"bf","calling-code":"226"},{name:"Burundi",cca2:"bi","calling-code":"257"},{name:"Cambodia",cca2:"kh","calling-code":"855"},{name:"Cameroon",cca2:"cm","calling-code":"237"},{name:"Canada",cca2:"ca","calling-code":"1"},{name:"Cape Verde",cca2:"cv","calling-code":"238"},{name:"Cayman Islands",cca2:"ky","calling-code":"1345"},{name:"Central African Republic",cca2:"cf","calling-code":"236"},{name:"Chad",cca2:"td","calling-code":"235"},{name:"Chile",cca2:"cl","calling-code":"56"},{name:"China",cca2:"cn","calling-code":"86"},{name:"Colombia",cca2:"co","calling-code":"57"},{name:"Comoros",cca2:"km","calling-code":"269"},{name:"Congo [DRC]",cca2:"cd","calling-code":"243"},{name:"Congo [Republic]",cca2:"cg","calling-code":"242"},{name:"Cook Islands",cca2:"ck","calling-code":"682"},{name:"Costa Rica",cca2:"cr","calling-code":"506"},{name:"Cote d'Ivoire",cca2:"ci","calling-code":"225"},{name:"Croatia",cca2:"hr","calling-code":"385"},{name:"Cuba",cca2:"cu","calling-code":"53"},{name:"Cyprus",cca2:"cy","calling-code":"357"},{name:"Czech Republic",cca2:"cz","calling-code":"420"},{name:"Denmark",cca2:"dk","calling-code":"45"},{name:"Djibouti",cca2:"dj","calling-code":"253"},{name:"Dominica",cca2:"dm","calling-code":"1767"},{name:"Dominican Republic",cca2:"do","calling-code":"1809"},{name:"Ecuador",cca2:"ec","calling-code":"593"},{name:"Egypt",cca2:"eg","calling-code":"20"},{name:"El Salvador",cca2:"sv","calling-code":"503"},{name:"Equatorial Guinea",cca2:"gq","calling-code":"240"},{name:"Eritrea",cca2:"er","calling-code":"291"},{name:"Estonia",cca2:"ee","calling-code":"372"},{name:"Ethiopia",cca2:"et","calling-code":"251"},{name:"Faroe Islands",cca2:"fo","calling-code":"298"},{name:"Fiji",cca2:"fj","calling-code":"679"},{name:"Finland",cca2:"fi","calling-code":"358"},{name:"France",cca2:"fr","calling-code":"33"},{name:"French Polynesia",cca2:"pf","calling-code":"689"},{name:"Gabon",cca2:"ga","calling-code":"241"},{name:"Gambia",cca2:"gm","calling-code":"220"},{name:"Georgia",cca2:"ge","calling-code":"995"},{name:"Germany",cca2:"de","calling-code":"49"},{name:"Ghana",cca2:"gh","calling-code":"233"},{name:"Gibraltar",cca2:"gi","calling-code":"350"},{name:"Greece",cca2:"gr","calling-code":"30"},{name:"Greenland",cca2:"gl","calling-code":"299"},{name:"Grenada",cca2:"gd","calling-code":"1473"},{name:"Guadeloupe",cca2:"gp","calling-code":"590"},{name:"Guam",cca2:"gu","calling-code":"1671"},{name:"Guatemala",cca2:"gt","calling-code":"502"},{name:"Guernsey",cca2:"gg","calling-code":"44"},{name:"Guinea",cca2:"gn","calling-code":"224"},{name:"Guinea-Bissau",cca2:"gw","calling-code":"245"},{name:"Guyana",cca2:"gy","calling-code":"592"},{name:"Haiti",cca2:"ht","calling-code":"509"},{name:"Honduras",cca2:"hn","calling-code":"504"},{name:"Hong Kong",cca2:"hk","calling-code":"852"},{name:"Hungary",cca2:"hu","calling-code":"36"},{name:"Iceland",cca2:"is","calling-code":"354"},{name:"India",cca2:"in","calling-code":"91"},{name:"Indonesia",cca2:"id","calling-code":"62"},{name:"Iran",cca2:"ir","calling-code":"98"},{name:"Iraq",cca2:"iq","calling-code":"964"},{name:"Ireland",cca2:"ie","calling-code":"353"},{name:"Isle of Man",cca2:"im","calling-code":"44"},{name:"Israel",cca2:"il","calling-code":"972"},{name:"Italy",cca2:"it","calling-code":"39"},{name:"Jamaica",cca2:"jm","calling-code":"1876"},{name:"Japan",cca2:"jp","calling-code":"81"},{name:"Jersey",cca2:"je","calling-code":"44"},{name:"Jordan",cca2:"jo","calling-code":"962"},{name:"Kazakhstan",cca2:"kz","calling-code":"7"},{name:"Kenya",cca2:"ke","calling-code":"254"},{name:"Kiribati",cca2:"ki","calling-code":"686"},{name:"Kuwait",cca2:"kw","calling-code":"965"},{name:"Kyrgyzstan",cca2:"kg","calling-code":"996"},{name:"Laos",cca2:"la","calling-code":"856"},{name:"Latvia",cca2:"lv","calling-code":"371"},{name:"Lebanon",cca2:"lb","calling-code":"961"},{name:"Lesotho",cca2:"ls","calling-code":"266"},{name:"Liberia",cca2:"lr","calling-code":"231"},{name:"Libya",cca2:"ly","calling-code":"218"},{name:"Liechtenstein",cca2:"li","calling-code":"423"},{name:"Lithuania",cca2:"lt","calling-code":"370"},{name:"Luxembourg",cca2:"lu","calling-code":"352"},{name:"Macau",cca2:"mo","calling-code":"853"},{name:"Macedonia [FYROM]",cca2:"mk","calling-code":"389"},{name:"Madagascar",cca2:"mg","calling-code":"261"},{name:"Malawi",cca2:"mw","calling-code":"265"},{name:"Malaysia",cca2:"my","calling-code":"60"},{name:"Maldives",cca2:"mv","calling-code":"960"},{name:"Mali",cca2:"ml","calling-code":"223"},{name:"Malta",cca2:"mt","calling-code":"356"},{name:"Marshall Islands",cca2:"mh","calling-code":"692"},{name:"Martinique",cca2:"mq","calling-code":"596"},{name:"Mauritania",cca2:"mr","calling-code":"222"},{name:"Mauritius",cca2:"mu","calling-code":"230"},{name:"Mexico",cca2:"mx","calling-code":"52"},{name:"Micronesia",cca2:"fm","calling-code":"691"},{name:"Moldova",cca2:"md","calling-code":"373"},{name:"Monaco",cca2:"mc","calling-code":"377"},{name:"Mongolia",cca2:"mn","calling-code":"976"},{name:"Montenegro",cca2:"me","calling-code":"382"},{name:"Montserrat",cca2:"ms","calling-code":"1664"},{name:"Morocco",cca2:"ma","calling-code":"212"},{name:"Mozambique",cca2:"mz","calling-code":"258"},{name:"Myanmar [Burma]",cca2:"mm","calling-code":"95"},{name:"Namibia",cca2:"na","calling-code":"264"},{name:"Nauru",cca2:"nr","calling-code":"674"},{name:"Nepal",cca2:"np","calling-code":"977"},{name:"Netherlands",cca2:"nl","calling-code":"31"},{name:"New Caledonia",cca2:"nc","calling-code":"687"},{name:"New Zealand",cca2:"nz","calling-code":"64"},{name:"Nicaragua",cca2:"ni","calling-code":"505"},{name:"Niger",cca2:"ne","calling-code":"227"},{name:"Nigeria",cca2:"ng","calling-code":"234"},{name:"North Korea",cca2:"kp","calling-code":"850"},{name:"Norway",cca2:"no","calling-code":"47"},{name:"Oman",cca2:"om","calling-code":"968"},{name:"Pakistan",cca2:"pk","calling-code":"92"},{name:"Palau",cca2:"pw","calling-code":"680"},{name:"Palestine",cca2:"ps","calling-code":"970"},{name:"Panama",cca2:"pa","calling-code":"507"},{name:"Papua New Guinea",cca2:"pg","calling-code":"675"},{name:"Paraguay",cca2:"py","calling-code":"595"},{name:"Peru",cca2:"pe","calling-code":"51"},{name:"Philippines",cca2:"ph","calling-code":"63"},{name:"Poland",cca2:"pl","calling-code":"48"},{name:"Portugal",cca2:"pt","calling-code":"351"},{name:"Puerto Rico",cca2:"pr","calling-code":"1787"},{name:"Qatar",cca2:"qa","calling-code":"974"},{name:"Reunion",cca2:"re","calling-code":"262"},{name:"Romania",cca2:"ro","calling-code":"40"},{name:"Russia",cca2:"ru","calling-code":"7"},{name:"Rwanda",cca2:"rw","calling-code":"250"},{name:"Saint Kitts and Nevis",cca2:"kn","calling-code":"1869"},{name:"Saint Lucia",cca2:"lc","calling-code":"1758"},{name:"Saint Vincent and the Grenadines",cca2:"vc","calling-code":"1784"},{name:"Samoa",cca2:"ws","calling-code":"685"},{name:"San Marino",cca2:"sm","calling-code":"378"},{name:"Sao Tome and Principe",cca2:"st","calling-code":"239"},{name:"Saudi Arabia",cca2:"sa","calling-code":"966"},{name:"Senegal",cca2:"sn","calling-code":"221"},{name:"Serbia",cca2:"rs","calling-code":"381"},{name:"Seychelles",cca2:"sc","calling-code":"248"},{name:"Sierra Leone",cca2:"sl","calling-code":"232"},{name:"Singapore",cca2:"sg","calling-code":"65"},{name:"Slovakia",cca2:"sk","calling-code":"421"},{name:"Slovenia",cca2:"si","calling-code":"386"},{name:"Solomon Islands",cca2:"sb","calling-code":"677"},{name:"Somalia",cca2:"so","calling-code":"252"},{name:"South Africa",cca2:"za","calling-code":"27"},{name:"South Korea",cca2:"kr","calling-code":"82"},{name:"Spain",cca2:"es","calling-code":"34"},{name:"Sri Lanka",cca2:"lk","calling-code":"94"},{name:"Sudan",cca2:"sd","calling-code":"249"},{name:"Suriname",cca2:"sr","calling-code":"597"},{name:"Swaziland",cca2:"sz","calling-code":"268"},{name:"Sweden",cca2:"se","calling-code":"46"},{name:"Switzerland",cca2:"ch","calling-code":"41"},{name:"Syria",cca2:"sy","calling-code":"963"},{name:"Taiwan",cca2:"tw","calling-code":"886"},{name:"Tajikistan",cca2:"tj","calling-code":"992"},{name:"Tanzania",cca2:"tz","calling-code":"255"},{name:"Thailand",cca2:"th","calling-code":"66"},{name:"Timor-Leste",cca2:"tl","calling-code":"670"},{name:"Togo",cca2:"tg","calling-code":"228"},{name:"Tonga",cca2:"to","calling-code":"676"},{name:"Trinidad and Tobago",cca2:"tt","calling-code":"1868"},{name:"Tunisia",cca2:"tn","calling-code":"216"},{name:"Turkey",cca2:"tr","calling-code":"90"},{name:"Turkmenistan",cca2:"tm","calling-code":"993"},{name:"Turks and Caicos Islands",cca2:"tc","calling-code":"1649"},{name:"Tuvalu",cca2:"tv","calling-code":"688"},{name:"Uganda",cca2:"ug","calling-code":"256"},{name:"Ukraine",cca2:"ua","calling-code":"380"},{name:"United Arab Emirates",cca2:"ae","calling-code":"971"},{name:"United Kingdom",cca2:"gb","calling-code":"44"},{name:"United States",cca2:"us","calling-code":"1"},{name:"Uruguay",cca2:"uy","calling-code":"598"},{name:"Uzbekistan",cca2:"uz","calling-code":"998"},{name:"Vanuatu",cca2:"vu","calling-code":"678"},{name:"Vatican City",cca2:"va","calling-code":"379"},{name:"Venezuela",cca2:"ve","calling-code":"58"},{name:"Vietnam",cca2:"vn","calling-code":"84"},{name:"British Virgin Islands",cca2:"vg","calling-code":"1284"},{name:"U.S. Virgin Islands",cca2:"vi","calling-code":"1340"},{name:"Western Sahara",cca2:"eh","calling-code":"212"},{name:"Yemen",cca2:"ye","calling-code":"967"},{name:"Zambia",cca2:"zm","calling-code":"260"},{name:"Zimbabwe",cca2:"zw","calling-code":"263"}],countryCodes:{1:["us","ca"],7:["ru","kz"],20:["eg"],27:["za"],30:["gr"],31:["nl"],32:["be"],33:["fr"],34:["es"],36:["hu"],39:["it"],40:["ro"],41:["ch"],43:["at"],44:["gb","gg","im","je"],45:["dk"],46:["se"],47:["no","sj"],48:["pl"],49:["de"],51:["pe"],52:["mx"],53:["cu"],54:["ar"],55:["br"],56:["cl"],57:["co"],58:["ve"],60:["my"],61:["au","cc","cx"],62:["id"],63:["ph"],64:["nz"],65:["sg"],66:["th"],81:["jp"],82:["kr"],84:["vn"],86:["cn"],90:["tr"],91:["in"],92:["pk"],93:["af"],94:["lk"],95:["mm"],98:["ir"],211:["ss"],212:["ma","eh"],213:["dz"],216:["tn"],218:["ly"],220:["gm"],221:["sn"],222:["mr"],223:["ml"],224:["gn"],225:["ci"],226:["bf"],227:["ne"],228:["tg"],229:["bj"],230:["mu"],231:["lr"],232:["sl"],233:["gh"],234:["ng"],235:["td"],236:["cf"],237:["cm"],238:["cv"],239:["st"],240:["gq"],241:["ga"],242:["cg"],243:["cd"],244:["ao"],245:["gw"],246:["io"],247:["ac"],248:["sc"],249:["sd"],250:["rw"],251:["et"],252:["so"],253:["dj"],254:["ke"],255:["tz"],256:["ug"],257:["bi"],258:["mz"],260:["zm"],261:["mg"],262:["re","yt"],263:["zw"],264:["na"],265:["mw"],266:["ls"],267:["bw"],268:["sz"],269:["km"],290:["sh"],291:["er"],297:["aw"],298:["fo"],299:["gl"],350:["gi"],351:["pt"],352:["lu"],353:["ie"],354:["is"],355:["al"],356:["mt"],357:["cy"],358:["fi","ax"],359:["bg"],370:["lt"],371:["lv"],372:["ee"],373:["md"],374:["am"],375:["by"],376:["ad"],377:["mc"],378:["sm"],379:["va"],380:["ua"],381:["rs"],382:["me"],385:["hr"],386:["si"],387:["ba"],389:["mk"],420:["cz"],421:["sk"],423:["li"],500:["fk"],501:["bz"],502:["gt"],503:["sv"],504:["hn"],505:["ni"],506:["cr"],507:["pa"],508:["pm"],509:["ht"],590:["gp","bl","mf"],591:["bo"],592:["gy"],593:["ec"],594:["gf"],595:["py"],596:["mq"],597:["sr"],598:["uy"],599:["cw","bq"],670:["tl"],672:["nf"],673:["bn"],674:["nr"],675:["pg"],676:["to"],677:["sb"],678:["vu"],679:["fj"],680:["pw"],681:["wf"],682:["ck"],683:["nu"],685:["ws"],686:["ki"],687:["nc"],688:["tv"],689:["pf"],690:["tk"],691:["fm"],692:["mh"],850:["kp"],852:["hk"],853:["mo"],855:["kh"],856:["la"],880:["bd"],886:["tw"],960:["mv"],961:["lb"],962:["jo"],963:["sy"],964:["iq"],965:["kw"],966:["sa"],967:["ye"],968:["om"],970:["ps"],971:["ae"],972:["il"],973:["bh"],974:["qa"],975:["bt"],976:["mn"],977:["np"],992:["tj"],993:["tm"],994:["az"],995:["ge"],996:["kg"],998:["uz"],1242:["bs"],1246:["bb"],1264:["ai"],1268:["ag"],1284:["vg"],1340:["vi"],1345:["ky"],1441:["bm"],1473:["gd"],1649:["tc"],1664:["ms"],1671:["gu"],1684:["as"],1758:["lc"],1767:["dm"],1784:["vc"],1787:["pr"],1809:["do"],1868:["tt"],1869:["kn"],1876:["jm"]}}}();;
//!file:jquery.animate-shadow-min.js
"use strict";jQuery(function(h){function r(b,m,d){var l=[];return h.each(b,function(f){var g=[],e=b[f];if(f=m[f],e.b&&g.push("inset"),"undefined"!=typeof f.left&&g.push(parseFloat(e.left+d*(f.left-e.left))+"px "+parseFloat(e.top+d*(f.top-e.top))+"px"),"undefined"!=typeof f.blur&&g.push(parseFloat(e.blur+d*(f.blur-e.blur))+"px"),"undefined"!=typeof f.a&&g.push(parseFloat(e.a+d*(f.a-e.a))+"px"),"undefined"!=typeof f.color){var p="rgb"+(h.support.rgba?"a":"")+"("+parseInt(e.color[0]+d*(f.color[0]-e.color[0]),10)+","+parseInt(e.color[1]+d*(f.color[1]-e.color[1]),10)+","+parseInt(e.color[2]+d*(f.color[2]-e.color[2]),10);h.support.rgba&&(p+=","+parseFloat(e.color[3]+d*(f.color[3]-e.color[3]))),g.push(p+")")}l.push(g.join(" "))}),l.join(", ")}function q(b){function m(){var a=/^inset\b/.exec(b.substring(c));return null!==a&&0<a.length?(k.b=!0,c+=a[0].length,!0):!1}function d(){var a=/^(-?[0-9\.]+)(?:px)?\s+(-?[0-9\.]+)(?:px)?(?:\s+(-?[0-9\.]+)(?:px)?)?(?:\s+(-?[0-9\.]+)(?:px)?)?/.exec(b.substring(c));return null!==a&&0<a.length?(k.left=parseInt(a[1],10),k.top=parseInt(a[2],10),k.blur=a[3]?parseInt(a[3],10):0,k.a=a[4]?parseInt(a[4],10):0,c+=a[0].length,!0):!1}function l(){var a=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(b.substring(c));return null!==a&&0<a.length?(k.color=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1],c+=a[0].length,!0):(a=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(b.substring(c)),null!==a&&0<a.length?(k.color=[17*parseInt(a[1],16),17*parseInt(a[2],16),17*parseInt(a[3],16),1],c+=a[0].length,!0):(a=/^rgb\(\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*\)/.exec(b.substring(c)),null!==a&&0<a.length?(k.color=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),1],c+=a[0].length,!0):(a=/^rgba\(\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*\)/.exec(b.substring(c)),null!==a&&0<a.length?(k.color=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4])],c+=a[0].length,!0):!1)))}function f(){var a=/^\s+/.exec(b.substring(c));null!==a&&0<a.length&&(c+=a[0].length)}function g(){var a=/^\s*,\s*/.exec(b.substring(c));return null!==a&&0<a.length?(c+=a[0].length,!0):!1}function e(a){if(h.isPlainObject(a)){var b,e,c=0,d=[];for(h.isArray(a.color)&&(e=a.color,c=e.length),b=0;4>b;b++)d.push(c>b?e[b]:3===b?1:0)}return h.extend({left:0,top:0,blur:0,spread:0},a)}for(var p=[],c=0,n=b.length,k=e();n>c;)if(m())f();else if(d())f();else if(l())f();else{if(!g())break;p.push(e(k)),k={}}return p.push(e(k)),p}h.extend(!0,h,{support:{rgba:function(){var b=h("script:first"),m=b.css("color"),d=!1;if(/^rgba/.test(m))d=!0;else try{d=m!==b.css("color","rgba(0, 0, 0, 0.5)").css("color"),b.css("color",m)}catch(l){}return b.removeAttr("style"),d}()}});var n,s=h("html").prop("style");h.each(["boxShadow","MozBoxShadow","WebkitBoxShadow"],function(b,h){return"undefined"!=typeof s[h]?(n=h,!1):void 0}),n&&(h.Tween.propHooks.boxShadow={get:function(b){return h(b.elem).css(n)},set:function(b){var g,m=b.elem.style,d=q(h(b.elem)[0].style[n]||h(b.elem).css(n)),l=q(b.end),f=Math.max(d.length,l.length);for(g=0;f>g;g++)l[g]=h.extend({},d[g],l[g]),d[g]?"color"in d[g]&&!1!==h.isArray(d[g].color)||(d[g].color=l[g].color||[0,0,0,0]):d[g]=q("0 0 0 0 rgba(0,0,0,0)")[0];b.run=function(b){b=r(d,l,b),m[n]=b}}})});;
//!file:stacktrace-min-0.4.js
function printStackTrace(a){var a=a||{guess:!0},b=a.e||null,a=!!a.guess,d=new printStackTrace.implementation,b=d.run(b);return a?d.guessAnonymousFunctions(b):b}printStackTrace.implementation=function(){},printStackTrace.implementation.prototype={run:function(a,b){return a=a||this.createException(),b=b||this.mode(a),"other"===b?this.other(arguments.callee):this[b](a)},createException:function(){try{this.undef()}catch(a){return a}},mode:function(a){return a.arguments&&a.stack?"chrome":a.stack&&a.sourceURL?"safari":"string"==typeof a.message&&"undefined"!=typeof window&&window.opera?!a.stacktrace||-1<a.message.indexOf("\n")&&a.message.split("\n").length>a.stacktrace.split("\n").length?"opera9":a.stack?0>a.stacktrace.indexOf("called from line")?"opera10b":"opera11":"opera10a":a.stack?"firefox":"other"},instrumentFunction:function(a,b,d){var a=a||window,c=a[b];a[b]=function(){return d.call(this,printStackTrace().slice(4)),a[b]._instrumented.apply(this,arguments)},a[b]._instrumented=c},deinstrumentFunction:function(a,b){a[b].constructor===Function&&a[b]._instrumented&&a[b]._instrumented.constructor===Function&&(a[b]=a[b]._instrumented)},chrome:function(a){return a=(a.stack+"\n").replace(/^\S[^\(]+?[\n$]/gm,"").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}()@$1$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}()@$1").split("\n"),a.pop(),a},safari:function(a){return a.stack.replace(/\[native code\]\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},firefox:function(a){return a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^[\(@]/gm,"{anonymous}()@").split("\n")},opera11:function(a){for(var b=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,a=a.stacktrace.split("\n"),d=[],c=0,f=a.length;f>c;c+=2){var e=b.exec(a[c]);if(e){var g=e[4]+":"+e[1]+":"+e[2],e=e[3]||"global code",e=e.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,"{anonymous}");d.push(e+"@"+g+" -- "+a[c+1].replace(/^\s+/,""))}}return d},opera10b:function(a){for(var b=/^(.*)@(.+):(\d+)$/,a=a.stacktrace.split("\n"),d=[],c=0,f=a.length;f>c;c++){var e=b.exec(a[c]);e&&d.push((e[1]?e[1]+"()":"global code")+"@"+e[2]+":"+e[3])}return d},opera10a:function(a){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=a.stacktrace.split("\n"),d=[],c=0,f=a.length;f>c;c+=2){var e=b.exec(a[c]);e&&d.push((e[3]||"{anonymous}")+"()@"+e[2]+":"+e[1]+" -- "+a[c+1].replace(/^\s+/,""))}return d},opera9:function(a){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,a=a.message.split("\n"),d=[],c=2,f=a.length;f>c;c+=2){var e=b.exec(a[c]);e&&d.push("{anonymous}()@"+e[2]+":"+e[1]+" -- "+a[c+1].replace(/^\s+/,""))}return d},other:function(a){for(var c,f,b=/function\s*([\w\-$]+)?\s*\(/i,d=[];a&&a.arguments&&10>d.length;)c=b.test(a.toString())?RegExp.$1||"{anonymous}":"{anonymous}",f=Array.prototype.slice.call(a.arguments||[]),d[d.length]=c+"("+this.stringifyArguments(f)+")",a=a.caller;return d},stringifyArguments:function(a){for(var b=[],d=Array.prototype.slice,c=0;c<a.length;++c){var f=a[c];void 0===f?b[c]="undefined":null===f?b[c]="null":f.constructor&&(f.constructor===Array?b[c]=3>f.length?"["+this.stringifyArguments(f)+"]":"["+this.stringifyArguments(d.call(f,0,1))+"..."+this.stringifyArguments(d.call(f,-1))+"]":f.constructor===Object?b[c]="#object":f.constructor===Function?b[c]="#function":f.constructor===String?b[c]='"'+f+'"':f.constructor===Number&&(b[c]=f))}return b.join(",")},sourceCache:{},ajax:function(a){var b=this.createXMLHTTPObject();if(b)try{return b.open("GET",a,!1),b.send(null),b.responseText}catch(d){}return""},createXMLHTTPObject:function(){for(var a,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],d=0;d<b.length;d++)try{return a=b[d](),this.createXMLHTTPObject=b[d],a}catch(c){}},isSameDomain:function(a){return"undefined"!=typeof location&&-1!==a.indexOf(location.hostname)},getSource:function(a){return a in this.sourceCache||(this.sourceCache[a]=this.ajax(a).split("\n")),this.sourceCache[a]},guessAnonymousFunctions:function(a){for(var b=0;b<a.length;++b){var d=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,c=a[b],f=/\{anonymous\}\(.*\)@(.*)/.exec(c);if(f){var e=d.exec(f[1]);e&&(d=e[1],f=e[2],e=e[3]||0,d&&this.isSameDomain(d)&&f&&(d=this.guessAnonymousFunction(d,f,e),a[b]=c.replace("{anonymous}",d)))}}return a},guessAnonymousFunction:function(a,b){var d;try{d=this.findFunctionName(this.getSource(a),b)}catch(c){d="getSource failed with url: "+a+", exception: "+c.toString()}return d},findFunctionName:function(a,b){for(var g,h,d=/function\s+([^(]*?)\s*\(([^)]*)\)/,c=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*function\b/,f=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(?:eval|new Function)\b/,e="",j=Math.min(b,20),i=0;j>i;++i)if(g=a[b-i-1],h=g.indexOf("//"),h>=0&&(g=g.substr(0,h)),g&&(e=g+e,(g=c.exec(e))&&g[1]||(g=d.exec(e))&&g[1]||(g=f.exec(e))&&g[1]))return g[1];return"(?)"}};;
//!file:pusher.min.js
(function(){void 0===Function.prototype.scopedTo&&(Function.prototype.scopedTo=function(a,b){var e=this;return function(){return e.apply(a,Array.prototype.slice.call(b||[]).concat(Array.prototype.slice.call(arguments)))}});var c=function(a,b){this.options=b||{},this.key=a,this.channels=new c.Channels,this.global_emitter=new c.EventsDispatcher;var e=this;this.checkAppKey(),this.connection=new c.Connection(this.key,this.options),this.connection.bind("connected",function(){e.subscribeAll()}).bind("message",function(b){var a=0===b.event.indexOf("pusher_internal:");if(b.channel){var c;(c=e.channel(b.channel))&&c.emit(b.event,b.data)}a||e.global_emitter.emit(b.event,b.data)}).bind("disconnected",function(){e.channels.disconnect()}).bind("error",function(b){c.warn("Error",b)}),c.instances.push(this),c.isReady&&e.connect()};c.instances=[],c.prototype={channel:function(a){return this.channels.find(a)},connect:function(){this.connection.connect()},disconnect:function(){this.connection.disconnect()},bind:function(a,b){return this.global_emitter.bind(a,b),this},bind_all:function(a){return this.global_emitter.bind_all(a),this},subscribeAll:function(){for(channelName in this.channels.channels)this.channels.channels.hasOwnProperty(channelName)&&this.subscribe(channelName)},subscribe:function(a){var b=this,e=this.channels.add(a,this);return"connected"===this.connection.state&&e.authorize(this.connection.socket_id,this.options,function(c,f){c?e.emit("pusher:subscription_error",f):b.send_event("pusher:subscribe",{channel:a,auth:f.auth,channel_data:f.channel_data})}),e},unsubscribe:function(a){this.channels.remove(a),"connected"===this.connection.state&&this.send_event("pusher:unsubscribe",{channel:a})},send_event:function(a,b,e){return this.connection.send_event(a,b,e)},checkAppKey:function(){(null===this.key||void 0===this.key)&&c.warn("Warning","You must pass your app key when you instantiate Pusher.")}},c.Util={extend:function b(e,c){for(var f in c)e[f]=c[f]&&c[f].constructor&&c[f].constructor===Object?b(e[f]||{},c[f]):c[f];return e},stringify:function(){for(var b=["Pusher"],e=0;e<arguments.length;e++)b.push("string"==typeof arguments[e]?arguments[e]:void 0==window.JSON?arguments[e].toString():JSON.stringify(arguments[e]));return b.join(" : ")},arrayIndexOf:function(b,e){var c=Array.prototype.indexOf;if(null==b)return-1;if(c&&b.indexOf===c)return b.indexOf(e);for(i=0,l=b.length;i<l;i++)if(b[i]===e)return i;return-1}},c.debug=function(){c.log&&c.log(c.Util.stringify.apply(this,arguments))},c.warn=function(){window.console&&window.console.warn?window.console.warn(c.Util.stringify.apply(this,arguments)):c.log&&c.log(c.Util.stringify.apply(this,arguments))},c.VERSION="1.12.5",c.host="ws.pusherapp.com",c.ws_port=80,c.wss_port=443,c.sockjs_host="sockjs.pusher.com",c.sockjs_http_port=80,c.sockjs_https_port=443,c.sockjs_path="/pusher",c.channel_auth_endpoint="/pusher/auth",c.cdn_http="http://js.pusher.com/",c.cdn_https="https://d3dy5gmtp8yhk7.cloudfront.net/",c.dependency_suffix=".min",c.channel_auth_transport="ajax",c.activity_timeout=12e4,c.pong_timeout=3e4,c.isReady=!1,c.ready=function(){c.isReady=!0;for(var b=0,e=c.instances.length;e>b;b++)c.instances[b].connect()},this.Pusher=c}).call(this),function(){function c(){this._callbacks={}}function a(b){this.callbacks=new c,this.global_callbacks=[],this.failThrough=b}c.prototype.get=function(b){return this._callbacks[this._prefix(b)]},c.prototype.add=function(b,a){var c=this._prefix(b);this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push(a)},c.prototype.remove=function(b,c){if(this.get(b)){var a=Pusher.Util.arrayIndexOf(this.get(b),c);this._callbacks[this._prefix(b)].splice(a,1)}},c.prototype._prefix=function(b){return"_"+b},a.prototype.bind=function(b,c){return this.callbacks.add(b,c),this},a.prototype.unbind=function(b,c){return this.callbacks.remove(b,c),this},a.prototype.emit=function(b,c){for(var a=0;a<this.global_callbacks.length;a++)this.global_callbacks[a](b,c);var f=this.callbacks.get(b);if(f)for(a=0;a<f.length;a++)f[a](c);else this.failThrough&&this.failThrough(b,c);return this},a.prototype.bind_all=function(b){return this.global_callbacks.push(b),this},this.Pusher.EventsDispatcher=a}.call(this),function(){function c(b,c,a){void 0!==c[b]&&c[b](a)}function a(c,a,f){b.EventsDispatcher.call(this),this.state=void 0,this.errors=[],this.stateActions=f,this.transitions=a,this.transition(c)}var b=this.Pusher;a.prototype.transition=function(a,g){var f=this.state,j=this.stateActions;if(f&&-1==b.Util.arrayIndexOf(this.transitions[f],a))throw this.emit("invalid_transition_attempt",{oldState:f,newState:a}),Error("Invalid transition ["+f+" to "+a+"]");c(f+"Exit",j,g),c(f+"To"+(a.substr(0,1).toUpperCase()+a.substr(1)),j,g),c(a+"Pre",j,g),this.state=a,this.emit("state_change",{oldState:f,newState:a}),c(a+"Post",j,g)},a.prototype.is=function(b){return this.state===b},a.prototype.isNot=function(b){return this.state!==b},b.Util.extend(a.prototype,b.EventsDispatcher.prototype),this.Pusher.Machine=a}.call(this),function(){var c=function(){var a=this;Pusher.EventsDispatcher.call(this),void 0!==window.addEventListener&&(window.addEventListener("online",function(){a.emit("online",null)},!1),window.addEventListener("offline",function(){a.emit("offline",null)},!1))};c.prototype.isOnLine=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine},Pusher.Util.extend(c.prototype,Pusher.EventsDispatcher.prototype),this.Pusher.NetInfo=c}.call(this),function(){function c(a){a.connectionWait=0,a.openTimeout="native"===b.TransportType?4e3:"flash"===b.TransportType?7e3:6e3,a.connectedTimeout=2e3,a.connectionSecure=a.compulsorySecure,a.failedAttempts=0}function a(a,s){function k(){d.openTimeout<j&&(d.openTimeout+=g),d.connectedTimeout<t&&(d.connectedTimeout+=f),d.compulsorySecure!==!0&&(d.connectionSecure=!d.connectionSecure),d.failedAttempts++}function u(a){return a=a||"https:"===document.location.protocol,(a?"wss://":"ws://")+b.host+":"+(a?b.wss_port:b.ws_port)}function v(a){return a=a||"https:"===document.location.protocol,(a?"https://":"http://")+b.sockjs_host+":"+(a?b.sockjs_https_port:b.sockjs_http_port)+b.sockjs_path}function m(){d._machine.transition("impermanentlyClosing")}function p(){d._activityTimer&&clearTimeout(d._activityTimer),d.ping&&(d._activityTimer=setTimeout(function(){d.send_event("pusher:ping",{}),d._activityTimer=setTimeout(function(){d.socket.close()},d.options.pong_timeout||b.pong_timeout)},d.options.activity_timeout||b.activity_timeout))}function q(){var b=d.connectionWait;if(0===b&&d.connectedAt){var a=(new Date).getTime()-d.connectedAt;1e3>a&&(b=1e3-a)}return b}function w(b){if(b=r(b),void 0!==b)if("pusher:connection_established"===b.event)d._machine.transition("connected",b.data.socket_id);else if("pusher:error"===b.event){var a=b.data.code;d.emit("error",{type:"PusherError",data:{code:a,message:b.data.message}}),4e3===a?(d.compulsorySecure=!0,d.connectionSecure=!0,d.options.encrypted=!0,m()):4100>a?d._machine.transition("permanentlyClosing"):4200>a?(d.connectionWait=1e3,d._machine.transition("waiting")):4300>a?m():d._machine.transition("permanentlyClosing")}}function x(a){if(p(),a=r(a),void 0!==a){switch(b.debug("Event recd",a),a.event){case"pusher:error":d.emit("error",{type:"PusherError",data:a.data});break;case"pusher:ping":d.send_event("pusher:pong",{})}d.emit("message",a)}}function r(b){try{var a=JSON.parse(b.data);if("string"==typeof a.data)try{a.data=JSON.parse(a.data)}catch(c){if(!(c instanceof SyntaxError))throw c}return a}catch(e){d.emit("error",{type:"MessageParseError",error:e,data:b.data})}}function n(){d._machine.transition("waiting")}function o(b){d.emit("error",{type:"WebSocketError",error:b})}function h(a,c){var e=d.state;d.state=a,e!==a&&(b.debug("State changed",e+" -> "+a),d.emit("state_change",{previous:e,current:a}),d.emit(a,c))}var d=this;b.EventsDispatcher.call(this),this.ping=!0,this.options=b.Util.extend({encrypted:!1},s),this.netInfo=new b.NetInfo,this.netInfo.bind("online",function(){d._machine.is("waiting")&&(d._machine.transition("connecting"),h("connecting"))}),this.netInfo.bind("offline",function(){d._machine.is("connected")&&(d.socket.onclose=void 0,d.socket.onmessage=void 0,d.socket.onerror=void 0,d.socket.onopen=void 0,d.socket.close(),d.socket=void 0,d._machine.transition("waiting"))}),this._machine=new b.Machine("initialized",e,{initializedPre:function(){d.compulsorySecure=d.options.encrypted,d.key=a,d.socket=null,d.socket_id=null,d.state="initialized"},waitingPre:function(){d.netInfo.isOnLine()?(d.failedAttempts<2?h("connecting"):(h("unavailable"),d.connectionWait=1e4),d.connectionWait>0&&d.emit("connecting_in",q()),d._waitingTimer=setTimeout(function(){d._machine.transition("connecting")},q())):h("unavailable")},waitingExit:function(){clearTimeout(d._waitingTimer)},connectingPre:function(){if(d.netInfo.isOnLine()===!1)d._machine.transition("waiting"),h("unavailable");else{var a="/app/"+d.key+"?protocol=5&client=js&version="+b.VERSION+"&flash="+("flash"===b.TransportType?"true":"false");if("sockjs"===b.TransportType){b.debug("Connecting to sockjs",b.sockjs);var c=v(d.connectionSecure);d.ping=!1,d.socket=new SockJS(c),d.socket.onopen=function(){d.socket.send(JSON.stringify({path:a})),d._machine.transition("open")}}else c=u(d.connectionSecure)+a,b.debug("Connecting",c),d.socket=new b.Transport(c),d.socket.onopen=function(){d._machine.transition("open")};d.socket.onclose=n,d.socket.onerror=o,d._connectingTimer=setTimeout(m,d.openTimeout)}},connectingExit:function(){clearTimeout(d._connectingTimer),d.socket.onopen=void 0},connectingToWaiting:function(){k()},connectingToImpermanentlyClosing:function(){k()},openPre:function(){d.socket.onmessage=w,d.socket.onerror=o,d.socket.onclose=n,d._openTimer=setTimeout(m,d.connectedTimeout)},openExit:function(){clearTimeout(d._openTimer),d.socket.onmessage=void 0},openToWaiting:function(){k()},openToImpermanentlyClosing:function(){k()},connectedPre:function(b){d.socket_id=b,d.socket.onmessage=x,d.socket.onerror=o,d.socket.onclose=n,c(d),d.connectedAt=(new Date).getTime(),p()},connectedPost:function(){h("connected")},connectedExit:function(){d._activityTimer&&clearTimeout(d._activityTimer),h("disconnected")},impermanentlyClosingPost:function(){d.socket&&(d.socket.onclose=n,d.socket.close())},permanentlyClosingPost:function(){d.socket?(d.socket.onclose=function(){c(d),d._machine.transition("permanentlyClosed")},d.socket.close()):(c(d),d._machine.transition("permanentlyClosed"))},failedPre:function(){h("failed"),b.debug("WebSockets are not available in this browser.")},permanentlyClosedPost:function(){h("disconnected")}})}var b=this.Pusher,e={initialized:["waiting","failed"],waiting:["connecting","permanentlyClosed"],connecting:["open","permanentlyClosing","impermanentlyClosing","waiting"],open:["connected","permanentlyClosing","impermanentlyClosing","waiting"],connected:["permanentlyClosing","waiting"],impermanentlyClosing:["waiting","permanentlyClosing"],permanentlyClosing:["permanentlyClosed"],permanentlyClosed:["waiting","failed"],failed:["permanentlyClosed"]},g=2e3,f=2e3,j=1e4,t=1e4;a.prototype.connect=function(){this._machine.is("failed")||b.Transport?this._machine.is("initialized")?(c(this),this._machine.transition("waiting")):this._machine.is("waiting")&&this.netInfo.isOnLine()===!0?this._machine.transition("connecting"):this._machine.is("permanentlyClosed")&&(c(this),this._machine.transition("waiting")):this._machine.transition("failed")},a.prototype.send=function(b){if(this._machine.is("connected")){var a=this;return setTimeout(function(){a.socket.send(b)},0),!0}return!1},a.prototype.send_event=function(a,c,e){return a={event:a,data:c},e&&(a.channel=e),b.debug("Event sent",a),this.send(JSON.stringify(a))},a.prototype.disconnect=function(){this._machine.is("permanentlyClosed")||this._machine.transition(this._machine.is("waiting")||this._machine.is("failed")?"permanentlyClosed":"permanentlyClosing")},b.Util.extend(a.prototype,b.EventsDispatcher.prototype),this.Pusher.Connection=a}.call(this),function(){Pusher.Channels=function(){this.channels={}},Pusher.Channels.prototype={add:function(a,b){var c=this.find(a);return c||(c=Pusher.Channel.factory(a,b),this.channels[a]=c),c},find:function(a){return this.channels[a]},remove:function(a){delete this.channels[a]},disconnect:function(){for(var a in this.channels)this.channels[a].disconnect()}},Pusher.Channel=function(a,b){var c=this;Pusher.EventsDispatcher.call(this,function(b){Pusher.debug("No callbacks on "+a+" for "+b)}),this.pusher=b,this.name=a,this.subscribed=!1,this.bind("pusher_internal:subscription_succeeded",function(a){c.onSubscriptionSucceeded(a)})},Pusher.Channel.prototype={init:function(){},disconnect:function(){this.subscribed=!1,this.emit("pusher_internal:disconnected")},onSubscriptionSucceeded:function(){this.subscribed=!0,this.emit("pusher:subscription_succeeded")},authorize:function(a,b,c){return c(!1,{})},trigger:function(a,b){return this.pusher.send_event(a,b,this.name)}},Pusher.Util.extend(Pusher.Channel.prototype,Pusher.EventsDispatcher.prototype),Pusher.Channel.PrivateChannel={authorize:function(a,b,c){var g=this;return new Pusher.Channel.Authorizer(this,Pusher.channel_auth_transport,b).authorize(a,function(a,b){a||g.emit("pusher_internal:authorized",b),c(a,b)})}},Pusher.Channel.PresenceChannel={init:function(){this.members=new c(this)},onSubscriptionSucceeded:function(){this.subscribed=!0}};var c=function(a){var b=this,c=function(){this._members_map={},this.count=0,this.me=null};c.call(this),a.bind("pusher_internal:authorized",function(c){var e=JSON.parse(c.channel_data);a.bind("pusher_internal:subscription_succeeded",function(c){b._members_map=c.presence.hash,b.count=c.presence.count,b.me=b.get(e.user_id),a.emit("pusher:subscription_succeeded",b)})}),a.bind("pusher_internal:member_added",function(c){null===b.get(c.user_id)&&b.count++,b._members_map[c.user_id]=c.user_info,a.emit("pusher:member_added",b.get(c.user_id))}),a.bind("pusher_internal:member_removed",function(c){var e=b.get(c.user_id);e&&(delete b._members_map[c.user_id],b.count--,a.emit("pusher:member_removed",e))}),a.bind("pusher_internal:disconnected",function(){c.call(b)})};c.prototype={each:function(a){for(var b in this._members_map)a(this.get(b))},get:function(a){return this._members_map.hasOwnProperty(a)?{id:a,info:this._members_map[a]}:null}},Pusher.Channel.factory=function(a,b){var c=new Pusher.Channel(a,b);return 0===a.indexOf("private-")?Pusher.Util.extend(c,Pusher.Channel.PrivateChannel):0===a.indexOf("presence-")&&(Pusher.Util.extend(c,Pusher.Channel.PrivateChannel),Pusher.Util.extend(c,Pusher.Channel.PresenceChannel)),c.init(),c}}.call(this),function(){Pusher.Channel.Authorizer=function(c,a,b){this.channel=c,this.type=a,this.authOptions=(b||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(c){var a,c="&socket_id="+encodeURIComponent(c)+"&channel_name="+encodeURIComponent(this.channel.name);for(a in this.authOptions.params)c+="&"+encodeURIComponent(a)+"="+encodeURIComponent(this.authOptions.params[a]);return c},authorize:function(c,a){return Pusher.authorizers[this.type].call(this,c,a)}},Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(c,a){var b;b=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),b.open("POST",Pusher.channel_auth_endpoint,!0),b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var e in this.authOptions.headers)b.setRequestHeader(e,this.authOptions.headers[e]);return b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status){var c,e=!1;try{c=JSON.parse(b.responseText),e=!0}catch(j){a(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+b.responseText)}e&&a(!1,c)}else Pusher.warn("Couldn't get auth info from your webapp",b.status),a(!0,b.status)},b.send(this.composeQuery(c)),b},jsonp:function(c,a){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var b=document.createElement("script");Pusher.auth_callbacks[this.channel.name]=function(b){a(!1,b)},b.src=Pusher.channel_auth_endpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+this.channel.name+"']")+this.composeQuery(c);var e=document.getElementsByTagName("head")[0]||document.documentElement;e.insertBefore(b,e.firstChild)}}}.call(this);var _require=function(){function c(a,c){document.addEventListener?a.addEventListener("load",c,!1):a.attachEvent("onreadystatechange",function(){("loaded"==a.readyState||"complete"==a.readyState)&&c()})}function a(a,e){var g=document.getElementsByTagName("head")[0],f=document.createElement("script");f.setAttribute("src",a),f.setAttribute("type","text/javascript"),f.setAttribute("async",!0),c(f,function(){e()}),g.appendChild(f)}return function(b,c){for(var g=0,f=0;f<b.length;f++)a(b[f],function(){b.length==++g&&setTimeout(c,0)})}}();!function(){!window.WebSocket&&window.MozWebSocket&&(window.WebSocket=window.MozWebSocket),window.WebSocket&&(Pusher.Transport=window.WebSocket,Pusher.TransportType="native");var c=("http:"==document.location.protocol?Pusher.cdn_http:Pusher.cdn_https)+Pusher.VERSION,a=[];window.JSON||a.push(c+"/json2"+Pusher.dependency_suffix+".js"),window.WebSocket||(window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0,window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0,a.push(c+"/flashfallback"+Pusher.dependency_suffix+".js"));var b=function(){return window.WebSocket?function(){Pusher.ready()}:function(){window.WebSocket?(Pusher.Transport=window.WebSocket,Pusher.TransportType="flash",window.WEB_SOCKET_SWF_LOCATION=c+"/WebSocketMain.swf",WebSocket.__addTask(function(){Pusher.ready()}),WebSocket.__initialize()):(sockjsPath=c+"/sockjs"+Pusher.dependency_suffix+".js",_require([sockjsPath],function(){Pusher.Transport=SockJS,Pusher.TransportType="sockjs",Pusher.ready()}))}}(),e=function(a){var b=function(){document.body?a():setTimeout(b,0)};b()},g=function(){e(b)};a.length>0?_require(a,g):g()}();;
//!file:ZeroClipboard.min.js
!function(){"use strict";var a,b=function(){var a=/\-([a-z])/g,b=function(a,b){return b.toUpperCase()};return function(c){return c.replace(a,b)}}(),c=function(a,c){var d,e,f,g,h,i;if(window.getComputedStyle?d=window.getComputedStyle(a,null).getPropertyValue(c):(e=b(c),d=a.currentStyle?a.currentStyle[e]:a.style[e]),"cursor"===c&&(!d||"auto"===d))for(f=a.tagName.toLowerCase(),g=["a"],h=0,i=g.length;i>h;h++)if(f===g[h])return"pointer";return d},d=function(a){if(p.prototype._singleton){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement),p.prototype._singleton.setCurrent(b)}},e=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},f=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},g=function(a,b){if(a.addClass)return a.addClass(b),a;if(b&&"string"==typeof b){var c=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var d=" "+a.className+" ",e=a.className,f=0,g=c.length;g>f;f++)d.indexOf(" "+c[f]+" ")<0&&(e+=" "+c[f]);a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},h=function(a,b){if(a.removeClass)return a.removeClass(b),a;if(b&&"string"==typeof b||void 0===b){var c=(b||"").split(/\s+/);if(1===a.nodeType&&a.className)if(b){for(var d=(" "+a.className+" ").replace(/[\n\t]/g," "),e=0,f=c.length;f>e;e++)d=d.replace(" "+c[e]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},i=function(){var a,b,c,d=1;return"function"==typeof document.body.getBoundingClientRect&&(a=document.body.getBoundingClientRect(),b=a.right-a.left,c=document.body.offsetWidth,d=Math.round(100*(b/c))/100),d},j=function(a){var b={left:0,top:0,width:0,height:0,zIndex:999999999},d=c(a,"z-index");if(d&&"auto"!==d&&(b.zIndex=parseInt(d,10)),a.getBoundingClientRect){var e,f,g,h=a.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(e=window.pageXOffset,f=window.pageYOffset):(g=i(),e=Math.round(document.documentElement.scrollLeft/g),f=Math.round(document.documentElement.scrollTop/g));var j=document.documentElement.clientLeft||0,k=document.documentElement.clientTop||0;b.left=h.left+e-j,b.top=h.top+f-k,b.width="width"in h?h.width:h.right-h.left,b.height="height"in h?h.height:h.bottom-h.top}return b},k=function(a,b){var c=!(b&&b.useNoCache===!1);return c?(-1===a.indexOf("?")?"?":"&")+"nocache="+(new Date).getTime():""},l=function(a){var b=[],c=[];return a.trustedOrigins&&("string"==typeof a.trustedOrigins?c=c.push(a.trustedOrigins):"object"==typeof a.trustedOrigins&&"length"in a.trustedOrigins&&(c=c.concat(a.trustedOrigins))),a.trustedDomains&&("string"==typeof a.trustedDomains?c=c.push(a.trustedDomains):"object"==typeof a.trustedDomains&&"length"in a.trustedDomains&&(c=c.concat(a.trustedDomains))),c.length&&b.push("trustedOrigins="+encodeURIComponent(c.join(","))),"string"==typeof a.amdModuleId&&a.amdModuleId&&b.push("amdModuleId="+encodeURIComponent(a.amdModuleId)),"string"==typeof a.cjsModuleId&&a.cjsModuleId&&b.push("cjsModuleId="+encodeURIComponent(a.cjsModuleId)),b.join("&")},m=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},n=function(a){if("string"==typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");return a.length?a:[a]},o=function(a,b,c,d,e){e?window.setTimeout(function(){a.call(b,c,d)},0):a.call(b,c,d)},p=function(a,b){if(a&&(p.prototype._singleton||this).glue(a),p.prototype._singleton)return p.prototype._singleton;p.prototype._singleton=this,this.options={};for(var c in s)this.options[c]=s[c];for(var d in b)this.options[d]=b[d];this.handlers={},p.detectFlashSupport()&&v()},q=[];p.prototype.setCurrent=function(b){a=b,this.reposition();var d=b.getAttribute("title");d&&this.setTitle(d);var e=this.options.forceHandCursor===!0||"pointer"===c(b,"cursor");return r.call(this,e),this},p.prototype.setText=function(a){return a&&""!==a&&(this.options.text=a,this.ready()&&this.flashBridge.setText(a)),this},p.prototype.setTitle=function(a){return a&&""!==a&&this.htmlBridge.setAttribute("title",a),this},p.prototype.setSize=function(a,b){return this.ready()&&this.flashBridge.setSize(a,b),this},p.prototype.setHandCursor=function(a){return a="boolean"==typeof a?a:!!a,r.call(this,a),this.options.forceHandCursor=a,this};var r=function(a){this.ready()&&this.flashBridge.setHandCursor(a)};p.version="1.2.0";var s={moviePath:"ZeroClipboard.swf",trustedOrigins:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,forceHandCursor:!1};p.setDefaults=function(a){for(var b in a)s[b]=a[b]},p.destroy=function(){p.prototype._singleton.unglue(q);var a=p.prototype._singleton.htmlBridge;a.parentNode.removeChild(a),delete p.prototype._singleton},p.detectFlashSupport=function(){var a=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){}return!a&&navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0),a};var t=null,u=null,v=function(){var a=p.prototype._singleton,b=document.getElementById("global-zeroclipboard-html-bridge");if(!b){var c={};for(var d in a.options)c[d]=a.options[d];c.amdModuleId=t,c.cjsModuleId=u;var e=l(c),f='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+a.options.moviePath+k(a.options.moviePath,a.options)+'"/>         <param name="allowScriptAccess" value="'+a.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+e+'"/>         <embed src="'+a.options.moviePath+k(a.options.moviePath,a.options)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+e+'"           scale="exactfit">         </embed>       </object>';b=document.createElement("div"),b.id="global-zeroclipboard-html-bridge",b.setAttribute("class","global-zeroclipboard-container"),b.setAttribute("data-clipboard-ready",!1),b.style.position="absolute",b.style.left="-9999px",b.style.top="-9999px",b.style.width="15px",b.style.height="15px",b.style.zIndex="9999",b.innerHTML=f,document.body.appendChild(b)}a.htmlBridge=b,a.flashBridge=document["global-zeroclipboard-flash-bridge"]||b.children[0].lastElementChild};p.prototype.resetBridge=function(){return this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),h(a,this.options.activeClass),a=null,this.options.text=null,this},p.prototype.ready=function(){var a=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===a||a===!0},p.prototype.reposition=function(){if(!a)return!1;var b=j(a);return this.htmlBridge.style.top=b.top+"px",this.htmlBridge.style.left=b.left+"px",this.htmlBridge.style.width=b.width+"px",this.htmlBridge.style.height=b.height+"px",this.htmlBridge.style.zIndex=b.zIndex+1,this.setSize(b.width,b.height),this},p.dispatch=function(a,b){p.prototype._singleton.receiveEvent(a,b)},p.prototype.on=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++)a=c[d].toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=b);return this.handlers.noflash&&!p.detectFlashSupport()&&this.receiveEvent("onNoFlash",null),this},p.prototype.addEventListener=p.prototype.on,p.prototype.off=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++){a=c[d].toLowerCase().replace(/^on/,"");for(var e in this.handlers)e===a&&this.handlers[e]===b&&delete this.handlers[e]}return this},p.prototype.removeEventListener=p.prototype.off,p.prototype.receiveEvent=function(b,c){b=b.toString().toLowerCase().replace(/^on/,"");var d=a,e=!0;switch(b){case"load":if(c&&parseFloat(c.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:c.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":g(d,this.options.hoverClass);break;case"mouseout":h(d,this.options.hoverClass),this.resetBridge();break;case"mousedown":g(d,this.options.activeClass);break;case"mouseup":h(d,this.options.activeClass);break;case"datarequested":var f=d.getAttribute("data-clipboard-target"),i=f?document.getElementById(f):null;if(i){var j=i.value||i.textContent||i.innerText;j&&this.setText(j)}else{var k=d.getAttribute("data-clipboard-text");k&&this.setText(k)}e=!1;break;case"complete":this.options.text=null}if(this.handlers[b]){var l=this.handlers[b];"string"==typeof l&&"function"==typeof window[l]&&(l=window[l]),"function"==typeof l&&o(l,d,this,c,e)}},p.prototype.glue=function(a){a=n(a);for(var b=0;b<a.length;b++)-1==m(a[b],q)&&(q.push(a[b]),e(a[b],"mouseover",d));return this},p.prototype.unglue=function(a){a=n(a);for(var b=0;b<a.length;b++){f(a[b],"mouseover",d);var c=m(a[b],q);-1!=c&&q.splice(c,1)}return this},"function"==typeof define&&define.amd?define(["require","exports","module"],function(a,b,c){return t=c&&c.id||null,p}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?(u=module.id||null,module.exports=p):window.ZeroClipboard=p}();;
//!file:jquery-ui.positioning-patch.js
!function($){$.ui.position.flip;$.ui.position.flip={left:function(position,data){data.elem.removeClass("ui-flipped-left").removeClass("ui-flipped-right").removeClass("ui-flipped-top").removeClass("ui-flipped-bottom");var newOverRight,newOverLeft,within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:"right"===data.at[0]?-data.targetWidth:0,offset=-2*data.offset[0];0>overLeft?(newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset,(0>newOverRight||newOverRight<Math.abs(overLeft))&&(data.elem.removeClass("ui-flipped-left").addClass("ui-flipped-right"),position.left+=myOffset+atOffset+offset)):overRight>0&&(newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft,(newOverLeft>0||Math.abs(newOverLeft)<overRight)&&(data.elem.removeClass("ui-flipped-right").addClass("ui-flipped-left"),position.left+=myOffset+atOffset+offset))},top:function(position,data){data.elem.removeClass("ui-flipped-left").removeClass("ui-flipped-right").removeClass("ui-flipped-top").removeClass("ui-flipped-bottom");var newOverTop,newOverBottom,within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top="top"===data.my[1],myOffset=top?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:"bottom"===data.at[1]?-data.targetHeight:0,offset=-2*data.offset[1];0>overTop?(newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset,position.top+myOffset+atOffset+offset>overTop&&(0>newOverBottom||newOverBottom<Math.abs(overTop))&&(data.elem.addClass("ui-flipped-bottom"),position.top+=myOffset+atOffset+offset)):overBottom>0&&(newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop,position.top+myOffset+atOffset+offset>overBottom&&(newOverTop>0||Math.abs(newOverTop)<overBottom)&&(data.elem.addClass("ui-flipped-top"),position.top+=myOffset+atOffset+offset))}}}(jQuery);;
//!file:nprogress.js
!function(factory){"function"==typeof module?module.exports=factory(this.jQuery||require("jquery")):this.NProgress=factory(this.jQuery)}(function($){function clamp(n,min,max){return min>n?min:n>max?max:n}function toBarPerc(n){return 100*(-1+n)}function barPositionCSS(n,speed,ease){var barCSS;return barCSS="translate3d"===Settings.positionUsing?{transform:"translate3d("+toBarPerc(n)+"%,0,0)"}:"translate"===Settings.positionUsing?{transform:"translate("+toBarPerc(n)+"%,0)"}:{"margin-left":toBarPerc(n)+"%"},barCSS.transition="all "+speed+"ms "+ease,barCSS}var NProgress={};NProgress.version="0.1.2";var Settings=NProgress.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return NProgress.configure=function(options){return $.extend(Settings,options),this},NProgress.status=null,NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1),NProgress.status=1===n?null:n;var $progress=NProgress.render(!started),$bar=$progress.find('[role="bar"]'),speed=Settings.speed,ease=Settings.easing;return $progress[0].offsetWidth,$progress.queue(function(next){""===Settings.positionUsing&&(Settings.positionUsing=NProgress.getPositioningCSS()),$bar.css(barPositionCSS(n,speed,ease)),1===n?($progress.css({transition:"none",opacity:1}),$progress[0].offsetWidth,setTimeout(function(){$progress.css({transition:"all "+speed+"ms linear",opacity:0}),setTimeout(function(){NProgress.remove(),next()},speed)},speed)):setTimeout(next,speed)}),this},NProgress.isStarted=function(){return"number"==typeof NProgress.status},NProgress.start=function(){NProgress.status||NProgress.set(0);var work=function(){setTimeout(function(){NProgress.status&&(NProgress.trickle(),work())},Settings.trickleSpeed)};return Settings.trickle&&work(),this},NProgress.done=function(force){return force||NProgress.status?NProgress.inc(.3+.5*Math.random()).set(1):this},NProgress.inc=function(amount){var n=NProgress.status;return n?("number"!=typeof amount&&(amount=(1-n)*clamp(Math.random()*n,.1,.95)),n=clamp(n+amount,0,.994),NProgress.set(n)):NProgress.start()},NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate)},NProgress.render=function(fromStart){if(NProgress.isRendered())return $("#nprogress");$("html").addClass("nprogress-busy");var $el=$("<div id='nprogress'>").html(Settings.template),perc=fromStart?"-100":toBarPerc(NProgress.status||0);return $el.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+perc+"%,0,0)"}),Settings.showSpinner||$el.find('[role="spinner"]').remove(),$el.appendTo(document.body),$el},NProgress.remove=function(){$("html").removeClass("nprogress-busy"),$("#nprogress").remove()},NProgress.isRendered=function(){return $("#nprogress").length>0},NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style,vendorPrefix="WebkitTransform"in bodyStyle?"Webkit":"MozTransform"in bodyStyle?"Moz":"msTransform"in bodyStyle?"ms":"OTransform"in bodyStyle?"O":"";return vendorPrefix+"Perspective"in bodyStyle?"translate3d":vendorPrefix+"Transform"in bodyStyle?"translate":"margin"},NProgress});;
//!file:filesize.min.js
!function(r){function f(f,c){var a,h,q,d,m,n,p,e,k,b="",g=!1,l=6;if(isNaN(f))throw Error("Invalid arguments");if(c=c||{},h=!0===c.bits,e=!0===c.unix,a=void 0!==c.base?c.base:e?2:10,m=void 0!==c.round?c.round:e?1:2,k=void 0!==c.spacer?c.spacer:e?"":" ",d=Number(f),(q=0>d)&&(d=-d),0===d)b=e?"0":"0"+k+"B";else for(p=s[a][h?"bits":"bytes"];l--;)if(n=p[l][1],a=p[l][0],d>=n){t.test(a)&&(g=!0,m=0),b=(d/n).toFixed(m),!g&&e?(h&&u.test(a)&&(a=a.toLowerCase()),a=a.charAt(0),g=v.exec(b),h||"k"!==a||(a="K"),null!==g&&void 0!==g[1]&&w.test(g[1])&&(b=parseInt(b,x)),b+=k+a):e||(b+=k+a);break}return q&&(b="-"+b),b}var u=/b$/,t=/^B$/,x=10,v=/\.(.*)/,w=/^0$/,s={2:{bits:[["B",1],["kb",128],["Mb",131072],["Gb",134217728],["Tb",137438953472],["Pb",0x800000000000]],bytes:[["B",1],["kB",1024],["MB",1048576],["GB",1073741824],["TB",1099511627776],["PB",0x4000000000000]]},10:{bits:[["B",1],["kb",125],["Mb",125e3],["Gb",125e6],["Tb",125e9],["Pb",125e12]],bytes:[["B",1],["kB",1e3],["MB",1e6],["GB",1e9],["TB",1e12],["PB",1e15]]}};"undefined"!=typeof exports?module.exports=f:"function"==typeof define?define(function(){return f}):r.filesize=f}(this);;
//!file:jquery.mousewheel.js
!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0;return event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(deltaY=-1*orgEvent.deltaY,delta=deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX?(absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||lowestDelta>absDelta)&&(lowestDelta=absDelta),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)):void 0}function nullLowestDelta(){lowestDelta=null}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;$.event.special.mousewheel={version:"3.1.6",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})});;
//!file:jquery.specialscroll.js
!function(){var special=jQuery.event.special,uid1="D"+ +new Date,uid2="D"+(+new Date+1);special.scrollstart={setup:function(){var timer,handler=function(evt){var _self=this,_args=arguments;timer?clearTimeout(timer):(evt.type="scrollstart",jQuery.event.handle.apply(_self,_args)),timer=setTimeout(function(){timer=null},special.scrollstop.latency)};jQuery(this).bind("scroll",handler).data(uid1,handler)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(uid1))}},special.scrollstop={latency:300,setup:function(){var timer,handler=function(evt){var _self=this,_args=arguments;timer&&clearTimeout(timer),timer=setTimeout(function(){timer=null,evt.type="scrollstop",jQuery.event.handle.apply(_self,_args)},special.scrollstop.latency)};jQuery(this).bind("scroll",handler).data(uid2,handler)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(uid2))}}}();;
//!file:jquery.cookie.js
!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{s=decodeURIComponent(s.replace(pluses," "))}catch(e){return}try{return config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;l>i;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)?($.cookie(key,"",$.extend({},options,{expires:-1})),!0):!1}});;
//!file:TweenLite.min.js
!function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,l=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},h=l("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},m=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),c={},p=function(s,r,n,a){this.sc=c[s]?c[s].sc:[],c[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(h){for(var _,u,m,f,d=r.length,v=d;--d>-1;)(_=c[r[d]]||new p(r[d],[])).gsClass?(o[d]=_.gsClass,v--):h&&_.sc.push(this);if(0===v&&n)for(u=("com.greensock."+s).split("."),m=u.pop(),f=l(u.join("."))[m]=this.gsClass=n.apply(n,o),a&&(i[m]=f,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return f}):s===e&&"undefined"!=typeof module&&module.exports&&(module.exports=f)),d=0;this.sc.length>d;d++)this.sc[d].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new p(t,e,i,s)},v=h._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var g=[0,0,1,1],T=[],y=v("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?g.concat(e):g},!0),w=y.map={},P=y.register=function(t,e,i,s){for(var r,n,a,o,l=e.split(","),_=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=l[_],r=s?v("easing."+n,null,!0):h.easing[n]||{},a=u.length;--a>-1;)o=u[a],w[n+"."+o]=w[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=y.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,P(new y(null,null,1,r),n,"easeOut",!0),P(new y(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),P(new y(null,null,3,r),n,"easeInOut");w.linear=h.easing.Linear.easeIn,w.swing=h.easing.Quad.easeInOut;var b=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,l,h=this._listeners[t],_=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)n=h[l],n.c===e&&n.s===i?h.splice(l,1):0===_&&r>n.pr&&(_=l+1);h.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return void s.splice(i,1)},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var k=t.requestAnimationFrame,S=t.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},x=A();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!k;)k=t[s[r]+"RequestAnimationFrame"],S=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,s,r,n,l,h=this,u=A(),f=e!==!1&&k,c=500,p=33,d="tick",v=function(t){var e,a,o=A()-x;o>c&&(u+=o-p),x+=o,h.time=(x-u)/1e3,e=h.time-l,(!i||e>0||t===!0)&&(h.frame++,l+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(v)),a&&h.dispatchEvent(d)};b.call(h),h.time=h.frame=0,h.tick=function(){v(!0)},h.lagSmoothing=function(t,e){c=t||1/_,p=Math.min(e,c,0)},h.sleep=function(){null!=r&&(f&&S?S(r):clearTimeout(r),s=m,r=null,h===a&&(o=!1))},h.wake=function(){null!==r?h.sleep():h.frame>10&&(x=A()-c+5),s=0===i?m:f&&k?k:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===a&&(o=!0),v(2)},h.fps=function(t){return arguments.length?(i=t,n=1/(i||60),l=this.time+n,void h.wake()):i},h.useRAF=function(t){return arguments.length?(h.sleep(),f=t,void h.fps(i)):f},h.fps(t),setTimeout(function(){f&&5>h.frame&&h.useRAF(!1)},1500)}),n=h.Ticker.prototype=new h.events.EventDispatcher,n.constructor=h.Ticker;var R=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,B){o||a.wake();var i=this.vars.useFrames?q:B;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=R.ticker=new h.Ticker,n=R.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var C=function(){o&&A()-x>2e3&&a.wake(),setTimeout(C,2e3)};C(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),z.length&&$())}return this},n.progress=n.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(o||t||a.wake(),e=s.rawTime(),i=e-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var D=v("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=D.prototype=new R,n.constructor=D,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var I=v("TweenLite",function(e,i,s){if(R.call(this,i,s),this.render=I.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:I.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Q[I.defaultOverwrite]:"number"==typeof l?l>>0:Q[l],(o||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=K(n,this,!1),1===l&&this._siblings[r].length>1&&J(n,this,null,1,this._siblings[r])):(n=a[r--]=I.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=K(e,this,!1),1===l&&this._siblings.length>1&&J(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),E=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},O=function(t,e){var i,s={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!U[i]||U[i]&&U[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=I.prototype=new R,n.constructor=I,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,I.version="1.16.1",I.defaultEase=n._ease=new y(null,null,1,1),I.defaultOverwrite="auto",I.ticker=a,I.autoSleep=120,I.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},I.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(I.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var z=[],L={},N=I._internals={isArray:f,isSelector:E,lazyTweens:z},U=I._plugins={},F=N.tweenLookup={},j=0,G=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},Q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=R._rootFramesTimeline=new D,B=R._rootTimeline=new D,M=30,$=N.lazyRender=function(){var t,e=z.length;for(L={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};B._startTime=a.time,q._startTime=a.frame,B._active=q._active=!0,setTimeout($,1),R._updateRoot=I.render=function(){var t,e,i;if(z.length&&$(),B.render((a.time-B._startTime)*B._timeScale,!1,!1),q.render((a.frame-q._startTime)*q._timeScale,!1,!1),z.length&&$(),a.frame>=M){M=a.frame+(parseInt(I.autoSleep,10)||120);for(i in F){for(e=F[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if(i=B._first,(!i||i._paused)&&I.autoSleep&&!q._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",R._updateRoot);var K=function(t,e,i){var s,r,n=t._gsTweenID;if(F[n||(t._gsTweenID=n="t"+j++)]||(F[n]={target:t,tweens:[]}),e&&(s=F[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return F[n].tweens},H=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=I.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},J=function(t,e,i,s,r){var n,a,o,l;if(1===s||s>=4){for(l=r.length,n=0;l>n;n++)if((o=r[n])!==e)o._gc||H(o,e)&&o._enabled(!1,!1)&&(a=!0);else if(5===s)break;return a}var h,u=e._startTime+_,m=[],f=0,c=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||V(e,0,c),0===V(o,h,c)&&(m[f++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((c||!o._initted)&&2e-10>=u-o._startTime||(m[f++]=o)));for(n=f;--n>-1;)if(o=m[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!H(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},V=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,l=!!n.immediateRender,h=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=I.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(s in n)G[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&n.lazy!==!1,i.immediateRender=l,this._startAt=I.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,n.easeParams):w[h]||I.defaultEase:I.defaultEase,n.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,l,h,_;if(null==e)return!1;L[e._gsTweenID]&&$(),this.vars.css||e.style&&e!==t&&e.nodeType&&U.css&&this.vars.autoCSS!==!1&&O(this.vars,e);for(n in this.vars){if(_=this.vars[n],G[n])_&&(_ instanceof Array||_.push&&f(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(U[n]&&(l=new U[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[n]=h={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pg:!1,pr:0},h.s=h.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),h.c="string"==typeof _&&"="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*Number(_.substr(2)):Number(_)-h.s||0;h&&h._next&&(h._next._prev=h)}return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&J(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[e._gsTweenID]=!0),o)},n.render=function(t,e,i){var s,r,n,a,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===_&&"isPause"!==this.data)&&h!==t&&(i=!0,h>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||h===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||h===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,m=this._easeType,f=this._easePower;(1===m||3===m&&u>=.5)&&(u=1-u),3===m&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),this.ratio=1===m?1-u:2===m?u:.5>t/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,z.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/l):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||T))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||T)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||T),0===l&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var s,r,n,a,o,l,h,_,u;if((f(e)||E(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s])&&(l=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(n in h)o[n]&&(u||(u=[]),u.push(n));if(!H(this,i,e,u))return!1}for(n in h)(a=o[n])&&(a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},n.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=K(s[i],this,!0);else this._siblings=K(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new I(t,e,s)},I.delayedCall=function(t,e,i,s,r){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:s,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:s,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var i,s,r,n;if((f(t)||E(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(I.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=K(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=I.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var W=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=W.prototype},!0);if(n=W.prototype,W.version="1.10.1",W.API=2,n._firstPT=null,n._addTween=function(t,e,i,s,r,n){var a,o;return null!=s&&(a="number"==typeof s||"="!==s.charAt(1)?Number(s)-i:parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:n},o._next&&(o._next._prev=o),o):void 0},n.setRatio=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},I._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},W.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===W.API&&(U[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){W.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new W(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,W.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in c)c[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");;
//!file:TimelineLite.min.js
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,n=i._internals,a=s._internals={},o=n.isSelector,h=n.isArray,l=n.lazyTweens,_=n.lazyRender,u=[],p=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},c=a.pauseCallback=function(t,e,i,s){var n,a=t._timeline,o=a._totalTime,h=t._startTime,l=0>t._rawPrevTime||0===t._rawPrevTime&&a._reversed,_=l?0:r,p=l?r:0;if(e||!this._forcingPlayhead){for(a.pause(h),n=t._prev;n&&n._startTime===h;)n._rawPrevTime=p,n=n._prev;for(n=t._next;n&&n._startTime===h;)n._rawPrevTime=_,n=n._next;e&&e.apply(s||a,i||u),(this._forcingPlayhead||!a._paused)&&a.seek(o)}},m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},d=s.prototype=new e;return s.version="1.16.1",d.constructor=s,d.kill()._gc=d._forcingPlayhead=!1,d.to=function(t,e,s,r){var n=s.repeat&&p.TweenMax||i;return e?this.add(new n(t,e,s),r):this.set(t,s,r)},d.from=function(t,e,s,r){return this.add((s.repeat&&p.TweenMax||i).from(t,e,s),r)},d.fromTo=function(t,e,s,r,n){var a=r.repeat&&p.TweenMax||i;return e?this.add(a.fromTo(t,e,s,r),n):this.set(t,r,n)},d.staggerTo=function(t,e,r,n,a,h,l,_){var u,p=new s({onComplete:h,onCompleteParams:l,onCompleteScope:_,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=m(t)),n=n||0,0>n&&(t=m(t),t.reverse(),n*=-1),u=0;t.length>u;u++)r.startAt&&(r.startAt=f(r.startAt)),p.to(t[u],e,f(r),u*n);return this.add(p,a)},d.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},d.staggerFromTo=function(t,e,i,s,r,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,h)},d.call=function(t,e,s,r){return this.add(i.delayedCall(0,t,e,s),r)},d.set=function(t,e,s){return s=this._parseTimeOrLabel(s,0,!0),null==e.immediateRender&&(e.immediateRender=s===this._time&&!this._paused),this.add(new i(t,0,e),s)},s.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,n,a=new s(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)n=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=n;return o.add(a,0),a},d.add=function(r,n,a,o){var l,_,u,p,f,c;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&h(r)){for(a=a||"normal",o=o||0,l=n,_=r.length,u=0;_>u;u++)h(p=r[u])&&(p=new s({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?l=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),l+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,n);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,n),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,c=f.rawTime()>r._startTime;f._timeline;)c&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},d.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&h(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var s=this._last;return s?this._time>s._startTime+s._totalDuration/s._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},d.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,s,r){var n=i.delayedCall(0,c,["{self}",e,s,r],this);return n.data="isPause",this.add(n,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,s,r){var n;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(n=r.length;--n>-1;)r[n]instanceof t&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(n=e.indexOf("="),-1===n)return null==this._labels[e]?s?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(n-1)+"1",10)*Number(e.substr(n+1)),e=n>1?this._parseTimeOrLabel(e.substr(0,n-1),0,s):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,a,o,h,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,c=this._startTime,m=this._timeScale,d=this._paused;if(t>=p)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=p+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==f&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u)),this._time>=f)for(s=this._first;s&&(a=s._next,!this._paused||d);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,!this._paused||d);)(s._active||f>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;this._onUpdate&&(e||(l.length&&_(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u))),o&&(this._gc||(c===this._startTime||m!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(n&&(l.length&&_(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||u)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof s&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,s,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(n[o++]=a):(s!==!1&&(n[o++]=a),t!==!1&&(n=n.concat(a.getChildren(!0,e,s)),o=n.length))),a=a._next;return n},d.getTweensOf=function(t,e){var s,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),s=i.getTweensOf(t),r=s.length;--r>-1;)(s[r].timeline===this||e&&this._contains(s[r]))&&(a[o++]=s[r]);return n&&this._enabled(!1,!0),a},d.recent=function(){return this._recent},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},d._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},d.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):n=r._startTime,0>r._startTime&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),i=r._startTime+r._totalDuration/r._timeScale,i>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},s},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}("TimelineLite");;
//!file:EasePack.min.js
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,s,r=_gsScope.GreenSockGlobals||_gsScope,n=r.com.greensock,a=2*Math.PI,o=Math.PI/2,h=n._class,l=function(e,i){var s=h("easing."+e,function(){},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,s},_=t.register||function(){},u=function(t,e,i,s){var r=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return _(r,t),r},c=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var s=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,r.config=function(t){return new s(t)},s},f=u("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),d=m.prototype=new t;return d.constructor=m,d.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),d.config=m.config=function(t,e,i){return new m(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),d=e.prototype=new t,d.constructor=e,d.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},d.config=e.config=function(t){return new e(t)},i=h("easing.RoughEase",function(e){e=e||{};for(var i,s,r,n,a,o,h=e.taper||"none",l=[],_=0,u=0|(e.points||20),p=u,f=e.randomize!==!1,m=e.clamp===!0,d=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/u*p,s=d?d.getRatio(i):i,"none"===h?r=g:"out"===h?(n=1-i,r=n*n*g):"in"===h?r=i*i*g:.5>i?(n=2*i,r=.5*n*n*g):(n=2*(1-i),r=.5*n*n*g),f?s+=Math.random()*r-.5*r:p%2?s+=.5*r:s-=.5*r,m&&(s>1?s=1:0>s&&(s=0)),l[_++]={x:i,y:s};for(l.sort(function(t,e){return t.x-e.x}),o=new c(1,1,null),p=u;--p>-1;)a=l[p],o=new c(a.x,a.y,o);this._prev=new c(0,0,0!==o.t?o:o.next)},!0),d=i.prototype=new t,d.constructor=i,d.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},d.config=function(t){return new i(t)},i.ease=new i,u("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),s=function(e,i,s){var r=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||s)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t,e){return new r(t,e)},r},u("Elastic",s("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),s("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)+1},.45)),u("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",l("SineOut",function(t){return Math.sin(t*o)}),l("SineIn",function(t){return-Math.cos(t*o)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),_(r.SlowMo,"SlowMo","ease,"),_(i,"RoughEase","ease,"),_(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();;
//!file:CSSPlugin.min.js
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,s,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,l={},h=a.prototype=new t("css");h.constructor=a,a.version="1.16.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var u,f,p,c,_,d,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,S=/([A-Z])/g,C=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},R=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,N=Math.PI/180,L=180/Math.PI,X={},z=document,E=function(t){return z.createElementNS?z.createElementNS("http://www.w3.org/1999/xhtml",t):z.createElement(t)},F=E("div"),I=E("img"),Y=a._internals={_specialProps:l},B=navigator.userAgent,U=function(){var t=B.indexOf("Android"),e=E("a");return p=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===t||Number(B.substr(t+8,1))>3),_=p&&6>Number(B.substr(B.indexOf("Version/")+8,1)),c=-1!==B.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(B))&&(d=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),j=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(t){window.console&&console.log(t)},W="",q="",G=function(t,e){e=e||F;var i,r,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===s[i[r]+t];);return r>=0?(q=3===r?"ms":i[r],W="-"+q.toLowerCase()+"-",q+t):null},H=z.defaultView?z.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,i,r,s){var n;return U||"opacity"!==e?(!r&&t.style[e]?n=t.style[e]:(i=i||H(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(S,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==s||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:s):j(t)},Z=Y.convertToPixels=function(t,i,r,s,n){if("px"===s||!s)return r;if("auto"===s||!r)return 0;var o,l,h,u=R.test(i),f=t,p=F.style,c=0>r;if(c&&(r=-r),"%"===s&&-1!==i.indexOf("border"))o=r/100*(u?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==s&&f.appendChild)p[u?"borderLeftWidth":"borderTopWidth"]=r+s;else{if(f=t.parentNode||z.body,l=f._gsCache,h=e.ticker.frame,l&&u&&l.time===h)return l.width*r/100;p[u?"width":"height"]=r+s}f.appendChild(F),o=parseFloat(F[u?"offsetWidth":"offsetHeight"]),f.removeChild(F),u&&"%"===s&&a.cacheWidths!==!1&&(l=f._gsCache=f._gsCache||{},l.time=h,l.width=100*(o/r)),0!==o||n||(o=Z(t,i,r,s,!0))}return c?-o:o},$=Y.calculateOffset=function(t,e,i){if("absolute"!==Q(t,"position",i))return 0;var r="left"===e?"Left":"Top",s=Q(t,"margin"+r,i);return t["offset"+r]-(Z(t,e,parseFloat(s),s.replace(x,""))||0)},K=function(t,e){var i,r,s,n={};if(e=e||H(t,null))if(i=e.length)for(;--i>-1;)s=e[i],(-1===s.indexOf("-transform")||be===s)&&(n[s.replace(C,k)]=e.getPropertyValue(s));else for(i in e)(-1===i.indexOf("Transform")||we===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(C,k)]=e[i]);return U||(n.opacity=j(t)),r=De(t,e,!1),n.rotation=r.rotation,n.skewX=r.skewX,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.x=r.x,n.y=r.y,Se&&(n.z=r.z,n.rotationX=r.rotationX,n.rotationY=r.rotationY,n.scaleZ=r.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,r,s){var n,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||s&&s[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(l[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:$(t,a),void 0!==h[a]&&(o=new ce(h,a,h[a],o)));if(r)for(a in r)"className"!==a&&(l[a]=r[a]);return{difs:l,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=te[e],n=s.length;for(i=i||H(t,null);--n>-1;)r-=parseFloat(Q(t,"padding"+s[n],i,!0))||0,r-=parseFloat(Q(t,"border"+s[n]+"Width",i,!0))||0;return r},re=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(y,"")),e.oy=parseFloat(s.replace(y,"")),e.v=t),e||t},se=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,r){var s,n,a,o,l,h=1e-6;return null==t?o=e:"number"==typeof t?o=t:(s=360,n=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:L)-(l?0:e),n.length&&(r&&(r[i]=e+a),-1!==t.indexOf("short")&&(a%=s,a!==a%(s/2)&&(a=0>a?a+s:a-s)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*s)%s-(0|a/s)*s:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*s)%s-(0|a/s)*s)),o=e+a),h>o&&o>-h&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},he=a.parseColor=function(t){var e,i,r,s,n,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t]?oe[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+e+e+i+i+r+r),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(m),s=Number(t[0])%360/360,n=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(n+1):a+n-a*n,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=le(s+1/3,e,i),t[1]=le(s,e,i),t[2]=le(s-1/3,e,i),t):(t=t.match(m)||oe.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):oe.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in oe)ue+="|"+h+"\\b";ue=RegExp(ue+")","gi");var fe=function(t,e,i,r){if(null==t)return function(t){return t};var s,n=e?(t.match(ue)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",u=a.length,f=u>0?a[0].replace(m,""):"";return u?s=e?function(t){var e,p,c,_;if("number"==typeof t)t+=f;else if(r&&D.test(t)){for(_=t.replace(D,"|").split("|"),c=0;_.length>c;c++)_[c]=s(_[c]);return _.join(",")}if(e=(t.match(ue)||[n])[0],p=t.split(e).join("").match(v)||[],c=p.length,u>c--)for(;u>++c;)p[c]=i?p[0|(c-1)/2]:a[c];return o+p.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,p;if("number"==typeof t)t+=f;else if(r&&D.test(t)){for(n=t.replace(D,"|").split("|"),p=0;n.length>p;p++)n[p]=s(n[p]);return n.join(",")}if(e=t.match(v)||[],p=e.length,u>p--)for(;u>++p;)e[p]=i?e[0|(p-1)/2]:a[p];return o+e.join(h)+l}:function(t){return t}},pe=function(t){return t=t.split(","),function(e,i,r,s,n,a,o){var l,h=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return s.parse(e,o,n,a)}},ce=(Y._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,s,n=this.data,a=n.proxy,o=n.firstMPT,l=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)s+=i["xn"+r]+i["xs"+(r+1)];i.e=s}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,r,s){this.t=t,this.p=e,this.v=i,this.r=s,r&&(r._prev=this,this._next=r)}),_e=(Y._parseToProxy=function(t,e,i,r,s,n){var a,o,l,h,u,f=r,p={},c={},_=i._transform,d=X;for(i._transform=null,X=e,r=u=i.parse(t,e,r,s),X=d,n&&(i._transform=_,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(1>=r.type&&(o=r.p,c[o]=r.s+r.c,p[o]=r.s,n||(h=new ce(r,"s",o,h,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)l="xn"+a,o=r.p+"_"+l,c[o]=r.data[l],p[o]=r[l],n||(h=new ce(r,l,o,h,r.rxp[l]));r=r._next}return{proxy:p,end:c,firstMPT:h,pt:u}},Y.CSSPropTween=function(t,e,r,s,a,o,l,h,u,f,p){this.t=t,this.p=e,this.s=r,this.c=s,this.n=l||e,t instanceof _e||n.push(this.n),this.r=h,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===f?r:f,this.e=void 0===p?r+s:p,a&&(this._next=a,a._prev=this)}),de=a.parseComplex=function(t,e,i,r,s,n,a,o,l,h){i=i||n||"",a=new _e(t,e,0,0,a,h?2:1,null,!1,o,i,r),r+="";var f,p,c,_,d,v,y,x,T,w,b,S,C=i.split(", ").join(",").split(" "),O=r.split(", ").join(",").split(" "),k=C.length,R=u!==!1;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(C=C.join(" ").replace(D,", ").split(" "),O=O.join(" ").replace(D,", ").split(" "),k=C.length),k!==O.length&&(C=(n||"").split(" "),k=C.length),a.plugin=l,a.setRatio=h,f=0;k>f;f++)if(_=C[f],d=O[f],x=parseFloat(_),x||0===x)a.appendXtra("",x,se(d,x),d.replace(g,""),R&&-1!==d.indexOf("px"),!0);else if(s&&("#"===_.charAt(0)||oe[_]||P.test(_)))S=","===d.charAt(d.length-1)?"),":")",_=he(_),d=he(d),T=_.length+d.length>6,T&&!U&&0===d[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[f]).join("transparent")):(U||(T=!1),a.appendXtra(T?"rgba(":"rgb(",_[0],d[0]-_[0],",",!0,!0).appendXtra("",_[1],d[1]-_[1],",",!0).appendXtra("",_[2],d[2]-_[2],T?",":S,!0),T&&(_=4>_.length?1:_[3],a.appendXtra("",_,(4>d.length?1:d[3])-_,S,!1)));else if(v=_.match(m)){if(y=d.match(g),!y||y.length!==v.length)return a;for(c=0,p=0;v.length>p;p++)b=v[p],w=_.indexOf(b,c),a.appendXtra(_.substr(c,w-c),Number(b),se(y[p],b),"",R&&"px"===_.substr(w+b.length,2),0===p),c=w+b.length;a["xs"+a.l]+=_.substr(c)}else a["xs"+a.l]+=a.l?" "+_:_;if(-1!==r.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,f=1;a.l>f;f++)S+=a["xs"+f]+a.data["xn"+f];a.e=S+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},me=9;for(h=_e.prototype,h.l=h.pr=0;--me>0;)h["xn"+me]=0,h["xs"+me]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,r,s,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=s,a["xn"+o]=e,a.plugin||(a.xfirst=new _e(a,"xn"+o,e,i,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=s,a)):(a["xs"+o]+=e+(r||""),a)};var ge=function(t,e){e=e||{},this.p=e.prefix?G(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||fe(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ve=Y._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,s,n=t.split(","),a=e.defaultValue;for(i=i||[a],r=0;n.length>r;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||a,s=new ge(n[r],e)},ye=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ve(t,{parser:function(t,i,r,s,n,a,h){var u=o.com.greensock.plugins[e];return u?(u._cssRegister(),l[r].parse(t,i,r,s,n,a,h)):(V("Error: "+e+" js file not loaded."),n)}})}};h=ge.prototype,h.parseComplex=function(t,e,i,r,s,n){var a,o,l,h,u,f,p=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(o=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):p&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;h>a;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,p&&(u=e.indexOf(p),f=i.indexOf(p),u!==f&&(-1===f?o[a]=o[a].split(p).join(""):-1===u&&(o[a]+=" "+p)));e=o.join(", "),i=l.join(", ")}return de(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,s,n)},h.parse=function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(Q(t,this.p,s,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){ve(t,{parser:function(t,r,s,n,a,o){var l=new _e(t,s,0,0,a,2,s,!1,i);return l.plugin=o,l.setRatio=e(t,r,n._tween,s),l},priority:i})},a.useSVGTransformAttr=p;var xe,Te="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),we=G("transform"),be=W+"transform",Pe=G("transformOrigin"),Se=null!==G("perspective"),Ce=Y.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Se?a.defaultForce3D||"auto":!1},Oe=window.SVGElement,ke=function(t,e,i){var r,s=z.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(r in i)s.setAttributeNS(null,r.replace(n,"$1-$2").toLowerCase(),i[r]);return e.appendChild(s),s},Re=z.documentElement,Ae=function(){var t,e,i,r=d||/Android/i.test(B)&&!window.chrome;return z.createElementNS&&!r&&(t=ke("svg",Re),e=ke("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Pe]="50% 50%",e.style[we]="scaleX(0.5)",r=i===e.getBoundingClientRect().width&&!(c&&Se),Re.removeChild(t)),r}(),Me=function(t,e,i,r){var s,n;r&&(n=r.split(" ")).length||(s=t.getBBox(),e=re(e).split(" "),n=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*s.width:parseFloat(e[0]))+s.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*s.height:parseFloat(e[1]))+s.y]),i.xOrigin=parseFloat(n[0]),i.yOrigin=parseFloat(n[1]),t.setAttribute("data-svg-origin",n.join(" "))},De=Y.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var n,o,l,h,u,f,p,c,_,d,m=i?t._gsTransform||new Ce:new Ce,g=0>m.scaleX,v=2e-5,y=1e5,x=Se?parseFloat(Q(t,Pe,e,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,T=parseFloat(a.defaultTransformPerspective)||0;if(we?o=Q(t,be,e,!0):t.currentStyle&&(o=t.currentStyle.filter.match(A),o=o&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),m.x||0,m.y||0].join(","):""),n=!o||"none"===o||"matrix(1, 0, 0, 1, 0, 0)"===o,m.svg=!!(Oe&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),m.svg&&(n&&-1!==(t.style[we]+"").indexOf("matrix")&&(o=t.style[we],n=!1),Me(t,Q(t,Pe,s,!1,"50% 50%")+"",m,t.getAttribute("data-svg-origin")),xe=a.useSVGTransformAttr||Ae,l=t.getAttribute("transform"),n&&l&&-1!==l.indexOf("matrix")&&(o=l,n=0)),!n){for(l=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=l.length;--h>-1;)u=Number(l[h]),l[h]=(f=u-(u|=0))?(0|f*y+(0>f?-.5:.5))/y+u:u;if(16===l.length){var w,b,P,S,C,O=l[0],k=l[1],R=l[2],M=l[3],D=l[4],N=l[5],X=l[6],z=l[7],E=l[8],F=l[9],I=l[10],Y=l[12],B=l[13],U=l[14],j=l[11],V=Math.atan2(X,I);m.zOrigin&&(U=-m.zOrigin,Y=E*U-l[12],B=F*U-l[13],U=I*U+m.zOrigin-l[14]),m.rotationX=V*L,V&&(S=Math.cos(-V),C=Math.sin(-V),w=D*S+E*C,b=N*S+F*C,P=X*S+I*C,E=D*-C+E*S,F=N*-C+F*S,I=X*-C+I*S,j=z*-C+j*S,D=w,N=b,X=P),V=Math.atan2(E,I),m.rotationY=V*L,V&&(S=Math.cos(-V),C=Math.sin(-V),w=O*S-E*C,b=k*S-F*C,P=R*S-I*C,F=k*C+F*S,I=R*C+I*S,j=M*C+j*S,O=w,k=b,R=P),V=Math.atan2(k,O),m.rotation=V*L,V&&(S=Math.cos(-V),C=Math.sin(-V),O=O*S+D*C,b=k*S+N*C,N=k*-C+N*S,X=R*-C+X*S,k=b),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY+=180),m.scaleX=(0|Math.sqrt(O*O+k*k)*y+.5)/y,m.scaleY=(0|Math.sqrt(N*N+F*F)*y+.5)/y,m.scaleZ=(0|Math.sqrt(X*X+I*I)*y+.5)/y,m.skewX=0,m.perspective=j?1/(0>j?-j:j):0,m.x=Y,m.y=B,m.z=U,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*O-m.yOrigin*D),m.y-=m.yOrigin-(m.yOrigin*k-m.xOrigin*N))}else if(!(Se&&!r&&l.length&&m.x===l[4]&&m.y===l[5]&&(m.rotationX||m.rotationY)||void 0!==m.x&&"none"===Q(t,"display",e))){var W=l.length>=6,q=W?l[0]:1,G=l[1]||0,H=l[2]||0,Z=W?l[3]:1;m.x=l[4]||0,m.y=l[5]||0,p=Math.sqrt(q*q+G*G),c=Math.sqrt(Z*Z+H*H),_=q||G?Math.atan2(G,q)*L:m.rotation||0,d=H||Z?Math.atan2(H,Z)*L+_:m.skewX||0,Math.abs(d)>90&&270>Math.abs(d)&&(g?(p*=-1,d+=0>=_?180:-180,_+=0>=_?180:-180):(c*=-1,d+=0>=d?180:-180)),m.scaleX=p,m.scaleY=c,m.rotation=_,m.skewX=d,Se&&(m.rotationX=m.rotationY=m.z=0,m.perspective=T,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*q-m.yOrigin*G),m.y-=m.yOrigin-(m.yOrigin*Z-m.xOrigin*H))}m.zOrigin=x;for(h in m)v>m[h]&&m[h]>-v&&(m[h]=0)}return i&&(t._gsTransform=m,m.svg&&(xe&&t.style[we]?ze(t.style,we):!xe&&t.getAttribute("transform")&&t.removeAttribute("transform"))),m},Ne=function(t){var e,i,r=this.data,s=-r.rotation*N,n=s+r.skewX*N,a=1e5,o=(0|Math.cos(s)*r.scaleX*a)/a,l=(0|Math.sin(s)*r.scaleX*a)/a,h=(0|Math.sin(n)*-r.scaleY*a)/a,u=(0|Math.cos(n)*r.scaleY*a)/a,f=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-h,h=-i,e=p.filter,f.filter="";var c,_,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+u,w=r.x+m*r.xPercent/100,b=r.y+g*r.yPercent/100;if(null!=r.ox&&(c=(r.oxp?.01*m*r.ox:r.ox)-m/2,_=(r.oyp?.01*g*r.oy:r.oy)-g/2,w+=c-(c*o+_*l),b+=_-(c*h+_*u)),v?(c=m/2,_=g/2,y+=", Dx="+(c-(c*o+_*l)+w)+", Dy="+(_-(c*h+_*u)+b)+")"):y+=", sizingMethod='auto expand')",f.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(M,y):y+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&f.removeAttribute("filter")),!v){var P,S,C,O=8>d?1:-1;for(c=r.ieOffsetX||0,_=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>o?-o:o)*m+(0>l?-l:l)*g))/2+w),r.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>h?-h:h)*m))/2+b),me=0;4>me;me++)S=ee[me],P=p[S],i=-1!==P.indexOf("px")?parseFloat(P):Z(this.t,S,parseFloat(P),P.replace(x,""))||0,C=i!==r[S]?2>me?-r.ieOffsetX:-r.ieOffsetY:2>me?c-r.ieOffsetX:_-r.ieOffsetY,f[S]=(r[S]=Math.round(i-C*(0===me||2===me?1:O)))+"px"}}},Le=Y.set3DTransformRatio=Y.setTransformRatio=function(t){var e,i,r,s,n,a,o,l,h,u,f,p,_,d,m,g,v,y,x,T,w,b,P,S=this.data,C=this.t.style,O=S.rotation,k=S.rotationX,R=S.rotationY,A=S.scaleX,M=S.scaleY,D=S.scaleZ,L=S.x,X=S.y,z=S.z,E=S.svg,F=S.perspective,I=S.force3D;if(!((1!==t&&0!==t||"auto"!==I||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&I||z||F||R||k)||xe&&E||!Se)return void(O||S.skewX||E?(O*=N,b=S.skewX*N,P=1e5,e=Math.cos(O)*A,s=Math.sin(O)*A,i=Math.sin(O-b)*-M,n=Math.cos(O-b)*M,b&&"simple"===S.skewType&&(v=Math.tan(b),v=Math.sqrt(1+v*v),i*=v,n*=v,S.skewY&&(e*=v,s*=v)),E&&(L+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),X+=S.yOrigin-(S.xOrigin*s+S.yOrigin*n),d=1e-6,d>L&&L>-d&&(L=0),d>X&&X>-d&&(X=0)),x=(0|e*P)/P+","+(0|s*P)/P+","+(0|i*P)/P+","+(0|n*P)/P+","+L+","+X+")",E&&xe?this.t.setAttribute("transform","matrix("+x):C[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):C[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+M+","+L+","+X+")");if(c&&(d=1e-4,d>A&&A>-d&&(A=D=2e-5),d>M&&M>-d&&(M=D=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),O||S.skewX)O*=N,m=e=Math.cos(O),g=s=Math.sin(O),S.skewX&&(O-=S.skewX*N,m=Math.cos(O),g=Math.sin(O),"simple"===S.skewType&&(v=Math.tan(S.skewX*N),v=Math.sqrt(1+v*v),m*=v,g*=v,S.skewY&&(e*=v,s*=v))),i=-g,n=m;else{if(!(R||k||1!==D||F||E))return void(C[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+X+"px,"+z+"px)"+(1!==A||1!==M?" scale("+A+","+M+")":""));e=n=1,i=s=0}h=1,r=a=o=l=u=f=0,p=F?-1/F:0,_=S.zOrigin,d=1e-6,T=",",w="0",O=R*N,O&&(m=Math.cos(O),g=Math.sin(O),o=-g,u=p*-g,r=e*g,a=s*g,h=m,p*=m,e*=m,s*=m),O=k*N,O&&(m=Math.cos(O),g=Math.sin(O),v=i*m+r*g,y=n*m+a*g,l=h*g,f=p*g,r=i*-g+r*m,a=n*-g+a*m,h*=m,p*=m,i=v,n=y),1!==D&&(r*=D,a*=D,h*=D,p*=D),1!==M&&(i*=M,n*=M,l*=M,f*=M),1!==A&&(e*=A,s*=A,o*=A,u*=A),(_||E)&&(_&&(L+=r*-_,X+=a*-_,z+=h*-_+_),E&&(L+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),X+=S.yOrigin-(S.xOrigin*s+S.yOrigin*n)),d>L&&L>-d&&(L=w),d>X&&X>-d&&(X=w),d>z&&z>-d&&(z=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(d>e&&e>-d?w:e)+T+(d>s&&s>-d?w:s)+T+(d>o&&o>-d?w:o),x+=T+(d>u&&u>-d?w:u)+T+(d>i&&i>-d?w:i)+T+(d>n&&n>-d?w:n),k||R?(x+=T+(d>l&&l>-d?w:l)+T+(d>f&&f>-d?w:f)+T+(d>r&&r>-d?w:r),x+=T+(d>a&&a>-d?w:a)+T+(d>h&&h>-d?w:h)+T+(d>p&&p>-d?w:p)+T):x+=",0,0,0,0,1,0,",x+=L+T+X+T+z+T+(F?1+-z/F:1)+")",C[we]=x};h=Ce.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=0,h.scaleX=h.scaleY=h.scaleZ=1,ve("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,r,n,o,l){if(r._lastParsedTransform===l)return n;r._lastParsedTransform=l;var h,u,f,p,c,_,d,m=r._transform=De(t,s,!0,l.parseTransform),g=t.style,v=1e-6,y=Te.length,x=l,T={};if("string"==typeof x.transform&&we)f=F.style,f[we]=x.transform,f.display="block",f.position="absolute",z.body.appendChild(F),h=De(F,null,!1),z.body.removeChild(F);else if("object"==typeof x){if(h={scaleX:ne(null!=x.scaleX?x.scaleX:x.scale,m.scaleX),scaleY:ne(null!=x.scaleY?x.scaleY:x.scale,m.scaleY),scaleZ:ne(x.scaleZ,m.scaleZ),x:ne(x.x,m.x),y:ne(x.y,m.y),z:ne(x.z,m.z),xPercent:ne(x.xPercent,m.xPercent),yPercent:ne(x.yPercent,m.yPercent),perspective:ne(x.transformPerspective,m.perspective)},d=x.directionalRotation,null!=d)if("object"==typeof d)for(f in d)x[f]=d[f];else x.rotation=d;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(h.x=0,h.xPercent=ne(x.x,m.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(h.y=0,h.yPercent=ne(x.y,m.yPercent)),h.rotation=ae("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:m.rotation,m.rotation,"rotation",T),Se&&(h.rotationX=ae("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",T),h.rotationY=ae("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",T)),h.skewX=null==x.skewX?m.skewX:ae(x.skewX,m.skewX),h.skewY=null==x.skewY?m.skewY:ae(x.skewY,m.skewY),(u=h.skewY-m.skewY)&&(h.skewX+=u,h.rotation+=u)}for(Se&&null!=x.force3D&&(m.force3D=x.force3D,_=!0),m.skewType=x.skewType||m.skewType||a.defaultSkewType,c=m.force3D||m.z||m.rotationX||m.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,c||null==x.scale||(h.scaleZ=1);--y>-1;)i=Te[y],p=h[i]-m[i],(p>v||-v>p||null!=x[i]||null!=X[i])&&(_=!0,n=new _e(m,i,m[i],p,n),i in T&&(n.e=T[i]),n.xs0=0,n.plugin=o,r._overwriteProps.push(n.n));return p=x.transformOrigin,m.svg&&(p||x.svgOrigin)&&(Me(t,re(p),h,x.svgOrigin),n=new _e(m,"xOrigin",m.xOrigin,h.xOrigin-m.xOrigin,n,-1,"transformOrigin"),n.b=m.xOrigin,n.e=n.xs0=h.xOrigin,n=new _e(m,"yOrigin",m.yOrigin,h.yOrigin-m.yOrigin,n,-1,"transformOrigin"),n.b=m.yOrigin,n.e=n.xs0=h.yOrigin,p=xe?null:"0px 0px"),(p||Se&&c&&m.zOrigin)&&(we?(_=!0,i=Pe,p=(p||Q(t,i,s,!1,"50% 50%"))+"",n=new _e(g,i,0,0,n,-1,"transformOrigin"),n.b=g[i],n.plugin=o,Se?(f=m.zOrigin,p=p.split(" "),m.zOrigin=(p.length>2&&(0===f||"0px"!==p[2])?parseFloat(p[2]):f)||0,n.xs0=n.e=p[0]+" "+(p[1]||"50%")+" 0px",n=new _e(m,"zOrigin",0,0,n,-1,n.n),n.b=f,n.xs0=n.e=m.zOrigin):n.xs0=n.e=p):re(p+"",m)),_&&(r._transformType=m.svg&&xe||!c&&3!==this._transformType?2:3),n},prefix:!0}),ve("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ve("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,l,h,u,f,p,c,_,d,m,g,v,y,x,T,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(d=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),o=e.split(" "),l=0;b.length>l;l++)this.p.indexOf("border")&&(b[l]=G(b[l])),f=u=Q(t,b[l],s,!1,"0px"),-1!==f.indexOf(" ")&&(u=f.split(" "),f=u[0],u=u[1]),p=h=o[l],c=parseFloat(f),v=f.substr((c+"").length),y="="===p.charAt(1),y?(_=parseInt(p.charAt(0)+"1",10),p=p.substr(2),_*=parseFloat(p),g=p.substr((_+"").length-(0>_?1:0))||""):(_=parseFloat(p),g=p.substr((_+"").length)),""===g&&(g=r[i]||v),g!==v&&(x=Z(t,"borderLeft",c,v),T=Z(t,"borderTop",c,v),"%"===g?(f=100*(x/d)+"%",u=100*(T/m)+"%"):"em"===g?(w=Z(t,"borderLeft",1,"em"),f=x/w+"em",u=T/w+"em"):(f=x+"px",u=T+"px"),y&&(p=parseFloat(f)+_+g,h=parseFloat(u)+_+g)),a=de(P,b[l],f+" "+u,p+" "+h,!1,"0px",a);return a},prefix:!0,formatter:fe("0px 0px 0px 0px",!1,!0)}),ve("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,a){var o,l,h,u,f,p,c="background-position",_=s||H(t,null),m=this.format((_?d?_.getPropertyValue(c+"-x")+" "+_.getPropertyValue(c+"-y"):_.getPropertyValue(c):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(p=Q(t,"backgroundImage").replace(O,""),p&&"none"!==p)){for(o=m.split(" "),l=g.split(" "),I.setAttribute("src",p),h=2;--h>-1;)m=o[h],u=-1!==m.indexOf("%"),u!==(-1!==l[h].indexOf("%"))&&(f=0===h?t.offsetWidth-I.width:t.offsetHeight-I.height,o[h]=u?parseFloat(m)/100*f+"px":100*(parseFloat(m)/f)+"%");m=o.join(" ")}return this.parseComplex(t.style,m,g,n,a)},formatter:re}),ve("backgroundSize",{defaultValue:"0 0",formatter:re}),ve("perspective",{defaultValue:"0px",prefix:!0}),ve("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ve("transformStyle",{prefix:!0}),ve("backfaceVisibility",{prefix:!0}),ve("userSelect",{prefix:!0}),ve("margin",{parser:pe("marginTop,marginRight,marginBottom,marginLeft")}),ve("padding",{parser:pe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ve("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,a){var o,l,h;return 9>d?(l=t.currentStyle,h=8>d?" ":",",o="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(o=this.format(Q(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),ve("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ve("autoRound,strictUnits",{parser:function(t,e,i,r,s){return s}}),ve("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(Q(t,"borderTopWidth",s,!1,"0px")+" "+Q(t,"borderTopStyle",s,!1,"solid")+" "+Q(t,"borderTopColor",s,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ue)||["#000"])[0]}}),ve("borderWidth",{parser:pe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ve("float,cssFloat,styleFloat",{parser:function(t,e,i,r,s){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new _e(n,a,0,0,s,-1,i,!1,0,n[a],e)}});var Xe=function(t){var e,i=this.t,r=i.filter||Q(this.data,"filter")||"",s=0|this.s+this.c*t;100===s&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!Q(this.data,"filter")):(i.filter=r.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+s+")"),-1===r.indexOf("pacity")?0===s&&this.xn1||(i.filter=r+" alpha(opacity="+s+")"):i.filter=r.replace(T,"opacity="+s))};ve("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,a){var o=parseFloat(Q(t,"opacity",s,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===Q(t,"visibility",s)&&0!==e&&(o=0),U?n=new _e(l,"opacity",o,e-o,n):(n=new _e(l,"opacity",100*o,100*(e-o),n),n.xn1=h?1:0,l.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Xe),h&&(n=new _e(l,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});var ze=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(S,"-$1").toLowerCase())):t.removeAttribute(e))},Ee=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:ze(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ve("className",{parser:function(t,e,r,n,a,o,l){var h,u,f,p,c,_=t.getAttribute("class")||"",d=t.style.cssText;if(a=n._classNamePT=new _e(t,r,0,0,a,2),a.setRatio=Ee,a.pr=-11,i=!0,a.b=_,u=K(t,s),f=t._gsClassPT){for(p={},c=f.data;c;)p[c.p]=1,c=c._next;f.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:_.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),h=J(t,u,K(t),l,p),t.setAttribute("class",_),a.data=h.firstMPT,t.style.cssText=d,a=a.xfirst=n.parse(t,h.difs,a,o)}});var Fe=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,s,n,a=this.t.style,o=l.transform.parse;if("all"===this.e)a.cssText="",s=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],l[i]&&(l[i].parse===o?s=!0:i="transformOrigin"===i?Pe:l[i].p),ze(a,i);s&&(ze(a,we),n=this.t._gsTransform,n&&(n.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ve("clearProps",{parser:function(t,e,r,s,n){return n=new _e(t,r,0,0,n,2),n.setRatio=Fe,n.e=e,n.pr=-10,n.data=s._tween,i=!0,n}}),h="bezier,throwProps,physicsProps,physics2D".split(","),me=h.length;me--;)ye(h[me]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,u=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,s=H(t,""),n=this._overwriteProps;var h,c,d,m,g,v,y,x,T,b=t.style;if(f&&""===b.zIndex&&(h=Q(t,"zIndex",s),("auto"===h||""===h)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(m=b.cssText,h=K(t,s),b.cssText=m+";"+e,h=J(t,h,K(t)).difs,!U&&w.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,b.cssText=m),this._firstPT=c=e.className?l.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(T=3===this._transformType,we?p&&(f=!0,""===b.zIndex&&(y=Q(t,"zIndex",s),("auto"===y||""===y)&&this._addLazySet(b,"zIndex",0)),_&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):b.zoom=1,d=c;d&&d._next;)d=d._next;x=new _e(t,"transform",0,0,null,2),this._linkCSSP(x,null,d),x.setRatio=we?Le:Ne,x.data=this._transform||De(t,s,!0),x.tween=o,x.pr=-1,n.pop()}if(i){for(;c;){for(v=c._next,d=m;d&&d.pr>c.pr;)d=d._next;(c._prev=d?d._prev:g)?c._prev._next=c:m=c,(c._next=d)?d._prev=c:g=c,c=v}this._firstPT=m}return!0},h.parse=function(t,e,i,n){var a,o,h,f,p,c,_,d,m,g,v=t.style;for(a in e)c=e[a],o=l[a],o?i=o.parse(t,c,a,this,i,n,e):(p=Q(t,a,s)+"",m="string"==typeof c,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&P.test(c)?(m||(c=he(c),
c=(c.length>3?"rgba(":"rgb(")+c.join(",")+")"),i=de(v,a,p,c,!0,"transparent",i,0,n)):!m||-1===c.indexOf(" ")&&-1===c.indexOf(",")?(h=parseFloat(p),_=h||0===h?p.substr((h+"").length):"",(""===p||"auto"===p)&&("width"===a||"height"===a?(h=ie(t,a,s),_="px"):"left"===a||"top"===a?(h=$(t,a,s),_="px"):(h="opacity"!==a?0:1,_="")),g=m&&"="===c.charAt(1),g?(f=parseInt(c.charAt(0)+"1",10),c=c.substr(2),f*=parseFloat(c),d=c.replace(x,"")):(f=parseFloat(c),d=m?c.replace(x,""):""),""===d&&(d=a in r?r[a]:_),c=f||0===f?(g?f+h:f)+d:e[a],_!==d&&""!==d&&(f||0===f)&&h&&(h=Z(t,a,h,_),"%"===d?(h/=Z(t,a,100,"%")/100,e.strictUnits!==!0&&(p=h+"%")):"em"===d?h/=Z(t,a,1,"em"):"px"!==d&&(f=Z(t,a,f,d),d="px"),g&&(f||0===f)&&(c=f+h+d)),g&&(f+=h),!h&&0!==h||!f&&0!==f?void 0!==v[a]&&(c||"NaN"!=c+""&&null!=c)?(i=new _e(v,a,f||h||0,0,i,-1,a,!1,0,p,c),i.xs0="none"!==c||"display"!==a&&-1===a.indexOf("Style")?c:p):V("invalid "+a+" tween value: "+e[a]):(i=new _e(v,a,h,f-h,i,0,a,u!==!1&&("px"===d||"zIndex"===a),0,p,c),i.xs0=d)):i=de(v,a,p,c,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},h.setRatio=function(t){var e,i,r,s=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):n>e&&e>-n&&(e=0),s.type)if(1===s.type)if(r=s.l,2===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,r=1;s.l>r;r++)i+=s["xn"+r]+s["xs"+(r+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(t),s=s._next},h._enableTransforms=function(t){this._transform=this._transform||De(this._target,s,!0),this._transformType=this._transform.svg&&xe||!t&&3!==this._transformType?2:3};var Ie=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var r=this._firstPT=new _e(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Ie,r.data=this},h._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,r,s,n=e;if(e.autoAlpha||e.alpha){n={};for(r in e)n[r]=e[r];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var Ye=function(t,e,i){var r,s,n,a;if(t.slice)for(s=t.length;--s>-1;)Ye(t[s],e,i);else for(r=t.childNodes,s=r.length;--s>-1;)n=r[s],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||Ye(n,e,i)};return a.cascadeTo=function(t,i,r){var s,n,a,o,l=e.to(t,i,r),h=[l],u=[],f=[],p=[],c=e._internals.reservedProps;for(t=l._targets||l.target,Ye(t,u,p),l.render(i,!0,!0),Ye(t,f),l.render(0,!0,!0),l._enabled(!0),s=p.length;--s>-1;)if(n=J(p[s],u[s],f[s]),n.firstMPT){n=n.difs;for(a in r)c[a]&&(n[a]=r[a]);o={};for(a in n)o[a]=u[s][a];h.push(e.fromTo(p[s],i,o,n))}return h},t.activate([a]),a},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("CSSPlugin");;
//!file:RoundPropsPlugin.min.js
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.4.1",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,r=this._tween,s=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),n=s.length,a={},o=r._propLookup.roundProps;--n>-1;)a[s[n]]=1;for(n=s.length;--n>-1;)for(t=s[n],e=r._firstPT;e;)i=e._next,e.pg?e.t._roundProps(a,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:r._firstPT===e&&(r._firstPT=i),e._next=e._prev=null,r._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,r){this._addTween(t,e,i,i+r,e,!0),this._overwriteProps.push(e)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();;
//!file:google-tag-manager.js
config.allowExternalScripts!==!1&&!function(w,d,s,l,i){w[l]=w[l]||[],w[l].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl="dataLayer"!=l?"&l="+l:"";j.async=!0,j.src="//www.googletagmanager.com/gtm.js?id="+i+dl,f.parentNode.insertBefore(j,f)}(window,document,"script","dataLayer","GTM-TRHD3G");;
//!file:segmentio.js
if(config.allowExternalScripts!==!1){window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9"}else window.analytics=[],window.analytics.alias=function(){},window.analytics.group=function(){},window.analytics.identify=function(){},window.analytics.load=function(key){},window.analytics.on=function(){},window.analytics.once=function(){},window.analytics.off=function(){},window.analytics.page=function(){},window.analytics.pageview=function(){},window.analytics.ready=function(){},window.analytics.track=function(){},window.analytics.trackLink=function(){},window.analytics.trackForm=function(){},window.analytics.trackClick=function(){},window.analytics.trackSubmit=function(){};;
//!file:main.js
var InVision=angular.module("InVision",["ngResource","ngRoute","ngSanitize","mention"]);!function(ng,app){function getOptimizelyPromise(){var findOptimizelyDeferred=$q.defer(),optimizelyTimeout=setTimeout(function(){window.optimizelyFailed=!0,findOptimizelyDeferred.resolve(!0)},2500);return window.optimizelyFailed&&(clearTimeout(optimizelyTimeout),findOptimizelyDeferred.resolve(!0)),window.optimizely&&!Array.isArray(window.optimizely)&&(clearTimeout(optimizelyTimeout),findOptimizelyDeferred.resolve(!0)),window.optimizelyLoadedCb=function(){return window.optimizely&&!Array.isArray(window.optimizely)?(clearTimeout(optimizelyTimeout),findOptimizelyDeferred.resolve(!0)):(window.optimizelyFailed=!0,clearTimeout(optimizelyTimeout),findOptimizelyDeferred.resolve(!0)),!0},findOptimizelyDeferred.promise}function getConfig(){app.value("config",window.config),delete window.config}function checkForMShareRedirect(){if("/share/preview"!==window.location.pathname){var userAgent=navigator.userAgent,isMobile=/iPhone|iPad|iOS|Android|IEMobile|mobile/.test(userAgent),mShareUrl=window.location.protocol+"//"+window.location.hostname+"/m"+window.location.pathname,hasStandalone=RegExp("[?&]standalone=([^&]*)").exec(window.location.search),isInIframe=window.self!==window.top||window.frameElement;if(isMobile&&!isInIframe){var redirect=hasStandalone?mShareUrl+"?standalone=true":mShareUrl;return window.location=redirect,!0}return!1}}function bootstrapApplication(){app.config(function($routeProvider){var routes=[{resource:"/screens",action:"preview"},{resource:"/screens/:screenID",action:"preview"},{resource:"/screens/:screenID/comments",action:"comments"},{resource:"/screens/:screenID/comments/:conversationID",action:"comments"}];angular.forEach(routes,function(route,index,collection){$routeProvider.when(route.resource,{resource:route.resource,action:route.action})}),$routeProvider.otherwise({redirectTo:function(params,path,search){var redirect="/screens";return path&&(redirect+="/"+path.replace(/\//g,"")),redirect}})}),app.config(function($httpProvider){var redirectOn401Response=!0,httpInterceptorFor401Response=function($window,$q,config){var interceptor=function(request){var interceptedResponse=request.then(function(){return request},function(httpResponse){return 401===httpResponse.status?(redirectOn401Response&&(redirectOn401Response=!1,$window.setTimeout(function(){$window.location.href="./"+config.share.key},100)),$q.defer().promise):request});return interceptedResponse};return interceptor},httpInterceptorForHttpActivityTracking=function(httpActivityService){var interceptor=function(request){return request.then(function(httpResponse){var isPostRequest="GET"!==httpResponse.config.method,isBlacklisted=httpResponse.config.data&&httpResponse.config.data["X-Do-Not-Track-As-Post"],trackAsPost=isPostRequest&&!isBlacklisted;httpActivityService.requestCompleted(trackAsPost)},function(httpResponse){var isPostRequest="GET"!==httpResponse.config.method,isBlacklisted=httpResponse.config.data&&httpResponse.config.data["X-Do-Not-Track-As-Post"],trackAsPost=isPostRequest&&!isBlacklisted;httpActivityService.requestCompleted(trackAsPost)}),request};return interceptor};$httpProvider.responseInterceptors.push(httpInterceptorFor401Response),$httpProvider.responseInterceptors.push(httpInterceptorForHttpActivityTracking)}),app.provider("$exceptionHandler",{$get:function(errorLogService){return errorLogService.exceptionHandler}}),app.run(function($http,httpActivityService,$window){function startInterceptor(data,getHeaders){var isPostRequest="Content-Type"in getHeaders(),isBlacklisted=ng.isString(data)&&-1!=data.indexOf("X-Do-Not-Track-As-Post"),trackAsPost=isPostRequest&&!isBlacklisted;return httpActivityService.requestStarted(trackAsPost),data}function addTimezoneOffsetHeader(data,getHeaders){var headers=getHeaders(),now=new Date;return now.getTimezoneOffset&&(headers["X-Timezone-Offset"]=-now.getTimezoneOffset()),data}function addLoadedAtHeader(data,getHeaders){var headers=getHeaders();return headers["X-Page-Loaded-At"]=addLoadedAtHeader.loadedAt,data}function addReferrerHeader(data,getHeaders){var headers=getHeaders();return headers["X-Referrer-Hash"]=$window.location.hash,data}addLoadedAtHeader.loadedAt=(new Date).getTime(),$http.defaults.transformRequest.push(startInterceptor),$http.defaults.transformRequest.push(addTimezoneOffsetHeader),$http.defaults.transformRequest.push(addLoadedAtHeader),$http.defaults.transformRequest.push(addReferrerHeader)});var c=eval(window.config.text);angular.element(document).ready(function(){angular.bootstrap(document,["InVision"])})}app.constant("MAX_COMMENT_LIKES_DISPLAYED",10);var injector=angular.injector(["ng"]),$http=injector.get("$http"),$q=injector.get("$q");getConfig(),getOptimizelyPromise().then(function(){checkForMShareRedirect()||bootstrapApplication()})}(angular,InVision);;
//!file:amplitude.js
"undefined"==typeof config||config.allowExternalScripts!==!1?!function(e,t){function s(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}function v(e){function t(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<d.length;n++)t(d[n])}var n=e.amplitude||{_q:[],_iq:{}},r=t.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-4.1.1-min.gz.js",r.onload=function(){e.amplitude.runQueuedFunctions?e.amplitude.runQueuedFunctions():console.log("[Amplitude] Error: could not load SDK")};var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i);for(var o=function(){return this._q=[],this},a=["add","append","clearAll","prepend","set","setOnce","unset"],u=0;u<a.length;u++)s(o,a[u]);n.Identify=o;for(var c=function(){return this._q=[],this},l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],p=0;p<l.length;p++)s(c,l[p]);n.Revenue=c;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","logEventWithTimestamp","logEventWithGroups","setSessionId"];v(n),n.getInstance=function(e){return e=(e&&0!==e.length?e:"$default_instance").toLowerCase(),n._iq.hasOwnProperty(e)||(n._iq[e]={_q:[]},v(n._iq[e])),n._iq[e]},e.amplitude=n}(window,document):(window.amplitude=function(){},window.amplitude.getInstance=function(instanceType){return{init:function(){},logEvent:function(){},logRevenue:function(){},setUserId:function(){},setUserProperties:function(){},setOptOut:function(){},setVersionName:function(){},setDomain:function(){},setDeviceId:function(){},setGlobalUserProperties:function(){},identify:function(){},clearUserProperties:function(){},setGroup:function(){},logRevenueV2:function(){},regenerateDeviceId:function(){},logEventWithTimestamp:function(){},logEventWithGroups:function(){},setSessionId:function(){}}});;
//!file:empty.js
;
//!file:cmd-enter.js
!function(ng,app){"use strict";function CmdEnterDirective(){function link(scope,element,attributes){element.on("keydown",function(event){13===event.which&&event.metaKey&&(event.preventDefault(),scope.$apply(function(){scope.$eval(attributes.invCmdEnter,{$event:event})}))})}return{link:link,restrict:"A"}}app.directive("invCmdEnter",CmdEnterDirective)}(angular,InVision);;
//!file:emit-repeat-finish.js
angular.module("InVision").directive("emitRepeatFinish",function($timeout){return{restrict:"A",link:function(scope,element,attr){scope.$last&&$timeout(function(){scope.$emit(attr.emitRepeatFinish?attr.emitRepeatFinish:"ngRepeatFinished")})}}});;
//!file:global-uploader.js
!function(ng,app){"use strict";function Directive($rootScope,$timeout,screenService,sessionService,userPreferenceService,modelEvents,_,errorLogService,boardService,utilityService,analyticsService,config,clientEvents){var _projectID,_boardID,_boardGroupID,maxInBytes=10485760,_uploadType="screen",_uploadSource="",_screenType="",_internalQueue=[],_skipQueueChangedEvent=!1,link=function(scope,element){function validateFiles(files){var i,filesToAdd=[],fileExcludedBasedOnName=null,triggerExtractionWarning=!1,failedFileExtensions=[];for(i=files.length-1;i>=0;i--){var file=files[i];"boardItem"!==_uploadType&&"boardPhotoHeader"!==_uploadType&&isSourceFile(file.name)?(failedFileExtensions.push(getFileExtension(file.name)),triggerExtractionWarning=!0,delete files[i]):!isValidFilename(file.name)||utilityService.isHTML(file.name)?(fileExcludedBasedOnName=file.name,delete files[i]):file.size>maxInBytes&&!isPDF(file.name)&&!isSourceFile(file.name)?($timeout(function(){scope.openModalWindow("imageFileTooLarge",'"'+file.name+"\" is a little too big. Try uploading an image that's under 10 MB.")}),delete files[i]):filesToAdd.unshift(file)}return fileExcludedBasedOnName&&$timeout(function(){scope.openModalWindow("error",'The file, "'+fileExcludedBasedOnName+",\" was skipped since it doesn't appear to be an image file.")}),triggerExtractionWarning&&$timeout(function(){config.featureFlags["extraction-deprecation-gold-1709-drag-n-drop-ui"]?scope.openModalWindow("onboardingCraftFullScreen",{fileExtensions:failedFileExtensions}):scope.openModalWindow("extractionDeprecated")}),filesToAdd}function validateBoardFiles(files){var i,filesToAdd=[],fileIsMissingExtension=null;for(i=files.length-1;i>=0;i--){var file=files[i];isMissingFileExtension(file.name)?(fileIsMissingExtension=file.name,delete files[i]):file.size>maxInBytes&&isImage(file.name)?($timeout(function(){scope.openModalWindow("imageFileTooLarge",'"'+file.name+"\" is a little too big. Try uploading an image that's under 10 MB.")}),delete files[i]):filesToAdd.unshift(file)}return fileIsMissingExtension&&$timeout(function(){scope.openModalWindow("error",'The file, "'+fileIsMissingExtension+",\" was skipped since it doesn't appear to be a valid file.")}),filesToAdd}function validateBoardHeaderFiles(files){var filesToAdd=[];if(files.length>1)scope.openModalWindow("error","You can only use a single image as the header.");else for(var i=files.length-1;i>=0;i--){var file=files[i];isImage(file.name)?file.size>maxInBytes?$timeout(function(){scope.openModalWindow("imageFileTooLarge",'"'+file.name+"\" is a little too big. Try uploading an image that's under 10 MB.")}):filesToAdd.push(file):$timeout(function(){scope.openModalWindow("error","Header images must have a .jpg, .png, or .gif extension.")})}return filesToAdd}function handleFilesAdded(up,files){if(up.state===plupload.UPLOADING)return void _internalQueue.push(files);if(files="boardItem"===_uploadType?validateBoardFiles(files):"boardPhotoHeader"===_uploadType?validateBoardHeaderFiles(files):validateFiles(files),_removeInvalidFiles(up,files),0!==files.length){clientEvents.forNamespace("globalUploader").trigger("filesAdded",{type:_uploadType,source:_uploadSource});var user=sessionService.user;scope.$apply(function(){$rootScope.globalUploadInfo.upload.files.length||($rootScope.globalUploadInfo.upload.statusText="Initializing Upload..."),scope.$broadcast("hideUploadOverlay")}),screenSourceIntroPref.showScreenSourceModal&&config.featureFlags["can-run-server-side-extaction"]&&files.every(function(file){return isSourceFile(file.name)&&"boardItem"!==_uploadType&&"boardPhotoHeader"!==_uploadType?(scope.openModalWindow("screenSource"),!1):void 0});var requestFiles=[],tempFiles=[],tempScreens=[],boardID=0;if("screen"===_uploadType){var projectID=files[0].getSource().projectID||_projectID,isLoadingScreen=!1;if("LoadingScreen"===_screenType){if(files.length>1)return void scope.openModalWindow("error","You can only select one Loading Screen");if(isLayerExtractionFile(files[0].name))return void scope.openModalWindow("error","You can't use a source file for a Loading Screen");isLoadingScreen=!0}files.forEach(function(file,index){tempFiles.push(file),up.files.splice(_.findIndex(up.files,{id:file.id}),1);var dividerID="undefined"==typeof file.getSource().dividerID?-1:file.getSource().dividerID,suggestedSort=file.getSource().suggestedSort||-1,screenID=file.getSource().screenID||0,screenTypeID=1,requestFile={file:file.name,uid:file.id,isPlaceholder:file.getSource().isPlaceholder||0,workflowStatusID:file.getSource().workflowStatusID||0,forceCreate:file.getSource().forceCreate||0};isLoadingScreen&&(suggestedSort=1,dividerID=0,screenTypeID=3,requestFile.isLoadingScreen=!0),-1!==suggestedSort&&(suggestedSort+=index),isLayerExtractionFile(file.name)||tempScreens.push({file:file,user:user,projectID:projectID,dividerID:dividerID,suggestedSort:suggestedSort,screenID:screenID,screenTypeID:screenTypeID}),screenID?requestFile.screenid=screenID:(requestFile.suggestedSort=suggestedSort,requestFile.dividerID=dividerID),requestFiles.push(requestFile)}),InvScreens.actions.addTempScreens(tempScreens);var screensToUpdate=[];screenService.requestUpload(requestFiles,projectID).then(function(signedFiles){signedFiles.forEach(function(signedFile,index){var file=_.find(tempFiles,{id:signedFile.uid});if(file.getSource().signedUrl=signedFile.signedurl,file.getSource().projectID=projectID,file.getSource().screenID||isLayerExtractionFile(file.name)||screensToUpdate.push({file:file,projectID:projectID,id:signedFile.id,name:signedFile.name,sort:signedFile.sort}),isLayerExtractionFile(file.name)){var syncFile={name:file.name,projectID:projectID,groupID:projectID,status:"uploading",screens:0,assetID:0};$rootScope.globalUploadInfo.sync.files.push(syncFile),scope.$broadcast("setShowingUploadingFiles",!0)}$rootScope.globalUploadInfo.upload.files.push({projectID:projectID,name:file.name,id:signedFile.id||file.getSource().screenID||0,percent:0,uploaded:!1}),up.files.push(file)}),InvScreens.actions.updateTempScreens(screensToUpdate),$timeout(updateGlobalUploadInfo),tempFiles=requestFiles=null,up.start()},function(){tempFiles=requestFiles=null})}else if("boardItem"===_uploadType){var boardGroupID=files[0].getSource().boardGroupID||_boardGroupID;boardID=files[0].getSource().boardID||_boardID,files&&files.forEach(function(file,index){tempFiles.push(file),up.files.splice(_.findIndex(up.files,{id:file.id}),1);file.getSource().boardItemID||0;if(file.type.indexOf("image/")>=0&&-1===["psd","sketch","ai"].indexOf(file.name.split(".").pop().toLowerCase())){var fileName=file.name;fileName=fileName.replace(/\.[^\/.]+$/,""),fileName=fileName.replace(/[_-]/g," "),fileName=fileName.replace(/\w\S*/g,function(match){return match.charAt(0).toUpperCase()+match.substr(1)}),file.getSource().title=fileName}else file.getSource().title=file.name;var title=file.getSource().title,sort=file.getSource().suggestedSort||-1,requestFile={file:file.name,uid:file.id,title:title,sort:sort};InvBoards.actions.addTempItem(file,user,boardID,boardGroupID,title,sort),requestFiles.push(requestFile)}),boardService.requestUpload(requestFiles,boardGroupID).then(function(signedFiles){signedFiles.forEach(function(signedFile,index){var file=_.find(tempFiles,{id:signedFile.uid});file.getSource().signedUrl=signedFile.signedurl,file.getSource().boardID=boardID,InvBoards.actions.updateTempItem(file,boardID,signedFile.id),$rootScope.globalUploadInfo.upload.files.push({boardID:boardID,id:signedFile.id||file.getSource().boardItemID||0,percent:0,name:file.name,uploaded:!1}),up.files.push(file)}),$timeout(updateGlobalUploadInfo),tempFiles=requestFiles=null,up.start()},function(){tempFiles=requestFiles=null})}else"boardPhotoHeader"===_uploadType&&(requestFiles=[],tempFiles=[],boardID=files[0].getSource().boardID||_boardID,files.forEach(function(file,index){file.getSource().boardID=boardID,tempFiles.push(file),up.files.splice(_.findIndex(up.files,{id:file.id}),1);var requestFile={file:file.name,uid:file.id};InvBoards.actions.addTempHeader(boardID,file),requestFiles.push(requestFile)}),boardService.requestPhotoHeaderUpload(requestFiles[0],boardID).then(function(signedFiles){signedFiles.forEach(function(signedFile,index){var file=_.find(tempFiles,{id:signedFile.uid});file.getSource().signedUrl=signedFile.signedurl,file.getSource().boardID=boardID,$rootScope.globalUploadInfo.upload.files.push({boardID:boardID,name:file.name,percent:0,uploaded:!1}),up.files.push(file)}),$timeout(updateGlobalUploadInfo),tempFiles=requestFiles=null,up.start()},function(){tempFiles=requestFiles=null}));_screenType=""}}function _removeInvalidFiles(up,files){var filesToRemove=[];up.files.forEach(function(file){var validFile=_.find(files,{id:file.id});validFile||filesToRemove.push(file)}),_skipQueueChangedEvent=!0,filesToRemove.forEach(function(file){up.removeFile(file)}),_skipQueueChangedEvent=!1}function handleBeforeUpload(up,file){return up.settings.url=file.getSource().signedUrl,file.status=plupload.UPLOADING,up.trigger("UploadFile",file),!1}function findUploadingFile(file){var info;return file.getSource().projectID?info=_.find($rootScope.globalUploadInfo.upload.files,{name:file.name,projectID:file.getSource().projectID,uploaded:!1}):file.getSource().boardID&&(info=_.find($rootScope.globalUploadInfo.upload.files,{name:file.name,boardID:file.getSource().boardID,uploaded:!1})),info}function handleFileUploaded(up,file){trackUpload("Success",file),file.getSource().hasOwnProperty("projectID")&&asyncRetinaModalNotificationCheck([file]),$timeout(function(){var uploadInfo=findUploadingFile(file),syncFile=_.find($rootScope.globalUploadInfo.sync.files,{name:file.name,groupID:file.getSource().projectID,status:"uploading"});uploadInfo&&(uploadInfo.uploaded=!0),syncFile&&(syncFile.status="initializing"),updateGlobalUploadInfo()})}function isRetinaImage(img){return img.width>=2e3?!0:!1}function readUploadedFiles(files){return files.map(function(file){return new Promise(function(accept){var reader=new FileReader;reader.onloadend=function(){accept(reader.result)},reader.readAsDataURL(file.getNative())})})}function loadImageURLs(urls){var promises=urls.map(function(src){return new Promise(function(accept){var img=new Image;img.onload=function(){accept(img)},img.src=src})});return Promise.all(promises)}function extractDimensions(images){return images.some(function(img){return isRetinaImage(img)})}function handleRetinaModalOpen(isRetinaScreen){isRetinaScreen&&!retinaNotice.isActive&&(retinaNotice.isActive=!0,$timeout(_.noop).then(scope.openModalWindow.bind(this,"retinaHelper")))}function asyncRetinaModalNotificationCheck(files){retinaNotice.beenSeen="1"===sessionService.user.showretinahelpermodal,retinaNotice.beenSeen||retinaNotice.isActive||Promise.all(readUploadedFiles(files)).then(loadImageURLs).then(extractDimensions).then(handleRetinaModalOpen)}function handleUploadComplete(){if($timeout(updateGlobalUploadInfo),_internalQueue.length){var _files=_internalQueue.shift();handleFilesAdded(uploader,_files)}}function handleQueueChanged(up){_skipQueueChangedEvent||up.files.length&&up.state===plupload.STOPPED&&up.start()}function handleUploadProgress(up,file){$timeout(function(){var uploadInfo=findUploadingFile(file);uploadInfo&&(uploadInfo.percent=file.percent)})}function handleError(up,error){error.file&&scope.openModalWindow("error","Looks like some of your files did not finish uploading. Please re-upload any files that did not complete."),error.toString=function(){var data={type:"GlobalUploaderError",code:error.code,message:error.message,response:error.response||"",responseHeaders:error.responseHeaders||"",status:error.status||""};return error.file?(data.file={id:error.file.id,name:error.file.name,percent:error.file.percent,size:error.file.size,status:error.file.status,type:error.file.type},console.log("error file:",error.file),trackUpload("Failure",error.file)):data.file="Error is not file related.",ng.toJson(data)},errorLogService.exceptionHandler(error)}function checkScreenSourceIntro(){screenSourceIntroPref.isLoaded||userPreferenceService.getPreferenceTypeByName("showScreenSourceIntro",!0,"boolean").then(function(typeResponse){userPreferenceService.getUserPreferenceById(typeResponse.data.id).then(function(valueResponse){screenSourceIntroPref.showScreenSourceModal="true"===valueResponse.exists&&"0"===valueResponse.data.value?!1:!0,screenSourceIntroPref.isLoaded=!0,typeResponse=null,valueResponse=null})})}function updateGlobalUploadInfo(){var uploadInfo=$rootScope.globalUploadInfo,uploadedCount=_.filter(uploadInfo.upload.files,"uploaded",!0).length,syncCompleteCount=_.filter(uploadInfo.sync.files,{status:"complete"}).length,syncFailCount=_.filter(uploadInfo.sync.files,{status:"failed"}).length;syncCompleteCount+syncFailCount===uploadInfo.sync.files.length&&(uploadInfo.sync.statusText="",uploadInfo.sync.files=[]),uploadedCount===uploadInfo.upload.files.length&&(uploadInfo.upload.statusText="",uploadInfo.upload.files=[]),uploadInfo.upload.files.length?uploadInfo.upload.statusText="Uploading "+uploadedCount+" of  "+uploadInfo.upload.files.length.toString()+" files":uploadInfo.sync.files.length&&(uploadInfo.sync.statusText="Syncing "+(syncCompleteCount+1).toString()+" of  "+uploadInfo.sync.files.length.toString()+" files"),uploadInfo.upload.files.length||uploadInfo.sync.files.length||scope.$broadcast("setShowingUploadingFiles",!1),uploadInfo.upload.files.length?isListeningToUnload||(window.addEventListener("beforeunload",showUnloadMessage),isListeningToUnload=!0):(window.removeEventListener("beforeunload",showUnloadMessage),isListeningToUnload=!1)}function trackUpload(status,file){var fileType=file.name.split(".").pop();switch(fileType){case"psd":analyticsService.track("PSD "+status);break;case"sketch":analyticsService.track("Sketch "+status)}"screens_tab"===_uploadSource&&analyticsService.track("Screen.UploadedFrontend",{ScreenUploadedStatus:status,FileType:fileType})}$rootScope.globalUploadInfo={upload:{files:[],statusText:""},sync:{files:[],processed:[],statusText:""}},element.find("body").append('<button id="globalPluploadButton"></button>');var uploadButton=$("#globalPluploadButton");uploader=new plupload.Uploader({runtimes:"html5",url:"/api/screens",multipart:!1,method:"put",max_retries:3,browse_button:"globalPluploadButton",headers:{}}),config.featureFlags["encryption-at-rest"]&&(uploader.settings.headers["x-amz-server-side-encryption"]="AES256"),uploader.bind("BeforeUpload",handleBeforeUpload),uploader.bind("QueueChanged",handleQueueChanged),uploader.bind("FilesAdded",handleFilesAdded),uploader.bind("FileUploaded",handleFileUploaded),uploader.bind("UploadComplete",handleUploadComplete),uploader.bind("Error",handleError),uploader.bind("UploadProgress",handleUploadProgress),uploader.init(),scope.$on("globalUploadBrowse",function(e,projectID){_uploadType="screen",_projectID=projectID,_screenType="",uploadButton.trigger("click")}),scope.$on("globalUploadBoardsBrowse",function(e,boardID,boardGroupID){_uploadType="boardItem",_boardID=boardID,_boardGroupID=boardGroupID,uploadButton.trigger("click")}),scope.$on("globalUploadBoardHeaderBrowse",function(e,boardID){_uploadType="boardPhotoHeader",_boardID=boardID,uploadButton.trigger("click")}),scope.$on("globalUploadLoadingScreen",function(e,projectID){_uploadType="screen",_projectID=projectID,_screenType="LoadingScreen",uploadButton.trigger("click")}),scope.$on("globalUploadPlaceholderScreen",function(e,file,suggestedSort,dividerID,projectID,workflowStatusID){_uploadType="screen",_projectID=projectID;var filesToAdd=[],file=new plupload.File(new mOxie.File(null,file),file.name);file.getSource().suggestedSort=suggestedSort,file.getSource().dividerID=dividerID,file.getSource().projectID=projectID,file.getSource().isPlaceholder=1,file.getSource().workflowStatusID=workflowStatusID||0,file.getSource().forceCreate=1,filesToAdd.push(file),setTimeout(function(){uploader.trigger("FilesAdded",filesToAdd)},1)}),scope.$on("globalUploadAddScreens",function(e,files,suggestedSort,dividerID,projectID){_uploadType="screen",_uploadSource="screens_tab",_projectID=projectID;for(var filesToAdd=[],i=files.length-1;i>=0;i--){var file=new plupload.File(new mOxie.File(null,files[i]),files[i].name);file.getSource().suggestedSort=suggestedSort,file.getSource().dividerID=dividerID,file.getSource().projectID=projectID,filesToAdd.push(file)}filesToAdd=_.sortOnPropertyUsingNaturalOrder(filesToAdd,"name"),filesToAdd.length&&setTimeout(function(){uploader.trigger("FilesAdded",filesToAdd)},1)}),scope.$on("globalUploadReplaceScreen",function(e,file,screenID,projectID,isPlaceholder){_uploadType="screen",_projectID=projectID;var filesToAdd=[],file=new plupload.File(new mOxie.File(null,file));file.getSource().screenID=screenID,file.getSource().projectID=projectID,file.getSource().isPlaceholder=isPlaceholder||0,filesToAdd.push(file),setTimeout(function(){uploader.trigger("FilesAdded",filesToAdd)},1)}),scope.$on("globalUploadAddBoardItems",function(e,files,suggestedSort,boardGroupID,boardID){_uploadType="boardItem",_boardID=boardID;for(var filesToAdd=[],i=files.length-1;i>=0;i--){var file=new plupload.File(new mOxie.File(null,files[i]),files[i].name);file.getSource().suggestedSort=suggestedSort+i,file.getSource().boardGroupID=boardGroupID,file.getSource().boardID=boardID,filesToAdd.push(file)}filesToAdd=_.sortOnPropertyUsingNaturalOrder(filesToAdd,"name"),filesToAdd.length&&setTimeout(function(){uploader.trigger("FilesAdded",filesToAdd)},1)}),scope.$on("globalUploadAddBoardHeaderImage",function(e,files,boardID){_uploadType="boardPhotoHeader",_boardID=boardID;for(var filesToAdd=[],i=files.length-1;i>=0;i--){var file=new plupload.File(new mOxie.File(null,files[i]));file.getSource().boardID=boardID,filesToAdd.push(file)}setTimeout(function(){uploader.trigger("FilesAdded",filesToAdd)},1)}),$rootScope.globalUploadStatusText=function(){return $rootScope.globalUploadInfo.upload.statusText+$rootScope.globalUploadInfo.sync.statusText};var isListeningToUnload=!1,unloadMessage="Closing the window will cancel your current uploads.",showUnloadMessage=function(e){return(e||window.event).returnValue=unloadMessage,unloadMessage};modelEvents.on("showScreenSourceModalPreferenceUpdated.globalUploader",function(event,pref){0===pref&&(screenSourceIntroPref.showScreenSourceModal=!1)}),modelEvents.on("selectiveSyncFilesUploading.globalUploader",function(event,files,groupID,groupType,props){if("board"===groupType){for(var i=0,length=files.length;length>i;i++){var id=files[i].entityID,sort=-1,randomProgress=44*Math.random()+20;files[i].id=files[i].entityID,InvBoards.actions.addTempItem(files[i],props.userID,groupID,props.boardGroupID,files[i].title,sort),InvBoards.actions.updateTempItem(files[i],groupID,id),$rootScope.globalUploadInfo.upload.files.push({name:files[i].name,uploaded:!1,id:id,percent:randomProgress,groupID:groupID,groupType:groupType,oauthApp:props.oauthApp})}$timeout(updateGlobalUploadInfo)}else if("project"===groupType){for(var i=0,length=files.length;length>i;i++){var objID=files[i].screenID||files[i].entityID,id=isLayerExtractionFile(files[i].name)?0:objID,randomProgress=44*Math.random()+20;if($rootScope.globalUploadInfo.upload.files.push({name:files[i].name,uploaded:!1,id:id,percent:randomProgress,groupID:groupID,groupType:groupType,oauthApp:props.oauthApp}),isLayerExtractionFile(files[i].name)){var syncFile={name:files[i].name,groupID:groupID,status:"uploading",screens:0,assetID:0};$rootScope.globalUploadInfo.sync.files.push(syncFile),scope.$broadcast("setShowingUploadingFiles",!0)}}$timeout(updateGlobalUploadInfo)}}),modelEvents.on("selectiveSyncFileUploadComplete.globalUploader",function(event,groupID,fileName){var uploadInfo=_.find($rootScope.globalUploadInfo.upload.files,{name:fileName,groupID:groupID,uploaded:!1}),syncFile=_.find($rootScope.globalUploadInfo.sync.files,{name:fileName,groupID:groupID,status:"uploading"});uploadInfo&&(uploadInfo.uploaded=!0,"board"===uploadInfo.groupType&&uploadInfo.oauthApp&&InvBoards.actions.syncBoardItemUploadComplete(uploadInfo.oauthApp)),syncFile&&(syncFile.status="initializing"),$timeout(updateGlobalUploadInfo)}),modelEvents.on("screenSourceUploaded.globalUploader",function(event,screenSource){var clientFilename=screenSource.asset.clientFilename,syncFile=_.find($rootScope.globalUploadInfo.sync.files,{name:clientFilename,groupID:screenSource.asset.projectID,assetID:0});syncFile&&(syncFile.status="processing",syncFile.assetID=screenSource.asset.id,syncFile.screens=screenSource.info.screens?screenSource.info.screens.length:[]),$timeout(updateGlobalUploadInfo)}),modelEvents.on("screenSourceSyncUpdated.globalUploader",function(event,assetID,status,projectID){var uploadingFile=_.find($rootScope.globalUploadInfo.sync.files,{assetID:assetID,groupID:projectID});uploadingFile&&("complete"===status&&$rootScope.globalUploadInfo.sync.files.length?uploadingFile.status="complete":"failed"===status||"inspected"===status||"cancelled"===status||"killed"===status?uploadingFile.status="failed":uploadingFile&&(uploadingFile.status="processing")),$timeout(updateGlobalUploadInfo)}),scope.$on("$destroy",function(){modelEvents.off("showScreenSourceModalPreferenceUpdated.globalUploader"),modelEvents.off("selectiveSyncFilesUploading.globalUploader"),modelEvents.off("screenSourceUploaded.globalUploader"),modelEvents.off("selectiveSyncFileUploadComplete.globalUploader"),modelEvents.off("screenSourceSyncUpdated.globalUploader")}),checkScreenSourceIntro()};return{link:link,restrict:"A"}}app.directive("invGlobalUploader",Directive);var uploader,screenSourceIntroPref={isLoaded:!1,showScreenSourceModal:!0},retinaNotice={isActive:!1,beenSeen:!1},isMissingFileExtension=function(filename){var extensionPattern=/\.[^.]+$/i;return!extensionPattern.test(filename)},isPDF=function(name){var pattern=/\.(pdf)$/i;return pattern.test(name)},isSourceFile=function(name){var pattern=/\.(psd|ai|sketch)$/i;return pattern.test(name)},isLayerExtractionFile=function(name){var pattern=/\.(psd|ai|sketch|pdf)$/i;return pattern.test(name)},isValidFilename=function(name){var pattern=/\.(gif|jpe?g|png|pdf|psd|ai|sketch)$/i;return pattern.test(name)},isImage=function(name){var pattern=/\.(gif|jpe?g|png)$/i;return pattern.test(name)},getFileExtension=function(name){return name.split(".").pop()}}(angular,InVision);;
//!file:lazier-src.js
!function(ng,app){"use strict";function Directive($window,$document){function LazyImage(element){this.element=element,this.offsetElement=this.element,this.source=null,this.rendered=!1,this.height=null,this.width=null}function handleIndexChange(newValue,oldValue){newValue!==oldValue&&lazyLoader.checkLayout()}function link($scope,element,attributes){var scrollContainer=element.inheritedData("invLazierContainer");scrollContainer&&(container=angular.element(scrollContainer));var lazyImage=new LazyImage(element);lazyLoader.addImage(lazyImage),attributes.$observe("invLazierSrc",function(newSource){lazyImage.setSource(newSource)}),"$index"in $scope&&$scope.$watch("$index",handleIndexChange),$scope.$on("$destroy",function(){lazyLoader.removeImage(lazyImage)}),$scope.$on("checkLayout.invLazierSrc",function(){lazyLoader.checkLayout()})}var win=angular.element($window),container=win,lazyLoader=function(){function addImage(image){images.push(image),renderTimer||startRenderTimer(),isWatchingWindow||startWatchingWindow(),startWatchingContainer()}function checkLayout(){renderTimer||startRenderTimer(),isWatchingWindow||startWatchingWindow(),startWatchingContainer()}function removeImage(image){for(var i=0,len=images.length;len>i;i++)if(images[i]===image){images.splice(i,1);break}images.length||(clearRenderTimer(),stopWatchingWindow())}function checkImages(){var visible=[],hidden=[];null===windowHeight&&(windowHeight=win.height()),null===windowWidth&&(windowWidth=win.width());for(var scrollTop=win.scrollTop(),scrollLeft=win.scrollLeft(),topFoldOffset=scrollTop,bottomFoldOffset=topFoldOffset+windowHeight,leftFoldOffset=scrollLeft,rightFoldOffset=leftFoldOffset+windowWidth,i=0,len=images.length;len>i;i++){var image=images[i];image.isVisible(topFoldOffset,bottomFoldOffset,leftFoldOffset,rightFoldOffset)?visible.push(image):hidden.push(image)}for(var i=0;i<visible.length;i++)visible[i].render();images=hidden,clearRenderTimer(),images.length||stopWatchingWindow()}function clearRenderTimer(){clearTimeout(renderTimer),renderTimer=null}function keyPressed(){renderTimer||startRenderTimer()}function startRenderTimer(){renderTimer=setTimeout(checkImages,renderDelay)}function startWatchingWindow(){isWatchingWindow=!0,win.on("resize.invLazierSrc",windowResized),$document.on("keyup.invLazierSrc",keyPressed)}function startWatchingContainer(){container.attr("inv-lazier-container-watched")||(container.data("invLazierContainerWatched",!0),container.on("scroll.invLazierSrc",containerScrolled))}function stopWatchingWindow(){isWatchingWindow=!1,win.off("resize.invLazierSrc"),container.off("scroll.invLazierSrc"),$document.off("keyup.invLazierSrc")}function windowResized(){windowHeight=win.height(),windowWidth=win.width(),renderTimer||startRenderTimer()}function containerScrolled(){renderTimer||startRenderTimer()}var images=[],renderTimer=null,renderDelay=200,windowHeight=null,windowWidth=null,isWatchingWindow=!1;return{addImage:addImage,checkLayout:checkLayout,removeImage:removeImage}}();return LazyImage.prototype={isVisible:function(topFoldOffset,bottomFoldOffset,leftFoldOffset,rightFoldOffset){if(!this.offsetElement.is(":visible"))return!1;if(!this.height){for(;!(this.height=this.offsetElement.height());)this.offsetElement=this.offsetElement.parent();this.width=this.offsetElement.width()}var top=this.offsetElement.offset().top,bottom=top+this.height,left=this.offsetElement.offset().left,right=left+this.width;return bottom>=topFoldOffset&&bottomFoldOffset>=top&&right>=leftFoldOffset&&rightFoldOffset>=left||topFoldOffset>=top&&bottom>=bottomFoldOffset&&leftFoldOffset>=left&&right>=rightFoldOffset},render:function(){this.rendered=!0,this.renderSource()},renderSource:function(){this.element[0].src=this.source},setSource:function(newSource){this.source=newSource,this.rendered&&this.renderSource()}},{link:link,restrict:"A"}}app.directive("invLazierContainer",function(){return{restrict:"A",controller:["$scope","$element",function($scope,$element){$element.data("invLazierContainer",$element)}]}}),app.directive("invLazierSrc",Directive)}(angular,InVision);;
//!file:lazy-src.js
!function(ng,app){"use strict";function Directive(){function dequeueHandler(){for(var i=0,length=pending.length;length>i;i++)pending[i]();pendingTimer=null,pending=[]}function queueHandler(handler){pending.push(handler),pendingTimer||(pendingTimer=setTimeout(dequeueHandler,100))}function isElementVisible(element){if(!element.is(":visible"))return!1;var bottomOfScreen=win.height()+win.scrollTop();return element.offset().top<bottomOfScreen}var pendingTimer=null,pending=[],win=$(window),doc=$(document),link=function($scope,element,attributes){function examineImage(){isElementVisible(element)&&(showImage(),stopMonitoring())}function handleWatchCallback(newValue,oldValue){newValue!==oldValue&&examineImage()}function setupMonitoring(){return isElementVisible(element)?showImage():void startMonitoring()}function showImage(){element.prop("src",src),isVisible=!0}function startMonitoring(){isMonitoring=!0,win.on("resize",examineImage),win.on("scroll",examineImage),watchDocumentHeight(),watchLazyExpression()}function stopMonitoring(){isMonitoring=!1,win.off("resize",examineImage),win.off("scroll",examineImage),unbindLazyWatch(),unbindDocumentWatch()}function watchDocumentHeight(){unbindDocumentWatch=$scope.$watch(function(){return doc.height()},handleWatchCallback)}function watchLazyExpression(){attributes.lazyWatch&&(unbindLazyWatch=$scope.$watch(attributes.lazyWatch,handleWatchCallback))}var src=null,isMonitoring=!1,isVisible=!1,unbindLazyWatch=ng.noop,unbindDocumentWatch=ng.noop;attributes.$observe("invLazySrc",function(interpolatedSource){return src=interpolatedSource,isVisible?showImage():void(isMonitoring||queueHandler(setupMonitoring))}),$scope.$on("$destroy",function(){win.off("resize",examineImage),win.off("scroll",examineImage)})};return{link:link,restrict:"A"}}app.directive("invLazySrc",Directive)}(angular,InVision);;
//!file:loading.js
angular.module("InVision").directive("loading",function(){var template,ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");return template=msie>0||navigator.userAgent.match(/Trident.*rv\:11\./)?'<div class="dots"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>':'<div class="loader"><svg class="circular"><circle class="path" cx="32" cy="32" r="30" fill="none" stroke-width="4"></svg></div>',{restrict:"AE",replace:!0,template:'<div class="loading-directive" ng-show="isLoading">'+template+"</div>",scope:{isLoading:"=loading"}}});;
//!file:mobile-transition-layer.js
!function(ng,app){function Directive($timeout,$log,_,transitionsService,config,screenService,autoImagePreloader){function linkFunction($scope,element){function updateCurrentScreen(event,cb){return _DEBUG_&&$log.info("invMobileTransitionLayer.updateCurrentScreen"),vm.isUpdating?!1:(vm.isUpdating=!0,$scope.transitionScreen=screenService.getScreenClickedOn(),cb?$timeout(cb).then(function(){vm.isUpdating=!1}):(vm.isUpdating=!1,!1))}function initTransitionScreens(event,update){return _DEBUG_&&$log.info("invMobileTransitionLayer.initTransitionScreens"),transitionFeatureFlag||(_.isFunction(screenService.getScreens)&&($scope.transitionScreens=screenService.getScreens()),$scope.screens&&$scope.screens.length?$scope.transitionScreens=$scope.screens:$scope.isMobileShare||$scope.transitionScreens.length||($scope.transitionScreens=augmentScreens($scope.screens)),$scope.transitionScreens=augmentScreens($scope.transitionScreens)),$timeout(function(){$scope.$emit("mobile:transition:ready"),update&&updateCurrentScreen()})}function screenInHotspot(id){return _.some($scope.transitionScreen.hotspots,{targetScreenID:id})}function getBackgroundColor(screen){if(!_.isEmpty(screen)){var color=screen.backgroundColor;return color||(color=screen.extended.fixedFooterBackground),6===color.length?"#"+color:color}}function prepareTransitions(){if(_DEBUG_&&$log.info("invMobileTransitionLayer.prepareTransitions"),vm.isPreparing)return!1;vm.isPreparing=!0;var data=$scope.transitionData,current=data.currentScreen,target=data.targetScreen,maintainScrollPos=data.maintainScrollPosition||!1,transitionName=vm.transitionTypes[data.transitionTypeID];transitionFeatureFlag?($scope.$apply(function(){$scope.currentScreen=current,$scope.targetScreen=target}),$curr=element.find("#current-screen"),$targ=element.find("#next-screen")):($curr=element.find("#transition-picture-"+current.id),$targ=element.find("#transition-picture-"+target.id)),$element.addClass("will-transition"),current.fixedHeaderHeight&&current.fixedHeaderHeight===target.fixedHeaderHeight&&_.contains(vm.specialTransitions,data.transitionTypeID)&&($curr.addClass("equal-height-header"),$targ.addClass("equal-height-header"),ripOutFixedElements(".fixed-header")),current.fixedFooterHeight&&current.fixedFooterHeight===target.fixedFooterHeight&&_.contains(vm.specialTransitions,data.transitionTypeID)&&($curr.addClass("equal-height-footer"),$targ.addClass("equal-height-footer"),ripOutFixedElements(".fixed-footer"));var scrollPos=-data.scrollPosition;$curr.find("img:first").css({marginTop:scrollPos}),$targ.find("img:first").css({marginTop:maintainScrollPos?scrollPos:0}),transitionsService.configure($curr,$targ,$wrapper,$fixedElements);var mobileDeviceID=$scope.config?$scope.config.mobileDeviceID:null,mobileTemplate=_.filter(config.mobileDevices,{mobileDeviceID:mobileDeviceID})[0];if(mobileTemplate&&"iPhoneX"===mobileTemplate.mobileSkin){var mobileStatusbarIsOpaque=$scope.config&&$scope.config.mobileStatusbarIsOpaque||config&&config.project&&config.project.mobileStatusbarIsOpaque,mobileStatusbarIsVisible=$scope.config&&$scope.config.mobileStatusbarIsVisible||config&&config.project&&config.project.mobileStatusbarIsVisible,borderRadiusStyle=mobileStatusbarIsOpaque&&mobileStatusbarIsVisible?"0 0 40px 40px":"40px";$element.css("border-radius",borderRadiusStyle)}$element.addClass(transitionName),transitionsService[transitionName]()}function doTransition(){return _DEBUG_&&$log.info("invMobileTransitionLayer.doTransition"),vm.isPlaying?!1:(vm.isPlaying=!0,$element.addClass("is-transitioning"),void transitionsService.play(animationOverCallback))}function ripOutFixedElements(elementClass){_DEBUG_&&$log.info("ripOutFixedElements");var $ripCurr=$curr.find(elementClass).clone(),$ripTarg=$targ.find(elementClass).clone();$ripCurr.addClass("current"),$ripTarg.addClass("target"),$element.append($ripCurr),$element.append($ripTarg),$fixedElements.curr.push($ripCurr),$fixedElements.targ.push($ripTarg)}function animationOverCallback(){_DEBUG_&&$log.info("animationOverCallback");var nodes,id=$scope.transitionData.transitionTypeID,removeClasses=[vm.transitionTypes[id],"is-transitioning","will-transition"].join(" "),cleanupClasses=["equal-height-header","equal-height-footer"].join(" ");return $targ.removeClass(cleanupClasses),$curr.removeClass(cleanupClasses),$element.removeClass(removeClasses),vm.isPreparing=!1,vm.isPlaying=!1,transitionFeatureFlag&&$scope.$apply(function(){$scope.currentScreen=null,$scope.targetScreen=null}),$fixedElements.curr.length&&(nodes=$fixedElements.curr.concat($fixedElements.targ),_.forEach(nodes,function(node){node.remove()}),$fixedElements.curr=[],$fixedElements.targ=[]),$scope.setIsTransitioning(!1)}function augmentScreens(screens){return _.map(screens,function(screen){return $scope.isMobileShare?screen.displayScale?screen:(screen.displayScale=+$scope.deviceTemplate.viewportWidth/screen.width,screen):screen})}function isChrome46(){var version=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),platform=navigator.platform;return"MacIntel"===platform&&!!version&&46===parseInt(version[2],10)}var $curr,$targ,$element=ng.element(element),$wrapper=$element.find(".inner2"),$fixedElements={curr:[],targ:[]},transitionFeatureFlag=(window.navigator.userAgent.toLowerCase(),$scope.transitionFeatureFlag||!1);vm.initalised=!1,vm.isPreparing=!1,vm.isPlaying=!1,vm.isUpdating=!1,vm.transitionTypes={2:"slide-right",3:"slide-left",4:"slide-up",5:"slide-down",6:"flip-right",7:"flip-left",8:"dissolve",9:"flow",10:"pop",11:"push-right",12:"push-left",13:"slide-fade"},vm.specialTransitions=[2,3,11,12],$scope.Math=Math,$scope.getBackgroundColor=getBackgroundColor,$scope.screenInHotspot=screenInHotspot,$scope.transitionScreen=screenService.getCurrentScreen(),$scope.transitionScreens=[],$scope.pushDownFixedHeader=$scope.isAndroid?$scope.statusBarPushDown||0:0,isChrome46()&&($scope.chromeClass="mobile-hover-chrome"),$scope.addStatusBarHeight=($scope.config&&$scope.config.mobileStatusbarIsOpaque||config&&config.project&&config.project.mobileStatusbarIsOpaque)&&$scope.isInAppMode&&!vm.isAndroid?!0:!1,$scope.$on("mobile:transition:prepare",prepareTransitions),$scope.$on("mobile:transition:run",doTransition),$scope.$on("mobile:transition:updateCurrent",updateCurrentScreen),$scope.$on("mobile:transition:init",initTransitionScreens),$scope.isMobileShare||initTransitionScreens({},!0),$scope.getImageUrl=function(url){return autoImagePreloader.previous(url)||url}}var vm={};return{link:linkFunction,restrict:"A",templateUrl:"/share/common/views/directives/mobile-transition-layer.htm"}}{var _DEBUG_=_DEBUG_||!1;window._STANDALONE_||!1}app.directive("invMobileTransitionLayer",Directive)}(angular,InVision);;
//!file:modal.js
!function(ng,app){"use strict";function Directive($timeout,$document,$window,modalWindowRequest,emojiService){var linkFunction=function($scope,element,attributes){function forcePositive(number){return 0>number?0:number}function setModalPosition(){$timeout(function(){if($win&&$element){var newCSS={top:$win.scrollTop(),left:$win.scrollLeft(),marginLeft:forcePositive(Math.round(($win.outerWidth()-$element.outerWidth())/2)),marginTop:forcePositive(Math.round(($win.outerHeight()-$element.outerHeight())/2))};$element.css(newCSS).attr("tabindex",-1).addClass("animate-in"),isOpen&&($element.addClass("open"),$scope.$emit("modal.isWindowOpen",!0),$window.InvScreens&&$window.InvScreens.screensStore.setIsModalOpen(!0)),$(".invisible-modal-padding-fix").css("height",1e3),isOpen=!0}})}var $element=$(element),$win=$(window),isClosedByPlugin=!0,modalType=attributes.invModalType||"top",settings={keyboard:!1,backdrop:"static"},isOpen=!1,isTrueModal=attributes.invTrueModal||!1;modalWindowRequest.isSuppressFade()&&$element.is(".animate")&&($element.removeClass("animate"),$element.on("shown.invModal",function(){$timeout(function(){$element.addClass("animate")},150)})),$element.addClass("modal").modal(settings);var $backdrop=$(".modal-backdrop");$backdrop.addClass("animate-in "+$element.attr("id")),setModalPosition(),$element.on("hidden.invModal",function(){$scope.$emit("modalWindowHidden"),$scope.$emit("modal.isWindowOpen",!1),$window.InvScreens&&$window.InvScreens.screensStore.setIsModalOpen(!1),$(".invisible-modal-padding-fix").css("height",0),$timeout(ng.noop)}),$element.on("shown.invModal",function(){"top"===modalType&&setModalPosition()}),$win.on("resize.invModal",setModalPosition),$win.on("hashchange.invModal",function(){isTrueModal||$scope.closeModalWindow()}),$document.on("keyup.invModal",function(event){if(!isTrueModal){var keyCode=event.which||event.keyCode;27===keyCode&&$scope.closeModalWindow()}}),$backdrop.on("click.invModal",function(e){e.preventDefault(),isTrueModal||$scope.closeModalWindow()}),$scope.$on("resizeModal",setModalPosition),$scope.$on("closeModalWindowWithoutFade",function(){$scope.closeModalWindow(!0)}),$scope.$on("$destroy",function(){$win.off("resize.invModal"),$win.off("hashchange.invModal"),$element.off("hide.invModal"),$element.off("hidden.invModal"),$element.off("shown.invModal"),$element.removeClass("animate-in"),$element.removeClass("animate-out"),$document.off("keyup.invModal"),$backdrop.off("click.invModal"),$scope=element=attributes=$element=$win=null}),$scope.closeModalWindow=function(suppressFade){return emojiService&&emojiService.isPopoverActiveOnModal()?void emojiService.setPopoverOnModal(!1):emojiService&&emojiService.isTypeaheadActiveOnModal()?void emojiService.setTypeaheadOnModal(!1):(isClosedByPlugin=!1,void(suppressFade?($(".modal-backdrop").removeClass("animate-in"),$element.modal("hide")):($element.addClass("animate-out"),$(".modal-backdrop").removeClass("animate-in"),$timeout(function(){$element&&$element.modal("hide")},200))))}};return{link:linkFunction,restrict:"A"}}app.directive("invModal",Directive)}(angular,InVision);;
//!file:overlay-screen.js
!function(ng,app){"use strict";app.directive("invOverlayScreen",function($timeout,_){var linkFunction=function($scope,element){console.log("invOverlayScreen")};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:react-component.js
!function(ng,app){"use strict";function Directive(){var linkFunction=function(scope,element){var remount=function(){ReactDOM.unmountComponentAtNode(element[0]),ReactDOM.render(React.createFactory(scope.reactComponent)(scope.reactProps),element[0],function(){scope.reactRootRenderedMethod&&scope.reactRootRenderedMethod()})};scope.$watch("reactRemount",function(){remount()}),scope.$on("$destroy",function(){ReactDOM.unmountComponentAtNode(element[0])})};return{restrict:"E",link:linkFunction,scope:{reactComponent:"=",reactProps:"=",reactRootRenderedMethod:"=",reactRemount:"="}}}app.directive("invReactComponent",Directive)}(angular,InVision);;
//!file:tail-source.js
!function(ng,app){function Directive($,_,$parse){var controllerFunction=function($scope,$element,$attrs){function invoke(action,args){$scope.$eval(action,args)}var source={element:$element,handler:{},type:$.trim($attrs.invTailSource),data:$parse($attrs.invTailSourceData)($scope)};_.assign(source.handler,{handleSetConnection:function(event){event.side!==source.connectedOnSide&&(source.connectedOnSide=event.side,$element.removeClass("tail-connected tail-connected-left tail-connected-right tail-connected-top tail-connected-bottom"),event.connected?($element.addClass("tail-connected tail-connected-"+event.side),invoke($attrs.invOnConnectionSet,{event:event,source:source})):invoke($attrs.invOnConnectionUnset,{event:event,source:source}))},handleDeactivate:function(event){$element.removeClass(CSS_ACTIVE_CLASS),invoke($attrs.invOnConnectionDeactivate,{event:event,source:source})},handleCancel:function(event){invoke($attrs.invOnConnectionCancel,{event:event,source:source})},handleConnect:function(event,targets){invoke($attrs.invOnConnection,{event:event,source:source,targets:targets})},handleFlash:function(event){invoke($attrs.invOnConnectionFlash,{event:event,source:source})}}),$scope.$on("tailConnector:activate:source",function(event,register){$element.addClass(CSS_ACTIVE_CLASS),register(source),invoke($attrs.invOnConnectionActivate,{event:event,source:source})})};return{link:controllerFunction,restrict:"A"}}var CSS_ACTIVE_CLASS="connection-active";app.directive("invTailSource",Directive)}(angular,InVision);;
//!file:tail-target.js
!function(ng,app){function Directive($,_,$parse,$interpolate){var controllerFunction=function($scope,$element,$attrs){function invoke(action,args){$scope.$eval(action,args)}var target={context:$scope.$parent,element:$element,focusable:!$element.is("[inv-tail-no-focus]"),handler:{},is:{}};target.data=$parse($attrs.invTailTargetData)($scope);var types=$interpolate($attrs.invTailTarget||"")(target.context).split(",");target.types=_(types).map($.trim).filter().value(),_.each(target.types,function(type){target.is[type]=!0}),_.assign(target.handler,{handleSetConnection:function(event){event.side!==target.connectedOnSide&&(target.connectedOnSide=event.side,$element.removeClass("tail-connected tail-connected-left tail-connected-right tail-connected-top tail-connected-bottom"),event.connected?($element.addClass("tail-connected tail-connected-"+event.side),invoke($attrs.invOnConnectionSet,event,target)):invoke($attrs.invOnConnectionUnset,event,target))},handleDeactivate:function(event){$element.removeClass(CSS_ACTIVE_CLASS).removeClass(CSS_HOVER_CLASS),invoke($attrs.invOnConnectionDeactivate,{event:event,target:target})},handleCancel:function(event){invoke($attrs.invOnConnectionCancel,{event:event,target:target})},handleConnect:function(event,source){invoke($attrs.invOnConnection,{event:event,source:source,target:target})},handleMouseEnter:function(event,source){invoke($attrs.invOnConnectionEnter,{event:event,target:target,source:source}),event.cancel!==!0&&$element.addClass(CSS_HOVER_CLASS)},handleMouseLeave:function(event,source){invoke($attrs.invOnConnectionLeave,{event:event,target:target,source:source}),event.cancel!==!0&&$element.removeClass(CSS_HOVER_CLASS)}}),$scope.$on("tailConnector:activate:target",function(event,register){invoke($attrs.invOnConnectionActivate,{event:event,target:target}),event.cancel!==!0&&($element.addClass(CSS_ACTIVE_CLASS),register(target))})};return{controller:controllerFunction,restrict:"A"}}var CSS_ACTIVE_CLASS="connection-active",CSS_HOVER_CLASS="connection-hover";app.directive("invTailTarget",Directive)}(angular,InVision);;
//!file:tooltip.js
!function(ng,app){"use strict";function Directive($){function escapeHtml(str){var safeContent=String(str).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return safeContent=safeContent.replace(/&lt;(br)\s*\/?&gt;/gi,"<$1 />").replace(/&lt;(\/)?(strong|em)&gt;/gi,"<$1$2>")}function handleMouseEnter(event){$.data(this,"isShowing",!0)}function handleMouseLeave(event){$.data(this,"isShowing",!1)}function link($scope,element,attributes){function tryToKillTooltip(){tooltipInstance&&(tooltipInstance.show=ng.noop,tooltipInstance.$tip&&tooltipInstance.$tip.remove()),element.tooltip("destroy")}function getOptions(){return{placement:function(){return element.attr("placement")||"top"},delay:100,title:function(){return escapeHtml(attributes.invTooltip)},template:'<div class="tooltip '+("content"===attributes.tooltipWidth?"content-width":styleClass)+'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}var tooltipInstance=null,styleClass=attributes.tooltipstyleclass||"";element.on("mouseenter",handleMouseEnter).on("mouseleave",handleMouseLeave),attributes.$observe("invTooltip",function(newValue){element.data("isShowing")&&(newValue.length>0?tooltipInstance.show():tooltipInstance.hide())}),attributes.$observe("dynamicclass",function(newValue,oldValue){element.data("isShowing")&&(oldValue&&tooltipInstance.$tip.removeClass(oldValue),tooltipInstance.$tip.addClass(newValue),tooltipInstance.show())}),attributes.$observe("tooltipDisabled",function(newValue){newValue=newValue||"false";var isEnabled="false"===newValue;if(isEnabled){var tooltipOptions=getOptions();element.tooltip(tooltipOptions),tooltipInstance=element.data("tooltip")}else tryToKillTooltip()}),$scope.$on("$destroy",function(){tryToKillTooltip(),$scope=element=attributes=tooltipInstance=styleClass=null,tryToKillTooltip=getOptions=null})}return{link:link,restrict:"A"}}app.directive("invTooltip",Directive)}(angular,InVision);;
//!file:analytics-service.js
!function(ng,app){"use strict";function Service($window,$interval,$q,$timeout,moment,config,errorLogService,_){function activatePageExperiment(pageName,analyticsProp){var q=$q.defer();try{window.optimizely=window.optimizely||[],window.optimizely.push({type:"page",pageName:pageName});var interval=20,maxTime=500,limit=Math.round(maxTime/interval),attempts=0,checkForOptimizelyFlagLoop=$interval(function(){window.InvAnalytics&&void 0!==window.InvAnalytics[analyticsProp]?($interval.cancel(checkForOptimizelyFlagLoop),q.resolve()):(attempts++,attempts>=limit&&(window.optimizely.push({type:"page",pageName:pageName,isActive:!1}),$interval.cancel(checkForOptimizelyFlagLoop),q.reject()))},interval)}catch(error){q.reject(error)}return q.promise}function identifyUser(user,currentSubscription){if($window.analytics&&config&&user&&currentSubscription){var nameSplit=splitName(user.name),traits={bucket:user.bucketID,createdAt:moment(user.userCreatedAt).unix(),name:user.name,firstname:nameSplit.firstname,lastname:nameSplit.lastname,email:user.email,referring_source:user.source,plan_name:currentSubscription.name,lifecyclestage:translateSubscriptionToLifecycleStage(currentSubscription),subscriptionexpiresat:currentSubscription.expiresAt,lastKnownIPAddress:user.lastKnownIpAddress,"feature_inspect-v-1":config.featureFlags["inspect-v-1"],"feature_inspect-v-3":config.featureFlags["inspect-v3"],"feature_inspect-v-3-enterprise":config.featureFlags["inspect-v3-enterprise"],"feature_inspect-asset-manager":config.featureFlags["inspect-assetManager"],isSingleTenant:config.singleTenantConfig.useSingleTenantAnalytics,customer_status:config.isCustomer?"Existing Customer":"Potential Customer",screenUploadedCount:user.screenUploadedCount,invisionVersion:"6.0"},momentDate=moment(currentSubscription.projectGracePeriodEndsAt);momentDate.isValid()&&(traits.gracePeriodEndsAt=momentDate.toJSON()),user.companyInfo&&""!==user.companyInfo.subdomain&&(traits.usagedataid=user.companyInfo.subdomain),user.companyInfo&&"undefined"!=typeof user.companyInfo.sfdcAccountID&&""!==user.companyInfo.sfdcAccountID&&"#N/A"!==user.companyInfo.sfdcAccountID&&(traits.sfdcaccountid=user.companyInfo.sfdcAccountID),"undefined"!=typeof user.companyMembership&&"undefined"!=typeof user.companyMembership.roleName&&""!==user.companyMembership.roleName&&(traits.enterprise_role=user.companyMembership.roleName),"undefined"!=typeof user.companyMembership&&"undefined"!=typeof user.companyMembership.companyID&&user.companyInfo.companyID>0&&(traits.sso="undefined"!=typeof user.companyInfo&&"undefined"!=typeof user.companyInfo.providers&&Array.isArray(user.companyInfo.providers)&&user.companyInfo.providers.length>0?!0:!1),traits.derived_plan=getDerivedPlan(user,currentSubscription);var context={integrations:{Intercom:{user_hash:config.intercomUserHash}}},userID=formatUserId(user.id),callback=function(){"undefined"!=typeof $window.mixpanel&&null!=$window.mixpanel&&$window.mixpanel.name_tag(null)};$window.analytics.ready(function(){if("undefined"!=typeof $window.mixpanel&&null!=$window.mixpanel&&($window.mixpanel.reset(),$window.mixpanel.identify(userID)),"undefined"!=typeof ga&&"function"==typeof ga&&-1!==["LIVE","PREVIEW"].indexOf(config.serverType)){ga("create","UA-24306919-3","projects.invisionapp.com",{name:"appTracker"});var gaDimensions={};gaDimensions.dimension1=config.isCustomer?"Existing Customer":"Potential Customer",ga("appTracker.send","pageview",gaDimensions)}}),$window.analytics.identify(userID,traits,context,callback);var growthTraits={"Full Name":user.name,Email:user.email,"Plan Name":traits.derived_plan,"Signup Date":moment(user.userCreatedAt).format("YYYY-MM-DD HH:mm:ss"),"Most Recent IP Address":user.lastKnownIpAddress,"Screens Upload Count":user.screenUploadedCount,"Last Activity":moment(user.lastRequestAt).format("YYYY-MM-DD HH:mm:ss"),"Plan Affiliation":getDerivedPlan(user,currentSubscription),"Prototype Count":user.prototypeCountForQuota,"Over Prototype Limit":user.prototypeCountForQuota>currentSubscription.maxProjectCount?"True":"False"};if(user.paymentInfo){var normalizedPaymentInfo=normalizePaymentTrackingInfo(user.paymentInfo);growthTraits["Credit Card Expiration"]=normalizedPaymentInfo.cardExpiryDate||null,growthTraits["Credit Card Expiration Remaining Days"]=normalizedPaymentInfo.cardExpiryRemainingDays||null}identifyGrowth(user.id,growthTraits);var MILLIS_PER_DAY=864e5;$window.InvAnalytics=$window.InvAnalytics||{},$window.InvAnalytics.accountAgeDays=(Date.now()-config.accountCreatedAt)/MILLIS_PER_DAY}}function translateSubscriptionToLifecycleStage(subscription){var planNamesToConsiderLeads=["Free"],lifecycleStage="lead",hasQualifyingCustomerPlan=planNamesToConsiderLeads.indexOf(subscription.name)<0,hasPaidPlan=subscription.price>0,shouldBeConsideredCustomer=hasQualifyingCustomerPlan&&hasPaidPlan;return shouldBeConsideredCustomer&&(lifecycleStage="customer"),lifecycleStage}function isSelfServeLocation(){return"projects"===window.location.hostname.split(".")[0]?"True":"False"}function splitName(name){var split=name.split(/\s/),parts={firstname:"",lastname:""};return 1===split.length?parts.firstname=split[0]:split.length>1&&(parts.firstname=split[0],parts.lastname=split[split.length-1]),parts}function segmentIo(){try{$timeout(segmentIoSync,10,!1)}catch(error){errorLogService.exceptionHandler(error)}}function segmentIoSync(){window.analytics&&"function"==typeof window.analytics.load&&config.allowExternalScripts!==!1&&(window.analytics.load(config.segmentIoKey),window.analytics.page())}function outbrain(){$timeout(outbrainSync,10,!1)}function outbrainSync(){window.OB_ADV_ID=13797,config.allowExternalScripts!==!1&&loadScript("//widgets.outbrain.com/obtp.js")}function optimizelyCampaignDecided(event){try{var experimentId=event.data.decision.experimentId,variationId=event.data.decision.variationId;if(!experimentId||!variationId)return;var experiment=_.find(event.data.campaign.experiments,function(item){return item.id===experimentId}),variation=experiment&&experiment.variations?_.find(experiment.variations,function(item){return item.id===variationId}):null;trackGrowth("Experiment Viewed",{experimentId:experimentId,experimentName:experiment?experiment.name:"",variationId:variationId,variationName:variation?variation.name:""})}catch(e){console.error("Optimizely data was not in expected format")}}function setupTrackGrowthForOptimizelyCampaigns(){window.optimizelyFailed||(window.optimizely=window.optimizely||[],window.optimizelyCampaignsQueue=window.optimizelyCampaignsQueue||[],window.optimizely.push({type:"removeListener",token:"queueOptimizelyCampaignDecisions"}),window.optimizely.push({type:"addListener",filter:{type:"lifecycle",name:"campaignDecided"},handler:optimizelyCampaignDecided}),window.optimizelyCampaignsQueue.forEach(optimizelyCampaignDecided))}function loadScript(url,cb){var el=document.createElement("script");el.async=!0,el.src=url,cb&&angular.isFunction(cb)&&(el.onload=el.onreadystatechange=cb);var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(el,s)}function getDerivedPlan(user,subscription){if(!user||!subscription)return!1;var derivedPlan=subscription.name;return user.hasCompanyMembership?user.companyInfo&&1==user.companyInfo.companystatusid?derivedPlan="Enterprise":user.companyInfo&&7==user.companyInfo.companystatusid&&(derivedPlan="Enterprise Trial"):user.isTeamPlanMember&&(derivedPlan="Team"),derivedPlan}function setSubscriptionInfo(user,subscription){planName=getDerivedPlan(user,subscription),planName&&(document.cookie="INV_CUSTOMER_PLAN_NAME="+encodeURI(planName)+";domain=.invisionapp.com;path=/")}function initGrowthAnalytics(user,subscription){setSubscriptionInfo(user,subscription),window.amplitudeQueue=window.amplitudeQueue||[],window.InvGrowth=window.InvGrowth||{trackGrowth:trackGrowth,trackGrowthPage:trackGrowthPage},$timeout(function(){amplitudeInit();var isSignedIn=config.user?config.user.isAnonymous===!1:!0;window.loadBraze&&isSignedIn&&window.loadBraze(brazeInit)},10,!1)}function initIntercomMessenger(){window.Intercom&&window.Intercom("boot",{app_id:config.intercomAppID,user_id:formatUserId(config.userID),email:config.email,user_hash:config.intercomUserHash})}function amplitudeInit(){var initParams={saveEvents:!0,includeUtm:!0,includeReferrer:!0,batchEvents:!0,includeGclid:!0,eventUploadThreshold:10,eventUploadPeriodMillis:1e3};if(config.amplitudeKey)try{window.amplitude.getInstance().init(config.amplitudeKey,null,initParams,function(defaultInstance){getSafeAmplitudeInstance().init(config.amplitudeKey,null,initParams,function(instance){if(amplitudeFinishedInit=!0,window.amplitudeQueue&&window.amplitudeQueue.length)try{window.amplitudeQueue.forEach(function(args){getSafeAmplitudeInstance().logEvent(args[0],applyRequiredGrowthProps(args[1]))})}catch(error){errorLogService.exceptionHandler(error)}if(amplitudeIdentifyGrowthQueue.length)try{amplitudeIdentifyGrowthQueue.forEach(function(args){amplitudeIdentify.apply(instance,args)})}catch(error){errorLogService.exceptionHandler(error)}window.amplitudeQueue={push:function(args){trackGrowth.apply(this,args)}}})})}catch(error){errorLogService.exceptionHandler(error)}}function amplitudeIdentify(id,traits){var userID=formatUserId(id);if(amplitudeFinishedInit){try{getSafeAmplitudeInstance().setUserId(userID),getSafeAmplitudeInstance().setUserProperties(traits)}catch(error){errorLogService.exceptionHandler(error)}if(config.isSignUpEvent){var signupRecent=!0;if(traits["Signup Date"]){var signupDate=new Date(traits["Signup Date"]),signupDatePadded=new Date(signupDate.getTime()+1728e5);signupRecent=signupDatePadded>new Date}signupRecent&&trackGrowth("App - Signup - Successful Signup",{"Signup Type":"Email Address",Plan:"false"!=config.newSignupForPlan?config.newSignupForPlan:"Free",Flow:config.signUpEventForm}),config.isSignUpEvent=!1}config.loginEventSource&&(trackGrowth("App - Login",{"Login Type":config.loginEventType,"Login Location":config.loginEventSource}),config.loginEventSource=!1)}else config.amplitudeKey&&amplitudeIdentifyGrowthQueue.push([id,traits])}function brazeInit(){var brazeEnabled=config.featureFlags&&config.featureFlags["aqua-braze-growth-analytics"];if(config.brazeApiIdentifierV6&&brazeEnabled&&window.appboy)try{var appboy=window.appboy;appboy.initialize(config.brazeApiIdentifierV6,{doNotLoadFontAwesome:!0}),appboy.openSession(),$timeout(function(){if(brazeFinishedInit=!0,brazeTrackQueue.length)try{brazeTrackQueue.forEach(function(args){appboy.logCustomEvent(args[0],applyRequiredGrowthProps(args[1]))})}catch(error){errorLogService.exceptionHandler(error)}if(brazeIdentifyGrowthQueue.length)try{brazeIdentifyGrowthQueue.forEach(function(args){brazeIdentify.apply(null,args)})}catch(error){errorLogService.exceptionHandler(error)}},20)}catch(error){errorLogService.exceptionHandler(error)}}function brazeIdentify(id,traits){var subdomain=window.location.hostname.split(".")[0],userID=formatUserId(id,!0);if(brazeFinishedInit)try{appboy.changeUser(userID);var brazeUser=appboy.getUser();if(traits.Email&&brazeUser.setEmail(traits.Email),traits["Full Name"]){var nameParts=traits["Full Name"].split(" ");brazeUser.setFirstName(nameParts.shift()),brazeUser.setLastName(nameParts.join(" "))}if(brazeUser.setCustomUserAttribute("User ID",id),brazeUser.setCustomUserAttribute("Subdomain",subdomain),_.mapKeys(traits,function(val,key){brazeUser.setCustomUserAttribute(key,val)}),window.brazeReadyHandlers&&window.brazeReadyHandlers.length>0)for(var cb;cb=window.brazeReadyHandlers.shift();)if("function"==typeof cb)try{cb()}catch(e){console.error(e)}}catch(error){errorLogService.exceptionHandler(error)}else config.brazeApiIdentifierV6&&brazeIdentifyGrowthQueue.push([id,traits])}function identifyGrowth(id,traits){amplitudeIdentify(id,traits),brazeIdentify(id,traits)}function appendGrowthUserAttribute(key,val){try{if(amplitudeFinishedInit){var traits={};traits[key]=val,getSafeAmplitudeInstance().setUserProperties(traits)}brazeFinishedInit&&appboy.getUser().setCustomUserAttribute(key,val)}catch(error){errorLogService.exceptionHandler(error)}}function normalizePaymentTrackingInfo(paymentInfo){var normalized={};if(paymentInfo&&paymentInfo.cardExpirationYear>0&&paymentInfo.cardExpirationMonth>0)try{var expirationDate=moment.utc(paymentInfo.cardExpirationYear+" "+paymentInfo.cardExpirationMonth+" 01","YYYY MM DD").endOf("month"),expirationDateInstance=new Date(expirationDate.format());isNaN(expirationDateInstance.getTime())||(normalized={cardExpiryDate:expirationDateInstance,cardExpiryRemainingDays:expirationDate.diff(moment.utc(),"days")})}catch(e){console.error(e)}return normalized}function applyRequiredGrowthProps(props){return _.extend({"Plan Name":planName||void 0,"Self Serve":isSelfServeLocation()},props)}function getSafeAmplitudeInstance(){var amplitudeStandaloneInstance;try{var defaultInstance=window.amplitude&&window.amplitude.getInstance(),amplitudeStandaloneInstance=window.amplitude&&window.amplitude.getInstance("standalone");defaultInstance&&(amplitudeStandaloneInstance.setDeviceId(defaultInstance.options.deviceId),amplitudeStandaloneInstance.setSessionId(defaultInstance._sessionId))}catch(error){errorLogService.exceptionHandler(error)}var amplitudeEnabled=config.featureFlags&&config.featureFlags["aqua-amplitude-growth-analytics"],consoleNoop=function(){amplitudeEnabled&&errorLogService.exceptionHandler("Tried to use amplitude but standalone instance did not exist")};return amplitudeEnabled&&amplitudeStandaloneInstance?amplitudeStandaloneInstance:{init:consoleNoop,logEvent:consoleNoop,logRevenue:consoleNoop,setUserId:consoleNoop,setUserProperties:consoleNoop,setOptOut:consoleNoop,setVersionName:consoleNoop,setDomain:consoleNoop,setDeviceId:consoleNoop,setGlobalUserProperties:consoleNoop,identify:consoleNoop,clearUserProperties:consoleNoop,setGroup:consoleNoop,logRevenueV2:consoleNoop,regenerateDeviceId:consoleNoop,logEventWithTimestamp:consoleNoop,logEventWithGroups:consoleNoop,setSessionId:consoleNoop}}function trackGrowth(event,props){var props=applyRequiredGrowthProps(props);try{amplitudeFinishedInit?getSafeAmplitudeInstance().logEvent(event,props):config.amplitudeKey&&(window.amplitudeQueue=window.amplitudeQueue||[],window.amplitudeQueue.push([event,props])),brazeFinishedInit?appboy.logCustomEvent(event,props):config.brazeApiIdentifierV6&&brazeTrackQueue.push([event,props])}catch(error){errorLogService.exceptionHandler(error)}}function trackGrowthPage(name,category){var properties={"Page Name":name||"","Category Name":category||"",Title:document.title,URL:document.URL,Path:window.location.pathname,Referrer:document.referrer,"Optimizely Loaded":!window.optimizelyFailed},event="App - Browsing - Visit Page";trackGrowth(event,properties)}function formatUserId(userId,preferVendorID){var subdomain=window.location.hostname.split(".")[0],userKey=config.singleTenantConfig&&config.singleTenantConfig.useSingleTenantAnalytics?subdomain+"-"+userId:userId;return"LOCAL"==config.serverType&&config.uniqueLocalUserPrefix&&config.uniqueLocalUserPrefix.length>0&&(userKey=config.uniqueLocalUserPrefix+"-"+userKey),preferVendorID?config.vendorID||(config.user||{}).vendorID||userKey:userKey}var amplitudeIdentifyGrowthQueue=[],amplitudeFinishedInit=!1,brazeIdentifyGrowthQueue=[],brazeTrackQueue=[],brazeFinishedInit=!1,planName=!1;return{activatePageExperiment:activatePageExperiment,identifyUser:identifyUser,identifyGrowth:identifyGrowth,normalizePaymentTrackingInfo:normalizePaymentTrackingInfo,appendGrowthUserAttribute:appendGrowthUserAttribute,initGrowthAnalytics:initGrowthAnalytics,initIntercomMessenger:initIntercomMessenger,track:$window.analytics&&$window.analytics.track||angular.noop,trackGrowth:trackGrowth,trackGrowthPage:trackGrowthPage,debug:$window.analytics&&$window.analytics.debug||angular.noop,segmentIo:segmentIo,googleAnalytics:angular.noop,outbrain:outbrain,setupTrackGrowthForOptimizelyCampaigns:setupTrackGrowthForOptimizelyCampaigns,setSubscriptionInfo:setSubscriptionInfo}}app.service("analyticsService",Service)}(angular,InVision);;
//!file:app-cache.service.js
!function(ng,app){"use strict";function Service($log,Notification){function init(){return _DEBUG_&&$log.info("appCacheService.init"),_appCache.addEventListener("cached",handleCachedEvent,!1),_appCache.addEventListener("error",handleErrorEvent,!1),_appCache.addEventListener("obsolete",handleObsoleteEvent,!1),_appCache.addEventListener("updateready",handleUpdateReadyEvent,!1),window.addEventListener("load",handleWindowLoadEvent,!1),service}function handleCachedEvent(e){_DEBUG_&&$log.info("appCacheService.handleCachedEvent",e),_DEBUG_&&Notification.success({title:"App Cache",message:"Successfully cached for offline viewing.",delay:15e3})}function handleErrorEvent(err){_DEBUG_&&$log.error("appCacheService.handleErrorEvent",err);var retryCount=+localStorage.getItem("appCacheRetryCounts");if(2>retryCount&&window.navigator.onLine)try{localStorage.setItem("appCacheRetryCounts",retryCount+1)}catch(err){$log.error(err)}else localStorage.setItem("appCacheRetryCounts",0)}function handleObsoleteEvent(e){_DEBUG_&&$log.info("appCacheService.handleObsoleteEvent",e),_DEBUG_&&Notification.info("Outdated App Cache, updating..."),updateOnce()}function handleUpdateReadyEvent(e){if(_DEBUG_&&$log.info("appCacheService.handleUpdateReadyEvent",e),_appCache.status===_appCache.UPDATEREADY)try{_appCache.swapCache(),_DEBUG_&&Notification.success("Successfully updated the App Cache.")}catch(err){handleErrorEvent(err)}}function handleWindowLoadEvent(){handleUpdateReadyEvent(),window.removeEventListener("load",handleWindowLoadEvent)}function update(){_DEBUG_&&$log.info("appCacheService.update");try{_appCache.update()}catch(err){handleErrorEvent(err)}return service}var _appCache=window.applicationCache,updateOnce=_.once(_appCache.update);if(!localStorage.appCacheRetryCounts)try{localStorage.setItem("appCacheRetryCounts",0)}catch(err){$log.error(err)}var service={update:update};return init(),service}var _DEBUG_=window._DEBUG_||!1;app.service("appCacheService",Service)}(angular,InVision);;
//!file:app-settings.js
!function(ng){"use strict";function appSettings($location,_,sessionService,config){function setUser(u){user=u,isInVisionAppUser=user&&!user.isAnonymous&&user.email.indexOf("@invisionapp.com")>-1,settings.features.notifications=isInVisionAppUser,settings.features.boardsSelectiveSync=isInVisionAppUser,!isInVisionAppUser&&config.featureFlags&&setSettings({debug:!1,notifications:[],features:config.featureFlags})}function setSettings(newSettings){_.each(launchDarklyFeatureFlags,function(k){newSettings.features[k]=settings.features[k]}),ng.extend(settings,newSettings)}function setFeatureFlag(flagName,flagValue){settings.features[flagName]=flagValue}function getSettings(){return!settings.debug&&isInVisionAppUser&&(settings.features.inbox=!0,settings.features.scheduledLiveShare=!0,settings.features.boardsSelectiveSync=!0),settings}var launchDarklyFeatureFlags=["enableMyNotifications","mentionShortcut","projectNotificationPreferences","shareCommentingLogin"],settings={debug:!1,notifications:[],features:{tfa:!1,sessionInactivity:!1}},user={},isInVisionAppUser=!1;return{setUser:setUser,setSettings:setSettings,getSettings:getSettings,setFeatureFlag:setFeatureFlag}}ng.module("InVision").factory("appSettings",appSettings)}(angular);;
//!file:client-events.js
!function(ng,app){"use strict";function ClientEventsFactory(_){function add(namespace,eventType,eventHandler,context){return testNamespace(namespace),testEventType(eventType),testEventHandler(eventHandler),bindings.push({namespace:namespace,eventType:eventType,eventHandler:eventHandler,context:context||null}),this}function forNamespace(namespace){return{add:_.partial(add,namespace),forNamespace:forNamespace,remove:_.partial(remove,namespace),trigger:trigger}}function remove(namespace,eventType,eventHandler){return bindings=_.reject(bindings,function(binding){return bindingMatches(binding,namespace,eventType,eventHandler)}),this}function trigger(eventType){var eventArguments=Array.prototype.slice.call(arguments),event=eventArguments[0]={type:eventType};return _.each(bindings,function(binding){binding.eventType===eventType&&binding.eventHandler.apply(binding.context,eventArguments)}),event}function bindingMatches(binding,namespace,eventType,eventHandler){return!(binding.namespace!==namespace||eventType&&binding.eventType!==eventType||eventHandler&&binding.eventHandler!==eventHandler)}function testEventHandler(newEventHandler){if(!_.isFunction(newEventHandler))throw new Error("EventHandler must be a function.")}function testEventType(newEventType){if(!_.isString(newEventType))throw new Error("EventType must be a string value.");if(!_.trim(newEventType))throw new Error("EventType must not be empty.")}function testNamespace(newNamespace){if(!_.isString(newNamespace))throw new Error("Namespace must be a string value.");if(!_.trim(newNamespace))throw new Error("Namespace must not be empty.")}var bindings=[];return{add:add,forNamespace:forNamespace,remove:remove,trigger:trigger}}app.factory("clientEvents",ClientEventsFactory)}(angular,InVision);;
//!file:comment-object-service.js
!function(ng,app){"use strict";function CommentObjectService(){var current={objectType:null,objectID:0,conversationID:0};return{get:function(){return current},reset:function(){current={objectType:null,objectID:0,conversationID:0}},set:function(objectType,opts){if(null!==objectType&&"project"!==objectType&&"board"!==objectType)throw"Bug alert. When setting the comment object type, you must pass either 'project' or 'board'. You passed "+objectType+".";this.reset(),current={objectType:objectType,objectID:opts.objectID,conversationID:opts.conversationID}}}}app.factory("commentObjectService",CommentObjectService)}(angular,InVision);;
//!file:conversation-crop-service.js
!function(ng,app){"use strict";function Service(_,$q){function createConversationImage(conversation,imageSrc,cropWidth,cropHeight,markerRadius){var deferred=$q.defer(),canvas=document.getElementById("renderCanvas");if("crossOrigin"in new Image||(isUnsupported=!0),isUnsupported)return setTimeout(function(){deferred.reject("error")},1),deferred.promise;try{var ctx=canvas.getContext("2d"),baseX=conversation.x,baseY=conversation.y,sourceX=baseX+markerWidth-cropWidth/2,sourceY=baseY+markerWidth-cropHeight/2,loadedImg=new Image;canvas.width=cropWidth,canvas.height=cropHeight,ctx.clearRect(0,0,canvas.width,canvas.height);var centerX=canvas.width/2,centerY=canvas.height/2;0>sourceX&&(centerX=Math.abs(sourceX),sourceX=0),0>sourceY&&(centerY=Math.abs(sourceY),sourceY=0),loadedImg.crossOrigin="Anonymous",loadedImg.onload=function(){sourceX>loadedImg.width&&(centerX=Math.abs(sourceX),sourceX=loadedImg.width),sourceY>loadedImg.height&&(centerY=Math.abs(sourceY),sourceY=loadedImg.height);var isEdgeCase=!1;if(sourceX+cropWidth>loadedImg.width&&(isEdgeCase=!0,sourceX=loadedImg.width-cropWidth,0>sourceX&&(sourceX=0,cropWidth=loadedImg.width)),sourceY+cropHeight>loadedImg.height&&(isEdgeCase=!0,sourceY=loadedImg.height-cropHeight,0>sourceY&&(sourceY=0,cropHeight=loadedImg.height)),ctx.drawImage(loadedImg,sourceX,sourceY,cropWidth,cropHeight,0,0,cropWidth,cropHeight),!isEdgeCase){var markerColor="#ff3366";conversation.isForDevelopment?markerColor="#630ee3":conversation.isTourPoint?markerColor="#0e89df":conversation.isPrivate&&(markerColor="#939ba8"),ctx.beginPath(),ctx.arc(centerX,centerY,markerRadius,0,2*Math.PI,!1),ctx.fillStyle=markerColor,ctx.fill(),ctx.lineWidth=1,ctx.strokeStyle="#f5fbfd",ctx.stroke()}try{var dataUrl=canvas.toDataURL("image/png")}catch(exception){return isUnsupported=!0,void deferred.reject(exception)}deferred.resolve(dataUrl)};var augmentedSrc=imageSrc.replace("project-images","projects");loadedImg.src=augmentedSrc}catch(exception){isUnsupported=!0,setTimeout(function(){deferred.reject(exception)},1)}return deferred.promise}var markerWidth=20,isUnsupported=!1;return{createConversationImage:createConversationImage}}app.service("conversationCropService",Service)}(angular,InVision);;
//!file:date-helper.js
!function(ng,app){"use strict";function Service(){return this.dayAsStringMap=[{"long":"Sunday","short":"Sun"},{"long":"Monday","short":"Mon"},{"long":"Tuesday","short":"Tue"},{"long":"Wednesday","short":"Wed"},{"long":"Thursday","short":"Thr"},{"long":"Friday","short":"Fri"},{"long":"Saturday","short":"Sat"}],this.monthAsStringMap=[{"long":"January","short":"Jan"},{"long":"February","short":"Feb"},{"long":"March","short":"Mar"},{"long":"April","short":"Apr"},{"long":"May","short":"May"},{"long":"June","short":"Jun"},{"long":"July","short":"Jul"},{"long":"August","short":"Aug"},{"long":"September","short":"Sep"},{"long":"October","short":"Oct"},{"long":"November","short":"Nov"},{"long":"December","short":"Dec"}],this}app.service("dateHelper",Service),Service.prototype={add:function(datetime,count,unit){var newDatetime=this.duplicate(datetime);switch(unit.toLowerCase()){case"y":newDatetime.setFullYear(newDatetime.getFullYear()+count);break;case"m":newDatetime.setMonth(newDatetime.getMonth()+count);break;case"d":newDatetime.setDate(newDatetime.getDate()+count);break;case"w":newDatetime.setDate(newDatetime.getDate()+7*count);break;case"h":newDatetime.setTime(newDatetime.getTime()+1e3*count*60*60);break;case"n":newDatetime.setTime(newDatetime.getTime()+1e3*count*60);break;case"s":newDatetime.setTime(newDatetime.getTime()+1e3*count);break;case"l":newDatetime.setTime(newDatetime.getTime()+count)}return newDatetime},addDays:function(datetime,dayCount){var newDatetime=this.duplicate(datetime);return newDatetime.setDate(newDatetime.getDate()+dayCount),newDatetime},addLeadingZero:function(value){return 1===value.toString().length?"0"+value:value},convertSecondsToMinutes:function(seconds,excludeZeroMinute){var minutes=Math.floor(seconds/60),remainingSeconds=seconds%60;return excludeZeroMinute===!0&&0===minutes?":"+this.addLeadingZero(remainingSeconds):minutes+":"+this.addLeadingZero(remainingSeconds)},duplicate:function(datetime){return new Date(datetime)},equals:function(date1,date2){return date1.getTime()===date2.getTime()},formatDate:function(datetime,dateMask){var self=this,date=this.removeTime(datetime),result=dateMask.replace(/M+|m+|d+|yyyy|yy/g,function($0){return self.getFormattedDatePart(date,$0)});return result},formatRecentDate:function(datetime,dateMask){var date=this.removeTime(datetime);return this.isToday(date)?"Today":this.isYesterday(date)?"Yesterday":this.formatDate(datetime,dateMask)},formatTime:function(datetime,timeMask){var self=this,date=this.duplicate(datetime),result=timeMask.replace(/H+|h+|m+|t+|T+/g,function($0){return self.getFormattedTimePart(date,$0)});return result},getDayOfWeekAsString:function(dayOfWeek,useShortVersion){return useShortVersion?this.dayAsStringMap[dayOfWeek]["short"]:this.dayAsStringMap[dayOfWeek]["long"]},getFormattedDatePart:function(datetime,pattern){switch(pattern){case"D":case"d":return datetime.getDate();case"DD":case"dd":return this.addLeadingZero(datetime.getDate());case"DDD":return this.getDayOfWeekAsString(datetime.getDay()).toUpperCase();case"ddd":return this.getDayOfWeekAsString(datetime.getDay());case"dddd":return this.getDayOfWeekAsString(datetime.getDay(),!0);case"M":case"m":return datetime.getMonth()+1;case"MM":case"mm":return this.addLeadingZero(datetime.getMonth()+1);case"MMM":case"mmm":return this.getMonthAsString(datetime.getMonth(),!0);case"MMMM":case"mmmm":return this.getMonthAsString(datetime.getMonth(),!1);case"YY":case"yy":return this.addLeadingZero(datetime.getFullYear()%100);case"YYYY":case"yyyy":return datetime.getFullYear()}return pattern},getFormattedTimePart:function(datetime,pattern){switch(pattern){case"H":return datetime.getHours();case"HH":var value=datetime.getHours();return 10>value?"0"+value:value;case"h":var value=datetime.getHours()%12;return 0===value?12:value;case"hh":var value=datetime.getHours()%12;return value=0===value?12:value,10>value?"0"+value:value;case"M":case"MM":case"m":case"mm":var value=datetime.getMinutes();return 10>value?"0"+value:value;case"T":return datetime.getHours()<12?"A":"P";case"TT":return datetime.getHours()<12?"AM":"PM";case"t":return datetime.getHours()<12?"a":"p";case"tt":return datetime.getHours()<12?"am":"pm"}return pattern},getMonthAsString:function(month,useShortVersion){return useShortVersion?this.monthAsStringMap[month]["short"]:this.monthAsStringMap[month]["long"]},isRecent:function(datetime,delta,unit){var cutoff=this.add(new Date,-delta,unit);return datetime>=cutoff},isToday:function(datetime){return this.equals(datetime,this.today())},isYesterday:function(datetime){return this.equals(datetime,this.yesterday())},notEquals:function(date1,date2){return!this.equals(date1,date2)},removeTime:function(datetime){var newDatetime=this.duplicate(datetime);return newDatetime.setHours(0),newDatetime.setMinutes(0),newDatetime.setSeconds(0),newDatetime.setMilliseconds(0),newDatetime},today:function(){return this.removeTime(new Date)},tomorrow:function(){return this.addDays(this.today(),1)},yesterday:function(){return this.addDays(this.today(),-1)},formatRelativeWithinMonth:function(time,lang){lang=lang||"smallDate",moment.lang("smallDate",{relativeTime:{future:"in %s",past:"%s ago",s:"1s",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%d months",y:"a year",yy:"%d years"}}),moment.lang("expandedDate",{relativeTime:{future:"in %s",past:"%s ago",s:"1 second",ss:"%d seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:"1 day",dd:"%d days",M:"1 month",MM:"%d months",y:"a year",yy:"%d years"}}),moment.lang("expandedDate",{relativeTime:{future:"in %s",past:"%s ago",s:"1 second",ss:"%d seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:"1 day",dd:"%d days",M:"1 month",MM:"%d months",y:"a year",yy:"%d years"}}),moment.lang("expandedDate",{relativeTime:{future:"in %s",past:"%s ago",s:"1 second",ss:"%d seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:"1 day",dd:"%d days",M:"1 month",MM:"%d months",y:"a year",yy:"%d years"}});var output,now=moment(),diff=moment(time).diff(now,"months");return 0===Math.abs(diff)?(moment.lang(lang),output=moment(time).fromNow(),moment.lang(!1)):output=moment(time).format("MMM D"),output}}}(angular,InVision);;
//!file:deferred.js
!function(ng,app){"use strict";app.factory("Deferred",function($q,_){function Deferred(){var deferred=$q.defer(),promise=deferred.promise,core={resolve:deferred.resolve,reject:deferred.reject,then:promise.then},isResolved=!1,isRejected=!1,updateCallbacks=[],mistakeCallbacks=[];return deferred.resolve=function(){if(isResolved&&!isRejected)for(var i=0,length=updateCallbacks.length;length>i;i++)updateCallbacks[i].apply({},arguments);else isResolved=!0,core.resolve.apply(deferred,arguments)},deferred.reject=function(){if(isResolved)for(var i=0,length=mistakeCallbacks.length;length>i;i++)mistakeCallbacks[i].apply({},arguments);else isRejected=!0,core.reject.apply(deferred,arguments)},promise.then=function(){var newPromise=core.then.apply(promise,arguments);return newPromise.update=promise.update,newPromise.mistake=promise.mistake,newPromise},promise.update=function(callback){return updateCallbacks.push(callback),promise},promise.mistake=function(callback){return mistakeCallbacks.push(callback),promise},deferred}return Deferred.handleAllPromises=function(promises,successCallback,errorCallback,runOnce){for(var handleSuccess=function(index,response){hasError||(results[index]=response,_.contains(results,null)||successCallback.apply(null,results))},handleError=function(index,response){hasError||(hasError=!0,errorCallback.call(null,response))},results=[],i=0,length=promises.length;length>i;i++)results.push(null);var hasError=!1;successCallback=successCallback||ng.noop,errorCallback=errorCallback||ng.noop,_.forEach(promises,function(promise,index){Deferred.handlePromise(promise,function(response){handleSuccess(index,response)},function(response){handleError(index,response)},runOnce)})},Deferred.handlePromise=function(promise,successCallback,errorCallback,runOnce){var handleSuccess=function(response){hasRun&&runOnce||(hasRun=!0,successCallback(response))},hasRun=!1;return successCallback=successCallback||ng.noop,errorCallback=errorCallback||ng.noop,promise.then(handleSuccess,errorCallback),promise.update(handleSuccess),promise.mistake(errorCallback),promise},Deferred})}(angular,InVision);;
//!file:error-log-service.js
!function(ng,app){"use strict";function ErrorLogService($log,$window,stackTraceService){function log(exception){$log.error.apply($log,arguments);try{var errorMessage="object"==typeof exception&&exception.message?exception.message:exception.toString();if(shouldSkipErrorReporting(errorMessage))return;if($window.NREUM&&$window.NREUM.noticeError)try{$window.NREUM.noticeError(exception)}catch(newRelicError){$log.error.call($log,newRelicError)}var stackTrace=exception instanceof Error?stackTraceService.print({e:exception}):exception;$.ajax({type:"POST",url:"/api/error-log/javascript",contentType:"application/json",headers:{"X-Page-Loaded-At":appLoadedAt},data:ng.toJson({errorUrl:$window.location.href,errorMessage:errorMessage,stackTrace:ng.toJson(stackTrace)})})}catch(loggingError){$log.warn("Error logging failed"),$log.log(loggingError)}}function normalizeErrorMessage(message){return String(message).toLowerCase().replace(/[^a-z0-9]+/gi,"_")}function shouldSkipErrorReporting(message){var errorKey="debounce_"+normalizeErrorMessage(message);return debounceLog.hasOwnProperty(errorKey)?!0:(debounceLog[errorKey]=!0,!1)}var debounceLog={},appLoadedAt=(new Date).getTime();return{exceptionHandler:log}}app.service("errorLogService",ErrorLogService)}(angular,InVision);;
//!file:hashkey-copier.js
!function(ng,app){"use strict";function HashKeyCopier(_){function applyHashKeyIndex(hashKeyIndex,target,uniqueIdentifiers){return _.isArray(target)?applyHashKeyIndexToArray(hashKeyIndex,"[]",target,uniqueIdentifiers):_.isObject(target)&&applyHashKeyIndexToObject(hashKeyIndex,".",target,uniqueIdentifiers),target}function applyHashKeyIndexToArray(hashKeyIndex,path,target,uniqueIdentifiers){for(var i=0,length=target.length;length>i;i++){var targetItem=target[i];_.isArray(targetItem)?applyHashKeyIndexToArray(hashKeyIndex,path+"[]",targetItem,uniqueIdentifiers):_.isObject(targetItem)&&applyHashKeyIndexToObject(hashKeyIndex,path+".",targetItem,uniqueIdentifiers)}}function applyHashKeyIndexToObject(hashKeyIndex,path,target,uniqueIdentifiers){var identifier=getUniqueIdentifierForObject(target,uniqueIdentifiers);if(identifier){var hashKeyPath=path+target[identifier];hashKeyIndex.hasOwnProperty(hashKeyPath)&&(target[hashKeyLookup]=hashKeyIndex[hashKeyPath],path+=target[identifier]+".")}for(var key in target)if(target.hasOwnProperty(key)){var targetItem=target[key];_.isArray(targetItem)?applyHashKeyIndexToArray(hashKeyIndex,path+key+"[]",targetItem,uniqueIdentifiers):_.isObject(targetItem)&&applyHashKeyIndexToObject(hashKeyIndex,path+key+".",targetItem,uniqueIdentifiers)}}function buildHashKeyIndex(target,uniqueIdentifiers){var hashKeyIndex={};return _.isArray(target)?buildHashKeyIndexForArray(hashKeyIndex,"[]",target,uniqueIdentifiers):_.isObject(target)&&buildHashKeyIndexForObject(hashKeyIndex,".",target,uniqueIdentifiers),hashKeyIndex}function buildHashKeyIndexForArray(hashKeyIndex,path,target,uniqueIdentifiers){for(var i=0,length=target.length;length>i;i++){var targetItem=target[i];_.isArray(targetItem)?buildHashKeyIndexForArray(hashKeyIndex,path+"[]",targetItem,uniqueIdentifiers):_.isObject(targetItem)&&buildHashKeyIndexForObject(hashKeyIndex,path+".",targetItem,uniqueIdentifiers)}}function buildHashKeyIndexForObject(hashKeyIndex,path,target,uniqueIdentifiers){if(target.hasOwnProperty(hashKeyLookup)){var identifier=getUniqueIdentifierForObject(target,uniqueIdentifiers);identifier&&(hashKeyIndex[path+target[identifier]]=target[hashKeyLookup],path+=target[identifier]+".")}for(var key in target)if(target.hasOwnProperty(key)){var targetItem=target[key];_.isArray(targetItem)?buildHashKeyIndexForArray(hashKeyIndex,path+key+"[]",targetItem,uniqueIdentifiers):_.isObject(targetItem)&&buildHashKeyIndexForObject(hashKeyIndex,path+key+".",targetItem,uniqueIdentifiers)}}function copyHashKeys(existing,incoming,uniqueIdentifiers){if(isExistingDataEmpty(existing))return incoming;uniqueIdentifiers||(uniqueIdentifiers=["id"]);var hashKeyIndex=buildHashKeyIndex(existing,uniqueIdentifiers);return applyHashKeyIndex(hashKeyIndex,incoming,uniqueIdentifiers),incoming}function getUniqueIdentifierForObject(target,uniqueIdentifiers){for(var i=0,length=uniqueIdentifiers.length;length>i;i++){var identifier=uniqueIdentifiers[i];if(target.hasOwnProperty(identifier))return identifier}return null}function isEmptyArray(target){return target.hasOwnProperty("length")&&0===target.length}function isExistingDataEmpty(existing){return!existing||isEmptyArray(existing)?!0:!1}var hashKeyLookup="$$hashKey";return{copyHashKeys:copyHashKeys}}app.service("hashKeyCopier",HashKeyCopier)}(angular,InVision);;
//!file:http-activity-service.js
!function(ng,app){"use strict";function Service(){return this.activeRequestCount=0,this.activeGetRequestCount=0,this.activePostRequestCount=0,this}app.service("httpActivityService",Service),Service.prototype={isActive:function(){return 0!==this.activeRequestCount},isActiveWithGet:function(){return 0!==this.activeGetRequestCount},isActiveWithPost:function(){return 0!==this.activePostRequestCount},requestCompleted:function(isPostRequest){return isPostRequest?this.activePostRequestCount--:this.activeGetRequestCount--,this.activeRequestCount--,0===this.activeRequestCount&&(this.activeGetRequestCount=0,this.activePostRequestCount=0),this.activeRequestCount},requestStarted:function(isPostRequest){return isPostRequest?this.activePostRequestCount++:this.activeGetRequestCount++,this.activeRequestCount++,this.activeRequestCount}}}(angular,InVision);;
//!file:image-canvas-service.js
!function(ng,app){"use strict";function Service(serviceHelper){function getImageColorAtCoodinates(imageUrl,coordinates,callback){if(imageUrl in cachedColors)return callback(cachedColors[imageUrl]);var colors=[],image=new Image;image.crossOrigin="Anonymous",image.onload=function(){var canvas=document.createElement("canvas");canvas.width=image.width,canvas.height=image.height;var ctx=canvas.getContext("2d");ctx.drawImage(image,0,0);for(var imageData=ctx.getImageData(0,0,canvas.width,canvas.height),i=0;i<coordinates.length;i++){var xCoord=coordinates[i].x,yCoord=coordinates[i].y,index=4*(yCoord*imageData.width+xCoord),r=imageData.data[index],g=imageData.data[index+1],b=imageData.data[index+2],a=imageData.data[index+3];colors.push("rgba("+r+","+g+","+b+","+a+")")}callback(cachedColors[imageUrl]=colors),imageUrl=coordinates=callback=colors=image=null,$(canvas).remove()},image.src=imageUrl}var cachedColors={};return{getImageColorAtCoodinates:getImageColorAtCoodinates}}app.service("imageCanvasService",Service)}(angular,InVision);;
//!file:image-route-service.js
!function(ng,app){"use strict";function Service(){function getProjectMobileDeviceID(projMobileDeviceID){return"number"!=typeof projMobileDeviceID&&(projMobileDeviceID=0),projMobileDeviceID}function getThumbnailURL(screenID,screenVersion,projectMobileDeviceID){return"/thumbnails/"+screenID+"/"+screenVersion+"/"+getProjectMobileDeviceID(projectMobileDeviceID)}function getScreenURL(screenID,screenVersion,projectMobileDeviceID){return"/screens/"+screenID+"/"+screenVersion+"/"+getProjectMobileDeviceID(projectMobileDeviceID)}function getHomeScreenURL(homeScreenID,homeScreenVersion,projectMobileDeviceID){return homeScreenID?"/thumbnails/"+homeScreenID+"/"+homeScreenVersion+"/"+getProjectMobileDeviceID(projectMobileDeviceID):"/share/common/img/blank.png"}return{getScreenURL:getScreenURL,getThumbnailURL:getThumbnailURL,getHomeScreenURL:getHomeScreenURL}}app.service("imageRouteService",Service)}(angular,InVision);;
//!file:jquery.js
!function(ng,app){"use strict";function Factory(){return $}app.factory("$",Factory)}(angular,InVision);;
//!file:lodash.js
!function(ng,app,_,undefined){"use strict";function Factory(){return _.anyWithProperty=function(collection,name,value){var result=_.any(collection,function(item){return item[name]===value});return result},_.capitalizeFirstLetter=function(value){return value?value.slice(0,1).toUpperCase()+value.slice(1):""},_.containsWithProperty=function(collection,name,value){return!!this.findWithProperty(collection,name,value)},_.countWithProperty=function(collection,name,value){for(var count=0,i=0;i<collection.length;i++)collection[i][name]===value&&count++;return count},_.extendExistingProperties=function(destination,source){if(!destination||!source)return destination;var angularKeyPattern=new RegExp("^\\$+","i");for(var key in source)source.hasOwnProperty(key)&&destination.hasOwnProperty(key)&&!angularKeyPattern.test(key)&&!_.isFunction(source[key])&&(destination[key]=source[key]);return destination},_.filterWithProperty=function(collection,name,value){var filteredCollection=_.filter(collection,function(item){return item[name]===value});return filteredCollection},_.findWithProperty=function(collection,name,value){var result=_.find(collection,function(item){return item[name]===value});return result},_.findWithPropertyAndReplace=function(collection,name,value,replacement,operator){if(!collection||replacement===undefined)return collection;operator=operator||ng.noop;for(var i=0,length=collection.length;length>i;i++){var item=collection[i];if(item[name]===value)return collection[i]=operator(replacement,item)||replacement,collection}return collection.push(replacement),collection},_.indexOfWithProperty=function(collection,name,value){for(var i=0;i<collection.length;i++)if(collection[i][name]===value)return i;return-1},_.isValidEmail=function(value){var pattern=/^[^@]+@[^.]+(\.[^.]+)+$/i;return pattern.test(value)},_.notContainsProperty=function(collection,name,value){var filteredCollection=this.filter(collection,function(item){return!_.contains(item[name].toLowerCase(),value.toLowerCase())});return filteredCollection},_.maxProperty=function(collection,name){return collection.length?_.max(_.pluck(collection,name)):void 0},_.minProperty=function(collection,name){return _.min(_.pluck(collection,name))},_.normalizeMixedDataValue=function(value){var padding="000000000000000";return value=value.replace(/(\d+)((\.\d+)+)?/g,function($0,integer,decimal,repeatDecimal){return decimal!==repeatDecimal?padding.slice(integer.length)+integer+decimal:(decimal=decimal||".0",padding.slice(integer.length)+integer+decimal+padding.slice(decimal.length))})},_.rejectWithProperty=function(collection,name,value){var filteredCollection=_.reject(collection,function(item){return item[name]===value});return filteredCollection},_.setProperty=function(collection,name,value){return this.forEach(collection,function(item){item[name]=value}),collection},_.similar=function(collectionA,collectionB){var deltaA=_.difference(collectionA,collectionB).length,deltaB=_.difference(collectionB,collectionA).length;return deltaA+deltaB===0},_.sortOnProperty=function(collection,name,direction,caseInsensitive){direction=direction||"asc";var sortIndicator="asc"===direction?-1:1;return collection.sort(function(a,b){return caseInsensitive?a[name].toLowerCase()<b[name].toLowerCase()?sortIndicator:-sortIndicator:a[name]<b[name]?sortIndicator:-sortIndicator}),collection},_.sortOnPropertyUsingNaturalOrder=function(collection,name,direction){direction=direction||"asc";var sortIndicator="asc"===direction?-1:1;return collection.sort(function(a,b){var aMixed=_.normalizeMixedDataValue(a.name.toLowerCase()),bMixed=_.normalizeMixedDataValue(b.name.toLowerCase());return bMixed>aMixed?sortIndicator:-sortIndicator}),collection},_.sortOnPropertyUsingLowerCase=function(collection,name,direction){direction=direction||"asc";var sortIndicator="asc"===direction?-1:1;return collection.sort(function(a,b){var nameA=(a[name]||"").toLowerCase(),nameB=(b[name]||"").toLowerCase();return nameB>nameA?sortIndicator:nameA>nameB?-sortIndicator:0}),collection},_.sumProperty=function(collection,name){for(var sum=0,i=0;i<collection.length;i++)sum+=collection[i][name];return sum},_.trim=function(value){return value.replace(/^\s+|\s+$/g,"")},_.withoutProperty=function(collection,name,value){var filteredCollection=this.filter(collection,function(item){return item[name]!==value});return filteredCollection},_.withoutPropertyRange=function(collection,name,valueRange){var filteredCollection=this.filter(collection,function(item){return-1===_.indexOf(valueRange,item[name])});return filteredCollection},_.withProperty=function(collection,name,value){var filteredCollection=this.filter(collection,function(item){return item[name]===value});return filteredCollection},_.withPropertyRange=function(collection,name,valueRange){var filteredCollection=this.filter(collection,function(item){return-1!==_.indexOf(valueRange,item[name])});return filteredCollection},_}app.factory("_",Factory)}(angular,InVision,_);;
//!file:mention-shortcut-service.js
!function(ng,app){"use strict";function MentionShortcutService(_){function getUserInfo(user,users){if("conversation"===user.name){var conversationMembers=[];return lodash.map(users.candidates.conversationMembers,function(member){conversationMembers.push(member.name)}),conversationMembers.length?createUserTeaser(conversationMembers):"It's lonely in here!"}if("project"===user.name){var projectMembers=[],members=lodash.filter(users.candidates.candidates,function(candidate){return"member"===candidate.role});return lodash.map(members,function(member){projectMembers.push(member.name)}),projectMembers.length?createUserTeaser(projectMembers):"It's lonely in here!"}return user.email}function getShortcuts(ids){if(ids){var lastID=Math.max.apply(Math,ids);mentionShortcuts.map(function(shortcut,i){shortcut.id=lastID+i+1})}return mentionShortcuts}function createUserTeaser(users){if(users.length<3)return users.join(2===users.length?", ":"");var names=users.slice(0,2).join(", ");return names+" & "+(users.length-2)+" more"}var lodash=_;"undefined"!=typeof module&&module.exports&&(lodash=require("lodash"));var mentionShortcuts=[{name:"project",role:"shortcut"},{name:"conversation",role:"shortcut"}];return{getUserInfo:getUserInfo,getShortcuts:getShortcuts}}"undefined"!=typeof module&&module.exports?module.exports=MentionShortcutService(null):app&&app.service("mentionShortcutService",MentionShortcutService)}(angular,InVision);;
//!file:modal-window-request.js
!function(ng,app){"use strict";function ModalWindowRequest(){function getData(index,defaultValue){return 0===arguments.length?modalData:index>modalData.length&&2==arguments.length?defaultValue:modalData[index]}function getType(){return modalType}function isSuppressFade(){return suppressFade===!0}function setRequest(newModalType,newModalData,newSuppressFade){modalType=newModalType,modalData=newModalData,suppressFade=newSuppressFade||!1}function setSuppressFade(newSuppressFade){suppressFade=newSuppressFade||!1}function isSuppressClose(){return suppressClose===!0}function setSuppressClose(newSuppressClose){suppressClose=newSuppressClose||!1}var modalType="",modalData=[],suppressFade=!1,suppressClose=!1;return{getData:getData,getType:getType,isSuppressFade:isSuppressFade,setRequest:setRequest,setSuppressFade:setSuppressFade,isSuppressClose:isSuppressClose,setSuppressClose:setSuppressClose}}app.service("modalWindowRequest",ModalWindowRequest)}(angular,InVision);;
//!file:model-events.js
!function(ng,app){"use strict";function ModelEventsFactory(PubSub){return new PubSub}app.factory("modelEvents",ModelEventsFactory)}(angular,InVision);;
//!file:moment.js
!function(ng,app,moment){"use strict";function Factory(){return moment}app.factory("moment",Factory)}(angular,InVision,moment);;
//!file:notifications-service.js
!function(ng,app){"use strict";function Service($resource,serviceHelper,modelEvents){function getSettings(){var promise=serviceHelper.executeRequest({resource:resource,name:"getSettings"});return promise}function removeCommentEmailFromQueue(commentID){var promise=serviceHelper.executeRequest({resource:resource,name:"removeCommentEmailFromQueue",parameters:{command:"removeCommentEmailFromQueue",commentID:commentID},successCallback:function(response){}});return promise}function updateEmailNotificationFrequency(frequency){var promise=serviceHelper.executeRequest({resource:resource,name:"updateEmailNotificationFrequency",parameters:{command:"updateEmailNotificationFrequency",frequency:frequency},successCallback:function(response){}});return promise}function updateSendDigestAt(wantsDigestAtFrequencyInHours,digestSendTime){var promise=serviceHelper.executeRequest({resource:resource,name:"updateSendDigestAt",parameters:{command:"digestSendTime",wantsDigestAtFrequencyInHours:wantsDigestAtFrequencyInHours,sendNextDigestAt:digestSendTime},successCallback:function(response){}});return promise}function updateSettings(settings){var promise=serviceHelper.executeRequest({resource:resource,name:"updateSettings",parameters:settings,successCallback:function(response){modelEvents.trigger("notificationSettingsUpdated",settings)}});return promise}var resource=$resource("/api/notifications/:command",{command:"@command"},{getSettings:{method:"GET"},removeCommentEmailFromQueue:{method:"DELETE",command:"removeCommentEmailFromQueue"},updateEmailNotificationFrequency:{method:"POST",command:"emailNotificationFrequency"},updateSendDigestAt:{method:"POST",command:"digestSendTime"},updateSettings:{method:"POST"}});return{getSettings:getSettings,removeCommentEmailFromQueue:removeCommentEmailFromQueue,updateEmailNotificationFrequency:updateEmailNotificationFrequency,updateSendDigestAt:updateSendDigestAt,updateSettings:updateSettings}}app.service("notificationsService",Service)}(angular,InVision);;
//!file:pagination.js
angular.module("InVision").factory("paginationHelper",function(_){function _compress(instance){var index=instance.index,pages=instance.pages;if(pages.length<MINIMUM_PAGES_TO_COMPRESS)return pages;var ranges={start:{at:0,boundary:ITEMS_BEFORE_COMPRESSING,total:ITEMS_PER_EDGE},mid:{at:index-Math.floor((ITEMS_PER_MID-1)/2),total:ITEMS_PER_MID},end:{at:pages.length-ITEMS_PER_EDGE,boundary:pages.length-ITEMS_BEFORE_COMPRESSING,total:ITEMS_PER_EDGE}};ranges.mid.at<ranges.start.boundary&&(delete ranges.start,ranges.mid={at:0,total:ITEMS_PER_UNCOMPRESSED_EDGE}),ranges.mid.at+ranges.mid.total>ranges.end.boundary&&(ranges.mid={at:pages.length-ITEMS_PER_UNCOMPRESSED_EDGE,total:ITEMS_PER_UNCOMPRESSED_EDGE},delete ranges.end);var compressed=[];ranges.start&&(compressed=compressed.concat(pages.slice(ranges.start.at,ranges.start.at+ranges.start.total)),compressed.push({separator:!0})),ranges.mid&&(compressed=compressed.concat(pages.slice(ranges.mid.at,ranges.mid.at+ranges.mid.total))),ranges.end&&(compressed.push({separator:!0}),compressed=compressed.concat(pages.slice(ranges.end.at,ranges.end.at+ranges.end.total))),instance.pages=compressed}function Pagination(config){_.assign(this,config),this.pages=[],this.index=config.index||0,config.pages&&_.times(config.pages+1,function(i){this.pages.push({index:i,number:i+1,current:i===this.index})},this),this.totalPages=this.pages.length,config.compress&&_compress(this),this.atStart=0===this.index,this.atEnd=this.index===this.totalPages-1}var MINIMUM_PAGES_TO_COMPRESS=11,ITEMS_PER_EDGE=2,ITEMS_PER_MID=3,ITEMS_BEFORE_COMPRESSING=4,ITEMS_PER_UNCOMPRESSED_EDGE=6;return _.assign(Pagination,{}),_.assign(Pagination.prototype,{next:function(){this.go(this.index+1)},previous:function(){this.go(this.index-1)},go:function(index){var current=this.index;this.index=Math.max(0,Math.min(index,this.totalPages)),this.index!==current&&_.isFunction(this.onPageChanged)&&this.onPageChanged(this.index)}}),Pagination});;
//!file:preloader.js
angular.module("InVision").factory("preloader",function($q,$rootScope){function Preloader(imageLocations){this.imageLocations=imageLocations,this.imageCount=this.imageLocations.length,this.loadCount=0,this.states={PENDING:1,LOADING:2,RESOLVED:3,REJECTED:4},this.state=this.states.PENDING,this.deferred=$q.defer(),this.promise=this.deferred.promise}return Preloader.preloadImages=function(imageLocations){var preloader=new Preloader(imageLocations);return preloader.load()},Preloader.prototype={constructor:Preloader,isInitiated:function(){return this.state!==this.states.PENDING},isRejected:function(){return this.state===this.states.REJECTED},isResolved:function(){return this.state===this.states.RESOLVED},load:function(){if(this.isInitiated())return this.promise;this.state=this.states.LOADING;for(var i=0;i<this.imageCount;i++)this.loadImageLocation(this.imageLocations[i]);return this.promise},handleImageLoad:function(imageLocation){this.loadCount++,this.isRejected()||(this.deferred.notify({percent:Math.ceil(this.loadCount/this.imageCount*100),imageLocation:imageLocation}),this.loadCount===this.imageCount&&(this.state=this.states.RESOLVED,this.deferred.resolve(this.imageLocations)))},loadImageLocation:function(imageLocation){var preloader=this,image=new Image;image.onload=function(event){$rootScope.$apply(function(){preloader.handleImageLoad(event.target.src),preloader=null,image=null,event=null})},image.onerror=function(event){preloader.deferred.reject()},image.src=imageLocation}},Preloader});;
//!file:pusher.js
!function(ng,app){"use strict";app.value("Pusher",Pusher)}(angular,InVision);;
//!file:render-context.js
!function(ng,app){"use strict";function RenderContext(requestContext,actionPrefix,paramNames){return this._requestContext=requestContext,this._actionPrefix=actionPrefix,this._paramNames=paramNames,this}app.value("RenderContext",RenderContext),RenderContext.prototype={getNextSection:function(){return this._requestContext.getNextSection(this._actionPrefix)},isChangeLocal:function(){return this._requestContext.startsWith(this._actionPrefix)},isChangeRelevant:function(){return this._requestContext.startsWith(this._actionPrefix)?this._requestContext.hasActionChanged()?!0:this._paramNames.length&&this._requestContext.haveParamsChanged(this._paramNames):!1}}}(angular,InVision);;
//!file:request-context.js
!function(ng,app){"use strict";function RequestContext(RenderContext){return this.RenderContext=RenderContext,this._action="",this._sections=[],this._params={},this._previousAction="",this._previousParams={},this}app.service("requestContext",RequestContext),RequestContext.prototype={getAction:function(){return this._action},getNextSection:function(prefix){if(!this.startsWith(prefix))return null;if(""===prefix)return this._sections[0];var depth=prefix.split(".").length;return depth===this._sections.length?null:this._sections[depth]},getParam:function(name){return this._params[name]||null},getParams:function(){return this._params||null},getParamAsInt:function(name,defaultValue){var valueAsInt=parseInt(this.getParam(name));return isNaN(valueAsInt)?defaultValue||0:valueAsInt},getRenderContext:function(requestActionLocation,paramNames){return requestActionLocation=requestActionLocation||"",paramNames=paramNames||[],ng.isArray(paramNames)||(paramNames=[paramNames]),new this.RenderContext(this,requestActionLocation,paramNames)},hasActionChanged:function(){return this._action!==this._previousAction},hasParamChanged:function(paramName,paramValue){return ng.isUndefined(paramValue)?!(paramName in this._previousParams)&&paramName in this._params?!0:paramName in this._previousParams&&!(paramName in this._params)?!0:this._previousParams[paramName]!==this._params[paramName]:!this.isParam(paramName,paramValue)},haveParamsChanged:function(paramNames){for(var i=0,length=paramNames.length;length>i;i++)if(this.hasParamChanged(paramNames[i]))return!0;return!1},isParam:function(paramName,paramValue){return paramName in this._params&&this._params[paramName]==paramValue?!0:!1},setContext:function(action,routeParams){this._previousAction=this._action,this._previousParams=this._params,this._action=action,this._sections=action.split("."),this._params=ng.copy(routeParams)},startsWith:function(prefix){return prefix.length&&this._action!==prefix&&0!==this._action.indexOf(prefix+".")?!1:!0}}}(angular,InVision);;
//!file:screen-alignment-helper.js
angular.module("InVision").factory("ScreenAlignmentHelper",function(_,$,$window,screenService){function ScreenAlignment(){}return _.assign(ScreenAlignment.prototype,{calculate:function(screen,container){container||(container=$window),container instanceof $||(container=$(container));var alignment={containerWidth:Math.min(container.width(),$window.innerWidth),screenWidth:screen.width*screen.displayScale,usingScroll:parseInt(screen.zoomScrollBehavior,10)===screenService.zoomScrollBehaviors.NORMAL,center:"center"===screen.alignment,left:"left"===screen.alignment,right:"right"===screen.alignment};return alignment.offset=alignment.usingScroll?alignment.right?alignment.screenWidth-alignment.containerWidth:alignment.left?0:Math.max(0,(alignment.screenWidth-alignment.containerWidth)/2):alignment.right?Math.min(alignment.containerWidth-alignment.screenWidth,0):alignment.left?0:Math.min((alignment.containerWidth-alignment.screenWidth)/2,0),alignment}}),ScreenAlignment});;
//!file:service-helper.js
!function(ng,app){"use strict";function ServiceHelper(Deferred){function executeRequest(options){var resource=options.resource,name=options.name,parameters=options.parameters||{},successCallback=options.successCallback||ng.noop,errorCallback=options.errorCallback||ng.noop,deferred=new Deferred;if("file:"===window.location.protocol)return deferred.resolve(),deferred.promise;resource[name](parameters,function(response){successCallback(response),deferred.resolve(response)},function(response){errorCallback(response),deferred.reject(unwrapErrorMessage(response))});return deferred.promise}function unwrapErrorMessage(errorResponse){try{var response=ng.fromJson(errorResponse.data);ng.isString(response)&&(response={message:response,code:-1})}catch(error){var response={message:errorResponse.data,code:-1}}return response}return{executeRequest:executeRequest}}app.service("serviceHelper",ServiceHelper)}(angular,InVision);;
//!file:session-inactivity-service.js
!function(ng,app){"use strict";function SessionInactivityService($document,_,modelEvents){function killSession(){teardown(),timeoutCb()}function setSessionActive(){throttledKeepAlive()}function init(sessionId,keepAliveCallback,timeoutCallback){keepAliveCb=keepAliveCallback,timeoutCb=timeoutCallback,throttledKeepAlive=_.throttle(keepAliveCb,3e4),sessionIdentifier=sessionId,teardown(),$document.on("mousemove.sessionInactivity keypress.sessionInactivity",function(e){setSessionActive()}),$(window).on("focus.sessionInactivity",function(e){setSessionActive()}).on("blur.sessionInactivity",throttledKeepAlive.cancel),modelEvents.on("sessionInactive.sessionInactivity",function(event,identifier){identifier===sessionIdentifier&&killSession()})}function teardown(){$document.off(".sessionInactivity"),$(window).off(".sessionInactivity"),modelEvents.off("sessionInactive.sessionInactivity")}var sessionIdentifier,throttledKeepAlive,keepAliveCb=ng.noop,timeoutCb=ng.noop;return{init:init,disable:teardown}}app.service("sessionInactivityService",SessionInactivityService)}(angular,InVision);;
//!file:sort-screens.js
!function(app){function sortScreensFactory(_){return function(screens,dividers,sortTypeID){var sortKey=2===sortTypeID?"name":"sort",sortedDividers=_.sortBy(dividers,"sort"),groupedScreens=_.chain(screens).groupBy("screenGroupId").mapValues(function(screens){return _.sortBy(screens,sortKey)}).value();return sortedDividers.reduce(function(sortedScreens,divider){return groupedScreens[divider.dividerID]&&(sortedScreens=sortedScreens.concat(groupedScreens[divider.dividerID])),sortedScreens},[])}}app.factory("sortScreens",sortScreensFactory)}(InVision);;
//!file:stack-trace-service.js
!function(ng,app,printStackTrace){"use strict";function Factory(){return{print:printStackTrace}}app.factory("stackTraceService",Factory)}(angular,InVision,printStackTrace);;
//!file:tail-connector-display.js
!function(ng,app){"use strict";function invoke(action,point){if(point&&point[action]){var args=[].slice.call(arguments,2);point[action].apply(point,args)}}app.factory("tailConnectorDisplay",function($,_){function showMousePointer(instance){instance.view.removeClass(HIDDEN_MOUSE_CURSOR_CSS),instance.pointer.hide()}function hideMousePointer(instance){instance.view.addClass(HIDDEN_MOUSE_CURSOR_CSS),instance.pointer.show()}function getOpposite(side){return{left:"right",right:"left",top:"bottom",bottom:"top"}[side]}function getBounds(instance,point){var bounds={};return point instanceof $?bounds=point[0].getBoundingClientRect():(bounds.x=bounds.left=bounds.right=0|point.x,bounds.y=bounds.top=bounds.bottom=0|point.y,bounds.width=0,bounds.height=0),bounds.centerX=bounds.left+(.5*bounds.width||0),bounds.centerY=bounds.top+(.5*bounds.height||0),bounds}function hitTest(x,y,b){return x>=b.left&&x<=b.right&&y>=b.top&&y<=b.bottom}function isPoint(a,b){return a&&b?(a instanceof $&&(a=a[0]),b instanceof $&&(b=b[0]),a===b):!1}function setPoint(instance,which,point){clearPoint(instance,which),instance[which]=point}function clearPoint(instance,which){instance[which]&&(invoke("setConnection",instance[which],{connected:!1}),delete instance[which])}function updateDrawingArea(instance){_.assign(instance.canvas,{width:instance.container.width(),height:instance.container.height()})}function getStartingSide(instance,start,end){var side,distance={left:end.right-start.left,right:start.right-end.left,top:end.bottom-start.top,bottom:start.bottom-end.top};return _.each(distance,function(value,dir){(!side||value>distance[side])&&(side=dir)}),side}function getDrawingPath(instance,start,end,side,isCursor){var points;return"top"===side?points={start:{x:start.centerX,y:start.bottom},end:{x:end.centerX,y:end.top}}:"bottom"===side?points={start:{x:start.centerX,y:start.top},end:{x:end.centerX,y:end.bottom}}:"left"===side?points={start:{x:start.right,y:start.centerY},end:{x:end.left,y:end.centerY}}:"right"===side&&(points={start:{x:start.left,y:start.centerY},end:{x:end.right,y:end.centerY}}),isCursor&&("top"===side?points.end.y-=END_POINT_BORDER_ADJUSTMENT:"bottom"===side?points.end.y+=END_POINT_BORDER_ADJUSTMENT:"left"===side?points.end.x-=END_POINT_BORDER_ADJUSTMENT:"right"===side&&(points.end.x+=END_POINT_BORDER_ADJUSTMENT)),points}function generateCurve(instance,path,side){var curve=DEFAULTS.curve,points={};_.assign(points,{p1:{x:path.start.x,y:path.start.y},p2:{x:path.end.x,y:path.end.y}});var adjust;return"right"===side?(adjust=(points.p1.x-points.p2.x)*curve,points.p1.x-=adjust,points.p2.x+=adjust):"left"===side?(adjust=(points.p2.x-points.p1.x)*curve,points.p1.x+=adjust,points.p2.x-=adjust):"bottom"===side?(adjust=(points.p2.y-points.p1.y)*curve,points.p1.y+=adjust,points.p2.y-=adjust):"top"===side&&(adjust=(points.p1.y-points.p2.y)*curve,points.p1.y-=adjust,points.p2.y+=adjust),points}function getConnectorColor(instance,point){if(point instanceof $){var color,source=point.is("[connector-line-color]")?point:point.find("[connector-line-color]");if(source.length>0){var prop=source.attr("connector-line-color")||DEFAULTS.colorSource;color=source.css(prop)}return color}}function applyTheme(instance,path,start,end,useFocus){var fill=instance.context.createLinearGradient(path.start.x,path.start.y,path.end.x,path.end.y),color1=getConnectorColor(instance,start),color2=getConnectorColor(instance,end);fill.addColorStop(0,color1||instance.color.start),fill.addColorStop(1,color2||instance.color[useFocus?"focus":"end"]),instance.context.lineWidth=DEFAULTS.lineWidth,instance.context.strokeStyle=fill}function updateElementConnection(point,side){invoke("setConnection",point,{connected:!!side,side:side})}function updateView(instance){if(!instance.start||!instance.focus&&!instance.end)return instance.hide();instance.show();var startPoint=instance.start,useCursor=!instance.focus,useFocus=!useCursor,endPoint=useFocus?instance.focus:instance.end,start=getBounds(instance,startPoint),end=getBounds(instance,endPoint),overlapsStart=useCursor&&hitTest(end.x,end.y,start);if(useCursor&&overlapsStart)return showMousePointer(instance),instance.pointer.hide();var side=getStartingSide(instance,start,end),opposite=getOpposite(side),path=getDrawingPath(instance,start,end,side,useCursor),curve=generateCurve(instance,path,side);if(updateDrawingArea(instance,path),DEFAULTS.debug&&(instance.context.fillStyle="rgba(255,255,255,0.1)",instance.context.fillRect(0,0,instance.canvas.width,instance.canvas.height)),useFocus)showMousePointer(instance),instance.pointer.hide();else{hideMousePointer(instance);var nudge=instance.pointer.width()/2;instance.pointer.css({left:end.left-nudge,top:end.top-nudge}).show(),"top"===opposite?end.top-=nudge:"bottom"===opposite?end.top+=nudge:"left"===opposite?end.left+=nudge:"right"===opposite&&(end.left+=nudge)}updateElementConnection(startPoint,opposite),updateElementConnection(endPoint,side),applyTheme(instance,path,startPoint,endPoint,useFocus),instance.context.beginPath(),instance.context.moveTo(path.start.x,path.start.y),instance.context.bezierCurveTo(curve.p1.x,curve.p1.y,curve.p2.x,curve.p2.y,path.end.x,path.end.y),instance.context.stroke()}function Connector(options){this.options=_.extend({},DEFAULTS,options),this.color=_.assign({},this.options.color);var view=this.options.view,container=document.createElement("div"),pointer=document.createElement("div"),canvas=document.createElement("canvas"),context=canvas.getContext("2d");_.assign(this,{view:$(view),container:$(container),pointer:$(pointer),canvas:canvas,context:context}),this.container.css({position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999}).hide().append(canvas).appendTo(this.view),this.pointer.addClass("tail-connector-pointer").prependTo(this.container)}var DEFAULTS={view:document.body,curve:.6,padding:10,lineWidth:1.5,colorSource:"borderColor",shadowColor:"rgba( 0,0,0, 0.15 )",color:{start:"#4682a9",end:"#4682a9",focus:"#4682a9"}},END_POINT_BORDER_ADJUSTMENT=3,HIDDEN_MOUSE_CURSOR_CSS="hide-mouse-pointer";return _.assign(Connector.prototype,{clear:function(){this.clearStart(),this.clearEnd(),this.clearFocus(),this.hide()},clearStart:function(){return clearPoint(this,"start")},clearEnd:function(){return clearPoint(this,"end")},clearFocus:function(){return clearPoint(this,"focus")},startAt:function(at){return setPoint(this,"start",at)},endAt:function(at){return setPoint(this,"end",at)},focusAt:function(at){return setPoint(this,"focus",at)},isStart:function(compare){return isPoint(this.start,compare)},isEnd:function(compare){return isPoint(this.end,compare)},isFocus:function(compare){return isPoint(this.focus,compare)},show:function(){this.container.addClass("active").show()},hide:function(){showMousePointer(this),_.assign(this.canvas,{width:0,height:0}),this.container.removeClass("active").hide()},update:function(){updateView(this)}}),Connector})}(angular,InVision);;
//!file:tail-connector.js
!function(ng,app){"use strict";var START_POINT_CONNECTING_CLASS="connecting",DEFAULT_CONFIG={};app.service("tailConnector",function($,_,$rootScope,tailConnectorDisplay,utilityService){function invoke(action,point){if(point&&point.handler&&point.handler[action]){var args=[].slice.call(arguments,2);point.handler[action].apply(point.handler,args)}}function hitTest(at,x,y){return at.left<=x&&x<=at.right&&at.top<=y&&y<=at.bottom}function inView(element,bounds){var container=element.parentNode;bounds=bounds||element.getBoundingClientRect();do{var area=container.getBoundingClientRect(),boundless=area.top===area.bottom||area.left===area.right;if(!boundless&&(bounds.right<area.left||bounds.left>area.right||bounds.top>area.bottom||bounds.bottom<area.top))return!1;container=container.parentNode}while(container&&container!==document.body);return!0}function autoRefresh(instance){function refresh(){instance.active&&(instance.display.update(),nextFrame(refresh))}refresh()}function trackMovements(instance,event){_.assign(instance.mouse,{x:event.clientX,y:event.clientY}),instance.active&&(event={},_.each(instance.targets,function(target){if(!event.cancel&&target.element.is(":visible")){var element=target.element[0],bounds=element.getBoundingClientRect(),over=hitTest(bounds,instance.mouse.x,instance.mouse.y);(!over||inView(element,bounds))&&(over&&!target.isMouseOver?(target.focusable&&instance.display.focusAt(target.element),invoke("handleMouseEnter",target,event,instance.source)):!over&&target.isMouseOver&&(instance.display.isFocus(target.element)&&instance.display.clearFocus(),invoke("handleMouseLeave",target,event,instance.source)),target.isMouseOver=over)}}),instance.display.update())}function trackPresses(instance){}function trackReleases(instance){if(instance.active){var event={},hits=_.filter(instance.targets,function(target){return event.cancel||!target.isMouseOver?null:(invoke("handleConnect",target,event,instance.source),target)});0===hits.length?invoke("handleCancel",instance.source,event):invoke("handleConnect",instance.source,event,hits)}}function registerPoint(instance,config,accepts,kind,item){if(item.types||item.type){var ignore;if(_.each(config.except,function(type){ignore||("type"in item?ignore=item.type===type:"types"in item&&(ignore=_.contains(item.types,type)))}),!ignore){var accept;_.each(accepts,function(type){accept||("type"in item?accept=item.type===type:"types"in item&&(accept=_.contains(item.types,type)))}),accept&&(item.element instanceof $||(item.element=$(item.element)),item.element.setConnection=item.handler.handleSetConnection,"source"===kind?instance.source=item:instance.targets.push(item))}}}function Service(){this.targets=[],this.mouse={x:0,y:0},this.display=new tailConnectorDisplay(document.body),this._pending=[],$(window).mousemove(_.bind(trackMovements,null,this)).mousedown(_.bind(trackPresses,null,this)).mouseup(_.bind(trackReleases,null,this))}var nextFrame=utilityService.getRequestAnimationFrame();return _.assign(Service,{}),_.assign(Service.prototype,{activate:function(source,targets,config){return config=_.defaults(DEFAULT_CONFIG,config),_.isString(targets)&&(targets=_.filter(_.map($.trim(targets).split(","),$.trim))),delete this.source,this.targets=this._pending,this._pending=[],_.isArray(this.targets)||(this.targets=[]),$rootScope.$broadcast("tailConnector:activate:source",_.bind(registerPoint,null,this,config,[source],"source")),$rootScope.$broadcast("tailConnector:activate:target",_.bind(registerPoint,null,this,config,targets,"target")),this.active=this.source&&this.targets.length>0,this.active?(this.source.element.addClass(START_POINT_CONNECTING_CLASS),this.display.startAt(this.source.element),this.display.endAt(this.mouse),this.display.show(),void(config.autoRefresh!==!1&&autoRefresh(this))):!1},register:function(instance){var target=this.active?this.targets:this._pending;target.push(instance)},deactivate:function(){this.active=!1,this.source.element.removeClass(START_POINT_CONNECTING_CLASS);var event={};invoke("handleDeactivate",this.source,event),_.each([this.source].concat(this.targets),function(point){invoke("handleDeactivate",point,event)}),this.display.clear()},flash:function(){if(this.active){var event={};_.each([this.source].concat(this.targets),function(point){invoke("handleFlash",point,event)})}}}),new Service})}(angular,InVision);;
//!file:transitions.service.js
!function(ng,app){function Service($log,_){function init(){return _DEBUG_&&$log.info("transitionsService.init"),TweenLite.lagSmoothing(150,21),_timeline=new TimelineLite({onComplete:onComplete,paused:!0}),service}function configure(current,target,wrapper,fixed){return _DEBUG_&&$log.info("transitionsService.configure"),_curr=current,_targ=target,_wrap=wrapper,fixed&&(_fixed=!0,fixed.curr&&(_fixedCurr=fixed.curr),fixed.targ&&(_fixedTarg=fixed.targ)),_ready=!0,service}function dissolve(){return _DEBUG_&&$log.info("transitionsService.dissolve"),_ready?(TweenLite.set(_curr,{zIndex:3,opacity:1}),_timeline.add([TweenLite.to(_curr,_durations.dissolve,ng.extend({},_tweenDefaults,{opacity:0,delay:.1,ease:Power1.easeInOut}))]),service):handleError({code:"NotReady"})}function pushRight(){if(_DEBUG_&&$log.info("transitionsService.pushRight"),!_ready)return handleError({code:"NotReady"});var targCss={x:"0%"};return isAndroid||(targCss.boxShadow="0 0 40px 0 rgba(0, 0, 0, .2)"),TweenLite.set(_curr,{x:"0%",z:0}),TweenLite.set(_targ,{x:"-100%",z:0,zIndex:3}),_timeline.add([TweenLite.to(_curr,_durations.pushRight,ng.extend({},_tweenDefaults,{x:"25%"})),TweenLite.to(_targ,_durations.pushRight,ng.extend({},_tweenDefaults,targCss))]),_fixed&&_fadeFixed("pushRight"),service}function pushLeft(){if(_DEBUG_&&$log.info("transitionsService.pushLeft"),!_ready)return handleError({code:"NotReady"});var targCss={x:"0%"};return isAndroid||(targCss.boxShadow="0 0 40px 0 rgba(0, 0, 0, .2)"),TweenLite.set(_curr,{x:"0%",z:0}),TweenLite.set(_targ,{x:"100%",z:0,zIndex:3}),_timeline.add([TweenLite.to(_curr,_durations.pushLeft,ng.extend({},_tweenDefaults,{x:"-25%"})),TweenLite.to(_targ,_durations.pushLeft,ng.extend({},_tweenDefaults,targCss))]),_fixed&&_fadeFixed("pushLeft"),service}function flipRight(){return _DEBUG_&&$log.info("transitionsService.flipRight"),_ready?(TweenLite.set(_wrap,{transformStyle:"preserve-3d",perspective:1e3}),TweenLite.set(_curr,{rotationY:0,zIndex:3,transformOrigin:"50% 50%",backfaceVisibility:"hidden"}),TweenLite.set(_targ,{rotationY:-180,scale:.7,transformOrigin:"50% 50%",backfaceVisibility:"hidden"}),_timeline.add([TweenLite.to(_curr,_durations.flipRight,ng.extend({},_tweenDefaults,{rotationY:180,scale:.7})),TweenLite.to(_targ,_durations.flipRight,ng.extend({},_tweenDefaults,{rotationY:0,scale:1}))]),service):handleError({code:"NotReady"})}function flipLeft(){return _DEBUG_&&$log.info("transitionsService.flipLeft"),_ready?(TweenLite.set(_wrap,{transformStyle:"preserve-3d",perspective:1e3}),TweenLite.set(_curr,{rotationY:0,zIndex:3,transformOrigin:"50% 50%",backfaceVisibility:"hidden"}),TweenLite.set(_targ,{rotationY:180,scale:.7,transformOrigin:"50% 50%",backfaceVisibility:"hidden"}),_timeline.add([TweenLite.to(_curr,_durations.flipLeft,ng.extend({},_tweenDefaults,{rotationY:-180,scale:.7})),TweenLite.to(_targ,_durations.flipLeft,ng.extend({},_tweenDefaults,{rotationY:0,scale:1}))]),service):handleError({code:"NotReady"})}function slideRight(){return _DEBUG_&&$log.info("transitionsService.slideRight"),_ready?(TweenLite.set(_curr,{x:0,z:0}),TweenLite.set(_targ,{x:"-99.8%",z:0}),_timeline.add([TweenLite.to(_wrap,_durations.slideRight,ng.extend({},_tweenDefaults,{delay:.3,x:"100%"}))]),_fixed&&_fadeFixed("slideRight"),service):handleError({code:"NotReady"})}function slideLeft(){return _DEBUG_&&$log.info("transitionsService.slideLeft"),_ready?(TweenLite.set(_curr,{x:0,z:0}),TweenLite.set(_targ,{x:"99.8%",z:0}),_timeline.add([TweenLite.to(_wrap,_durations.slideLeft,ng.extend({},_tweenDefaults,{delay:.3,x:"-100%"}))]),_fixed&&_fadeFixed("slideLeft"),service):handleError({code:"NotReady"})}function slideDown(){return _DEBUG_&&$log.info("transitionsService.slideDown"),_ready?(TweenLite.set(_curr,{y:"0%",zIndex:3}),_timeline.add([TweenLite.to(_curr,_durations.slideDown,ng.extend({},_tweenDefaults,{y:"100%",ease:Power4.easeOut}))]),service):handleError({code:"NotReady"})}function slideUp(){return _DEBUG_&&$log.info("transitionsService.slideUp"),_ready?(TweenLite.set(_targ,{y:"100%",zIndex:3}),_timeline.add([TweenLite.to(_targ,_durations.slideUp,ng.extend({},_tweenDefaults,{y:"0%",ease:Power4.easeOut}))]),service):handleError({code:"NotReady"})}function slideFade(){return _DEBUG_&&$log.info("transitionsService.slideFade"),_ready?(TweenLite.set(_curr,{x:0,transformOrigin:"50% 50%"}),TweenLite.set(_targ,{opacity:0,scale:.8,transformOrigin:"50% 50%"}),_timeline.add([TweenLite.to(_curr,_durations.slideFade,ng.extend({},_tweenDefaults,{x:"-100%",opacity:.5})),TweenLite.to(_targ,_durations.slideFade,ng.extend({},_tweenDefaults,{opacity:1,scale:1}))]),service):handleError({code:"NotReady"})}function pop(){return _DEBUG_&&$log.info("transitionsService.pop"),_ready?(TweenLite.set(_curr,{opacity:1,transformOrigin:"50% 50%",zIndex:3}),TweenLite.set(_targ,{opacity:0,transformOrigin:"50% 50%",scale:.5}),_timeline.add([TweenLite.to(_curr,_durations.pop,ng.extend({},_tweenDefaults,{scale:.5,opacity:0})),TweenLite.to(_targ,_durations.pop,ng.extend({},_tweenDefaults,{opacity:1,scale:1}))]),service):handleError({code:"NotReady"})}function flow(){return _DEBUG_&&$log.info("transitionsService.flow"),_ready?(TweenLite.set(_curr,{opacity:1,x:"0%",transformOrigin:"50% 50%",scale:1}),TweenLite.set(_targ,{opacity:.5,x:"100%",transformOrigin:"50% 50%",scale:.5}),_timeline.add(TweenLite.to(_curr,_durations.flow/4,ng.extend({},_tweenDefaults,{opacity:.5,scale:.5}))),_timeline.add([TweenLite.to(_curr,_durations.flow/2,ng.extend({},_tweenDefaults,{x:"-100%",delay:0})),TweenLite.to(_targ,_durations.flow/2,ng.extend({},_tweenDefaults,{x:"0%",delay:0}))]),_timeline.add(TweenLite.to(_targ,_durations.flow/4,ng.extend({},_tweenDefaults,{opacity:1,scale:1,delay:0}))),service):handleError({code:"NotReady"})}function play(cb){return _DEBUG_&&$log.info("transitionsService.play"),cb?(_cb=cb,_timeline.play()):handleError({code:"NoCallback"})}function _fadeFixed(transitionType){return _DEBUG_&&$log.info("transitionsService._fadeFixed",transitionType),TweenLite.set(_fixedCurr,{opacity:1}),_fixedCurr&&_timeline.add(TweenLite.to(_fixedCurr,_durations[transitionType]-.3,{opacity:0}),_durations[transitionType]-.3),service}function onComplete(){return _DEBUG_&&$log.info("transitionsService.onComplete"),_timeline.clear(),TweenLite.set([_targ,_curr,_wrap],{clearProps:_clearProps}),_fixedTarg=null,_cb()}function handleError(err){_DEBUG_&&$log.error("transitionsService.handleError",err);var message;switch(err.code.toLowerCase()){case"nocallback":message="You did not provide an animation onComplete callback";break;case"notarget":message="You have to provide a target node before you can animate something.";break;case"notready":message="You are trying to use the transitions service before it was even ready. Please refactor your code.";break;default:message="Something bad happened."}throw new Error(message)}var _targ,_curr,_wrap,_fixed,_fixedCurr,_fixedTarg,_timeline,userAgent=navigator.userAgent.toLowerCase(),isAndroid=(/(ip(hone|od|ad))/g.test(userAgent),/android/g.test(userAgent)),_ready=!1,_clearProps=["transform","transformStyle","opacity","boxShadow","backfaceVisibility","zIndex","perspective","transformOrigin"].join(","),_cb=_.noop,_tweenDefaults={autoRound:!0,delay:.05,roundProps:"x,y",ease:Power3.easeOut},_durations={dissolve:.45,pop:.8,flow:1,pushLeft:.5,pushRight:.5,flipLeft:1,flipRight:1,slideDown:.8,slideUp:.8,slideLeft:.5,slideRight:.5,slideFade:1},service={dissolve:dissolve,"push-right":pushRight,"push-left":pushLeft,"flip-right":flipRight,"flip-left":flipLeft,flow:flow,pop:pop,"slide-up":slideUp,"slide-down":slideDown,"slide-right":slideRight,"slide-left":slideLeft,"slide-fade":slideFade,configure:configure,play:play};return init(),service}var _DEBUG_=_DEBUG_||!1;app.service("transitionsService",Service)}(angular,InVision);;
//!file:utility-service.js
!function(ng,app){"use strict";function UtilityService(){function guid(){function _p8(s){var p=(Math.random().toString(16)+"000000000").substr(2,8);return s?"-"+p.substr(0,4)+"-"+p.substr(4,4):p}return _p8()+_p8(!0)+_p8(!0)+_p8()}function stripHTML(str){var htmlRegex=/(<([^>]+)>)/gi;return str.replace(htmlRegex,"")}function isHTML(str){var regex=/(<([^>]+)>)/gi,result=regex.test(str);return result}function getRequestAnimationFrame(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}return{isHTML:isHTML,stripHTML:stripHTML,getRequestAnimationFrame:getRequestAnimationFrame,guid:guid}}app.service("utilityService",UtilityService)}(angular,InVision);;
//!file:validation-service.js
!function(ng,app){"use strict";function ValidationService(){return this.errorCodes=[{code:400,message:"Invalid request for this resource."},{code:400,message:"Invalid request body content."},{code:401,message:"The credentials you provided are not valid."},{code:403,message:"Forbidden."},{code:404,message:"The requested resource could not be found."},{code:405,message:"The requested resource does not support the given method."},{code:406,message:"The screen you were attempting to view was not found."},{code:407,message:"The project you were attempting to view was not found."},{code:1100,message:"Validation failure"},{code:1101,message:"Validation failure: missing field"},{code:1102,message:"Validation failure: invalid field"},{code:1103,message:"Validation failure: already exists"},{code:3003,message:"Sorry, you have attempted your request too many times."},{code:5001,message:"Sorry, you aren't a collaborator on the project you tried to access. Please inform the project owner."},{code:5002,message:"Sorry, you aren't a collaborator on the project you tried to access. Would you like to Join this project?"},{code:500,message:"Unexpected error"}],this}app.service("validationService",ValidationService),ValidationService.prototype={isAlreadyExists:function(error){return 1103===error.code},isBadRequest:function(error){return 400===error.code},isForbidden:function(error){return 403===error.code},isInvalid:function(error){return 1100===error.code},isInvalidField:function(error){return 1102===error.code},isMissingField:function(error){return 1101===error.code},isNotFound:function(error){return 404===error.code},isScreenNotFound:function(error){return 406===error.code},isProjectNotFound:function(error){return 407===error.code},isProjectEmpty:function(error){return 409===error.code},isOverQuota:function(error){return 3e3===error.code||3001===error.code},isMissingProjectPermission:function(error){return 5001===error.code},canJoinProject:function(error){return 5002===error.code},isTooManyAttempts:function(error){return 3003===error.code}}}(angular,InVision);;
//!file:comment/comment.controller.js
!function(ng){"use strict";function CommentController(){function initialize(){vm.uid=mentionUID++}var vm=this;initialize()}ng.module("InVision").controller("comment.CommentController",CommentController);var mentionUID=1}(angular);;
//!file:comment/comment.directive.js
!function(ng){"use strict";function CommentDirective($window){function linkFunction(scope,element,attrs){function handleClick(event){if(!element[0].contains(event.target)){if(firstClick)return void(firstClick=!1);var emojiPopover=ng.element(document.querySelector(".emoji-popover"));emojiPopover&&emojiPopover[0].contains(event.target)||scope.$apply(function(){scope.onExitComment()})}}function handleDestroy(){ng.element($window).off("click")}if(!ng.isUndefined(attrs.onExitComment)){var firstClick=!0;ng.element($window).on("click",handleClick),scope.$on("$destroy",handleDestroy)}}return{controller:"comment.CommentController",controllerAs:"vm",restrict:"A",templateUrl:"/share/common/ng-components/comment/comment.directive.htm",link:linkFunction,scope:{comment:"=comment",conversation:"=conversation",screenId:"=screenId",boardId:"=boardId",hasEmojis:"@hasEmojis",hasWhoIsNotified:"@hasWhoIsNotified",hasMentions:"=hasMentions",hasMentionShortcut:"@hasMentionShortcut",onAddComment:"&?onAddComment",onExitComment:"&?onExitComment",onFocusCallback:"&?onFocusCallback",mentionPositioningClass:"@?",classString:"@?",placeholder:"@?",tabIndex:"@?",name:"@?"}}}ng.module("InVision").directive("invComment",CommentDirective)}(angular);;
//!file:emoji/emoji-add-menu.directive.js
!function(ng){"use strict";function Directive($window,$document,emojiService,appSettings){function linkFunction(scope,element){function init(){scope.tabs=emojiService.getCategories(),scope.activeTab={idx:0,tab:scope.tabs[0]},scope.emojis=emojiService.getEmojis(),scope.hoverEmoji=null}function keyboardEvents(event){var keyCode=event.which||event.keyCode;keyCode===ESC&&(scope.isOpen||emojiService.setPopover(!1),scope.isOpen=!1,scope.$digest())}function handleToggle(event,isOpen,addEmojiElm){if(addEmojiElement=addEmojiElm,isOpen){emojiService.setPopover(!0),emojiService.setPopoverOnModal(!0),appendTo.append(element);var addEmojiIconCoords=emojiService.getElementBoundingCoords(addEmojiElement[0]),appendToCoords=emojiService.getElementBoundingCoords(appendTo[0]),top=addEmojiIconCoords.top-appendToCoords.top-(menuObj.height+.1*menuObj.height),left=addEmojiIconCoords.left-appendToCoords.left+menuObj.width/2;addEmojiIconCoords.top<menuObj.topLimit&&(top=addEmojiIconCoords.top-appendToCoords.top),element.css({top:top,left:left}),isModal&&element.css({zIndex:1051})}}function handleClickOutside(event){addEmojiElement&&(addEmojiElement[0].contains(event.target)||element[0].contains(event.target))||(scope.isOpen=!1,scope.$digest())}var menuObj={width:320,height:335,topLimit:400},ESC=27,textarea=null,addEmojiElement=null,emojiContainer=element.find(".emojis"),emojiIcon=".emoji-icon",emojiAttr="data-emoji",isModal=element.closest(".modal").length>0||element.closest(".m-inbox-conversation").length||element.closest(".m-inbox-board-item").length,emojiPlaceholder=element.closest(".emoji-root").find(".emoji-placeholder"),appendTo=emojiPlaceholder.length>0?emojiPlaceholder:$document.find("body");scope.$on("emoji:toggle",handleToggle),$document.on("keydown",keyboardEvents),angular.element($window).on("click",handleClickOutside),init(),scope.setTab=function(index){scope.activeTab.idx=index,scope.activeTab.tab=scope.tabs[index]},emojiContainer.on("click",emojiIcon,function(e){textarea=addEmojiElement.closest(".post-emojis").find("textarea").val(),scope.$emit("emoji:add",textarea,this.getAttribute(emojiAttr),scope.commentTarget),scope.isOpen=!1,scope.$apply()}),emojiContainer.on("mouseenter",emojiIcon,function(e){scope.hoverEmoji=this.getAttribute(emojiAttr),scope.$digest()}),emojiContainer.on("mouseleave",emojiIcon,function(e){scope.hoverEmoji=null,scope.$digest()}),scope.$on("$destroy",function(){emojiService.setPopover(!1),emojiService.setPopoverOnModal(!1),$(emojiContainer).off("click mouseenter mouseleave"),angular.element($window).off("click",handleClickOutside),$document.off("keydown",keyboardEvents),element.remove()})}return{link:linkFunction,restrict:"A",replace:!0,templateUrl:"/share/common/ng-components/emoji/emoji-add-menu.directive.htm"}}ng.module("InVision").directive("invEmojiAddMenu",Directive)}(angular);;
//!file:emoji/emoji-add.directive.js
!function(ng){"use strict";function Directive(emojiService){function linkFunction(scope,element){function init(){emojiService.setPopover(!1),emojiService.setPopoverOnModal(!1),scope.isOpen=!1}function togglePopover(){scope.isOpen=!scope.isOpen,scope.$emit("emoji:toggle",scope.isOpen,element)}init(),scope.togglePopover=togglePopover}return{link:linkFunction,restrict:"A",replace:!0,scope:{commentTarget:"=target",isOpen:"@"},templateUrl:"/share/common/ng-components/emoji/emoji-add.directive.htm"}}ng.module("InVision").directive("invEmojiAdd",Directive)}(angular);;
//!file:emoji/emoji-service.js
!function(ng,app,_){"use strict";function EmojiService(emojiValue){function getEmojis(){return emojiValue.emojis}function getCategories(){return Object.keys(getEmojis())}function getAllEmojis(){return flatEmojis}function isPopoverActive(){return popoverActive}function isTypeaheadActive(){return typeaheadActive}function isPopoverActiveOnModal(){return popoverActiveOnModal}function isTypeaheadActiveOnModal(){return typeaheadActiveOnModal}function setPopover(flag){return popoverActive=flag}function setTypeahead(flag){return typeaheadActive=flag}function setPopoverOnModal(flag){return popoverActiveOnModal=flag}function setTypeaheadOnModal(flag){return typeaheadActiveOnModal=flag}function parseEmoji(comment){var icon="";return"undefined"==typeof comment||comment.split(":").length<2?comment:comment.replace(rEmojis,function(match,text){return emojiValue.faceToEmojis[match]?icon=emojiValue.faceToEmojis[match].emoji:flatEmojis.indexOf(text)>=0&&(icon=text),icon?"<i class='emoji-icon-comment emojis-"+icon+"' title=':"+icon+":'></i>":match})}function findEmoji(q){for(var results=[],i=0,nodes=flatEmojis.length;nodes>i;i++){var emoji=flatEmojis[i];0===emoji.indexOf(q)&&results.push({label:emoji})}return results}function splitEmoji(val,index,showAll){var comment={showAll:!1};if("string"!=typeof val||val.indexOf(":")<0)return comment;var openingChar=":",closingChar=" ",prefix=val.substring(0,index),suffix=val.substring(index),openingCharPos=prefix.lastIndexOf(openingChar),closingCharPos=suffix.indexOf(closingChar);return showAll&&openingCharPos+openingChar.length===index?comment={emoji:"",showAll:!0}:(comment={before:prefix.substring(0,openingCharPos),emoji:"",after:suffix.substring(closingCharPos+closingChar.length),colon:openingChar},comment.emoji=val.substring(openingCharPos+openingChar.length,index),(comment.emoji.indexOf(":")>=0||comment.emoji.indexOf(" ")>=0)&&(comment.emoji=""),comment)}function getElementBoundingCoords(element){for(var coordinates={top:0,left:0},obj=element,body=document.body;obj;)coordinates.left+=obj.offsetLeft+obj.clientLeft,coordinates.top+=obj.offsetTop+obj.clientTop,obj=obj.offsetParent;for(obj=element;obj!==body;)obj&&obj.scrollTop&&obj.scrollTop>0&&(coordinates.top-=obj.scrollTop),obj&&obj.scrollLeft&&obj.scrollLeft>0&&(coordinates.left-=obj.scrollLeft),obj=obj.parentNode;return coordinates}var popoverActive=!1,typeaheadActive=!1,popoverActiveOnModal=!1,typeaheadActiveOnModal=!1,flatEmojis=_.flatten(_.map(emojiValue.emojis,_.values)),rEmojis=new RegExp(":(([a-z0-9_+-])+):|("+emojiValue.faces.join("|")+")","g");return{getEmojis:getEmojis,getAllEmojis:getAllEmojis,getCategories:getCategories,parseEmoji:parseEmoji,splitEmoji:splitEmoji,findEmoji:findEmoji,isPopoverActive:isPopoverActive,isTypeaheadActive:isTypeaheadActive,isPopoverActiveOnModal:isPopoverActiveOnModal,isTypeaheadActiveOnModal:isTypeaheadActiveOnModal,setPopover:setPopover,setTypeahead:setTypeahead,setPopoverOnModal:setPopoverOnModal,setTypeaheadOnModal:setTypeaheadOnModal,getElementBoundingCoords:getElementBoundingCoords}}"undefined"!=typeof module&&module.exports?module.exports=EmojiService:app&&app.service("emojiService",EmojiService)}(angular,InVision,_);;
//!file:emoji/emoji-text.directive.js
!function(ng,app){"use strict";function EmojiTextDirective(emojiService){function linkFunction($scope){function addEmoji(event,commentVal,emoji){var emojiItem=":"+emoji+": ";$scope.comment=commentVal+emojiItem}function typeaheadEmoji(event,emoji,caretPos){var comment="";comment=emojiService.splitEmoji($scope.comment,caretPos),$scope.comment=comment.before+comment.colon+emoji+": "+comment.after}$scope.$on("emoji:add",addEmoji),$scope.$on("emoji:typeahead",typeaheadEmoji)}return{link:linkFunction,restrict:"A"}}app.directive("invEmojiText",EmojiTextDirective)}(angular,InVision);;
//!file:emoji/emoji-typeahead.directive.js
!function(ng,app){"use strict";function EmojiTypeaheadDirective($timeout,$document,emojiService,appSettings){function linkFunction($scope,element){function init(){if($scope.current=0,$scope.items=[],$scope.isActive=!1,$scope.isBrowsing=!1,$scope.comment="",emojiService.setTypeahead(!1),emojiService.setTypeaheadOnModal(!1),!textarea)throw new Error("Textarea not available. Please provide one")}function flush(){$scope.current=0,$scope.items.length=0,$scope.isActive=!1,$scope.isBrowsing=!1,$scope.firstTab=!0}function getCaretPos(el){if(el&&el.selectionStart)return el.selectionStart;if(document.selection){el.focus();var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;return sel.moveStart("character",-el.value.length),sel.text.length-selLen}}function setCaretPos(el,cPos){if(el.createTextRange){var range=el.createTextRange();range.move("character",cPos),range.select()}else el.focus(),void 0!==el.selectionStart&&el.setSelectionRange(cPos,cPos)}function scrollToEmoji(){var paddingOffset=40,currentEmoji=$scope.items[$scope.current].label,posTop=element.find(".emojis-"+currentEmoji).position().top,scrollTop=emojiList.scrollTop();paddingOffset>posTop?emojiList.scrollTop(scrollTop+(posTop-paddingOffset)):posTop>emojiList.height()+paddingOffset&&emojiList.scrollTop(scrollTop+(posTop-emojiList.height()))}function updateTypeahead(showAll){var splitComment=emojiService.splitEmoji($scope.comment,caretPos,showAll);return showAll&&splitComment.showAll?void activateTypeahead(splitComment):void(splitComment.emoji&&splitComment.emoji.length>=minSearch&&activateTypeahead(splitComment))}function activateTypeahead(comment){$scope.items=emojiService.findEmoji(comment.emoji),$scope.items.length<=0||($scope.isActive=!0,emojiService.setTypeahead(!0),emojiService.setTypeaheadOnModal(!0),appendTo.append(element),requestAnimationFrame(function(){var textareaCoords=emojiService.getElementBoundingCoords(textarea[0]),appendToCoords=emojiService.getElementBoundingCoords(appendTo[0]);element.css({top:textareaCoords.top-appendToCoords.top,left:textareaCoords.left-appendToCoords.left}),isModal&&element.css({zIndex:1051})}))}function emitEmoji(){"undefined"!=typeof $scope.items[$scope.current]&&($scope.$emit("emoji:typeahead",$scope.items[$scope.current].label,caretPos),$scope.$apply())}function browseEmoji(){emitEmoji(),setCaretPos(textarea[0],caretPos),$scope.items.length>15&&scrollToEmoji()}function selectEmoji(){emitEmoji(),flush(),setCaretPos(textarea[0],$scope.model.length)}function keyboardEvents(event){if(textarea.is(":focus")){var keyCode=event.which||event.keyCode;if(-1===HOT_KEYS.indexOf(keyCode))return void flush();if(27===keyCode)return $scope.isActive||emojiService.setTypeahead(!1),flush(),void $scope.$digest();if(9!==keyCode||$scope.isActive||(updateTypeahead(!0),event.preventDefault()),$scope.isActive){if(32===keyCode)return flush(),void $scope.$digest();event.preventDefault(),$scope.isBrowsing=!0,37===keyCode||38===keyCode?($scope.firstTab=!1,$scope.current=0===$scope.current?$scope.items.length-1:$scope.current-1,browseEmoji()):39===keyCode||40===keyCode?($scope.firstTab=!1,$scope.current=$scope.current>=$scope.items.length-1?0:$scope.current+1,browseEmoji()):9===keyCode?($scope.firstTab?$scope.firstTab=!1:$scope.current=$scope.current>=$scope.items.length-1?0:$scope.current+1,browseEmoji()):13===keyCode&&selectEmoji(),$scope.$digest()}}}var minSearch=2,HOT_KEYS=[9,13,27,32,37,38,39,40],emojiIcon="li",emojiAttr="data-idx",textarea=element.parent().find("textarea"),emojiList=element.find(".emoji-list"),caretPos=0,emojiPlaceholder=element.closest(".emoji-root").find(".emoji-placeholder"),appendTo=emojiPlaceholder.length>0?emojiPlaceholder:$document.find("body"),isModal=element.closest(".modal").length>0||element.closest(".m-inbox-conversation").length;init(),textarea.on("keydown",keyboardEvents),element.on("click",emojiIcon,function(e){selectEmoji()}),element.on("mouseenter",emojiIcon,function(e){$scope.current=parseInt(this.getAttribute(emojiAttr),10),$scope.$digest()}),$scope.$watch("model",function(newValue,oldValue){newValue!==oldValue&&($scope.isBrowsing||(caretPos=getCaretPos(textarea[0]),$scope.comment=newValue,flush(),updateTypeahead()))}),$scope.$on("$destroy",function(){textarea.off("keydown",keyboardEvents),element.off("click mouseenter"),emojiService.setTypeahead(!1),emojiService.setTypeaheadOnModal(!1),element.remove()})}return{link:linkFunction,scope:{model:"=",commentTarget:"=target",isNarrow:"@"},restrict:"A",replace:!0,templateUrl:"/share/common/ng-components/emoji/emoji-typeahead.directive.htm"}}ng.module("InVision").directive("invEmojiTypeahead",EmojiTypeaheadDirective)}(angular,InVision);;
//!file:emoji/emoji-value.js
!function(ng,app){"use strict";var emojiValue={emojis:{grinning:["grinning","grin","joy","smiley","smile","sweat_smile","satisfied","innocent","smiling_imp","wink","blush","yum","relieved","heart_eyes","sunglasses","smirk","neutral_face","expressionless","unamused","sweat","pensive","confused","confounded","kissing","kissing_heart","kissing_smiling_eyes","kissing_closed_eyes","stuck_out_tongue","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","disappointed","worried","angry","rage","cry","persevere","triumph","disappointed_relieved","frowning","anguished","fearful","weary","sleepy","tired_face","grimacing","sob","open_mouth","hushed","cold_sweat","scream","astonished","flushed","sleeping","dizzy_face","no_mouth","relaxed","mask","smile_cat","joy_cat","smiley_cat","heart_eyes_cat","smirk_cat","kissing_cat","pouting_cat","crying_cat_face","scream_cat","no_good","ok_woman","bow","see_no_evil","hear_no_evil","speak_no_evil","raising_hand","person_frowning","person_with_pouting_face","bust_in_silhouette","busts_in_silhouette","boy","girl","man","woman","family","couple","two_men_holding_hands","two_women_holding_hands","cop","dancers","bride_with_veil","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","older_man","older_woman","baby","construction_worker","princess","japanese_ogre","japanese_goblin","ghost","angel","alien","space_invader","imp","skull","information_desk_person","guardsman"],ok:["eyes","ear","nose","lips","tongue","point_up","fist","raised_hands","raised_hand","v","point_up_2","point_down","point_left","point_right","punch","wave","ok_hand","thumbsup","thumbsdown","clap","open_hands","rat","mouse2","ox","water_buffalo","cow2","tiger2","leopard","rabbit2","cat2","dragon","crocodile","whale2","snail","snake","racehorse","ram","goat","sheep","monkey","rooster","chicken","dog2","pig2","boar","elephant","octopus","shell","bug","ant","honeybee","beetle","fish","tropical_fish","blowfish","turtle","hatching_chick","baby_chick","hatched_chick","bird","penguin","koala","poodle","dromedary_camel","camel","dolphin","mouse","cow","tiger","rabbit","cat","dragon_face","whale","horse","monkey_face","dog","pig","frog","hamster","wolf","bear","panda_face","pig_nose","paw_prints"],hamburger:["hamburger","coffee","pizza","meat_on_bone","poultry_leg","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","bread","fries","sweet_potato","dango","oden","sushi","fried_shrimp","fish_cake","icecream","shaved_ice","ice_cream","doughnut","cookie","chocolate_bar","candy","lollipop","custard","honey_pot","cake","bento","stew","egg","fork_and_knife","tea","sake","wine_glass","cocktail","tropical_drink","beer","beers","baby_bottle","mushroom","tomato","eggplant","grapes","melon","watermelon","tangerine","lemon","banana","pineapple","apple","green_apple","pear","peach","cherries","strawberry","chestnut","seedling","evergreen_tree","deciduous_tree","palm_tree","cactus","tulip","cherry_blossom","rose","hibiscus","sunflower","blossom","corn","ear_of_rice","herb","four_leaf_clover","maple_leaf","fallen_leaf","leaves"],star:["star","sunny","cloud","telephone","umbrella","spades","clubs","hearts","diamonds","recycle","wheelchair","warning","copyright","registered","tm","zap","soccer","baseball","snowman","partly_sunny","no_entry","golf","sailboat","fuelpump","scissors","ballot_box_with_check","white_check_mark","airplane","envelope","pencil2","black_nib","heavy_check_mark","heavy_multiplication_x","sparkles","snowflake","x","negative_squared_cross_mark","question","heavy_exclamation_mark","bangbang","interrobang","heart","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","o","black_joker","cyclone","foggy","closed_umbrella","sunrise","ocean","earth_africa","earth_americas","earth_asia","globe_with_meridians","full_moon_with_face","sun_with_face","star2","ribbon","gift","birthday","jack_o_lantern","christmas_tree","santa","fireworks","sparkler","balloon","tada","confetti_ball","tanabata_tree","crossed_flags","bamboo","dolls","flags","wind_chime","rice_scene","school_satchel","mortar_board","microphone","movie_camera","cinema","headphones","art","tophat","circus_tent","ticket","clapper","performing_arts","video_game","dart","slot_machine","8ball","game_die","bowling","flower_playing_cards","musical_note","notes","saxophone","guitar","musical_keyboard","trumpet","violin","musical_score","tennis","ski","basketball","checkered_flag","snowboarder","running","surfer","trophy","horse_racing","football","rugby_football","swimmer","dancer","lipstick","nail_care","massage","haircut","barber","syringe","pill"],bulb:["bulb","kiss","love_letter","ring","gem","couplekiss","bouquet","couple_with_heart","wedding","heartbeat","broken_heart","two_hearts","sparkling_heart","heartpulse","cupid","blue_heart","green_heart","yellow_heart","purple_heart","gift_heart","revolving_hearts","heart_decoration","diamond_shape_with_a_dot_inside","anger","bomb","zzz","collision","sweat_drops","droplet","dash","shit","muscle","dizzy","speech_balloon","thought_balloon","heavy_dollar_sign","credit_card","yen","dollar","euro","pound","money_with_wings","seat","computer","briefcase","minidisc","floppy_disk","cd","dvd","file_folder","open_file_folder","page_with_curl","page_facing_up","date","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","pushpin","round_pushpin","paperclip","notebook","book","books","pencil","telephone_receiver","pager","fax","satellite","loudspeaker","mega","outbox_tray","inbox_tray","package","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","postbox","postal_horn","newspaper","iphone","no_mobile_phones","camera","video_camera","tv","radio","vhs","low_brightness","high_brightness","mute","sound","speaker","battery","electric_plug","mag","mag_right","lock_with_ink_pen","closed_lock_with_key","key","lock","unlock","bell","no_bell","bookmark","link","radio_button","underage","fire","flashlight","wrench","hammer","nut_and_bolt","hocho","gun","microscope","telescope","crystal_ball","clock3","pray"],rocket:["rocket","helicopter","steam_locomotive","train","bullettrain_side","bullettrain_front","train2","light_rail","station","tram","bus","oncoming_bus","trolleybus","busstop","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","red_car","oncoming_automobile","blue_car","truck","articulated_lorry","tractor","monorail","mountain_railway","suspension_railway","mountain_cableway","aerial_tramway","ship","rowboat","speedboat","traffic_light","vertical_traffic_light","construction","rotating_light","triangular_flag_on_post","door","house","house_with_garden","european_post_office","convenience_store","school","no_entry_sign","smoking","no_smoking","put_litter_in_its_place","bike","no_bicycles","bicyclist","mountain_bicyclist","walking","no_pedestrians","mens","womens","toilet","shower","bath","bathtub","cn","de","es","fr","uk","it","jp","kr","ru","us"]},faces:[":\\)",":\\|",":\\(",":D",":P","D:"],faceToEmojis:{":)":{emoji:"smile"},":|":{emoji:"neutral_face"},":(":{emoji:"disappointed"},":D":{emoji:"smiley"},":P":{emoji:"stuck_out_tongue"},"D:":{emoji:"anguished"}}};app&&app.value("emojiValue",emojiValue),"undefined"!=typeof module&&module.exports&&(module.exports=emojiValue)}(angular,InVision);;
//!file:mention/mention.controller.js
!function(ng){"use strict";function mentionController(_,appSettings,candidatesPartial,config,mentionService,mentionShortcutService,mentionStorage,$scope){function initialize(){$scope.hasMentions&&candidatesPartial.load()}function getTermFromExistingMention(existingMention){return existingMention.email?existingMention.email:existingMention.name}function handleExistingMention(existingMention,mentionInfo){var startPos=mentionInfo.mentionPosition,endPos=startPos+mentionInfo.mentionText.length+1,term=getTermFromExistingMention(existingMention);return mentionService.replaceInputText(mentionInfo.mentionSelectedElement,mentionInfo.mentionTriggerChar+term,startPos,endPos),term}function generatePeopleList(triggerChar,currentTerm){var term=currentTerm||"",upperCaseTerm=term.toUpperCase(),mentionShortcuts=buildShortcuts(),handlers={"@":function(item){var name=item.name.replace(/\s*/g,"").toUpperCase();return~name.indexOf(upperCaseTerm)},"+":function(item){var email=(item.email||"").toUpperCase();return~email.indexOf(upperCaseTerm)}},handler=handlers[triggerChar]||function(){},matches=_.filter(mentionShortcuts.concat(candidatesPartial.data.candidates.candidates),handler);return matches.length>MAX_MATCHES?{isOverMax:!0,matches:[]}:{isOverMax:!1,matches:matches}}function searchPeople(mentionInfo){var term=mentionInfo.mentionText||"",triggerChar=mentionInfo.mentionTriggerChar,existingMention=mentionService.getMentionedUser(term);existingMention&&(term=handleExistingMention(existingMention,mentionInfo));var peopleList=generatePeopleList(triggerChar,term),peopleListIsPopulated=peopleList.matches.length>0,termHasValue=term.length>0,isMention="@"===triggerChar,isDefaultView=isMention&&!termHasValue,noMatches=isMention&&termHasValue&&!peopleListIsPopulated&&!peopleList.isOverMax,overMax=isMention&&termHasValue&&peopleList.isOverMax,isNewUser=isMention&&term.length>2&&!peopleListIsPopulated;vm.view="default",isDefaultView&&(vm.view="defaultNoTerm"),noMatches&&(vm.view="noCandidates"),overMax&&(vm.view="overMax"),isNewUser&&(vm.view="newUser"),vm.people=peopleList.matches}function selectPerson(person){var triggerChar="@",name=person.name.replace(/\s/g,""),id=person.id,isShortcut="shortcut"===person.role;return id||isShortcut||(triggerChar="+",id=mentionService.isEmailAddress(person.email)?person.email:null,name=id),id||isShortcut?triggerChar+name:person.name}function addMention(person,startPos){mentionStorage.insert(person,startPos)}function buildShortcuts(){var hasMentionShortcuts=appSettings.getSettings().features.mentionShortcut;if(!hasMentionShortcuts)return[];var shortcuts=mentionShortcutService.getShortcuts();return config.featureFlags["prototypes-rain-690-sunset-conversation"]||config.featureFlags["boards-rain-687-sunset-conversation"]?[_.find(shortcuts,function(s){return"project"===s.name})]:shortcuts}var vm=this,MAX_MATCHES=250;vm.searchPeople=searchPeople,vm.selectPerson=selectPerson,vm.addMention=addMention,initialize()}ng.module("mention",[]).controller("mention.MentionController",mentionController)}(angular);;
//!file:mention/mention.directive.js
!function(ng){"use strict";function MentionDirective(){return{controller:"mention.MentionController",controllerAs:"vm",restrict:"A",templateUrl:"/share/common/ng-components/mention/mention.directive.htm",scope:{uid:"@uid",hasWhoIsNotified:"@hasWhoIsNotified",hasMentions:"=hasMentions",conversation:"=conversation",screenId:"=screenId",boardId:"=boardId",mentionPositioningClass:"@?"}}}ng.module("mention").directive("invMention",MentionDirective)}(angular);;
//!file:mention/utility.js
;
//!file:comment/filters/mention.filter.js
!function(ng){"use strict";ng.module("InVision").filter("mention",function(){return function(val){if("undefined"==typeof val)return!1;var nameParts=val.trim().split(" ").join("");return"@"+nameParts}})}(angular);;
//!file:comment/filters/nice-date.filter.js
!function(ng){"use strict";function niceDateFilter(moment){return function(val){var now=moment(),date=moment(val);return date>now?now.fromNow():date.fromNow()}}ng.module("InVision").filter("niceDate",niceDateFilter)}(angular);;
//!file:comment/services/parseCommentService.js
!function(ng,app){"use strict";function ParseCommentService(_,mentionUtilities,emojiService){function _str(str){return(str||"").toString()}function _extractMentionsHtmlFromComment(comment,mentions,currentUserID){var extracted=[];if(!mentions)return extracted;for(var mentionText,mentionHTML,className,startPos,i=mentions.length;i--;){var self=mentions[i].userID===currentUserID;mentionText=mentions[i].text,startPos=mentions[i].startPos,className=self?"me-mentioned":"mention-blue",mentionHTML='<span class="'+className+'">'+_.escape(mentionText)+"</span>",comment.substr(startPos,mentionText.length)===mentionText&&extracted.push({index:startPos,html:mentionHTML,css:className,text:mentionText})}return extracted.reverse(),extracted}function _applyMentionsToComment(comment,mentions){for(var parsedComment=[],next=_.first(mentions),i=0;i<comment.length;i++)if(next&&next.index===i){i+=next.text.length-1,parsedComment.push(next.html);var index=_.indexOf(mentions,next);next=mentions[index+1]}else{var letter=comment[i];parsedComment.push(escapedEntities[letter]||letter)}return parsedComment.join("")}function _handleMentionShortcuts(mentions,userID){var mentionData=[],sortedMentions=_.partition(mentions,function(m){return"@project"===m.text||"@conversation"===m.text});if(sortedMentions[0].length>0){var grouped=_.groupBy(sortedMentions[0],"startPos");_.each(grouped,function(group){var meMention=_.find(group,function(g){return g.userID===userID});mentionData.push(meMention?meMention:group[0])})}return _.sortBy(sortedMentions[1].concat(mentionData),function(mention){return mention.startPos})}function getComment(comment,currentUserID,options){comment.mentions&&options&&options.hasOwnProperty("atConversationDisabled")&&options.atConversationDisabled&&_.remove(comment.mentions,function(m){return"@conversation"===m.text}),_.isObject(currentUserID)&&(options=currentUserID,currentUserID=null);var mentions=_handleMentionShortcuts(comment.mentions,currentUserID)||[];return comment=_str(comment.comment),options=options||{},currentUserID=currentUserID||options.userID||options.currentUser||options.currentUserID,mentions=_extractMentionsHtmlFromComment(comment,mentions,currentUserID),comment=_applyMentionsToComment(comment,mentions),options.ignoreLineBreaks||(comment=applyLineBreaks(comment)),options.ignoreLinks||(comment=applyHtmlLinks(comment)),options.ignoreEmojis||(comment=emojiService.parseEmoji(comment)),comment}function substrHtml(html,limit){for(var lastCharacter,output=[],inTag=!1,count=0,i=0;i<html.length;i++){var character=html[i],openTag="<"===character,closeTag=">"===character,multiSpace=" "===lastCharacter&&" "===character,isTag=openTag||closeTag;lastCharacter=character,inTag||multiSpace||count++,(limit>=count||isTag||inTag)&&!multiSpace&&output.push(character),count===limit&&i<html.length&&output.push("..."),openTag?inTag=!0:closeTag&&(inTag=!1)}return output.join("")}function applyLineBreaks(string){return _str(string).replace(/(\r\n?|\n)/g,"<br />")}function applyHtmlLinks(html){var string=_str(html),patternURL=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,patternWWW=/(^|\s)(www\.[\S]+(\b|$))/gim,patternEmail=/([^@\\s]+@[^@\\s]+\\.\\w{2}[\\.\\w]*)/gim;return string.replace(patternURL,'<a href="$&" target="_blank">$&</a>').replace(patternWWW,'<a href="http://$&" target="_blank">$&</a>').replace(patternEmail,function(match,plus,address){return plus?match:'<a href="mailto:'+address+'">'+address+"</a>"})}return{getComment:getComment,substrHtml:substrHtml,applyLineBreaks:applyLineBreaks,applyHtmlLinks:applyHtmlLinks}}if("undefined"!=typeof module&&module.exports){var _=require("lodash"),MentionUtilities=require("../../../utilities/mention-utilities"),EmojiValue=require("../../emoji/emoji-value"),EmojiService=require("../../emoji/emoji-service")(EmojiValue);module.exports=ParseCommentService(_,MentionUtilities,EmojiService)}else app&&app.service("parseCommentService",ParseCommentService);var escapedEntities={"<":"&lt;",">":"&gt;","&":"&amp;"}}(angular,InVision);;
//!file:comment/teaser/comment-teaser.controller.js
!function(ng){"use strict";function CommentTeaserController($log,$scope,_,appSettings,mentionStorage,mentionUtilityService,itemOwnerPartial,projectWatchersPartial,sessionService){function initialize(){mentionStorage.load(),isProjectNotificationEnabled&&props.projectId?(loadProjectWatchers(),setProjectWatchers()):(loadItemOwner(),setItemOwner()),setMentions(!0)}function loadItemOwner(){function handleReject(error){$log.error("For some reason we couldn't load your screen owner")}if(sessionService.user.isAccountAuthenticated){var itemID=props.screenId||props.boardId,itemType=props.screenId?"screen":"board";itemOwnerPartial.load(itemID,itemType)["catch"](protectState(handleReject))}}function setItemOwner(){var itemID=props.screenId||props.boardId,itemType=props.screenId?"screen":"board";vm.itemOwner=itemOwnerPartial.get(itemID,itemType),vm.itemOwner&&mentionStorage.setOwner(vm.itemOwner)}function loadProjectWatchers(){function handleReject(error){$log.error("For some reason we couldn't load your project watchers")}sessionService.user.isAccountAuthenticated&&projectWatchersPartial.load(props.projectId)["catch"](protectState(handleReject))}function setProjectWatchers(){vm.watchers=projectWatchersPartial.get(props.projectId),_.isEmpty(vm.watchers)||mentionStorage.setWatchers(vm.watchers)}function setMentions(isInit){if(!_.isEmpty(props.conversation)){var lastComment=_.last(props.conversation),lastMentions=lastComment.mentions||[],userDetails=mentionUtilityService.getUserDetails(lastComment);if(isInit)return void(vm.peopleNotified=mentionUtilityService.getMyMentions(lastMentions,userDetails));mentionStorage.insert(lastMentions),mentionStorage.insert(userDetails),vm.peopleNotified=mentionStorage.get()}}function handleIsShown(newVal){"undefined"==typeof newVal||newVal||$scope.$evalAsync(function(){props.hasInitialMentions&&setMentions()})}function handleConversationChange(newVal,oldVal){newVal&&newVal!==oldVal&&setMentions(!0)}function handleDestroy(){$scope.isDestroyed=!0,itemOwnerPartial.removeBinding(setItemOwner),projectWatchersPartial.removeBinding(setProjectWatchers)}function protectState(callback){function proxy(){return $scope.isDestroyed?void $log.warn("Returning out of callback due to state change."):callback.apply(null,arguments)}return proxy}var vm=this,props=$scope.props=$scope,isProjectNotificationEnabled=appSettings.getSettings().features.projectNotificationPreferences;$scope.$watch("isShown",handleIsShown),$scope.$watch("conversation",handleConversationChange),$scope.$on("$destroy",handleDestroy),itemOwnerPartial.addBinding(setItemOwner),projectWatchersPartial.addBinding(setProjectWatchers),initialize()}ng.module("InVision").controller("comment.CommentTeaserController",CommentTeaserController)}(angular);;
//!file:comment/teaser/comment-teaser.directive.js
!function(ng){"use strict";function CommentTeaserDirective(){return{controller:"comment.CommentTeaserController",controllerAs:"vm",restrict:"A",templateUrl:"/share/common/ng-components/comment/teaser/comment-teaser.directive.htm",scope:{isShown:"=isShown",hasInitialMentions:"=hasInitialMentions",conversation:"=conversation",screenId:"=screenId",boardId:"=boardId",projectId:"=projectId"}}}ng.module("InVision").directive("invCommentTeaser",CommentTeaserDirective)}(angular);;
//!file:mention/filters/order-by-user-role.filter.js
!function(ng){"use strict";function orderByUserRoleFilter(_){return function(input){if(!Array.isArray(input))return input;for(var CONTRIBUTOR="Contributor",REVIEWER="Reviewer",ADMIN="Admin",MANAGER="Manager",collaborators=[],others=[],i=0,nodes=input.length;nodes>i;i++){var userRole=input[i].role;switch(userRole){case CONTRIBUTOR:case REVIEWER:case ADMIN:case MANAGER:collaborators.push(input[i]);break;default:others.push(input[i])}}var sortedCollaborators=_.sortBy(collaborators,"name"),sortedOthers=_.sortBy(others,"name");return sortedCollaborators.concat(sortedOthers)}}ng.module("mention").filter("orderByUserRole",orderByUserRoleFilter)}(angular);;
//!file:mention/filters/unsafe.filter.js
!function(ng){"use strict";ng.module("mention").filter("unsafe",function($sce){return function(val){return $sce.trustAsHtml(val)}})}(angular);;
//!file:mention/menu/mention-menu-item.directive.js
!function(ng){"use strict";function mentionMenuItemDirective(){return{restrict:"A",scope:{item:"=invMentionMenuItem"},require:"^invMentionMenu",link:function(scope,element,attrs,controller){scope.$watch(function(){return controller.isActive(scope.item)},function(active){active?element.addClass("active"):element.removeClass("active")}),element.bind("mouseenter",function(){controller.isOverMentionCap(scope.item.name)&&"shortcut"===scope.item.role||scope.$apply(function(){controller.activate(scope.item)})}),element.bind("click",function(){return controller.isOverMentionCap(scope.item.name)&&"shortcut"===scope.item.role||controller.selectItem(scope.item),!1})}}}ng.module("mention").directive("invMentionMenuItem",mentionMenuItemDirective)}(angular);;
//!file:mention/menu/mention-menu.controller.js
!function(ng){"use strict";function menuController($scope,_,appSettings,config,candidatesPartial,mentionShortcutService){function getInitials(name){if(!name)return"";var nameParts=name.replace(/^\s+|\s+$/g,"").split(/\s+/),namePartsCount=nameParts.length;return namePartsCount>1?nameParts[0].slice(0,1)+nameParts[namePartsCount-1].slice(0,1):nameParts[0].slice(0,1)}function getUserInfo(person){return vm.hasMentionShortcuts?mentionShortcutService.getUserInfo(person,candidatesPartial.data):person.email}function activate(item){props.activeItem=item}function isActive(item){return props.activeItem===item}function selectItem(item){var text=props.select({item:item}),startPos=props.parentMentio.replaceText(text);props.addMention({person:item,startPos:startPos})}function activateNextItem(){var index=props.items.indexOf(props.activeItem);activate(props.items[(index+1)%props.items.length])}function activatePreviousItem(){var index=props.items.indexOf(props.activeItem);activate(props.items[0===index?props.items.length-1:index-1])}function isFirstItemActive(){var index=props.items.indexOf(props.activeItem);return 0===index}function isLastItemActive(){var index=props.items.indexOf(props.activeItem);return index===props.items.length-1}function selectActive(){props.activeItem&&props.selectItem(props.activeItem)}function isVisible(){return props.visible}function isOverProjectMentionsCap(){return candidatesPartial.data.candidates.isOverProjectMentionCap?"project":!1}function isOverConversationMentionsCap(){return candidatesPartial.data.candidates.isOverConversationMentionCap?"conversation":!1}function isOverMentionCap(itemName){return itemName?isOverProjectMentionsCap()===itemName||isOverConversationMentionsCap()===itemName?itemName:!1:isOverProjectMentionsCap()||isOverConversationMentionsCap()}function showMenu(){props.visible||(props.requestVisiblePendingSearch=!0)}function setParent(scope){props.parentMentio=scope,props.targetElement=scope.targetElement}var vm=this,props=$scope.props=$scope;props.visible=!1,vm.getInitials=getInitials,vm.getUserInfo=getUserInfo,vm.activate=props.activate=activate,vm.isActive=props.isActive=isActive,vm.selectItem=props.selectItem=selectItem,vm.hasMentionShortcuts=appSettings.getSettings().features.mentionShortcut,vm.isOverMentionCap=props.isOverMentionCap=isOverMentionCap,vm.conversationDisabled=config.featureFlags["prototypes-rain-690-sunset-conversation"],props.activateNextItem=activateNextItem,props.activatePreviousItem=activatePreviousItem,props.isFirstItemActive=isFirstItemActive,props.isLastItemActive=isLastItemActive,props.selectActive=selectActive,props.isVisible=isVisible,props.showMenu=showMenu,props.setParent=setParent}ng.module("mention").controller("mention.MenuController",menuController)}(angular);;
//!file:mention/menu/mention-menu.directive.js
!function(ng){"use strict";function mentionMenuDirective(mentionService,$rootScope,$log,$window,$document){return{restrict:"A",scope:{search:"&mentioSearch",select:"&mentioSelect",addMention:"&addMention",items:"=mentioItems",view:"=mentioView",triggerChar:"=mentioTriggerChar",forElem:"=mentioFor",mentionPositioningClass:"@?"},templateUrl:"/share/common/ng-components/mention/menu/mention-menu.directive.htm",controller:"mention.MenuController",controllerAs:"vm",link:function(scope,element,attr){function triggerPopUnderMention(){var triggerCharSet=[];triggerCharSet.push(scope.triggerChar),mentionService.popUnderMention(scope.parentMentio.context(),triggerCharSet,element,scope.requireLeadingSpace,textarea)}function handleKeyEvent(event){if(textarea.is(":focus")){var keyCode=event.which||event.keyCode;if(scope.visible&&-1!==HOT_KEYS.indexOf(keyCode))return event.preventDefault(),9===keyCode||13===keyCode?scope.isOverMentionCap(scope.activeItem.name)?void scope.hideMenu():void scope.selectActive():27===keyCode?void scope.$apply(function(){scope.hideMenu()}):40===keyCode?(scope.$apply(function(){scope.activateNextItem()}),void scope.adjustScroll(1)):38===keyCode?(scope.$apply(function(){scope.activatePreviousItem()}),void scope.adjustScroll(-1)):void 0}}function handleClick(event){scope.visible&&scope.$apply(function(){scope.hideMenu()})}function handleResize(){if(scope.visible){var triggerCharSet=[];triggerCharSet.push(scope.triggerChar),mentionService.popUnderMention(scope.parentMentio.context(),triggerCharSet,element,scope.requireLeadingSpace)}}function handleDestroy(){scope.hideMenu(),textarea.off("keydown paste",handleKeyEvent),angular.element($document).off("click",handleClick),angular.element($window).off("resize",handleResize)}if(!scope.forElem)return void $log.error("mentio-menu requires a target element in the mentio-for attribute");if(!scope.triggerChar)return void $log.error("mentio-menu requires a trigger char");var HOT_KEYS=[9,13,27,37,38,39,40],textarea=element.closest(".comment-wrapper").find("textarea.mention-text");textarea.on("keydown paste",handleKeyEvent),angular.element($document).on("click",handleClick),angular.element($window).on("resize",handleResize),scope.$on("$destroy",handleDestroy),$rootScope.$broadcast("menuCreated",{targetElement:attr.mentioFor,scope:scope}),scope.$watch("items",function(items){items&&items.length>=0?(scope.activate(items[0]),!scope.visible&&scope.requestVisiblePendingSearch&&(scope.visible=!0,scope.requestVisiblePendingSearch=!1),triggerPopUnderMention()):scope.hideMenu()}),scope.$watch("isVisible()",function(visible){visible&&triggerPopUnderMention()}),scope.hideMenu=function(){scope.visible=!1,element.css("display","none")},scope.adjustScroll=function(direction){var menuEl=element[0],menuItemsList=menuEl.querySelector("ul");if(menuItemsList){var menuItem=menuEl.querySelector("[inv-mention-menu-item].active")||menuEl.querySelector("[data-inv-mention-menu-item].active");return scope.isFirstItemActive()?void(menuItemsList.scrollTop=0):scope.isLastItemActive()?void(menuItemsList.scrollTop=menuItemsList.scrollHeight):void(1===direction?menuItemsList.scrollTop+=menuItem.offsetHeight:menuItemsList.scrollTop-=menuItem.offsetHeight)}}}}}ng.module("mention").directive("invMentionMenu",mentionMenuDirective)}(angular);;
//!file:mention/services/candidates-partial.js
!function(ng){"use strict";function CandidatesPartialFactory($http,$q,commentObjectService){function load(){var deferred=$q.defer();return getCandidates().then(function(partial){setData(partial.candidates),deferred.resolve()},function(response){deferred.reject(response)}),deferred.promise}function getCandidates(){var commentObject=commentObjectService.get(),apiUrl=["/api/mentions/candidates?"];"project"===commentObject.objectType?apiUrl.push("projectID=",commentObject.objectID,"&conversationID=",commentObject.conversationID):"board"===commentObject.objectType&&apiUrl.push("boardID=",commentObject.objectID,"&boardItemID=",commentObject.conversationID),apiUrl.push("&hasMentionShortcuts=true");var request=$http.get(apiUrl.join(""));return request.then(function(response){return response.data},function(errorResponse){return $q.reject(unwrapErrorResponse(errorResponse))})}function unwrapErrorResponse(errorResponse){var response={code:-1,id:-1};try{response=ng.fromJson(errorResponse.data),ng.isString(response)&&(response.message=response)}catch(error){response.message="Error: "+error}return response}function setData(partial){return data.candidates=partial}var data={};return{data:data,load:load}}ng.module("mention").factory("candidatesPartial",CandidatesPartialFactory)}(angular);;
//!file:mention/services/item-owner-partial.js
!function(ng){"use strict";function ItemOwnerPartial(_,$q,$http,$rootScope){function get(itemID,type){if(itemID){var existingItem=_.find(data.itemOwners,{itemID:itemID,type:type});return ng.copy(existingItem)}}function load(itemID,type){var deferred=$q.defer();return itemID?(getOwner(itemID,type).then(function(partial){setData(partial,itemID,type),deferred.resolve(),triggerChange()},function(response){deferred.reject(response)}),deferred.promise):(deferred.reject("Error: undefined itemID"),deferred.promise)}function addBinding(handler,context){bindings.push({handler:handler,context:context||null})}function removeBinding(handler,context){bindings=_.reject(bindings,function(binding){return binding.handler===handler&&(!context||handler.context===context)})}function getOwner(itemID,type){var typeURLPart="screen"===type?"screens":"board",urlParts=["/api",typeURLPart,itemID,"owner"],request=$http({method:"GET",url:urlParts.join("/")});return request.then(function(response){return response.data},function(errorResponse){return $q.reject(unwrapErrorResponse(errorResponse))})}function setData(partial,itemID,type){var existingItem=_.find(data.itemOwners,{itemID:itemID,type:type});existingItem||(data.itemOwners.push({itemID:itemID,type:type,id:partial.id,name:partial.name,avatarID:partial.avatarID,email:partial.email}),triggerChange())}function triggerChange(){pendingTrigger||(pendingTrigger=!0,$rootScope.$evalAsync(function(){pendingTrigger=!1,_.each(bindings,function(binding){binding.handler.call(binding.context)})}))}function unwrapErrorResponse(errorResponse){var response={code:-1,id:-1};try{response=ng.fromJson(errorResponse.data),ng.isString(response)&&(response.message=response)}catch(error){response.message="Error: "+error}return response}var data={itemOwners:[]},bindings=[],pendingTrigger=!1;return{get:get,load:load,addBinding:addBinding,removeBinding:removeBinding}}ng.module("mention").factory("itemOwnerPartial",ItemOwnerPartial)}(angular);;
//!file:mention/services/mention-storage.js
!function(ng){"use strict";function MentionStorage(_,mentionUtilityService,modelEvents,sessionService){function load(){flush()}function get(){return ng.copy(mentions)}function getWhoIsNotified(){var currentMentions=getMentions(),splitMentions=_.partition(currentMentions,function(o){return o.userID}),uniqueEmails=_.uniq(splitMentions[1],"email");return uniqueEmails.concat(_.uniq(splitMentions[0],"userID"))}function set(newMentions){mentions=_.uniq(ng.copy(newMentions)||[]),modelEvents.trigger("MentionStorageUpdated")}function insert(person,startPos){if(person){for(var text,item,newMention,people=[].concat(person),i=0,nodes=people.length,acceptDupes=startPos>=0;nodes>i;i++)item=people[i],mentionUtilityService.isNewMention(item,mentions,acceptDupes)&&(text=item.email&&!item.id?"+"+item.email:item.text||"@"+item.name.replace(/\s/g,""),newMention={userID:item.userID||item.id,text:text,name:item.name,startPos:item.startPos||startPos},mentionExists(newMention)||mentions.push(newMention));modelEvents.trigger("MentionStorageUpdated")}}function removeMention(text,startPos){var itemID=_.findIndex(mentions,{startPos:startPos});itemID>=0&&(mentions.splice(itemID,1),modelEvents.trigger("MentionStorageUpdated"))}function setOwner(item){item&&(owner=item,modelEvents.trigger("MentionStorageUpdated"))}function setWatchers(items){_.isEmpty(items)||(watchers=items,modelEvents.trigger("MentionStorageUpdated"))}function destroy(){flush()}function getMentions(){if(_.isEmpty(owner)&&_.isEmpty(watchers))return mentions;if(watchers.length)return mentions.concat(watchers);if(hasItemOwner())return mentions;var user=sessionService.user;if(+owner.id===user.id)return mentions;var returnedOwner=ng.copy(owner);return returnedOwner.name+=" (screen owner)",mentions.concat(returnedOwner)}function mentionExists(newMention){return _.findIndex(mentions,function(m){var matching=m.text===newMention.text&&m.startPos===newMention.startPos;return void 0!==newMention.userID?matching&&newMention.userID===m.userID:matching&&newMention.email===m.email})>-1}function flush(){mentions.length=0}function hasItemOwner(){var matches=mentions.filter(function(mention){return mention.userID===owner.id});return matches.length>0}var mentions=[],owner={},watchers=[];return{load:load,get:get,getWhoIsNotified:getWhoIsNotified,set:set,insert:insert,removeMention:removeMention,setOwner:setOwner,setWatchers:setWatchers,destroy:destroy}}ng.module("mention").factory("mentionStorage",MentionStorage)}(angular);;
//!file:mention/services/mention-utility.directive.js
!function(ng){"use strict";function MentionUtilityService(_,sessionService){function isNewMention(item,mentions,acceptDupes){var userID=item.userID||item.id;return sessionService.user.id===userID?!1:acceptDupes?!0:_.some(mentions,{userID:userID})?!1:!0}function getMyMentions(){var args=_.flatten([].slice.call(arguments)),myMentions=[];return _.forEach(args,function(value,key){isNewMention(value,myMentions)&&myMentions.push(value)}),_.uniq(myMentions,"text")}function getUserDetails(comment){return _.isEmpty(comment)?{}:comment.user?comment.user:{userID:comment.userID,name:comment.userName}}return{isNewMention:isNewMention,getMyMentions:getMyMentions,getUserDetails:getUserDetails}}ng.module("mention").factory("mentionUtilityService",MentionUtilityService)}(angular);;
//!file:mention/services/mention.service.js
!function(ng){"use strict";function MentionService(_,$window,$document,$log,sessionService,mentionStorage){function popUnderMention(ctx,triggerCharSet,selectionEl,requireLeadingSpace,textarea){var coordinates,mentionInfo=getTriggerInfo(ctx,triggerCharSet,requireLeadingSpace,!1);return mentionInfo?(coordinates=getTextAreaOrInputUnderlinePosition(ctx,getDocument(ctx).activeElement,mentionInfo.mentionPosition),selectionEl.css({top:coordinates.top+"px",left:coordinates.left+"px",position:"absolute",display:"block"}),$document.find("body").append(selectionEl),void requestAnimationFrame(function(){var box=getElementBoundingCoords(selectionEl),textareaCoords=getElementBoundingCoords(textarea);if(box&&textareaCoords){var topOffset=box.height+60,newTop=coordinates.top-box.height;coordinates.top<topOffset&&(newTop=textareaCoords.bottom+30),selectionEl.css({top:newTop})}})):void selectionEl.css({display:"none"})}function getElementBoundingCoords(element){if(element){for(var clientRectangle,el=element[0];"undefined"==typeof clientRectangle||0===clientRectangle.height;)if(clientRectangle=el.getBoundingClientRect(),0===clientRectangle.height&&(el=el.childNodes[0]),!el||!el.getBoundingClientRect)return;return clientRectangle}}function scrollIntoView(ctx,elem,clientRect){var reasonableBuffer=20,maxScrollDisplacement=100,elemTop=clientRect.top,elemBottom=elemTop+clientRect.height;if(0>elemTop)$window.scrollTo(0,$window.pageYOffset+clientRect.top-reasonableBuffer);else if(elemBottom>$window.innerHeight){var maxY=$window.pageYOffset+clientRect.top-reasonableBuffer;maxY-$window.pageYOffset>maxScrollDisplacement&&(maxY=$window.pageYOffset+maxScrollDisplacement);var targetY=$window.pageYOffset-($window.innerHeight-elemBottom);targetY>maxY&&(targetY=maxY),$window.scrollTo(0,targetY)}}function isSelectedElementTextAreaOrInput(ctx){var nodeName,type,element=getDocument(ctx).activeElement,isTextAreaOrInput=!1;return null!==element&&(nodeName=element.nodeName,type=element.getAttribute("type"),isTextAreaOrInput="INPUT"===nodeName&&"text"===type||"TEXTAREA"===nodeName),isTextAreaOrInput}function selectElement(ctx,targetElement,path,offset){var range,elem=targetElement;if(path)for(var i=0;i<path.length;i++){if(elem=elem.childNodes[path[i]],void 0===elem)return;for(;elem.length<offset;)offset-=elem.length,elem=elem.nextSibling;0!==elem.childNodes.length||elem.length||(elem=elem.previousSibling)}var sel=getWindowSelection(ctx);range=getDocument(ctx).createRange(),range.setStart(elem,offset),range.setEnd(elem,offset),range.collapse(!0);try{sel.removeAllRanges()}catch(error){$log.error(error)}sel.addRange(range),targetElement.focus()}function pasteHtml(ctx,html,startPos,endPos){var range,sel;sel=getWindowSelection(ctx),range=getDocument(ctx).createRange(),range.setStart(sel.anchorNode,startPos),range.setEnd(sel.anchorNode,endPos),range.deleteContents();var el=getDocument(ctx).createElement("div");el.innerHTML=html;for(var node,lastNode,frag=getDocument(ctx).createDocumentFragment();node=el.firstChild;)lastNode=frag.appendChild(node);range.insertNode(frag),lastNode&&(range=range.cloneRange(),range.setStartAfter(lastNode),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range))}function resetSelection(ctx,targetElement,path,offset){var nodeName=targetElement.nodeName;"INPUT"===nodeName||"TEXTAREA"===nodeName?targetElement!==getDocument(ctx).activeElement&&targetElement.focus():selectElement(ctx,targetElement,path,offset)}function replaceInputText(element,text,startPos,endPos){text=text||"";var value=element.value,preText=value.substring(0,startPos),postText=value.substring(endPos,value.length),selectionPos=startPos+text.length;element.value=preText+text+postText,element.selectionStart=selectionPos,element.selectionEnd=selectionPos}function getInitialMentions(){var mentions=mentionStorage.get(),myID=sessionService.user.id;mentions=_.filter(mentions,function(m){return m.userID!==myID});var initialMentions=_.uniq(mentions,"text");return initialMentions=initialMentions.map(function(value){return value.text+" "}).join(""),mentions.forEach(function(mention){mention.startPos=initialMentions.indexOf(mention.text)}),mentionStorage.set(mentions),initialMentions}function getMentionedUser(text,formatDataForAPI){var name,id,user,parsed,results=SQUARE_BRACKET_CONTENTS_PATTERN.exec(text),returnObj={},idString=formatDataForAPI===!0?"userID":"id";if(results){if(user=results[1],isEmailAddress(user))return returnObj={email:user,text:"+"+user};if(parsed=NAME_AND_ID_PATTERN.exec(user))return name=parsed[1],id=parsed[2],returnObj={name:name,text:"@"+name},returnObj[idString]=id,returnObj}}function findAllMentions(rawCommentText,formatDataForAPI){rawCommentText=rawCommentText||"";for(var match,results=[],regexp=new RegExp(MENTION_PATTERN,"g");match=regexp.exec(rawCommentText);){var data=getMentionedUser(match[1],formatDataForAPI);data.startPos=match.index,data.endPos=data.startPos+match[0].length,results.push(data)}return results}function parseMention(comment,mentions){if(!mentions)return comment;for(var mentionText,mentionHTML,className,startPos,myUserID=sessionService.user.id,i=mentions.length;i--;)mentionText=mentions[i].text,startPos=mentions[i].startPos,className=mentions[i].userID===myUserID?"me-mentioned":"mention-blue",mentionHTML='<span class="'+className+'">'+mentionText+"</span>",comment.substr(startPos,mentionText.length)===mentionText&&(comment=comment.slice(0,startPos)+mentionHTML+comment.slice(startPos+mentionText.length));return comment}function isEmailAddress(text){var email=EMAIL_ADDRESS_PATTERN;return email.test(text)}function replaceTriggerText(ctx,targetElement,path,offset,triggerCharSet,text,requireLeadingSpace,hasTrailingSpace){resetSelection(ctx,targetElement,path,offset);var mentionInfo=getTriggerInfo(ctx,triggerCharSet,requireLeadingSpace,!0,hasTrailingSpace);if(mentionInfo){var startPos=mentionInfo.mentionPosition,endPos=startPos+mentionInfo.mentionText.length+1,element=getDocument(ctx).activeElement;return text+=" ",replaceInputText(element,text,startPos,endPos),startPos}}function getNodePositionInParent(ctx,elem){if(null===elem.parentNode)return 0;for(var i=0;i<elem.parentNode.childNodes.length;i++){var node=elem.parentNode.childNodes[i];if(node===elem)return i}}function regexpLastIndexOf(text,character){for(var result,regexp=new RegExp("(^|\\s)\\"+character+"[^\\s]*","g"),lastIndex=-1;result=regexp.exec(text);)lastIndex=result.index,"string"==typeof result[1]&&(lastIndex+=result[1].length);return lastIndex}function getTriggerInfo(ctx,triggerCharSet,requireLeadingSpace,menuAlreadyActive,hasTrailingSpace){var effectiveRange,offset,path,selected,triggerChar,mostRecentTriggerCharPos=-1;if(isSelectedElementTextAreaOrInput(ctx)&&(selected=getDocument(ctx).activeElement),effectiveRange=getTextPrecedingCurrentSelection(ctx)){triggerCharSet.forEach(function(c){var idx=regexpLastIndexOf(effectiveRange,c);idx>mostRecentTriggerCharPos&&(mostRecentTriggerCharPos=idx,triggerChar=c)});var preceedingChar=effectiveRange.substring(mostRecentTriggerCharPos-1,mostRecentTriggerCharPos),triggerCharExists=~mostRecentTriggerCharPos,triggerCharIsValid=0===mostRecentTriggerCharPos||!requireLeadingSpace||/[\xA0\s]/g.test(preceedingChar);if(triggerCharExists&&triggerCharIsValid){var currentTriggerSnippet=effectiveRange.substring(mostRecentTriggerCharPos+1,effectiveRange.length);hasTrailingSpace&&(currentTriggerSnippet=currentTriggerSnippet.trim());var doesNotHaveASpace=!/[\xA0\s]/g.test(currentTriggerSnippet),isValid=currentTriggerSnippet.length>=0&&doesNotHaveASpace;return isValid?{mentionPosition:mostRecentTriggerCharPos,mentionText:currentTriggerSnippet,mentionSelectedElement:selected,mentionSelectedPath:path,mentionSelectedOffset:offset,mentionTriggerChar:triggerChar}:void 0}}}function getWindowSelection(ctx){return ctx?ctx.iframe.contentWindow.getSelection():window.getSelection()}function getDocument(ctx){return ctx?ctx.iframe.contentWindow.document:document}function getTextPrecedingCurrentSelection(ctx){var text;if(isSelectedElementTextAreaOrInput(ctx)){var textComponent=getDocument(ctx).activeElement,startPos=textComponent.selectionStart;text=textComponent.value.substring(0,startPos)}else{var selectedElem=getWindowSelection(ctx).anchorNode;if(null!==selectedElem){var workingNodeContent=selectedElem.textContent,selectStartOffset=getWindowSelection(ctx).getRangeAt(0).startOffset;selectStartOffset>=0&&(text=workingNodeContent.substring(0,selectStartOffset))}}return text}function localToGlobalCoordinates(ctx,element,coordinates){var iframe=ctx?ctx.iframe:null,obj=element,body=getDocument().body;for(coordinates.top+=obj.scrollTop;obj;)coordinates.left+=obj.offsetLeft+obj.clientLeft,coordinates.top+=obj.offsetTop+obj.clientTop,obj=obj.offsetParent,!obj&&iframe&&(obj=iframe,iframe=null);for(obj=element,iframe=ctx?ctx.iframe:null;obj!==body;)obj.scrollTop&&obj.scrollTop>0&&(coordinates.top-=obj.scrollTop),obj.scrollLeft&&obj.scrollLeft>0&&(coordinates.left-=obj.scrollLeft),obj=obj.parentNode,!obj&&iframe&&(obj=iframe,iframe=null)}function getTextAreaOrInputUnderlinePosition(ctx,element,position){var coordinates={top:0,left:0};return localToGlobalCoordinates(ctx,element,coordinates),coordinates}var MENTION_PATTERN="(?:@|\\+)(\\[[^\\]]+?\\])",SQUARE_BRACKET_CONTENTS_PATTERN=/^\[([^\]]+?)\]$/,NAME_AND_ID_PATTERN=/(^[^\|]+?)(?:\|)(.+)$/,EMAIL_ADDRESS_PATTERN=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return{popUnderMention:popUnderMention,replaceTriggerText:replaceTriggerText,getTriggerInfo:getTriggerInfo,selectElement:selectElement,replaceInputText:replaceInputText,isEmailAddress:isEmailAddress,getMentionedUser:getMentionedUser,findAllMentions:findAllMentions,parseMention:parseMention,getInitialMentions:getInitialMentions,getTextAreaOrInputUnderlinePosition:getTextAreaOrInputUnderlinePosition,getTextPrecedingCurrentSelection:getTextPrecedingCurrentSelection,getNodePositionInParent:getNodePositionInParent,pasteHtml:pasteHtml,resetSelection:resetSelection,scrollIntoView:scrollIntoView}}ng.module("mention").factory("mentionService",MentionService)}(angular);;
//!file:mention/services/mentions-store.js
!function(ng,app){"use strict";function MentionsStoreFactory($http,$q,_,appSettings,clientEvents,sessionService){function resetMentionData(){state.mentions=[],state.mentionsByID={},state.mentionsByProjectID={},state.mentionsByCommentID={},state.mentionsByConversationID={},state.mentionsByUserID={},state.mentionsByScreenID={},state.mentionsCount=0}function handleProjectMarkedRead(event,data){var projectID=data.projectID;removeAllMentionsForProject(projectID)}function handleCommentDeleted(event,data){var commentID=data.commentID;removeAllMentionsForComment(commentID)}function handleConversationDeleted(event,data){var conversationID=data.conversationID;removeAllMentionsForConversation(conversationID)}function handleConversationMarkedRead(event,data){var conversationID=data.conversationID;removeAllMentionsForConversation(conversationID)}function handleAllNotificationsMarkedRead(){resetMentionData(),callGetters()}function addGetter(getterFunction,context){return getters[nextGetterID]={handler:getterFunction,context:context},nextGetterID++}function removeGetterByID(getterID){delete getters[getterID]}function removeGetter(handler,context){getters=_.reject(getters,function(getter,id){var isHandler=getter.handler===handler,isContext=!context||getter.context===context;return isHandler&&isContext})}function callGetters(){_.each(getters,function(getter){getter.handler.call(getter.context,state)})}function normalizeError(error){return _.isString(error)&&(error={message:error,code:-1}),error}function normalizeHttpResponse($httpPromise){return $httpPromise.then(function(response){return response.data},function(response){return $q.reject(normalizeError(response.data))})}function loadData(){var subscriptionsEnabled=appSettings.getSettings().features.projectNotificationPreferences,endpoint=subscriptionsEnabled?"/api/partials/desktop/inbox/notifications/get-notification-badges":"/api/mentions/unread",request=$http.get(endpoint);return normalizeHttpResponse(request)}function parseMentionData(mentions){var mentionIndex=0;state.mentions=mentions.mentions,_.forEach(state.mentions,function(mention){mentionIndex++,mention.id=mentionIndex,state.mentionsCount=mentionIndex,state.mentionsByID[mention.id]=mention,addMentionToMap("mentionsByProjectID",mention.projectID,mention),addMentionToMap("mentionsByCommentID",mention.commentID,mention),addMentionToMap("mentionsByConversationID",mention.conversationID,mention),addMentionToMap("mentionsByUserID",mention.userID,mention),addMentionToMap("mentionsByScreenID",mention.screenID,mention)})}function addMentionToMap(mapName,key,mention){key&&(state[mapName][key]=state[mapName][key]||{count:0,mentions:{}},state[mapName][key].count++,state[mapName][key].mentions[mention.id]=mention)}function getAllMyMentions(){var myID=sessionService.user.id;return getAllMentionsByUserID(myID)||{count:0,mentions:{}}}function getAllMentionsByUserID(id){return state.mentionsByUserID[id]}function getAllMentionsByScreenID(id){return state.mentionsByScreenID[id]}function getAllMentionsByProjectID(id){return state.mentionsByProjectID[id]}function getAllMentionsByCommentID(id){return state.mentionsByCommentID[id]}function getAllMentionsByConversationID(id){return state.mentionsByConversationID[id]}function getMentionByID(id){return state.mentionsByID[id]}function getMyMentionsCommentIDs(){var myMentions=getAllMyMentions();if(myMentions){var val,prop,tempObj={commentIDs:{prototypeComments:[],boardComments:[]}};for(prop in myMentions.mentions)myMentions.mentions.hasOwnProperty(prop)&&(val=myMentions.mentions[prop],"screen"===val.mentionCommentType?tempObj.commentIDs.prototypeComments.push(val.commentID):"board_item"===val.mentionCommentType&&tempObj.commentIDs.boardComments.push(val.commentID));return tempObj}}function purgeMention(mention){if(_.isNumber(mention)&&(mention=getMentionByID(id)),mention){var id=mention.id;state.mentionsCount--,delete state.mentionsByID[id],removeMentionFromUser(mention.userID,id),removeMentionFromProject(mention.projectID,id),removeMentionFromComment(mention.commentID,id),removeMentionFromConversation(mention.conversationID,id),removeMentionFromScreen(mention.screenID,id)}}function removeAllMentionsForConversation(conversationID){removeAllMentionsFromMap(getAllMentionsByConversationID,conversationID)}function removeAllMentionsForComment(commentID){removeAllMentionsFromMap(getAllMentionsByCommentID,commentID)}function removeAllMentionsForProject(projectID){removeAllMentionsFromMap(getAllMentionsByProjectID,projectID)}function removeAllMentionsFromMap(getMentionsMethod,mapID){var mentionsMap=getMentionsMethod(mapID);mentionsMap&&(_.forEach(mentionsMap.mentions,purgeMention),callGetters())}function removeMentionFromUser(userID,mentionID){removeMentionFromMap("mentionsByUserID",userID,mentionID)}function removeMentionFromScreen(screenID,mentionID){removeMentionFromMap("mentionsByScreenID",screenID,mentionID)}function removeMentionFromProject(projectID,mentionID){removeMentionFromMap("mentionsByProjectID",projectID,mentionID)}function removeMentionFromComment(commentID,mentionID){removeMentionFromMap("mentionsByCommentID",commentID,mentionID)}function removeMentionFromConversation(conversationID,mentionID){removeMentionFromMap("mentionsByConversationID",conversationID,mentionID)}function removeMentionFromMap(type,typeID,mentionID){var map=state[type][typeID];delete map.mentions[mentionID],map.count--}function get(){return state}function load(){if(!state.isLoading){var deferred=$q.defer();return loadData().then(function(mentions){state.isLoading=!1,resetMentionData(),parseMentionData(mentions),callGetters(),deferred.resolve()},function(response){state.isLoading=!1,deferred.reject(response)}),deferred.promise}}var state={isLoading:!1};resetMentionData();var getters={};return clientEvents.forNamespace("inboxMentionsPartial").add("inbox.project.markedRead",handleProjectMarkedRead).add("inbox.conversation.commentDeleted",handleCommentDeleted).add("inbox.conversation.deleted",handleConversationDeleted).add("inbox.conversation.markedRead",handleConversationMarkedRead).add("allInboxNotificationsMarkedRead",handleAllNotificationsMarkedRead),{load:load,get:get,addGetter:addGetter,removeGetter:removeGetter,removeGetterByID:removeGetterByID,getAllMyMentions:getAllMyMentions,getMyMentionsCommentIDs:getMyMentionsCommentIDs,getAllMentionsByScreenID:getAllMentionsByScreenID}}app.factory("mentionsStore",MentionsStoreFactory);var nextGetterID=0}(angular,InVision);;
//!file:mention/services/project-watchers-partial.js
!function(ng){"use strict";function ProjectWatchersPartial($http,$q,$rootScope,_){function get(projectID){if(!projectID)return[];var existingWatchers=_.filter(projectWatchersData.watchers,function(i){return i.projectID===projectID});return ng.copy(existingWatchers)}function load(projectID){var deferred=$q.defer();return projectID?(getWatchers(projectID).then(function(partial){setData(partial,projectID),deferred.resolve(),triggerChange()},function(response){deferred.reject(response)}),deferred.promise):(deferred.reject("Error: undefined itemID"),deferred.promise)}function addBinding(handler,context){bindings.push({handler:handler,context:context||null})}function removeBinding(handler,context){bindings=_.reject(bindings,function(binding){return binding.handler===handler&&(!context||handler.context===context)})}function getWatchers(projectID){var urlParts=["/api/conversations/project-watchers",projectID],request=$http({method:"GET",url:urlParts.join("/")});return request.then(function(response){return response.data},function(errorResponse){return $q.reject(unwrapErrorResponse(errorResponse))})}function setData(partial,projectID){var existingItem=_.find(projectWatchersData.watchers,{projectID:projectID});existingItem||(_.forEach(partial.watchers,function(value){projectWatchersData.watchers.push({projectID:projectID,userID:value.id,name:value.name})}),triggerChange())}function triggerChange(){pendingTrigger||(pendingTrigger=!0,$rootScope.$evalAsync(function(){pendingTrigger=!1,_.each(bindings,function(binding){binding.handler.call(binding.context)})}))}function unwrapErrorResponse(errorResponse){var response={code:-1,id:-1};try{response=ng.fromJson(errorResponse.data),ng.isString(response)&&(response.message=response)}catch(error){response.message="Error: "+error}return response}var projectWatchersData={watchers:[]},bindings=[],pendingTrigger=!1;return{get:get,load:load,addBinding:addBinding,removeBinding:removeBinding}}ng.module("mention").factory("projectWatchersPartial",ProjectWatchersPartial)}(angular);;
//!file:mention/textarea/mention-text.controller.js
!function(ng){"use strict";function textController($attrs,$scope,$timeout,_,appSettings,mentionService){function handleNewUserAdd(text){return mentionService.isEmailAddress(text)?"+"+text:"notemail"}var props=$scope.props=$scope;props.query=function(mentionInfo){var remoteScope=props.triggerCharMap[mentionInfo.mentionTriggerChar];(void 0===props.trimTerm||props.trimTerm)&&(mentionInfo.mentionText=mentionInfo.mentionText.trim()),remoteScope.showMenu(),remoteScope.search({mentionInfo:mentionInfo}),remoteScope.typedTerm=mentionInfo.mentionText},props.defaultSearch=function(mentionInfo){var itNeedsToBeReplaced,results=[],term=mentionInfo.mentionText||"";if(_.forEach(props.items,function(item){var text=item.name.toUpperCase()+item.surname.toUpperCase();~text.indexOf(term.toUpperCase())&&results.push(item)}),itNeedsToBeReplaced="@"===mentionInfo.mentionTriggerChar&&results.length<1&&term.length>2){var element=mentionInfo.mentionSelectedElement,text="+"+term,startPos=mentionInfo.mentionPosition,endPos=startPos+text.length;mentionService.replaceInputText(element,text,startPos,endPos)}props.localItems=results},props.bridgeSearch=function(mentionInfo){var searchFn=$attrs.mentioSearch?props.search:props.defaultSearch;searchFn(mentionInfo)},props.defaultSelect=function(locals){var character=props.defaultTriggerChar;return locals.item.label?handleNewUserAdd(locals.item.label):character+locals.item.name+locals.item.surname},props.bridgeSelect=function(itemVar){var selectFn=$attrs.mentioSelect?props.select:props.defaultSelect;return selectFn({item:itemVar})},props.setTriggerText=function(text){props.syncTriggerText&&(props.typedTerm=void 0===props.trimTerm||props.trimTerm?text.trim():text)},props.context=function(){},props.replaceText=function(text,hasTrailingSpace,hideAll){(void 0===hideAll||hideAll)&&props.hideAll();var startPos=mentionService.replaceTriggerText(props.context(),props.targetElement,props.targetElementPath,props.targetElementSelectedOffset,props.triggerCharSet,text,props.requireLeadingSpace,hasTrailingSpace);if(!hasTrailingSpace&&(props.setTriggerText(""),angular.element(props.targetElement).triggerHandler("change"),props.isContentEditable())){props.contentEditableMenuPasted=!0;var timer=$timeout(function(){props.contentEditableMenuPasted=!1},200);props.$on("$destroy",function(){$timeout.cancel(timer)})}return startPos},props.hideAll=function(){for(var key in props.triggerCharMap)props.triggerCharMap.hasOwnProperty(key)&&props.triggerCharMap[key].hideMenu()},props.selectActive=function(){var key=findVisibleKey(props.triggerCharMap);key&&key.selectActive()},props.isActive=function(){var key=findVisibleKey(props.triggerCharMap);return!!key},props.isContentEditable=function(){return"INPUT"!==props.targetElement.nodeName&&"TEXTAREA"!==props.targetElement.nodeName},props.addMenu=function(menuScope){menuScope.parentScope&&props.triggerCharMap.hasOwnProperty(menuScope.triggerChar)||(props.triggerCharMap[menuScope.triggerChar]=menuScope,props.triggerCharMap["+"]=menuScope,void 0===props.triggerCharSet&&(props.triggerCharSet=[]),props.triggerCharSet.push(menuScope.triggerChar,"+"),menuScope.setParent(props))},props.$on("menuCreated",function(event,data){$attrs.uid&&$attrs.uid===data.targetElement&&props.addMenu(data.scope)})}function findVisibleKey(map){for(var key in map)if(map.hasOwnProperty(key)&&map[key].visible)return map[key];return null}ng.module("mention").controller("mention.TextController",textController)}(angular);;
//!file:mention/textarea/mention-text.directive.js
!function(ng){"use strict";function mentionTextDirective($document,$log,$timeout,appSettings,candidatesPartial,clientEvents,config,mentionService,mentionStorage,mentionUtilities){function linkFunction(scope,element,attrs,controller){function initialize(){!scope.hasMentions||scope.ngModel&&scope.ngModel.length||$timeout(function(){mentions=mentionService.getInitialMentions(),scope.ngModel=mentions,focusElement()})}function handleAddOthers(event,data){attrs.uid&&attrs.uid===data.targetElement&&(scope.ngModel="undefined"==typeof scope.ngModel?" @":scope.ngModel+" @",$timeout(function(){focusElement(),handleWatch(scope.ngModel)},1))}function updateMentions(newValue){var hasConversation=hasMentionShortcut&&!config.featureFlags["prototypes-rain-690-sunset-conversation"],mentionsData=mentionUtilities.findMentions(newValue,{existingMentions:mentionStorage.get(),candidates:candidatesPartial.data.candidates.candidates,members:hasMentionShortcut?candidatesPartial.data.candidates.members:[],conversationMembers:hasConversation?candidatesPartial.data.candidates.conversationMembers:[],debug:!1});mentionStorage.set(mentionsData),hasExistingMentions=!!mentionsData.length}function handleWatch(newValue,oldValue){if(newValue!==oldValue&&(newValue!==mentions||""===newValue)){firstEdit&&(scope.$emit("mentionText.editing",!0),firstEdit=!1),newValue||(scope.$emit("mentionText.editing",!1),firstEdit=!0);var isActive=scope.isActive();if(!scope.triggerCharSet)return void $log.error("Error, no mention-items attribute was provided");if(pendingMentionsUpdate&&clearTimeout(pendingMentionsUpdate),pendingMentionsUpdate=setTimeout(function(){updateMentions(newValue),pendingMentionsUpdate=null},250),hasExistingMentions){var mentionsToCheck=mentionStorage.get();document.activeElement.value=mentionUtilities.replaceMalformedEmails(newValue,mentionsToCheck)}var mentionInfo=mentionService.getTriggerInfo(scope.context(),scope.triggerCharSet,scope.requireLeadingSpace,isActive);mentionInfo&&(mentionInfo.mentionText=mentionInfo.mentionText.replace(/[^a-zA-Z0-9]+$/,""));var isContentEditable=scope.isContentEditable(),mentionPositionMatches=mentionInfo&&mentionInfo.mentionPosition===scope.currentMentionPosition,alreadyTriggeredFromInput=!isContentEditable&&mentionPositionMatches,triggerCharMatches=mentionInfo&&mentionInfo.mentionTriggerChar===scope.currentMentionTriggerChar,alreadyTriggeredFromContentEditable=isContentEditable&&triggerCharMatches,alreadyTriggered=isActive&&(alreadyTriggeredFromContentEditable||alreadyTriggeredFromInput),isNewOrAlreadyTriggered=!isActive||alreadyTriggered;if(mentionInfo&&isNewOrAlreadyTriggered)mentionInfo.mentionSelectedElement&&(scope.targetElement=mentionInfo.mentionSelectedElement,scope.targetElementPath=mentionInfo.mentionSelectedPath,scope.targetElementSelectedOffset=mentionInfo.mentionSelectedOffset),scope.setTriggerText(mentionInfo.mentionText),scope.currentMentionPosition=mentionInfo.mentionPosition,scope.currentMentionTriggerChar=mentionInfo.mentionTriggerChar,scope.query(mentionInfo);else{{scope.typedTerm}scope.setTriggerText(""),scope.hideAll()}}}function focusElement(){var el=element[0];el.focus(),el.selectionStart=el.selectionEnd=el.value.length}function handleDestroy(){mentionStorage.destroy(),scope.$emit("mentionText.editing",!1)}scope.triggerCharMap={},scope.targetElement=element,attrs.$set("autocomplete","off");var mentions="",pendingMentionsUpdate=null,hasExistingMentions=!1,firstEdit=!0,hasMentionShortcut=appSettings.getSettings().features.mentionShortcut;clientEvents.forNamespace("mention").add("mention.addOthers",handleAddOthers),scope.hasMentions&&scope.$watch("ngModel",handleWatch),scope.$on("$destroy",handleDestroy),initialize()}return{restrict:"A",controller:"mention.TextController",controllerAs:"vm",scope:{uid:"=uid",ngModel:"=",typedTerm:"=mentioTypedTerm",requireLeadingSpace:"=mentioRequireLeadingSpace",trimTerm:"=mentioTrimTerm",hasWhoIsNotified:"@hasWhoIsNotified",hasMentions:"=hasMentions",hasMentionShortcut:"@hasMentionShortcut"},link:linkFunction}}ng.module("mention").directive("invMentionText",mentionTextDirective)}(angular);;
//!file:mention/who-is-notified/mention-who-is-notified.controller.js
!function(ng){"use strict";function WhoIsNotifiedController($attrs,$log,$scope,_,appSettings,clientEvents,mentionStorage,modelEvents){function pluralizePerson(){return 1===vm.peopleNotified.length?"person":"people"}function getUsername(user){return user.name?user.name:!user.text||"@"!==user.text[0]&&"+"!==user.text[0]?user.text:user.text.slice(1)}function addOthers(){clientEvents.trigger("mention.addOthers",{targetElement:$attrs.mentioFor})}function initialize(){updatePeopleNotified()}function updatePeopleNotified(){vm.peopleNotified=mentionStorage.getWhoIsNotified()}function handleMentionStorageUpdated(){$scope.$evalAsync(function(){updatePeopleNotified()})}function handleDestroy(){modelEvents.off("MentionStorageUpdated")}{var vm=this;$scope.props=$scope}modelEvents.on("MentionStorageUpdated",handleMentionStorageUpdated),$scope.$on("$destroy",handleDestroy),initialize(),vm.pluralizePerson=pluralizePerson,vm.getUsername=getUsername,vm.addOthers=addOthers}ng.module("mention").controller("mention.WhoIsNotifiedController",WhoIsNotifiedController)}(angular);;
//!file:mention/who-is-notified/mention-who-is-notified.directive.js
!function(ng){"use strict";function WhoIsNotifiedDirective(){return{restrict:"A",templateUrl:"/share/common/ng-components/mention/who-is-notified/mention-who-is-notified.directive.htm",controller:"mention.WhoIsNotifiedController",controllerAs:"vm"}}ng.module("mention").directive("invMentionWhoIsNotified",WhoIsNotifiedDirective)}(angular);;
//!file:mention-utilities.js
!function(ng,app){"use strict";function MentionUtilities($log){function log(){$log?$log.log.apply($log,arguments):window&&window.console&&window.console.log.apply(window.console,arguments)}function nameToMentionText(name){var result="@"+name.replace(NAME_TO_MENTION_TEXT_RE,"");return result}function userToMention(user){return{userID:user.id||user.userID,text:nameToMentionText(user.name)}}function findMentions(commentText,userOptions){var options=ng.copy(defaultOptions);ng.isObject(userOptions)&&ng.extend(options,userOptions);var match,text,existingMention,newMention,matchingCandidates,mentionShortcut,email,results=[],cursorPos=0,existingMentions=options.existingMentions,candidates=options.candidates,members=options.members,conversationMembers=options.conversationMembers;if(!ng.isArray(existingMentions))throw"if provided, existingMentions must be an array";if(!ng.isArray(candidates))throw"if provided, candidates must be an array";for(options.debug&&log("commentText:",commentText),options.searchCandidates&&candidates.length<=options.maxCandidates&&_.each(candidates,function(candidate){candidate.mentionText=nameToMentionText(candidate.name).toLowerCase()});match=VISIBLE_MENTION_RE.exec(commentText);)options.debug&&log("Checking mention match:",match[2],"index:",match.index,match),matchingCandidates=[],existingMention=null,newMention=null,email=null,cursorPos=match.index+match[1].length,text=match[2]||match[3],text=text.replace(/[\s,.!?\-]$/,""),mentionShortcut="@project"===text||"@conversation"===text,text=text.replace(TRAILING_PUNCTUATION_RE,""),options.debug&&log("Text with trailing punctuation stripped:",text),existingMention=_.find(existingMentions,{text:text,startPos:cursorPos}),!existingMention||mentionShortcut?(existingMention=_.find(existingMentions,{text:text}),!existingMention||mentionShortcut?members.length&&"@project"===text?_.each(members,function(member){newMention={userID:member.id,text:text,name:member.name,startPos:cursorPos},results.push(newMention)}):conversationMembers.length&&"@conversation"===text?_.each(conversationMembers,function(member){newMention={userID:member.id,text:text,name:member.name,startPos:cursorPos},results.push(newMention)}):options.searchCandidates&&candidates.length<=options.maxCandidates&&(_.each(candidates,function(candidate){candidate.mentionText===text.toLowerCase()&&"shortcut"!==candidate.role&&matchingCandidates.push(ng.copy(candidate))}),1===matchingCandidates.length)?(options.debug&&log("Have single candidate which matches text"),newMention={userID:matchingCandidates[0].id,text:text,name:matchingCandidates[0].name,startPos:cursorPos},results.push(newMention)):isEmailAddress(text)&&(("@"===text.charAt(0)||"+"===text.charAt(0))&&(text=text.slice(1,text.length)),options.debug&&log("Have apparently-valid email address"),newMention={startPos:cursorPos,text:"+"+text,email:text},results.push(newMention)):(options.debug&&log("Have text match different startPos with existing mention"),newMention=ng.copy(existingMention),newMention.startPos=cursorPos,results.push(newMention))):(options.debug&&log("Have exact match with existing mention"),results.push(existingMention));return options.debug&&(log(results.length+" mentions in "+commentText+":---------"),_.each(results,function(m){log(JSON.stringify(m))})),results}function isEmailAddress(text){return text.match(EMAIL_RE)}function replaceMalformedEmails(commentText,mentions){return mentions.forEach(function(item){var slicedText=item.text.slice(1,item.text.length);if(isEmailAddress(slicedText)){var malformedEmail="@"+slicedText;-1!==commentText.indexOf(malformedEmail)&&(commentText=commentText.replace(malformedEmail,"+"+slicedText))}}),commentText}var PUNCTUATION="!-/:-@[-`{-~",SPACES="\x00- ",NAME_TO_MENTION_TEXT_RE=new RegExp("["+SPACES+PUNCTUATION+"]+","g"),MENTION_STRINGPATTERN="(@[\\S]+(?:["+PUNCTUATION+"]+|$)?)",EMAIL_ADDRESS_STRINGPATTERN="([^@\\s]+@[^@\\s]+\\.\\w{2}[\\.\\w]*)",VISIBLE_MENTION_STRINGPATTERN="(^|\\s)(?:"+MENTION_STRINGPATTERN+"|\\+("+EMAIL_ADDRESS_STRINGPATTERN+"))",VISIBLE_MENTION_RE=new RegExp(VISIBLE_MENTION_STRINGPATTERN,"g"),EMAIL_RE=new RegExp(EMAIL_ADDRESS_STRINGPATTERN),TRAILING_PUNCTUATION_RE=new RegExp("["+PUNCTUATION+"]+$","g"),defaultOptions={candidates:[],conversationMembers:[],debug:!1,existingMentions:[],maxCandidates:300,members:[],searchCandidates:!0};return{findMentions:findMentions,isEmailAddress:isEmailAddress,nameToMentionText:nameToMentionText,replaceMalformedEmails:replaceMalformedEmails,userToMention:userToMention}}"undefined"!=typeof module&&module.exports?module.exports=MentionUtilities(null):app&&app.service("mentionUtilities",MentionUtilities)}(angular,InVision);;
//!file:conversations-vendor.min.43ffaba76412ca9ebf0d.js
!function(t){function e(n){if(r[n])return r[n].e;var i=r[n]={e:{},i:n,l:!1};return t[n].call(i.e,i,i.e,e),i.l=!0,i.e}var n=window.webpackJsonp;window.webpackJsonp=function(r,o,a){for(var u,s,c=0,l=[];c<r.length;c++)s=r[c],i[s]&&l.push(i[s][0]),i[s]=0;for(u in o)t[u]=o[u];for(n&&n(r,o);l.length;)l.shift()();return a+1?e(a):void 0};var r={},i={0:0};return e.e=function(t){function n(){o.onerror=o.onload=null,clearTimeout(a);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}if(0===i[t])return Promise.resolve();if(i[t])return i[t][2];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.timeout=12e4,o.src=e.p+""+t+".dist/conversations-assets.min.43ffaba76412ca9ebf0d.js";var a=setTimeout(n,12e4);o.onerror=o.onload=n,r.appendChild(o);var u=new Promise(function(e,n){i[t]=[e,n]});return i[t][2]=u},e.m=t,e.c=r,e.p="",e(e.s=182)}([function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,u){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,u],l=0;s=new Error(e.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}t.e=r},function(t,e,n){"use strict";var r=n(8),i=r;t.e=i},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.e=Object.assign||function(t,e){for(var n,a,u=r(t),s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(u[a[l]]=n[a[l]])}}return u}},function(t,e,n){"use strict";function r(t){for(var e;e=t._renderedComponent;)t=e;return t}function i(t,e){var n=r(t);n._nativeNode=e,e[v]=n}function o(t){var e=t._nativeNode;e&&(delete e[v],t._nativeNode=null)}function a(t,e){if(!(t._flags&d.hasCachedChildNodes)){var n=t._renderedChildren,o=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var u=n[a],s=r(u)._domID;if(null!=s){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(h)===String(s)||8===o.nodeType&&o.nodeValue===" react-text: "+s+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+s+" "){i(u,o);continue t}p(!1)}}t._flags|=d.hasCachedChildNodes}}function u(t){if(t[v])return t[v];for(var e=[];!t[v];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,r;t&&(r=t[v]);t=e.pop())n=r,e.length&&a(r,t);return n}function s(t){var e=u(t);return null!=e&&e._nativeNode===t?e:null}function c(t){if(void 0===t._nativeNode?p(!1):void 0,t._nativeNode)return t._nativeNode;for(var e=[];!t._nativeNode;)e.push(t),t._nativeParent?void 0:p(!1),t=t._nativeParent;for(;e.length;t=e.pop())a(t,t._nativeNode);return t._nativeNode}var l=n(13),f=n(70),p=n(0),h=l.ID_ATTRIBUTE_NAME,d=f,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),_={getClosestInstanceFromNode:u,getInstanceFromNode:s,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:i,uncacheNode:o};t.e=_},function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.e=i},function(t,e,n){"use strict";function r(t,e,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){i.storedMeasure=t}}};t.e=i},function(t,e,n){"use strict";var r=n(2),i=n(12),o=(n(1),n(40),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},u=function(t,e,n,r,i,a,u){var s={$$typeof:o,type:t,key:e,ref:n,props:u,_owner:a};return s};u.createElement=function(t,e,n){var r,o={},s=null,c=null,l=null,f=null;if(null!=e){c=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key,l=void 0===e.__self?null:e.__self,f=void 0===e.__source?null:e.__source;for(r in e)e.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(o[r]=e[r])}var p=arguments.length-2;if(1===p)o.children=n;else if(p>1){for(var h=Array(p),d=0;p>d;d++)h[d]=arguments[d+2];o.children=h}if(t&&t.defaultProps){var v=t.defaultProps;for(r in v)void 0===o[r]&&(o[r]=v[r])}return u(t,s,c,l,f,i.current,o)},u.createFactory=function(t){var e=u.createElement.bind(null,t);return e.type=t,e},u.cloneAndReplaceKey=function(t,e){var n=u(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},u.cloneElement=function(t,e,n){var o,s=r({},t.props),c=t.key,l=t.ref,f=t._self,p=t._source,h=t._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,h=i.current),void 0!==e.key&&(c=""+e.key);var d;t.type&&t.type.defaultProps&&(d=t.type.defaultProps);for(o in e)e.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(s[o]=void 0===e[o]&&void 0!==d?d[o]:e[o])}var v=arguments.length-2;if(1===v)s.children=n;else if(v>1){for(var _=Array(v),y=0;v>y;y++)_[y]=arguments[y+2];s.children=_}return u(t.type,c,l,f,p,h,s)},u.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},t.e=u},function(t,e,n){"use strict";function r(){T.ReactReconcileTransaction&&w?void 0:y(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=f.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!0)}function o(t,e,n,i,o,a){r(),w.batchedUpdates(t,e,n,i,o,a)}function a(t,e){return t._mountOrder-e._mountOrder}function u(t){var e=t.dirtyComponentsLength;e!==m.length?y(!1):void 0,m.sort(a);for(var n=0;e>n;n++){var r=m[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(h.logTopLevelRenders){var u=r;r._currentElement.props===r._renderedComponent._currentElement&&(u=r._renderedComponent),o="React update: "+u.getName(),console.time(o)}if(v.performUpdateIfNecessary(r,t.reconcileTransaction),o&&console.timeEnd(o),i)for(var s=0;s<i.length;s++)t.callbackQueue.enqueue(i[s],r.getPublicInstance())}}function s(t){return r(),w.isBatchingUpdates?void m.push(t):void w.batchedUpdates(s,t)}function c(t,e){w.isBatchingUpdates?void 0:y(!1),g.enqueue(t,e),b=!0}var l=n(2),f=n(65),p=n(14),h=n(74),d=n(5),v=n(16),_=n(39),y=n(0),m=[],g=f.getPooled(),b=!1,w=null,C={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),S()):m.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},k=[C,E];l(i.prototype,_.Mixin,{getTransactionWrappers:function(){return k},destructor:function(){this.dirtyComponentsLength=null,f.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return _.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(i);var S=function(){for(;m.length||b;){if(m.length){var t=i.getPooled();t.perform(u,null,t),i.release(t)}if(b){b=!1;var e=g;g=f.getPooled(),e.notifyAll(),f.release(e)}}};S=d.measure("ReactUpdates","flushBatchedUpdates",S);var x={injectReconcileTransaction:function(t){t?void 0:y(!1),T.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:y(!1),"function"!=typeof t.batchedUpdates?y(!1):void 0,"boolean"!=typeof t.isBatchingUpdates?y(!1):void 0,w=t}},T={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:s,flushBatchedUpdates:S,injection:x,asap:c};t.e=T},function(t,e,n){"use strict";function r(t){return function(){return t}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.e=i},function(t,e,n){"use strict";var r=n(22),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};t.e=a},function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];u?this[o]=u(n):"target"===o?this.target=r:this[o]=n[o]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return this.isDefaultPrevented=s?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(2),o=n(14),a=n(8),u=(n(1),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<u.length;n++)this[u[n]]=null}}),r.Interface=s,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=i({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),t.e=r},function(t,e,n){"use strict";var r=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.e=r},function(t,e,n){"use strict";var r={current:null};t.e=r},function(t,e,n){"use strict";function r(t,e){return(t&e)===e}var i=n(0),o={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},s=t.DOMAttributeNames||{},c=t.DOMPropertyNames||{},l=t.DOMMutationMethods||{};t.isCustomAttribute&&u._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var f in n){u.properties.hasOwnProperty(f)?i(!1):void 0;var p=f.toLowerCase(),h=n[f],d={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(h,e.MUST_USE_PROPERTY),hasSideEffects:r(h,e.HAS_SIDE_EFFECTS),hasBooleanValue:r(h,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!d.mustUseProperty&&d.hasSideEffects?i(!1):void 0,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i(!1),s.hasOwnProperty(f)){var v=s[f];d.attributeName=v}a.hasOwnProperty(f)&&(d.attributeNamespace=a[f]),c.hasOwnProperty(f)&&(d.propertyName=c[f]),l.hasOwnProperty(f)&&(d.mutationMethod=l[f]),u.properties[f]=d}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",u={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<u._isCustomAttributeFunctions.length;e++){var n=u._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:o};t.e=u},function(t,e,n){"use strict";var r=n(0),i=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},u=function(t,e,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,t,e,n,r),o}return new i(t,e,n,r)},s=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,r,i),a}return new o(t,e,n,r,i)},c=function(t){var e=this;t instanceof e?void 0:r(!1),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},l=10,f=i,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||f,n.poolSize||(n.poolSize=l),n.release=c,n},h={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:u,fiveArgumentPooler:s};t.e=h},function(t,e,n){"use strict";function r(t){if(f){var e=t.node,n=t.children;if(n.length)for(var r=0;r<n.length;r++)p(e,n[r],null);else null!=t.html?e.innerHTML=t.html:null!=t.text&&l(e,t.text)}}function i(t,e){t.parentNode.replaceChild(e.node,t),r(e)}function o(t,e){f?t.children.push(e):t.node.appendChild(e.node)}function a(t,e){f?t.html=e:t.node.innerHTML=e}function u(t,e){f?t.text=e:l(t.node,e)}function s(t){return{node:t,children:[],html:null,text:null}}var c=n(41),l=n(91),f="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),p=c(function(t,e,n){11===e.node.nodeType?(r(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),r(e))});s.insertTreeBefore=p,s.replaceChildWithTree=i,s.queueChild=o,s.queueHTML=a,s.queueText=u,t.e=s},function(t,e,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(151),o=(n(25),{mountComponent:function(t,e,n,i,o){var a=t.mountComponent(e,n,i,o);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(r,t),a},getNativeNode:function(t){return t.getNativeNode()},unmountComponent:function(t,e){i.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){var u=i.shouldUpdateRefs(a,e);u&&i.detachRefs(t,a),t.receiveComponent(e,n,o),u&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}});t.e=o},function(t,e,n){"use strict";var r=n(23),i=n(34),o=n(37),a=n(85),u=n(86),s=n(0),c={},l=null,f=function(t,e){t&&(i.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return f(t,!0)},h=function(t){return f(t,!1)},d={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?s(!1):void 0;var i=c[e]||(c[e]={});i[t._rootNodeID]=n;var o=r.registrationNameModules[e];o&&o.didPutListener&&o.didPutListener(t,e,n)},getListener:function(t,e){var n=c[e];return n&&n[t._rootNodeID]},deleteListener:function(t,e){var n=r.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var i=c[e];i&&delete i[t._rootNodeID]},deleteAllListeners:function(t){for(var e in c)if(c[e][t._rootNodeID]){var n=r.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete c[e][t._rootNodeID]}},extractEvents:function(t,e,n,i){for(var o,u=r.plugins,s=0;s<u.length;s++){var c=u[s];if(c){var l=c.extractEvents(t,e,n,i);l&&(o=a(o,l))}}return o},enqueueEvents:function(t){t&&(l=a(l,t))},processEventQueue:function(t){var e=l;l=null,t?u(e,p):u(e,h),l?s(!1):void 0,o.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};t.e=d},function(t,e,n){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return g(t,r)}function i(t,e,n){var i=e?m.bubbled:m.captured,o=r(t,n,i);o&&(n._dispatchListeners=_(n._dispatchListeners,o),n._dispatchInstances=_(n._dispatchInstances,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&v.traverseTwoPhase(t._targetInst,i,t)}function a(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?v.getParentInstance(e):null;v.traverseTwoPhase(n,i,t)}}function u(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=g(t,r);i&&(n._dispatchListeners=_(n._dispatchListeners,i),n._dispatchInstances=_(n._dispatchInstances,t))}}function s(t){t&&t.dispatchConfig.registrationName&&u(t._targetInst,null,t)}function c(t){y(t,o)}function l(t){y(t,a)}function f(t,e,n,r){v.traverseEnterLeave(n,r,u,t,e)}function p(t){y(t,s)}var h=n(9),d=n(17),v=n(34),_=n(85),y=n(86),m=(n(1),h.PropagationPhases),g=d.getListener,b={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:f};t.e=b},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(10),o=n(44),a={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(r,a),t.e=r},function(t,e,n){"use strict";t.e=n(120)},function(t,e,n){"use strict";var r={};t.e=r},function(t,e,n){"use strict";var r=n(0),i=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:r(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.e=i},function(t,e,n){"use strict";function r(){if(u)for(var t in s){var e=s[t],n=u.indexOf(t);if(n>-1?void 0:a(!1),!c.plugins[n]){e.extractEvents?void 0:a(!1),c.plugins[n]=e;var r=e.eventTypes;for(var o in r)i(r[o],e,o)?void 0:a(!1)}}}function i(t,e,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,c.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var u=r[i];o(u,e,n)}return!0}return t.registrationName?(o(t.registrationName,e,n),!0):!1}function o(t,e,n){c.registrationNameModules[t]?a(!1):void 0,c.registrationNameModules[t]=e,c.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=n(0),u=null,s={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){u?a(!1):void 0,u=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];s.hasOwnProperty(n)&&s[n]===i||(s[n]?a(!1):void 0,s[n]=i,e=!0)}e&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var t in s)s.hasOwnProperty(t)&&delete s[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.e=c},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,_)||(t[_]=d++,p[t[_]]={}),p[t[_]]}var i,o=n(2),a=n(9),u=n(23),s=n(143),c=n(84),l=n(171),f=n(46),p={},h=!1,d=0,v={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},_="_reactListenersID"+String(Math.random()).slice(2),y=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(y.handleTopLevel),y.ReactEventListener=t}},setEnabled:function(t){y.ReactEventListener&&y.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!y.ReactEventListener||!y.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,i=r(n),o=u.registrationNameDependencies[t],s=a.topLevelTypes,c=0;c<o.length;c++){var l=o[c];i.hasOwnProperty(l)&&i[l]||(l===s.topWheel?f("wheel")?y.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):f("mousewheel")?y.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):y.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):l===s.topScroll?f("scroll",!0)?y.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):y.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",y.ReactEventListener.WINDOW_HANDLE):l===s.topFocus||l===s.topBlur?(f("focus",!0)?(y.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),y.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):f("focusin")&&(y.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),y.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),i[s.topBlur]=!0,i[s.topFocus]=!0):v.hasOwnProperty(l)&&y.ReactEventListener.trapBubbledEvent(l,v[l],n),i[l]=!0)}},trapBubbledEvent:function(t,e,n){return y.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return y.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!i&&!h){var t=c.refreshScrollValues;y.ReactEventListener.monitorScrollValue(t),h=!0}}});t.e=y},function(t,e,n){"use strict";var r=n(140);t.e={debugTool:r}},function(t,e,n){"use strict";var r={};t.e=r},function(t,e,n){"use strict";var r=n(22),i=r({prop:null,context:null,childContext:null});t.e=i},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(19),o=n(84),a=n(43),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};i.augmentClass(r,u),t.e=r},function(t,e,n){"use strict";function r(t){return o[t]}function i(t){return(""+t).replace(a,r)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;t.e=i},function(t,e,n){(function(t,r){var i;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function u(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function c(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=Array(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function l(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function f(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function p(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function d(t,e){return!!t.length&&k(t,e,0)>-1}function v(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function _(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function y(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function m(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function g(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function w(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(u===et?a===a:n(a,u)))var u=a,s=o}return s}function C(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function E(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function k(t,e,n){if(e!==e)return W(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function S(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function x(t,e){var n=t?t.length:0;return n?O(t,e)/n:Ot}function T(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function P(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==et&&(n=n===et?o:n+o)}return n}function A(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function I(t,e){return _(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function M(t,e){return _(e,function(e){return t[e]})}function N(t,e){for(var n=-1,r=t.length;++n<r&&k(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length;n--&&k(e,t[n],0)>-1;);return n}function j(t){return t&&t.Object===Object?t:null}function F(t,e){if(t!==e){var n=null===t,r=t===et,i=t===t,o=null===e,a=e===et,u=e===e;if(t>e&&!o||!i||n&&!a&&u||r&&u)return 1;if(e>t&&!n||!u||o&&!r&&i||a&&i)return-1}return 0}function L(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=F(i[r],o[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function z(t){return function(e,n){var r;return e===et&&n===et?0:(e!==et&&(r=e),n!==et&&(r=r===et?n:t(r,n)),r)}}function V(t){return Pn[t]}function B(t){return On[t]}function q(t){return"\\"+Rn[t]}function W(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function K(t,e){return t="number"==typeof t||Me.test(t)?+t:-1,e=null==e?Tt:e,t>-1&&t%1==0&&e>t}function $(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Y(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==at||(t[n]=at,o[i++]=n)}return o}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Q(t){if(!t||!bn.test(t))return t.length;for(var e=gn.lastIndex=0;gn.test(t);)e++;return e}function J(t){return t.match(gn)}function Z(t){return An[t]}function tt(t){function e(t){if(eu(t)&&!ql(t)&&!(t instanceof i)){if(t instanceof r)return t;if(uc.call(t,"__wrapped__"))return Ki(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=et}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=At,this.__views__=[]}function j(){var t=new i(this.__wrapped__);return t.__actions__=Kr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Kr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Kr(this.__views__),t}function Me(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Fe(){var t=this.__wrapped__.value(),e=this.__dir__,n=ql(t),r=0>e,i=n?t.length:0,o=Pi(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,p=0,h=Rc(s,this.__takeCount__);if(!n||rt>i||i==s&&h==s)return Mr(t,this.__actions__);var d=[];t:for(;s--&&h>p;){c+=e;for(var v=-1,_=t[c];++v<f;){var y=l[v],m=y.iteratee,g=y.type,b=m(_);if(g==kt)_=b;else if(!b){if(g==Et)continue t;break t}}d[p++]=_}return d}function Le(){}function Ue(t,e){return Ve(t,e)&&delete t[e]}function ze(t,e){if(Vc){var n=t[e];return n===ot?et:n}return uc.call(t,e)?t[e]:et}function Ve(t,e){return Vc?t[e]!==et:uc.call(t,e)}function Be(t,e,n){t[e]=Vc&&n===et?ot:n}function qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function We(){this.__data__={hash:new Le,map:Fc?new Fc:[],string:new Le}}function He(t){var e=this.__data__;return ji(t)?Ue("string"==typeof t?e.string:e.hash,t):Fc?e.map["delete"](t):on(e.map,t)}function Ke(t){var e=this.__data__;return ji(t)?ze("string"==typeof t?e.string:e.hash,t):Fc?e.map.get(t):an(e.map,t)}function $e(t){var e=this.__data__;return ji(t)?Ve("string"==typeof t?e.string:e.hash,t):Fc?e.map.has(t):un(e.map,t)}function Xe(t,e){var n=this.__data__;return ji(t)?Be("string"==typeof t?n.string:n.hash,t,e):Fc?n.map.set(t,e):cn(n.map,t,e),this}function Ye(t){var e=-1,n=t?t.length:0;for(this.__data__=new qe;++e<n;)this.push(t[e])}function Ge(t,e){var n=t.__data__;if(ji(e)){var r=n.__data__,i="string"==typeof e?r.string:r.hash;return i[e]===ot}return n.has(e)}function Qe(t){var e=this.__data__;if(ji(t)){var n=e.__data__,r="string"==typeof t?n.string:n.hash;r[t]=ot}else e.set(t,ot)}function Je(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ze(){this.__data__={array:[],map:null}}function tn(t){var e=this.__data__,n=e.array;return n?on(n,t):e.map["delete"](t)}function en(t){var e=this.__data__,n=e.array;return n?an(n,t):e.map.get(t)}function nn(t){var e=this.__data__,n=e.array;return n?un(n,t):e.map.has(t)}function rn(t,e){var n=this.__data__,r=n.array;r&&(r.length<rt-1?cn(r,t,e):(n.array=null,n.map=new qe(r)));var i=n.map;return i&&i.set(t,e),this}function on(t,e){var n=sn(t,e);if(0>n)return!1;

var r=t.length-1;return n==r?t.pop():kc.call(t,n,1),!0}function an(t,e){var n=sn(t,e);return 0>n?et:t[n][1]}function un(t,e){return sn(t,e)>-1}function sn(t,e){for(var n=t.length;n--;)if(ja(t[n][0],e))return n;return-1}function cn(t,e,n){var r=sn(t,e);0>r?t.push([e,n]):t[r][1]=n}function ln(t,e,n,r){return t===et||ja(t,oc[n])&&!uc.call(r,n)?e:t}function fn(t,e,n){(n===et||ja(t[e],n))&&("number"!=typeof e||n!==et||e in t)||(t[e]=n)}function pn(t,e,n){var r=t[e];uc.call(t,e)&&ja(r,n)&&(n!==et||e in t)||(t[e]=n)}function hn(t,e,n,r){return Zc(t,function(t,i,o){e(r,t,n(t),o)}),r}function dn(t,e){return t&&$r(e,Vu(e),t)}function vn(t,e){for(var n=-1,r=null==t,i=e.length,o=Array(i);++n<i;)o[n]=r?et:Lu(t,e[n]);return o}function _n(t){return Ba(t)?t:[]}function yn(t){return"function"==typeof t?t:Rs}function gn(t){return"string"==typeof t||vu(t)?t:t+""}function Pn(t){return ql(t)?t:cl(t)}function On(t,e,n){return t===t&&(n!==et&&(t=n>=t?t:n),e!==et&&(t=t>=e?t:e)),t}function An(t,e,n,r,i,o,a){var u;if(r&&(u=o?r(t,i,o,a):r(t)),u!==et)return u;if(!tu(t))return t;var s=ql(t);if(s){if(u=Ai(t),!e)return Kr(t,u)}else{var c=Ti(t),f=c==Lt||c==Ut;if(Wl(t))return jr(t,e);if(c==Bt||c==Mt||f&&!o){if(H(t))return o?t:{};if(u=Ii(f?{}:t),!e)return Yr(t,dn(u,t))}else{if(!Tn[c])return o?t:{};u=Ri(t,c,An,e)}}a||(a=new Je);var p=a.get(t);if(p)return p;if(a.set(t,u),!s)var h=n?mi(t):Vu(t);return l(h||t,function(i,o){h&&(o=i,i=t[o]),pn(u,o,An(i,e,n,r,o,t,a))}),u}function In(t){var e=Vu(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=e[i],a=t[o],u=r[o];if(u===et&&!(o in Object(r))||!a(u))return!1}return!0}}function Rn(t){return tu(t)?wc(t):{}}function Dn(t,e,n){if("function"!=typeof t)throw new rc(it);return Ec(function(){t.apply(et,n)},e)}function jn(t,e,n,r){var i=-1,o=d,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=_(e,R(n))),r?(o=v,a=!1):e.length>=rt&&(o=Ge,a=!1,e=new Ye(e));t:for(;++i<u;){var l=t[i],f=n?n(l):l;if(a&&f===f){for(var p=c;p--;)if(e[p]===f)continue t;s.push(l)}else o(e,f,r)||s.push(l)}return s}function Ln(t,e){var n=!0;return Zc(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Un(t,e,n,r){var i=t.length;for(n=Eu(n),0>n&&(n=-n>i?0:i+n),r=r===et||r>i?i:Eu(r),0>r&&(r+=i),r=n>r?0:ku(r);r>n;)t[n++]=e;return t}function zn(t,e){var n=[];return Zc(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Vn(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];e>0&&Ba(a)&&(n||ql(a)||Ua(a))?e>1?Vn(a,e-1,n,r):y(r,a):n||(r[r.length]=a)}return r}function Wn(t,e){return t&&el(t,e,Vu)}function Hn(t,e){return t&&nl(t,e,Vu)}function Kn(t,e){return h(e,function(e){return Qa(t[e])})}function $n(t,e){e=Di(e,t)?[e]:Pn(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:et}function Xn(t,e,n){var r=e(t);return ql(t)?r:y(r,n(t))}function Yn(t,e){return uc.call(t,e)||"object"==typeof t&&e in t&&null===Si(t)}function Gn(t,e){return e in Object(t)}function Qn(t,e,n){return t>=Rc(e,n)&&t<Ic(e,n)}function Jn(t,e,n){for(var r=n?v:d,i=t[0].length,o=t.length,a=o,u=Array(o),s=1/0,c=[];a--;){var l=t[a];a&&e&&(l=_(l,R(e))),s=Rc(l.length,s),u[a]=!n&&(e||i>=120&&l.length>=120)?new Ye(a&&l):et}l=t[0];var f=-1,p=u[0];t:for(;++f<i&&c.length<s;){var h=l[f],y=e?e(h):h;if(!(p?Ge(p,y):r(c,y,n))){for(a=o;--a;){var m=u[a];if(!(m?Ge(m,y):r(t[a],y,n)))continue t}p&&p.push(y),c.push(h)}}return c}function Zn(t,e,n,r){return Wn(t,function(t,i,o){e(r,n(t),i,o)}),r}function tr(t,e,n){Di(e,t)||(e=Pn(e),t=qi(t,e),e=fo(e));var r=null==t?t:t[e];return null==r?et:u(r,t,n)}function er(t,e,n,r,i){return t===e?!0:null==t||null==e||!tu(t)&&!eu(e)?t!==t&&e!==e:nr(t,e,er,n,r,i)}function nr(t,e,n,r,i,o){var a=ql(t),u=ql(e),s=Nt,c=Nt;a||(s=Ti(t),s=s==Mt?Bt:s),u||(c=Ti(e),c=c==Mt?Bt:c);var l=s==Bt&&!H(t),f=c==Bt&&!H(e),p=s==c;if(p&&!l)return o||(o=new Je),a||_u(t)?vi(t,e,n,r,i,o):_i(t,e,s,n,r,i,o);if(!(i&mt)){var h=l&&uc.call(t,"__wrapped__"),d=f&&uc.call(e,"__wrapped__");if(h||d){var v=h?t.value():t,_=d?e.value():e;return o||(o=new Je),n(v,_,r,i,o)}}return p?(o||(o=new Je),yi(t,e,n,r,i,o)):!1}function rr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=n[i];var s=u[0],c=t[s],l=u[1];if(a&&u[2]){if(c===et&&!(s in t))return!1}else{var f=new Je;if(r)var p=r(c,l,s,t,e,f);if(!(p===et?er(l,c,r,yt|mt,f):p))return!1}}return!0}function ir(t){return"function"==typeof t?t:null==t?Rs:"object"==typeof t?ql(t)?cr(t[0],t[1]):sr(t):zs(t)}function or(t){return Ac(Object(t))}function ar(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function ur(t,e){var n=-1,r=Va(t)?Array(t.length):[];return Zc(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function sr(t){var e=Ci(t);return 1==e.length&&e[0][2]?zi(e[0][0],e[0][1]):function(n){return n===t||rr(n,t,e)}}function cr(t,e){return Di(t)&&Ui(e)?zi(t,e):function(n){var r=Lu(n,t);return r===et&&r===e?zu(n,t):er(e,r,et,yt|mt)}}function lr(t,e,n,r,i){if(t!==e){if(!ql(e)&&!_u(e))var o=Bu(e);l(o||e,function(a,u){if(o&&(u=a,a=e[u]),tu(a))i||(i=new Je),fr(t,e,u,n,lr,r,i);else{var s=r?r(t[u],a,u+"",t,e,i):et;s===et&&(s=a),fn(t,u,s)}})}}function fr(t,e,n,r,i,o,a){var u=t[n],s=e[n],c=a.get(s);if(c)return void fn(t,n,c);var l=o?o(u,s,n+"",t,e,a):et,f=l===et;f&&(l=s,ql(s)||_u(s)?ql(u)?l=u:Ba(u)?l=Kr(u):(f=!1,l=An(s,!0)):lu(s)||Ua(s)?Ua(u)?l=xu(u):!tu(u)||r&&Qa(u)?(f=!1,l=An(s,!0)):l=u:f=!1),a.set(s,l),f&&i(l,s,r,o,a),a["delete"](s),fn(t,n,l)}function pr(t,e,n){var r=-1;e=_(e.length?e:[Rs],wi());var i=ur(t,function(t,n,i){var o=_(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return P(i,function(t,e){return L(t,e,n)})}function hr(t,e){return t=Object(t),m(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function dr(t,e){for(var n=-1,r=gi(t),i=r.length,o={};++n<i;){var a=r[n],u=t[a];e(u,a)&&(o[a]=u)}return o}function vr(t){return function(e){return null==e?et:e[t]}}function _r(t){return function(e){return $n(e,t)}}function yr(t,e,n,r){var i=r?S:k,o=-1,a=e.length,u=t;for(n&&(u=_(t,R(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&kc.call(u,s,1),kc.call(t,s,1);return t}function mr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(r==n||i!=o){var o=i;if(K(i))kc.call(t,i,1);else if(Di(i,t))delete t[i];else{var a=Pn(i),u=qi(t,a);null!=u&&delete u[fo(a)]}}}return t}function gr(t,e){return t+xc(Nc()*(e-t+1))}function br(t,e,n,r){for(var i=-1,o=Ic(Sc((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function wr(t,e){var n="";if(!t||1>e||e>Tt)return n;do e%2&&(n+=t),e=xc(e/2),e&&(t+=t);while(e);return n}function Cr(t,e,n,r){e=Di(e,t)?[e]:Pn(e);for(var i=-1,o=e.length,a=o-1,u=t;null!=u&&++i<o;){var s=e[i];if(tu(u)){var c=n;if(i!=a){var l=u[s];c=r?r(l,s,u):et,c===et&&(c=null==l?K(e[i+1])?[]:{}:l)}pn(u,s,c)}u=u[s]}return t}function Er(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function kr(t,e){var n;return Zc(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Sr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Rt>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)&&null!==a?r=o+1:i=o}return i}return xr(t,e,Rs,n)}function xr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,u=null===e,s=e===et;o>i;){var c=xc((i+o)/2),l=n(t[c]),f=l!==et,p=l===l;if(a)var h=p||r;else h=u?p&&f&&(r||null!=l):s?p&&(r||f):null==l?!1:r?e>=l:e>l;h?i=c+1:o=c}return Rc(o,It)}function Tr(t){return Pr(t)}function Pr(t,e){for(var n=0,r=t.length,i=t[0],o=e?e(i):i,a=o,u=1,s=[i];++n<r;)i=t[n],o=e?e(i):i,ja(o,a)||(a=o,s[u++]=i);return s}function Or(t,e,n){var r=-1,i=d,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=v;else if(o>=rt){var c=e?null:il(t);if(c)return G(c);a=!1,i=Ge,s=new Ye}else s=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(a&&f===f){for(var p=s.length;p--;)if(s[p]===f)continue t;e&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function Ar(t,e){e=Di(e,t)?[e]:Pn(e),t=qi(t,e);var n=fo(e);return null!=t&&Uu(t,n)?delete t[n]:!0}function Ir(t,e,n,r){return Cr(t,e,n($n(t,e)),r)}function Rr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Er(t,r?0:o,r?o+1:i):Er(t,r?o+1:0,r?i:o)}function Mr(t,e){var n=t;return n instanceof i&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,y([t],e.args))},n)}function Nr(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?y(jn(o,t[r],e,n),jn(t[r],o,e,n)):t[r];return o&&o.length?Or(o,e,n):[]}function Dr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=o>r?e[r]:et;n(a,t[r],u)}return a}function jr(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Fr(t){var e=new t.constructor(t.byteLength);return new _c(e).set(new _c(t)),e}function Lr(t,e){var n=e?Fr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ur(t,e,n){var r=e?n(X(t),!0):X(t);return m(r,o,new t.constructor)}function zr(t){var e=new t.constructor(t.source,Te.exec(t));return e.lastIndex=t.lastIndex,e}function Vr(t,e,n){var r=e?n(G(t),!0):G(t);return m(r,a,new t.constructor)}function Br(t){return Qc?Object(Qc.call(t)):{}}function qr(t,e){var n=e?Fr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Wr(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,c=Ic(o-a,0),l=Array(s+c),f=!r;++u<s;)l[u]=e[u];for(;++i<a;)(f||o>i)&&(l[n[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function Hr(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,c=e.length,l=Ic(o-u,0),f=Array(l+c),p=!r;++i<l;)f[i]=t[i];for(var h=i;++s<c;)f[h+s]=e[s];for(;++a<u;)(p||o>i)&&(f[h+n[a]]=t[i++]);return f}function Kr(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function $r(t,e,n){return Xr(t,e,n)}function Xr(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],u=r?r(n[a],t[a],a,n,t):t[a];pn(n,a,u)}return n}function Yr(t,e){return $r(t,xi(t),e)}function Gr(t,e){return function(n,r){var i=ql(n)?s:hn,o=e?e():{};return i(n,t,wi(r),o)}}function Qr(t){return xa(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:et,a=i>2?n[2]:et;for(o="function"==typeof o?(i--,o):et,a&&Ni(n[0],n[1],a)&&(o=3>i?et:o,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e})}function Jr(t,e){return function(n,r){if(null==n)return n;if(!Va(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Zr(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(n(o[s],s,o)===!1)break}return e}}function ti(t,e,n){function r(){var e=this&&this!==Bn&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&ut,o=ri(t);return r}function ei(t){return function(e){e=Pu(e);var n=bn.test(e)?J(e):et,r=n?n[0]:e.charAt(0),i=n?n.slice(1).join(""):e.slice(1);return r[t]()+i}}function ni(t){return function(e){return m(Ps(ss(e)),t,"")}}function ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Rn(t.prototype),r=t.apply(n,e);return tu(r)?r:n}}function ii(t,e,n){function r(){for(var o=arguments.length,a=Array(o),s=o,c=ki(r);s--;)a[s]=arguments[s];var l=3>o&&a[0]!==c&&a[o-1]!==c?[]:Y(a,c);if(o-=l.length,n>o)return pi(t,e,ai,r.placeholder,et,a,l,et,et,n-o);var f=this&&this!==Bn&&this instanceof r?i:t;return u(f,this,a)}var i=ri(t);return r}function oi(t){return xa(function(e){e=Vn(e,1);var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new rc(it);if(o&&!u&&"wrapper"==bi(a))var u=new r([],!0)}for(i=u?i:n;++i<n;){a=e[i];var s=bi(a),c="wrapper"==s?ol(a):et;u=c&&Fi(c[0])&&c[1]==(dt|lt|pt|vt)&&!c[4].length&&1==c[9]?u[bi(c[0])].apply(u,c[3]):1==a.length&&Fi(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&ql(r)&&r.length>=rt)return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ai(t,e,n,r,i,o,a,u,s,c){function l(){for(var y=arguments.length,m=y,g=Array(y);m--;)g[m]=arguments[m];if(d)var b=ki(l),w=U(g,b);if(r&&(g=Wr(g,r,i,d)),o&&(g=Hr(g,o,a,d)),y-=w,d&&c>y){var C=Y(g,b);return pi(t,e,ai,l.placeholder,n,g,C,u,s,c-y)}var E=p?n:this,k=h?E[t]:t;return y=g.length,u?g=Wi(g,u):v&&y>1&&g.reverse(),f&&y>s&&(g.length=s),this&&this!==Bn&&this instanceof l&&(k=_||ri(k)),k.apply(E,g)}var f=e&dt,p=e&ut,h=e&st,d=e&(lt|ft),v=e&_t,_=h?et:ri(t);return l}function ui(t,e){return function(n,r){return Zn(n,t,e(r),{})}}function si(t){return xa(function(e){return e=_(Vn(e,1),wi()),xa(function(n){var r=this;return t(e,function(t){return u(t,r,n)})})})}function ci(t,e){e=e===et?" ":e+"";var n=e.length;if(2>n)return n?wr(e,t):e;var r=wr(e,Sc(t/Q(e)));return bn.test(e)?J(r).slice(0,t).join(""):r.slice(0,t)}function li(t,e,n,r){function i(){for(var e=-1,s=arguments.length,c=-1,l=r.length,f=Array(l+s),p=this&&this!==Bn&&this instanceof i?a:t;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++e];return u(p,o?n:this,f)}var o=e&ut,a=ri(t);return i}function fi(t){return function(e,n,r){return r&&"number"!=typeof r&&Ni(e,n,r)&&(n=r=et),e=Su(e),e=e===e?e:0,n===et?(n=e,e=0):n=Su(n)||0,r=r===et?n>e?1:-1:Su(r)||0,br(e,n,r,t)}}function pi(t,e,n,r,i,o,a,u,s,c){var l=e&lt,f=u?Kr(u):et,p=l?a:et,h=l?et:a,d=l?o:et,v=l?et:o;e|=l?pt:ht,e&=~(l?ht:pt),e&ct||(e&=~(ut|st));var _=[t,e,i,d,p,v,h,f,s,c],y=n.apply(et,_);return Fi(t)&&sl(y,_),y.placeholder=r,y}function hi(t){var e=ec[t];return function(t,n){if(t=Su(t),n=Eu(n)){var r=(Pu(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Pu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function di(t,e,n,r,i,o,a,u){var s=e&st;if(!s&&"function"!=typeof t)throw new rc(it);var c=r?r.length:0;if(c||(e&=~(pt|ht),r=i=et),a=a===et?a:Ic(Eu(a),0),u=u===et?u:Eu(u),c-=i?i.length:0,e&ht){var l=r,f=i;r=i=et}var p=s?et:ol(t),h=[t,e,n,r,i,l,f,o,a,u];if(p&&Vi(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],u=h[9]=null==h[9]?s?0:t.length:Ic(h[9]-c,0),!u&&e&(lt|ft)&&(e&=~(lt|ft)),e&&e!=ut)d=e==lt||e==ft?ii(t,e,u):e!=pt&&e!=(ut|pt)||i.length?ai.apply(et,h):li(t,e,n,r);else var d=ti(t,e,n);var v=p?rl:sl;return v(d,h)}function vi(t,e,n,r,i,o){var a=-1,u=i&mt,s=i&yt,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var f=o.get(t);if(f)return f==e;var p=!0;for(o.set(t,e);++a<c;){var h=t[a],d=e[a];if(r)var v=u?r(d,h,a,e,t,o):r(h,d,a,t,e,o);if(v!==et){if(v)continue;p=!1;break}if(s){if(!b(e,function(t){return h===t||n(h,t,r,i,o)})){p=!1;break}}else if(h!==d&&!n(h,d,r,i,o)){p=!1;break}}return o["delete"](t),p}function _i(t,e,n,r,i,o,a){switch(n){case Qt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Gt:return!(t.byteLength!=e.byteLength||!r(new _c(t),new _c(e)));case Dt:case jt:return+t==+e;case Ft:return t.name==e.name&&t.message==e.message;case Vt:return t!=+t?e!=+e:t==+e;case Wt:case Kt:return t==e+"";case zt:var u=X;case Ht:var s=o&mt;if(u||(u=G),t.size!=e.size&&!s)return!1;var c=a.get(t);return c?c==e:(o|=yt,a.set(t,e),vi(u(t),u(e),r,i,o,a));case $t:if(Qc)return Qc.call(t)==Qc.call(e)}return!1}function yi(t,e,n,r,i,o){var a=i&mt,u=Vu(t),s=u.length,c=Vu(e),l=c.length;if(s!=l&&!a)return!1;for(var f=s;f--;){var p=u[f];if(!(a?p in e:Yn(e,p)))return!1}var h=o.get(t);if(h)return h==e;var d=!0;o.set(t,e);for(var v=a;++f<s;){p=u[f];var _=t[p],y=e[p];if(r)var m=a?r(y,_,p,e,t,o):r(_,y,p,t,e,o);if(!(m===et?_===y||n(_,y,r,i,o):m)){d=!1;break}v||(v="constructor"==p)}if(d&&!v){var g=t.constructor,b=e.constructor;g!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o["delete"](t),d}function mi(t){return Xn(t,Vu,xi)}function gi(t){return Xn(t,Bu,ul)}function bi(t){for(var e=t.name+"",n=Wc[e],r=uc.call(Wc,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function wi(){var t=e.iteratee||Ms;return t=t===Ms?ir:t,arguments.length?t(arguments[0],arguments[1]):t}function Ci(t){for(var e=Gu(t),n=e.length;n--;)e[n][2]=Ui(e[n][1]);return e}function Ei(t,e){var n=t[e];return au(n)?n:et}function ki(t){var n=uc.call(e,"placeholder")?e:t;return n.placeholder}function Si(t){return Tc(Object(t))}function xi(t){return gc(Object(t))}function Ti(t){return lc.call(t)}function Pi(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Rc(e,t+a);break;case"takeRight":t=Ic(t,e-a)}}return{start:t,end:e}}function Oi(t,e,n){e=Di(e,t)?[e]:Pn(e);for(var r,i=-1,o=e.length;++i<o;){var a=e[i];if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;var o=t?t.length:0;return!!o&&Za(o)&&K(a,o)&&(ql(t)||du(t)||Ua(t))}function Ai(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&uc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ii(t){return"function"!=typeof t.constructor||Li(t)?{}:Rn(Si(t))}function Ri(t,e,n,r){var i=t.constructor;switch(e){case Gt:return Fr(t);case Dt:case jt:return new i(+t);case Qt:return Lr(t,r);case Jt:case Zt:case te:case ee:case ne:case re:case ie:case oe:case ae:return qr(t,r);case zt:return Ur(t,r,n);case Vt:case Kt:return new i(t);case Wt:return zr(t);case Ht:return Vr(t,r,n);case $t:return Br(t)}}function Mi(t){var e=t?t.length:et;return Za(e)&&(ql(t)||du(t)||Ua(t))?A(e,String):null}function Ni(t,e,n){if(!tu(n))return!1;var r=typeof e;return("number"==r?Va(n)&&K(e,n.length):"string"==r&&e in n)?ja(n[e],t):!1}function Di(t,e){var n=typeof t;return"number"==n||"symbol"==n?!0:!ql(t)&&(vu(t)||me.test(t)||!ye.test(t)||null!=e&&t in Object(e))}function ji(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function Fi(t){var n=bi(t),r=e[n];if("function"!=typeof r||!(n in i.prototype))return!1;if(t===r)return!0;var o=ol(r);return!!o&&t===o[0]}function Li(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||oc;return t===n}function Ui(t){return t===t&&!tu(t)}function zi(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==et||t in Object(n))}}function Vi(t,e){var n=t[1],r=e[1],i=n|r,o=(ut|st|dt)>i,a=r==dt&&n==lt||r==dt&&n==vt&&t[7].length<=e[8]||r==(dt|vt)&&e[7].length<=e[8]&&n==lt;if(!o&&!a)return t;r&ut&&(t[2]=e[2],i|=n&ut?0:ct);var u=e[3];if(u){var s=t[3];t[3]=s?Wr(s,u,e[4]):Kr(u),t[4]=s?Y(t[3],at):Kr(e[4])}return u=e[5],u&&(s=t[5],t[5]=s?Hr(s,u,e[6]):Kr(u),t[6]=s?Y(t[5],at):Kr(e[6])),u=e[7],u&&(t[7]=Kr(u)),r&dt&&(t[8]=null==t[8]?e[8]:Rc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Bi(t,e,n,r,i,o){return tu(t)&&tu(e)&&lr(t,e,et,Bi,o.set(e,t)),t}function qi(t,e){return 1==e.length?t:$n(t,Er(e,0,-1))}function Wi(t,e){for(var n=t.length,r=Rc(e.length,n),i=Kr(t);r--;){var o=e[r];t[r]=K(o,n)?i[o]:et}return t}function Hi(t){if(Qa(t))try{return ac.call(t)}catch(e){}return Pu(t)}function Ki(t){if(t instanceof i)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Kr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function $i(t,e,n){e=(n?Ni(t,e,n):e===et)?1:Ic(Eu(e),0);var r=t?t.length:0;if(!r||1>e)return[];for(var i=0,o=0,a=Array(Sc(r/e));r>i;)a[o++]=Er(t,i,i+=e);return a}function Xi(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function Yi(){var t=arguments.length,e=Ia(arguments[0]);if(2>t)return t?Kr(e):[];for(var n=Array(t-1);t--;)n[t-1]=arguments[t];return c(e,Vn(n,1))}function Gi(t,e,n){var r=t?t.length:0;return r?(e=n||e===et?1:Eu(e),Er(t,0>e?0:e,r)):[]}function Qi(t,e,n){var r=t?t.length:0;return r?(e=n||e===et?1:Eu(e),e=r-e,Er(t,0,0>e?0:e)):[]}function Ji(t,e){return t&&t.length?Rr(t,wi(e,3),!0,!0):[]}function Zi(t,e){return t&&t.length?Rr(t,wi(e,3),!0):[]}function to(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Ni(t,e,n)&&(n=0,r=i),Un(t,e,n,r)):[]}function eo(t,e){return t&&t.length?E(t,wi(e,3)):-1}function no(t,e){return t&&t.length?E(t,wi(e,3),!0):-1}function ro(t){var e=t?t.length:0;return e?Vn(t,1):[]}function io(t){var e=t?t.length:0;return e?Vn(t,xt):[]}function oo(t,e){var n=t?t.length:0;return n?(e=e===et?1:Eu(e),Vn(t,e)):[]}function ao(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function uo(t){return t?t[0]:et}function so(t,e,n){var r=t?t.length:0;return r?(n=Eu(n),0>n&&(n=Ic(r+n,0)),k(t,e,n)):-1}function co(t){return Qi(t,1)}function lo(t,e){return t?Oc.call(t,e):""}function fo(t){var e=t?t.length:0;return e?t[e-1]:et}function po(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==et&&(i=Eu(n),i=(0>i?Ic(r+i,0):Rc(i,r-1))+1),e!==e)return W(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function ho(t,e){return t&&t.length&&e&&e.length?yr(t,e):t}function vo(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,wi(n)):t}function _o(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,et,n):t}function yo(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=wi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return mr(t,i),n}function mo(t){return t?Dc.call(t):t}function go(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Ni(t,e,n)?(e=0,n=r):(e=null==e?0:Eu(e),n=n===et?r:Eu(n)),Er(t,e,n)):[]}function bo(t,e){return Sr(t,e)}function wo(t,e,n){return xr(t,e,wi(n))}function Co(t,e){var n=t?t.length:0;if(n){var r=Sr(t,e);if(n>r&&ja(t[r],e))return r}return-1}function Eo(t,e){return Sr(t,e,!0)}function ko(t,e,n){return xr(t,e,wi(n),!0)}function So(t,e){var n=t?t.length:0;if(n){var r=Sr(t,e,!0)-1;if(ja(t[r],e))return r}return-1}function xo(t){return t&&t.length?Tr(t):[]}function To(t,e){return t&&t.length?Pr(t,wi(e)):[]}function Po(t){return Gi(t,1)}function Oo(t,e,n){return t&&t.length?(e=n||e===et?1:Eu(e),Er(t,0,0>e?0:e)):[]}function Ao(t,e,n){var r=t?t.length:0;return r?(e=n||e===et?1:Eu(e),e=r-e,Er(t,0>e?0:e,r)):[]}function Io(t,e){return t&&t.length?Rr(t,wi(e,3),!1,!0):[]}function Ro(t,e){return t&&t.length?Rr(t,wi(e,3)):[]}function Mo(t){return t&&t.length?Or(t):[]}function No(t,e){return t&&t.length?Or(t,wi(e)):[]}function Do(t,e){return t&&t.length?Or(t,et,e):[]}function jo(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){return Ba(t)?(e=Ic(t.length,e),!0):void 0}),A(e,function(e){return _(t,vr(e))})}function Fo(t,e){if(!t||!t.length)return[];var n=jo(t);return null==e?n:_(n,function(t){return u(e,et,t)})}function Lo(t,e){return Dr(t||[],e||[],pn)}function Uo(t,e){return Dr(t||[],e||[],Cr)}function zo(t){var n=e(t);return n.__chain__=!0,n}function Vo(t,e){return e(t),t}function Bo(t,e){return e(t)}function qo(){return zo(this)}function Wo(){return new r(this.value(),this.__chain__)}function Ho(){this.__values__===et&&(this.__values__=Cu(this.value()));var t=this.__index__>=this.__values__.length,e=t?et:this.__values__[this.__index__++];return{done:t,value:e}}function Ko(){return this}function $o(t){for(var e,r=this;r instanceof n;){var i=Ki(r);i.__index__=0,i.__values__=et,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Xo(){var t=this.__wrapped__;if(t instanceof i){var e=t;return this.__actions__.length&&(e=new i(this)),e=e.reverse(),e.__actions__.push({func:Bo,args:[mo],thisArg:et}),new r(e,this.__chain__)}return this.thru(mo)}function Yo(){return Mr(this.__wrapped__,this.__actions__)}function Go(t,e,n){var r=ql(t)?p:Ln;return n&&Ni(t,e,n)&&(e=et),r(t,wi(e,3))}function Qo(t,e){var n=ql(t)?h:zn;return n(t,wi(e,3))}function Jo(t,e){if(e=wi(e,3),ql(t)){var n=E(t,e);return n>-1?t[n]:et}return C(t,e,Zc)}function Zo(t,e){if(e=wi(e,3),ql(t)){var n=E(t,e,!0);return n>-1?t[n]:et}return C(t,e,tl)}function ta(t,e){return Vn(aa(t,e),1)}function ea(t,e){return Vn(aa(t,e),xt)}function na(t,e,n){return n=n===et?1:Eu(n),Vn(aa(t,e),n)}function ra(t,e){return"function"==typeof e&&ql(t)?l(t,e):Zc(t,wi(e))}function ia(t,e){return"function"==typeof e&&ql(t)?f(t,e):tl(t,wi(e))}function oa(t,e,n,r){t=Va(t)?t:ns(t),n=n&&!r?Eu(n):0;var i=t.length;return 0>n&&(n=Ic(i+n,0)),du(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&k(t,e,n)>-1}function aa(t,e){var n=ql(t)?_:ur;return n(t,wi(e,3))}function ua(t,e,n,r){return null==t?[]:(ql(e)||(e=null==e?[]:[e]),n=r?et:n,ql(n)||(n=null==n?[]:[n]),pr(t,e,n))}function sa(t,e,n){var r=ql(t)?m:T,i=arguments.length<3;return r(t,wi(e,4),n,i,Zc)}function ca(t,e,n){var r=ql(t)?g:T,i=arguments.length<3;return r(t,wi(e,4),n,i,tl)}function la(t,e){var n=ql(t)?h:zn;return e=wi(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function fa(t){var e=Va(t)?t:ns(t),n=e.length;return n>0?e[gr(0,n-1)]:et}function pa(t,e,n){var r=-1,i=Cu(t),o=i.length,a=o-1;for(e=(n?Ni(t,e,n):e===et)?1:On(Eu(e),0,o);++r<e;){var u=gr(r,a),s=i[u];i[u]=i[r],i[r]=s}return i.length=e,i}function ha(t){return pa(t,At)}function da(t){if(null==t)return 0;if(Va(t)){var e=t.length;return e&&du(t)?Q(t):e}if(eu(t)){var n=Ti(t);if(n==zt||n==Ht)return t.size}return Vu(t).length}function va(t,e,n){var r=ql(t)?b:kr;return n&&Ni(t,e,n)&&(e=et),r(t,wi(e,3))}function _a(t,e){if("function"!=typeof e)throw new rc(it);return t=Eu(t),function(){return--t<1?e.apply(this,arguments):void 0}}function ya(t,e,n){return e=n?et:e,e=t&&null==e?t.length:e,di(t,dt,et,et,et,et,e)}function ma(t,e){var n;if("function"!=typeof e)throw new rc(it);return t=Eu(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=et),n}}function ga(t,e,n){e=n?et:e;var r=di(t,lt,et,et,et,et,et,e);return r.placeholder=ga.placeholder,r}function ba(t,e,n){e=n?et:e;var r=di(t,ft,et,et,et,et,et,e);return r.placeholder=ba.placeholder,r}function wa(t,e,n){function r(e){var n=p,r=h;return p=h=et,y=e,d=t.apply(r,n)}function i(t){return y=t,v=Ec(u,e),m?r(t):d}function o(t){var n=t-_,r=t-y,i=e-n;return g===!1?i:Rc(i,g-r)}function a(t){var n=t-_,r=t-y;return!_||n>=e||0>n||g!==!1&&r>=g}function u(){var t=Nl();return a(t)?s(t):void(v=Ec(u,o(t)))}function s(t){return yc(v),v=et,b&&p?r(t):(p=h=et,d)}function c(){v!==et&&yc(v),_=y=0,p=h=v=et}function l(){return v===et?d:s(Nl())}function f(){var t=Nl(),n=a(t);return p=arguments,h=this,_=t,n?v===et?i(_):(yc(v),v=Ec(u,e),r(_)):d}var p,h,d,v,_=0,y=0,m=!1,g=!1,b=!0;if("function"!=typeof t)throw new rc(it);return e=Su(e)||0,tu(n)&&(m=!!n.leading,g="maxWait"in n&&Ic(Su(n.maxWait)||0,e),b="trailing"in n?!!n.trailing:b),f.cancel=c,f.flush=l,f}function Ca(t){return di(t,_t)}function Ea(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new rc(it);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Ea.Cache||qe),n}function ka(t){if("function"!=typeof t)throw new rc(it);return function(){return!t.apply(this,arguments)}}function Sa(t){return ma(2,t)}function xa(t,e){if("function"!=typeof t)throw new rc(it);return e=Ic(e===et?t.length-1:Eu(e),0),function(){for(var n=arguments,r=-1,i=Ic(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,u(t,this,a)}}function Ta(t,e){if("function"!=typeof t)throw new rc(it);return e=e===et?0:Ic(Eu(e),0),xa(function(n){var r=n[e],i=n.slice(0,e);return r&&y(i,r),u(t,this,i)})}function Pa(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new rc(it);return tu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wa(t,e,{leading:r,maxWait:e,trailing:i})}function Oa(t){return ya(t,1)}function Aa(t,e){return e=null==e?Rs:e,zl(e,t)}function Ia(){if(!arguments.length)return[];var t=arguments[0];return ql(t)?t:[t]}function Ra(t){return An(t,!1,!0)}function Ma(t,e){return An(t,!1,!0,e)}function Na(t){return An(t,!0,!0)}function Da(t,e){return An(t,!0,!0,e)}function ja(t,e){return t===e||t!==t&&e!==e}function Fa(t,e){return t>e}function La(t,e){return t>=e}function Ua(t){return Ba(t)&&uc.call(t,"callee")&&(!Cc.call(t,"callee")||lc.call(t)==Mt)}function za(t){return eu(t)&&lc.call(t)==Gt}function Va(t){return null!=t&&Za(al(t))&&!Qa(t)}function Ba(t){return eu(t)&&Va(t)}function qa(t){return t===!0||t===!1||eu(t)&&lc.call(t)==Dt}function Wa(t){return eu(t)&&lc.call(t)==jt}function Ha(t){return!!t&&1===t.nodeType&&eu(t)&&!lu(t)}function Ka(t){if(Va(t)&&(ql(t)||du(t)||Qa(t.splice)||Ua(t)||Wl(t)))return!t.length;if(eu(t)){var e=Ti(t);if(e==zt||e==Ht)return!t.size}for(var n in t)if(uc.call(t,n))return!1;return!(qc&&Vu(t).length)}function $a(t,e){return er(t,e)}function Xa(t,e,n){n="function"==typeof n?n:et;var r=n?n(t,e):et;return r===et?er(t,e,n):!!r}function Ya(t){return eu(t)?lc.call(t)==Ft||"string"==typeof t.message&&"string"==typeof t.name:!1}function Ga(t){return"number"==typeof t&&Pc(t)}function Qa(t){var e=tu(t)?lc.call(t):"";return e==Lt||e==Ut}function Ja(t){return"number"==typeof t&&t==Eu(t)}function Za(t){return"number"==typeof t&&t>-1&&t%1==0&&Tt>=t}function tu(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function eu(t){return!!t&&"object"==typeof t}function nu(t){return eu(t)&&Ti(t)==zt}function ru(t,e){return t===e||rr(t,e,Ci(e))}function iu(t,e,n){return n="function"==typeof n?n:et,rr(t,e,Ci(e),n)}function ou(t){return cu(t)&&t!=+t}function au(t){if(!tu(t))return!1;var e=Qa(t)||H(t)?pc:Ie;return e.test(Hi(t))}function uu(t){return null===t}function su(t){return null==t}function cu(t){return"number"==typeof t||eu(t)&&lc.call(t)==Vt}function lu(t){if(!eu(t)||lc.call(t)!=Bt||H(t))return!1;var e=Si(t);if(null===e)return!0;var n=uc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ac.call(n)==cc}function fu(t){return tu(t)&&lc.call(t)==Wt}function pu(t){return Ja(t)&&t>=-Tt&&Tt>=t}function hu(t){return eu(t)&&Ti(t)==Ht}function du(t){return"string"==typeof t||!ql(t)&&eu(t)&&lc.call(t)==Kt}function vu(t){return"symbol"==typeof t||eu(t)&&lc.call(t)==$t}function _u(t){return eu(t)&&Za(t.length)&&!!xn[lc.call(t)]}function yu(t){return t===et}function mu(t){return eu(t)&&Ti(t)==Xt}function gu(t){return eu(t)&&lc.call(t)==Yt}function bu(t,e){return e>t}function wu(t,e){return e>=t}function Cu(t){if(!t)return[];if(Va(t))return du(t)?J(t):Kr(t);if(bc&&t[bc])return $(t[bc]());var e=Ti(t),n=e==zt?X:e==Ht?G:ns;return n(t)}function Eu(t){if(!t)return 0===t?t:0;if(t=Su(t),t===xt||t===-xt){var e=0>t?-1:1;return e*Pt}var n=t%1;return t===t?n?t-n:t:0}function ku(t){return t?On(Eu(t),0,At):0}function Su(t){if("number"==typeof t)return t;if(vu(t))return Ot;if(tu(t)){var e=Qa(t.valueOf)?t.valueOf():t;t=tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ce,"");var n=Ae.test(t);return n||Re.test(t)?Nn(t.slice(2),n?2:8):Oe.test(t)?Ot:+t}function xu(t){return $r(t,Bu(t))}function Tu(t){return On(Eu(t),-Tt,Tt)}function Pu(t){if("string"==typeof t)return t;if(null==t)return"";if(vu(t))return Jc?Jc.call(t):"";var e=t+"";return"0"==e&&1/t==-xt?"-0":e}function Ou(t,e){var n=Rn(t);return e?dn(n,e):n}function Au(t,e){return C(t,wi(e,3),Wn,!0)}function Iu(t,e){return C(t,wi(e,3),Hn,!0)}function Ru(t,e){return null==t?t:el(t,wi(e),Bu)}function Mu(t,e){return null==t?t:nl(t,wi(e),Bu)}function Nu(t,e){return t&&Wn(t,wi(e))}function Du(t,e){return t&&Hn(t,wi(e))}function ju(t){return null==t?[]:Kn(t,Vu(t))}function Fu(t){return null==t?[]:Kn(t,Bu(t))}function Lu(t,e,n){var r=null==t?et:$n(t,e);return r===et?n:r}function Uu(t,e){return null!=t&&Oi(t,e,Yn)}function zu(t,e){return null!=t&&Oi(t,e,Gn)}function Vu(t){var e=Li(t);if(!e&&!Va(t))return or(t);var n=Mi(t),r=!!n,i=n||[],o=i.length;for(var a in t)!Yn(t,a)||r&&("length"==a||K(a,o))||e&&"constructor"==a||i.push(a);return i}function Bu(t){for(var e=-1,n=Li(t),r=ar(t),i=r.length,o=Mi(t),a=!!o,u=o||[],s=u.length;++e<i;){var c=r[e];a&&("length"==c||K(c,s))||"constructor"==c&&(n||!uc.call(t,c))||u.push(c)}return u}function qu(t,e){var n={};return e=wi(e,3),Wn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function Wu(t,e){var n={};return e=wi(e,3),Wn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function Hu(t,e){return e=wi(e),dr(t,function(t,n){return!e(t,n)})}function Ku(t,e){
return null==t?{}:dr(t,wi(e))}function $u(t,e,n){e=Di(e,t)?[e]:Pn(e);var r=-1,i=e.length;for(i||(t=et,i=1);++r<i;){var o=null==t?et:t[e[r]];o===et&&(r=i,o=n),t=Qa(o)?o.call(t):o}return t}function Xu(t,e,n){return null==t?t:Cr(t,e,n)}function Yu(t,e,n,r){return r="function"==typeof r?r:et,null==t?t:Cr(t,e,n,r)}function Gu(t){return I(t,Vu(t))}function Qu(t){return I(t,Bu(t))}function Ju(t,e,n){var r=ql(t)||_u(t);if(e=wi(e,4),null==n)if(r||tu(t)){var i=t.constructor;n=r?ql(t)?new i:[]:Qa(i)?Rn(Si(t)):{}}else n={};return(r?l:Wn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Zu(t,e){return null==t?!0:Ar(t,e)}function ts(t,e,n){return null==t?t:Ir(t,e,yn(n))}function es(t,e,n,r){return r="function"==typeof r?r:et,null==t?t:Ir(t,e,yn(n),r)}function ns(t){return t?M(t,Vu(t)):[]}function rs(t){return null==t?[]:M(t,Bu(t))}function is(t,e,n){return n===et&&(n=e,e=et),n!==et&&(n=Su(n),n=n===n?n:0),e!==et&&(e=Su(e),e=e===e?e:0),On(Su(t),e,n)}function os(t,e,n){return e=Su(e)||0,n===et?(n=e,e=0):n=Su(n)||0,t=Su(t),Qn(t,e,n)}function as(t,e,n){if(n&&"boolean"!=typeof n&&Ni(t,e,n)&&(e=n=et),n===et&&("boolean"==typeof e?(n=e,e=et):"boolean"==typeof t&&(n=t,t=et)),t===et&&e===et?(t=0,e=1):(t=Su(t)||0,e===et?(e=t,t=0):e=Su(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Nc();return Rc(t+i*(e-t+Mn("1e-"+((i+"").length-1))),e)}return gr(t,e)}function us(t){return hf(Pu(t).toLowerCase())}function ss(t){return t=Pu(t),t&&t.replace(Ne,V).replace(mn,"")}function cs(t,e,n){t=Pu(t),e="string"==typeof e?e:e+"";var r=t.length;return n=n===et?r:On(Eu(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function ls(t){return t=Pu(t),t&&he.test(t)?t.replace(fe,B):t}function fs(t){return t=Pu(t),t&&we.test(t)?t.replace(be,"\\$&"):t}function ps(t,e,n){t=Pu(t),e=Eu(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ci(xc(i),n)+t+ci(Sc(i),n)}function hs(t,e,n){t=Pu(t),e=Eu(e);var r=e?Q(t):0;return e&&e>r?t+ci(e-r,n):t}function ds(t,e,n){t=Pu(t),e=Eu(e);var r=e?Q(t):0;return e&&e>r?ci(e-r,n)+t:t}function vs(t,e,n){return n||null==e?e=0:e&&(e=+e),t=Pu(t).replace(Ce,""),Mc(t,e||(Pe.test(t)?16:10))}function _s(t,e,n){return e=(n?Ni(t,e,n):e===et)?1:Eu(e),wr(Pu(t),e)}function ys(){var t=arguments,e=Pu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ms(t,e,n){return Pu(t).split(e,n)}function gs(t,e,n){return t=Pu(t),n=On(Eu(n),0,t.length),t.lastIndexOf(e,n)==n}function bs(t,n,r){var i=e.templateSettings;r&&Ni(t,n,r)&&(n=et),t=Pu(t),n=$l({},n,i,ln);var o,a,u=$l({},n.imports,i.imports,ln),s=Vu(u),c=M(u,s),l=0,f=n.interpolate||De,p="__p += '",h=nc((n.escape||De).source+"|"+f.source+"|"+(f===_e?xe:De).source+"|"+(n.evaluate||De).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Sn+"]")+"\n";t.replace(h,function(e,n,r,i,u,s){return r||(r=i),p+=t.slice(l,s).replace(je,q),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var v=n.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(ue,""):p).replace(se,"$1").replace(ce,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _=df(function(){return Function(s,d+"return "+p).apply(et,c)});if(_.source=p,Ya(_))throw _;return _}function ws(t){return Pu(t).toLowerCase()}function Cs(t){return Pu(t).toUpperCase()}function Es(t,e,n){if(t=Pu(t),!t)return t;if(n||e===et)return t.replace(Ce,"");if(e+="",!e)return t;var r=J(t),i=J(e);return r.slice(N(r,i),D(r,i)+1).join("")}function ks(t,e,n){if(t=Pu(t),!t)return t;if(n||e===et)return t.replace(ke,"");if(e+="",!e)return t;var r=J(t);return r.slice(0,D(r,J(e))+1).join("")}function Ss(t,e,n){if(t=Pu(t),!t)return t;if(n||e===et)return t.replace(Ee,"");if(e+="",!e)return t;var r=J(t);return r.slice(N(r,J(e))).join("")}function xs(t,e){var n=gt,r=bt;if(tu(e)){var i="separator"in e?e.separator:i;n="length"in e?Eu(e.length):n,r="omission"in e?Pu(e.omission):r}t=Pu(t);var o=t.length;if(bn.test(t)){var a=J(t);o=a.length}if(n>=o)return t;var u=n-Q(r);if(1>u)return r;var s=a?a.slice(0,u).join(""):t.slice(0,u);if(i===et)return s+r;if(a&&(u+=s.length-u),fu(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=nc(i.source,Pu(Te.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;s=s.slice(0,f===et?u:f)}}else if(t.indexOf(i,u)!=u){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+r}function Ts(t){return t=Pu(t),t&&pe.test(t)?t.replace(le,Z):t}function Ps(t,e,n){return t=Pu(t),e=n?et:e,e===et&&(e=En.test(t)?Cn:wn),t.match(e)||[]}function Os(t){var e=t?t.length:0,n=wi();return t=e?_(t,function(t){if("function"!=typeof t[1])throw new rc(it);return[n(t[0]),t[1]]}):[],xa(function(n){for(var r=-1;++r<e;){var i=t[r];if(u(i[0],this,n))return u(i[1],this,n)}})}function As(t){return In(An(t,!0))}function Is(t){return function(){return t}}function Rs(t){return t}function Ms(t){return ir("function"==typeof t?t:An(t,!0))}function Ns(t){return sr(An(t,!0))}function Ds(t,e){return cr(t,An(e,!0))}function js(t,e,n){var r=Vu(e),i=Kn(e,r);null!=n||tu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Kn(e,Vu(e)));var o=tu(n)&&"chain"in n?n.chain:!0,a=Qa(t);return l(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Kr(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,y([this.value()],arguments))})}),t}function Fs(){return Bn._===this&&(Bn._=fc),this}function Ls(){}function Us(t){return t=Eu(t),function(){return arguments[t]}}function zs(t){return Di(t)?vr(t):_r(t)}function Vs(t){return function(e){return null==t?et:$n(t,e)}}function Bs(t,e){if(t=Eu(t),1>t||t>Tt)return[];var n=At,r=Rc(t,At);e=wi(e),t-=At;for(var i=A(r,e);++n<t;)e(n);return i}function qs(t){return ql(t)?_(t,gn):vu(t)?[t]:Kr(cl(t))}function Ws(t){var e=++sc;return Pu(t)+e}function Hs(t){return t&&t.length?w(t,Rs,Fa):et}function Ks(t,e){return t&&t.length?w(t,wi(e),Fa):et}function $s(t){return x(t,Rs)}function Xs(t,e){return x(t,wi(e))}function Ys(t){return t&&t.length?w(t,Rs,bu):et}function Gs(t,e){return t&&t.length?w(t,wi(e),bu):et}function Qs(t){return t&&t.length?O(t,Rs):0}function Js(t,e){return t&&t.length?O(t,wi(e)):0}t=t?qn.defaults({},t,qn.pick(Bn,kn)):Bn;var Zs=t.Date,tc=t.Error,ec=t.Math,nc=t.RegExp,rc=t.TypeError,ic=t.Array.prototype,oc=t.Object.prototype,ac=t.Function.prototype.toString,uc=oc.hasOwnProperty,sc=0,cc=ac.call(Object),lc=oc.toString,fc=Bn._,pc=nc("^"+ac.call(uc).replace(be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hc=Fn?t.Buffer:et,dc=t.Reflect,vc=t.Symbol,_c=t.Uint8Array,yc=t.clearTimeout,mc=dc?dc.enumerate:et,gc=Object.getOwnPropertySymbols,bc="symbol"==typeof(bc=vc&&vc.iterator)?bc:et,wc=Object.create,Cc=oc.propertyIsEnumerable,Ec=t.setTimeout,kc=ic.splice,Sc=ec.ceil,xc=ec.floor,Tc=Object.getPrototypeOf,Pc=t.isFinite,Oc=ic.join,Ac=Object.keys,Ic=ec.max,Rc=ec.min,Mc=t.parseInt,Nc=ec.random,Dc=ic.reverse,jc=Ei(t,"DataView"),Fc=Ei(t,"Map"),Lc=Ei(t,"Promise"),Uc=Ei(t,"Set"),zc=Ei(t,"WeakMap"),Vc=Ei(Object,"create"),Bc=zc&&new zc,qc=!Cc.call({valueOf:1},"valueOf"),Wc={},Hc=Hi(jc),Kc=Hi(Fc),$c=Hi(Lc),Xc=Hi(Uc),Yc=Hi(zc),Gc=vc?vc.prototype:et,Qc=Gc?Gc.valueOf:et,Jc=Gc?Gc.toString:et;e.templateSettings={escape:de,evaluate:ve,interpolate:_e,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,r.prototype=Rn(n.prototype),r.prototype.constructor=r,i.prototype=Rn(n.prototype),i.prototype.constructor=i,Le.prototype=Vc?Vc(null):oc,qe.prototype.clear=We,qe.prototype["delete"]=He,qe.prototype.get=Ke,qe.prototype.has=$e,qe.prototype.set=Xe,Ye.prototype.push=Qe,Je.prototype.clear=Ze,Je.prototype["delete"]=tn,Je.prototype.get=en,Je.prototype.has=nn,Je.prototype.set=rn;var Zc=Jr(Wn),tl=Jr(Hn,!0),el=Zr(),nl=Zr(!0);mc&&!Cc.call({valueOf:1},"valueOf")&&(ar=function(t){return $(mc(t))});var rl=Bc?function(t,e){return Bc.set(t,e),t}:Rs,il=Uc&&2===new Uc([1,2]).size?function(t){return new Uc(t)}:Ls,ol=Bc?function(t){return Bc.get(t)}:Ls,al=vr("length");gc||(xi=function(){return[]});var ul=gc?function(t){for(var e=[];t;)y(e,xi(t)),t=Si(t);return e}:xi;(jc&&Ti(new jc(new ArrayBuffer(1)))!=Qt||Fc&&Ti(new Fc)!=zt||Lc&&Ti(Lc.resolve())!=qt||Uc&&Ti(new Uc)!=Ht||zc&&Ti(new zc)!=Xt)&&(Ti=function(t){var e=lc.call(t),n=e==Bt?t.constructor:null,r=Hi(n);if(r)switch(r){case Hc:return Qt;case Kc:return zt;case $c:return qt;case Xc:return Ht;case Yc:return Xt}return e});var sl=function(){var t=0,e=0;return function(n,r){var i=Nl(),o=Ct-(i-e);if(e=i,o>0){if(++t>=wt)return n}else t=0;return rl(n,r)}}(),cl=Ea(function(t){var e=[];return Pu(t).replace(ge,function(t,n,r,i){e.push(r?i.replace(Se,"$1"):n||t)}),e}),ll=xa(function(t,e){return Ba(t)?jn(t,Vn(e,1,!0)):[]}),fl=xa(function(t,e){var n=fo(e);return Ba(n)&&(n=et),Ba(t)?jn(t,Vn(e,1,!0),wi(n)):[]}),pl=xa(function(t,e){var n=fo(e);return Ba(n)&&(n=et),Ba(t)?jn(t,Vn(e,1,!0),et,n):[]}),hl=xa(function(t){var e=_(t,_n);return e.length&&e[0]===t[0]?Jn(e):[]}),dl=xa(function(t){var e=fo(t),n=_(t,_n);return e===fo(n)?e=et:n.pop(),n.length&&n[0]===t[0]?Jn(n,wi(e)):[]}),vl=xa(function(t){var e=fo(t),n=_(t,_n);return e===fo(n)?e=et:n.pop(),n.length&&n[0]===t[0]?Jn(n,et,e):[]}),_l=xa(ho),yl=xa(function(t,e){e=_(Vn(e,1),String);var n=vn(t,e);return mr(t,e.sort(F)),n}),ml=xa(function(t){return Or(Vn(t,1,!0))}),gl=xa(function(t){var e=fo(t);return Ba(e)&&(e=et),Or(Vn(t,1,!0),wi(e))}),bl=xa(function(t){var e=fo(t);return Ba(e)&&(e=et),Or(Vn(t,1,!0),et,e)}),wl=xa(function(t,e){return Ba(t)?jn(t,e):[]}),Cl=xa(function(t){return Nr(h(t,Ba))}),El=xa(function(t){var e=fo(t);return Ba(e)&&(e=et),Nr(h(t,Ba),wi(e))}),kl=xa(function(t){var e=fo(t);return Ba(e)&&(e=et),Nr(h(t,Ba),et,e)}),Sl=xa(jo),xl=xa(function(t){var e=t.length,n=e>1?t[e-1]:et;return n="function"==typeof n?(t.pop(),n):et,Fo(t,n)}),Tl=xa(function(t){t=Vn(t,1);var e=t.length,n=e?t[0]:0,o=this.__wrapped__,a=function(e){return vn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof i&&K(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:Bo,args:[a],thisArg:et}),new r(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(et),t})):this.thru(a)}),Pl=Gr(function(t,e,n){uc.call(t,n)?++t[n]:t[n]=1}),Ol=Gr(function(t,e,n){uc.call(t,n)?t[n].push(e):t[n]=[e]}),Al=xa(function(t,e,n){var r=-1,i="function"==typeof e,o=Di(e),a=Va(t)?Array(t.length):[];return Zc(t,function(t){var s=i?e:o&&null!=t?t[e]:et;a[++r]=s?u(s,t,n):tr(t,e,n)}),a}),Il=Gr(function(t,e,n){t[n]=e}),Rl=Gr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Ml=xa(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ni(t,e[0],e[1])?e=[]:n>2&&Ni(e[0],e[1],e[2])&&(e.length=1),pr(t,Vn(e,1),[])}),Nl=Zs.now,Dl=xa(function(t,e,n){var r=ut;if(n.length){var i=Y(n,ki(Dl));r|=pt}return di(t,r,e,n,i)}),jl=xa(function(t,e,n){var r=ut|st;if(n.length){var i=Y(n,ki(jl));r|=pt}return di(e,r,t,n,i)}),Fl=xa(function(t,e){return Dn(t,1,e)}),Ll=xa(function(t,e,n){return Dn(t,Su(e)||0,n)});Ea.Cache=qe;var Ul=xa(function(t,e){e=_(Vn(e,1),wi());var n=e.length;return xa(function(r){for(var i=-1,o=Rc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return u(t,this,r)})}),zl=xa(function(t,e){var n=Y(e,ki(zl));return di(t,pt,et,e,n)}),Vl=xa(function(t,e){var n=Y(e,ki(Vl));return di(t,ht,et,e,n)}),Bl=xa(function(t,e){return di(t,vt,et,et,et,Vn(e,1))}),ql=Array.isArray,Wl=hc?function(t){return t instanceof hc}:Is(!1),Hl=Qr(function(t,e){if(qc||Li(e)||Va(e))return void $r(e,Vu(e),t);for(var n in e)uc.call(e,n)&&pn(t,n,e[n])}),Kl=Qr(function(t,e){if(qc||Li(e)||Va(e))return void $r(e,Bu(e),t);for(var n in e)pn(t,n,e[n])}),$l=Qr(function(t,e,n,r){Xr(e,Bu(e),t,r)}),Xl=Qr(function(t,e,n,r){Xr(e,Vu(e),t,r)}),Yl=xa(function(t,e){return vn(t,Vn(e,1))}),Gl=xa(function(t){return t.push(et,ln),u($l,et,t)}),Ql=xa(function(t){return t.push(et,Bi),u(nf,et,t)}),Jl=ui(function(t,e,n){t[e]=n},Is(Rs)),Zl=ui(function(t,e,n){uc.call(t,e)?t[e].push(n):t[e]=[n]},wi),tf=xa(tr),ef=Qr(function(t,e,n){lr(t,e,n)}),nf=Qr(function(t,e,n,r){lr(t,e,n,r)}),rf=xa(function(t,e){return null==t?{}:(e=_(Vn(e,1),gn),hr(t,jn(gi(t),e)))}),of=xa(function(t,e){return null==t?{}:hr(t,Vn(e,1))}),af=ni(function(t,e,n){return e=e.toLowerCase(),t+(n?us(e):e)}),uf=ni(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),sf=ni(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),cf=ei("toLowerCase"),lf=ni(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),ff=ni(function(t,e,n){return t+(n?" ":"")+hf(e)}),pf=ni(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),hf=ei("toUpperCase"),df=xa(function(t,e){try{return u(t,et,e)}catch(n){return Ya(n)?n:new tc(n)}}),vf=xa(function(t,e){return l(Vn(e,1),function(e){t[e]=Dl(t[e],t)}),t}),_f=oi(),yf=oi(!0),mf=xa(function(t,e){return function(n){return tr(n,t,e)}}),gf=xa(function(t,e){return function(n){return tr(t,n,e)}}),bf=si(_),wf=si(p),Cf=si(b),Ef=fi(),kf=fi(!0),Sf=z(function(t,e){return t+e}),xf=hi("ceil"),Tf=z(function(t,e){return t/e}),Pf=hi("floor"),Of=z(function(t,e){return t*e}),Af=hi("round"),If=z(function(t,e){return t-e});return e.after=_a,e.ary=ya,e.assign=Hl,e.assignIn=Kl,e.assignInWith=$l,e.assignWith=Xl,e.at=Yl,e.before=ma,e.bind=Dl,e.bindAll=vf,e.bindKey=jl,e.castArray=Ia,e.chain=zo,e.chunk=$i,e.compact=Xi,e.concat=Yi,e.cond=Os,e.conforms=As,e.constant=Is,e.countBy=Pl,e.create=Ou,e.curry=ga,e.curryRight=ba,e.debounce=wa,e.defaults=Gl,e.defaultsDeep=Ql,e.defer=Fl,e.delay=Ll,e.difference=ll,e.differenceBy=fl,e.differenceWith=pl,e.drop=Gi,e.dropRight=Qi,e.dropRightWhile=Ji,e.dropWhile=Zi,e.fill=to,e.filter=Qo,e.flatMap=ta,e.flatMapDeep=ea,e.flatMapDepth=na,e.flatten=ro,e.flattenDeep=io,e.flattenDepth=oo,e.flip=Ca,e.flow=_f,e.flowRight=yf,e.fromPairs=ao,e.functions=ju,e.functionsIn=Fu,e.groupBy=Ol,e.initial=co,e.intersection=hl,e.intersectionBy=dl,e.intersectionWith=vl,e.invert=Jl,e.invertBy=Zl,e.invokeMap=Al,e.iteratee=Ms,e.keyBy=Il,e.keys=Vu,e.keysIn=Bu,e.map=aa,e.mapKeys=qu,e.mapValues=Wu,e.matches=Ns,e.matchesProperty=Ds,e.memoize=Ea,e.merge=ef,e.mergeWith=nf,e.method=mf,e.methodOf=gf,e.mixin=js,e.negate=ka,e.nthArg=Us,e.omit=rf,e.omitBy=Hu,e.once=Sa,e.orderBy=ua,e.over=bf,e.overArgs=Ul,e.overEvery=wf,e.overSome=Cf,e.partial=zl,e.partialRight=Vl,e.partition=Rl,e.pick=of,e.pickBy=Ku,e.property=zs,e.propertyOf=Vs,e.pull=_l,e.pullAll=ho,e.pullAllBy=vo,e.pullAllWith=_o,e.pullAt=yl,e.range=Ef,e.rangeRight=kf,e.rearg=Bl,e.reject=la,e.remove=yo,e.rest=xa,e.reverse=mo,e.sampleSize=pa,e.set=Xu,e.setWith=Yu,e.shuffle=ha,e.slice=go,e.sortBy=Ml,e.sortedUniq=xo,e.sortedUniqBy=To,e.split=ms,e.spread=Ta,e.tail=Po,e.take=Oo,e.takeRight=Ao,e.takeRightWhile=Io,e.takeWhile=Ro,e.tap=Vo,e.throttle=Pa,e.thru=Bo,e.toArray=Cu,e.toPairs=Gu,e.toPairsIn=Qu,e.toPath=qs,e.toPlainObject=xu,e.transform=Ju,e.unary=Oa,e.union=ml,e.unionBy=gl,e.unionWith=bl,e.uniq=Mo,e.uniqBy=No,e.uniqWith=Do,e.unset=Zu,e.unzip=jo,e.unzipWith=Fo,e.update=ts,e.updateWith=es,e.values=ns,e.valuesIn=rs,e.without=wl,e.words=Ps,e.wrap=Aa,e.xor=Cl,e.xorBy=El,e.xorWith=kl,e.zip=Sl,e.zipObject=Lo,e.zipObjectDeep=Uo,e.zipWith=xl,e.entries=Gu,e.entriesIn=Qu,e.extend=Kl,e.extendWith=$l,js(e,e),e.add=Sf,e.attempt=df,e.camelCase=af,e.capitalize=us,e.ceil=xf,e.clamp=is,e.clone=Ra,e.cloneDeep=Na,e.cloneDeepWith=Da,e.cloneWith=Ma,e.deburr=ss,e.divide=Tf,e.endsWith=cs,e.eq=ja,e.escape=ls,e.escapeRegExp=fs,e.every=Go,e.find=Jo,e.findIndex=eo,e.findKey=Au,e.findLast=Zo,e.findLastIndex=no,e.findLastKey=Iu,e.floor=Pf,e.forEach=ra,e.forEachRight=ia,e.forIn=Ru,e.forInRight=Mu,e.forOwn=Nu,e.forOwnRight=Du,e.get=Lu,e.gt=Fa,e.gte=La,e.has=Uu,e.hasIn=zu,e.head=uo,e.identity=Rs,e.includes=oa,e.indexOf=so,e.inRange=os,e.invoke=tf,e.isArguments=Ua,e.isArray=ql,e.isArrayBuffer=za,e.isArrayLike=Va,e.isArrayLikeObject=Ba,e.isBoolean=qa,e.isBuffer=Wl,e.isDate=Wa,e.isElement=Ha,e.isEmpty=Ka,e.isEqual=$a,e.isEqualWith=Xa,e.isError=Ya,e.isFinite=Ga,e.isFunction=Qa,e.isInteger=Ja,e.isLength=Za,e.isMap=nu,e.isMatch=ru,e.isMatchWith=iu,e.isNaN=ou,e.isNative=au,e.isNil=su,e.isNull=uu,e.isNumber=cu,e.isObject=tu,e.isObjectLike=eu,e.isPlainObject=lu,e.isRegExp=fu,e.isSafeInteger=pu,e.isSet=hu,e.isString=du,e.isSymbol=vu,e.isTypedArray=_u,e.isUndefined=yu,e.isWeakMap=mu,e.isWeakSet=gu,e.join=lo,e.kebabCase=uf,e.last=fo,e.lastIndexOf=po,e.lowerCase=sf,e.lowerFirst=cf,e.lt=bu,e.lte=wu,e.max=Hs,e.maxBy=Ks,e.mean=$s,e.meanBy=Xs,e.min=Ys,e.minBy=Gs,e.multiply=Of,e.noConflict=Fs,e.noop=Ls,e.now=Nl,e.pad=ps,e.padEnd=hs,e.padStart=ds,e.parseInt=vs,e.random=as,e.reduce=sa,e.reduceRight=ca,e.repeat=_s,e.replace=ys,e.result=$u,e.round=Af,e.runInContext=tt,e.sample=fa,e.size=da,e.snakeCase=lf,e.some=va,e.sortedIndex=bo,e.sortedIndexBy=wo,e.sortedIndexOf=Co,e.sortedLastIndex=Eo,e.sortedLastIndexBy=ko,e.sortedLastIndexOf=So,e.startCase=ff,e.startsWith=gs,e.subtract=If,e.sum=Qs,e.sumBy=Js,e.template=bs,e.times=Bs,e.toInteger=Eu,e.toLength=ku,e.toLower=ws,e.toNumber=Su,e.toSafeInteger=Tu,e.toString=Pu,e.toUpper=Cs,e.trim=Es,e.trimEnd=ks,e.trimStart=Ss,e.truncate=xs,e.unescape=Ts,e.uniqueId=Ws,e.upperCase=pf,e.upperFirst=hf,e.each=ra,e.eachRight=ia,e.first=uo,js(e,function(){var t={};return Wn(e,function(n,r){uc.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=nt,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),l(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=n===et?1:Ic(Eu(n),0);var o=this.clone();return r?o.__takeCount__=Rc(n,o.__takeCount__):o.__views__.push({size:Rc(n,At),type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),l(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Et||n==St;i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:wi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),l(["head","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),i.prototype.compact=function(){return this.filter(Rs)},i.prototype.find=function(t){return this.filter(t).head()},i.prototype.findLast=function(t){return this.reverse().find(t)},i.prototype.invokeMap=xa(function(t,e){return"function"==typeof t?new i(this):this.map(function(n){return tr(n,t,e)})}),i.prototype.reject=function(t){return t=wi(t,3),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=Eu(t);var n=this;return n.__filtered__&&(t>0||0>e)?new i(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==et&&(e=Eu(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},i.prototype.toArray=function(){return this.take(At)},Wn(i.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),u=e[a?"take"+("last"==n?"Right":""):n],s=a||/^find/.test(n);u&&(e.prototype[n]=function(){var n=this.__wrapped__,c=a?[1]:arguments,l=n instanceof i,f=c[0],p=l||ql(n),h=function(t){var n=u.apply(e,y([t],c));return a&&d?n[0]:n};p&&o&&"function"==typeof f&&1!=f.length&&(l=p=!1);var d=this.__chain__,v=!!this.__actions__.length,_=s&&!d,m=l&&!v;if(!s&&p){n=m?n:new i(this);var g=t.apply(n,c);return g.__actions__.push({func:Bo,args:[h],thisArg:et}),new r(g,d)}return _&&m?t.apply(this,c):(g=this.thru(h),_?a?g.value()[0]:g.value():g)})}),l(["pop","push","shift","sort","splice","unshift"],function(t){var n=ic[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(ql(e)?e:[],t)}return this[r](function(e){return n.apply(ql(e)?e:[],t)})}}),Wn(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=Wc[i]||(Wc[i]=[]);o.push({name:n,func:r})}}),Wc[ai(et,st).name]=[{name:"wrapper",func:et}],i.prototype.clone=j,i.prototype.reverse=Me,i.prototype.value=Fe,e.prototype.at=Tl,e.prototype.chain=qo,e.prototype.commit=Wo,e.prototype.next=Ho,e.prototype.plant=$o,e.prototype.reverse=Xo,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Yo,bc&&(e.prototype[bc]=Ko),e}var et,nt="4.8.2",rt=200,it="Expected a function",ot="__lodash_hash_undefined__",at="__lodash_placeholder__",ut=1,st=2,ct=4,lt=8,ft=16,pt=32,ht=64,dt=128,vt=256,_t=512,yt=1,mt=2,gt=30,bt="...",wt=150,Ct=16,Et=1,kt=2,St=3,xt=1/0,Tt=9007199254740991,Pt=1.7976931348623157e308,Ot=0/0,At=4294967295,It=At-1,Rt=At>>>1,Mt="[object Arguments]",Nt="[object Array]",Dt="[object Boolean]",jt="[object Date]",Ft="[object Error]",Lt="[object Function]",Ut="[object GeneratorFunction]",zt="[object Map]",Vt="[object Number]",Bt="[object Object]",qt="[object Promise]",Wt="[object RegExp]",Ht="[object Set]",Kt="[object String]",$t="[object Symbol]",Xt="[object WeakMap]",Yt="[object WeakSet]",Gt="[object ArrayBuffer]",Qt="[object DataView]",Jt="[object Float32Array]",Zt="[object Float64Array]",te="[object Int8Array]",ee="[object Int16Array]",ne="[object Int32Array]",re="[object Uint8Array]",ie="[object Uint8ClampedArray]",oe="[object Uint16Array]",ae="[object Uint32Array]",ue=/\b__p \+= '';/g,se=/\b(__p \+=) '' \+/g,ce=/(__e\(.*?\)|\b__t\)) \+\n'';/g,le=/&(?:amp|lt|gt|quot|#39|#96);/g,fe=/[&<>"'`]/g,pe=RegExp(le.source),he=RegExp(fe.source),de=/<%-([\s\S]+?)%>/g,ve=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,me=/^\w*$/,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,be=/[\\^$.*+?()[\]{}|]/g,we=RegExp(be.source),Ce=/^\s+|\s+$/g,Ee=/^\s+/,ke=/\s+$/,Se=/\\(\\)?/g,xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,Pe=/^0x/i,Oe=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,Re=/^0o[0-7]+$/i,Me=/^(?:0|[1-9]\d*)$/,Ne=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,De=/($^)/,je=/['\n\r\u2028\u2029\\]/g,Fe="\\ud800-\\udfff",Le="\\u0300-\\u036f\\ufe20-\\ufe23",Ue="\\u20d0-\\u20f0",ze="\\u2700-\\u27bf",Ve="a-z\\xdf-\\xf6\\xf8-\\xff",Be="\\xac\\xb1\\xd7\\xf7",qe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",We="\\u2018\\u2019\\u201c\\u201d",He=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ke="A-Z\\xc0-\\xd6\\xd8-\\xde",$e="\\ufe0e\\ufe0f",Xe=Be+qe+We+He,Ye="["+Fe+"]",Ge="["+Xe+"]",Qe="["+Le+Ue+"]",Je="\\d+",Ze="["+ze+"]",tn="["+Ve+"]",en="[^"+Fe+Xe+Je+ze+Ve+Ke+"]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:"+Qe+"|"+nn+")",on="[^"+Fe+"]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",un="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="["+Ke+"]",cn="\\u200d",ln="(?:"+tn+"|"+en+")",fn="(?:"+sn+"|"+en+")",pn=rn+"?",hn="["+$e+"]?",dn="(?:"+cn+"(?:"+[on,an,un].join("|")+")"+hn+pn+")*",vn=hn+pn+dn,_n="(?:"+[Ze,an,un].join("|")+")"+vn,yn="(?:"+[on+Qe+"?",Qe,an,un,Ye].join("|")+")",mn=RegExp(Qe,"g"),gn=RegExp(nn+"(?="+nn+")|"+yn+vn,"g"),bn=RegExp("["+cn+Fe+Le+Ue+$e+"]"),wn=/[a-zA-Z0-9]+/g,Cn=RegExp([sn+"?"+tn+"+(?="+[Ge,sn,"$"].join("|")+")",fn+"+(?="+[Ge,sn+ln,"$"].join("|")+")",sn+"?"+ln+"+",sn+"+",Je,_n].join("|"),"g"),En=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sn=-1,xn={};xn[Jt]=xn[Zt]=xn[te]=xn[ee]=xn[ne]=xn[re]=xn[ie]=xn[oe]=xn[ae]=!0,xn[Mt]=xn[Nt]=xn[Gt]=xn[Dt]=xn[Qt]=xn[jt]=xn[Ft]=xn[Lt]=xn[zt]=xn[Vt]=xn[Bt]=xn[Wt]=xn[Ht]=xn[Kt]=xn[Xt]=!1;var Tn={};Tn[Mt]=Tn[Nt]=Tn[Gt]=Tn[Qt]=Tn[Dt]=Tn[jt]=Tn[Jt]=Tn[Zt]=Tn[te]=Tn[ee]=Tn[ne]=Tn[zt]=Tn[Vt]=Tn[Bt]=Tn[Wt]=Tn[Ht]=Tn[Kt]=Tn[$t]=Tn[re]=Tn[ie]=Tn[oe]=Tn[ae]=!0,Tn[Ft]=Tn[Lt]=Tn[Xt]=!1;var Pn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},On={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},An={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},In={"function":!0,object:!0},Rn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=parseFloat,Nn=parseInt,Dn=In[typeof e]&&e&&!e.nodeType?e:et,jn=In[typeof t]&&t&&!t.nodeType?t:et,Fn=jn&&jn.exports===Dn?Dn:et,Ln=j(Dn&&jn&&"object"==typeof r&&r),Un=j(In[typeof self]&&self),zn=j(In[typeof window]&&window),Vn=j(In[typeof this]&&this),Bn=Ln||zn!==(Vn&&Vn.window)&&zn||Un||Vn||Function("return this")(),qn=tt();(zn||Un||{})._=qn,i=function(){return qn}.call(e,n,e,t),!(i!==et&&(t.e=i))}).call(this)}).call(e,n(180)(t),function(){return this}())},function(t,e,n){"use strict";t.e=n(123)},function(t,e,n){"use strict";function r(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function i(t,e,n){l.insertTreeBefore(t,e,n)}function o(t,e,n){Array.isArray(e)?u(t,e[0],e[1],n):y(t,e,n)}function a(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],s(t,e,n),t.removeChild(n)}t.removeChild(e)}function u(t,e,n,r){for(var i=e;;){var o=i.nextSibling;if(y(t,i,r),i===n)break;i=o}}function s(t,e,n){for(;;){var r=e.nextSibling;if(r===n)break;t.removeChild(r)}}function c(t,e,n){var r=t.parentNode,i=t.nextSibling;i===e?n&&y(r,document.createTextNode(n),i):n?(_(i,n),s(r,i,e)):s(r,t,e)}var l=n(15),f=n(115),p=n(77),h=n(5),d=n(41),v=n(47),_=n(91),y=d(function(t,e,n){t.insertBefore(e,n)}),m={dangerouslyReplaceNodeWithMarkup:f.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:c,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var u=e[n];switch(u.type){case p.INSERT_MARKUP:i(t,u.content,r(t,u.afterNode));break;case p.MOVE_EXISTING:o(t,u.fromNode,r(t,u.afterNode));break;case p.SET_MARKUP:v(t,u.content);break;case p.TEXT_CONTENT:_(t,u.content);break;case p.REMOVE_NODE:a(t,u.fromNode)}}}};h.measureMethods(m,"DOMChildrenOperations",{replaceDelimitedText:"replaceDelimitedText"}),t.e=m},function(t,e,n){"use strict";function r(t){return l.hasOwnProperty(t)?!0:c.hasOwnProperty(t)?!1:s.test(t)?(l[t]=!0,!0):(c[t]=!0,!1)}function i(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&1>e||t.hasOverloadedBooleanValue&&e===!1}var o=n(13),a=(n(133),n(5)),u=n(173),s=(n(1),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),c={},l={},f={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+u(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(i(n,e))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?r+'=""':r+"="+u(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+u(e):null},createMarkupForCustomAttribute:function(t,e){return r(t)&&null!=e?t+"="+u(e):""},setValueForProperty:function(t,e,n){var r=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(r){var a=r.mutationMethod;if(a)a(t,n);else if(i(r,n))this.deleteValueForProperty(t,e);else if(r.mustUseProperty){var u=r.propertyName;r.hasSideEffects&&""+t[u]==""+n||(t[u]=n)}else{var s=r.attributeName,c=r.attributeNamespace;c?t.setAttributeNS(c,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}}else o.isCustomAttribute(e)&&f.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){r(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var r=n.mutationMethod;if(r)r(t,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?t[i]=!1:n.hasSideEffects&&""+t[i]==""||(t[i]="")}else t.removeAttribute(n.attributeName)}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};a.measureMethods(f,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.e=f},function(t,e,n){"use strict";function r(t){return t===m.topMouseUp||t===m.topTouchEnd||t===m.topTouchCancel}function i(t){return t===m.topMouseMove||t===m.topTouchMove}function o(t){return t===m.topMouseDown||t===m.topTouchStart}function a(t,e,n,r){var i=t.type||"unknown-event";t.currentTarget=g.getNodeFromInstance(r),e?v.invokeGuardedCallbackWithCatch(i,n,t):v.invokeGuardedCallback(i,n,t),t.currentTarget=null}function u(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)a(t,e,n[i],r[i]);else n&&a(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null}function s(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function c(t){var e=s(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function l(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?_(!1):void 0,t.currentTarget=g.getNodeFromInstance(n);var r=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,r}function f(t){return!!t._dispatchListeners}var p,h,d=n(9),v=n(37),_=n(0),y=(n(1),{injectComponentTree:function(t){p=t},injectTreeTraversal:function(t){h=t}}),m=d.topLevelTypes,g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:f,getInstanceFromNode:function(t){return p.getInstanceFromNode(t)},getNodeFromInstance:function(t){return p.getNodeFromInstance(t)},isAncestor:function(t,e){return h.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return h.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return h.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return h.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,r,i){return h.traverseEnterLeave(t,e,n,r,i)},injection:y};t.e=g},function(t,e,n){"use strict";function r(t){null!=t.checkedLink&&null!=t.valueLink?c(!1):void 0}function i(t){r(t),null!=t.value||null!=t.onChange?c(!1):void 0}function o(t){r(t),null!=t.checked||null!=t.onChange?c(!1):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var u=n(81),s=n(27),c=n(0),l=(n(1),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(t,e,n){return!t[e]||l[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},p={},h={checkPropTypes:function(t,e,n){for(var r in f){if(f.hasOwnProperty(r))var i=f[r](e,r,t,s.prop);i instanceof Error&&!(i.message in p)&&(p[i.message]=!0,a(n))}},getValue:function(t){return t.valueLink?(i(t),
t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(i(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.e=h},function(t,e,n){"use strict";var r=n(0),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i?r(!1):void 0,o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkup=t.replaceNodeWithMarkup,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.e=o},function(t,e,n){"use strict";function r(t,e,n,r){try{return e(n,r)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var t=i;throw i=null,t}}};t.e=o},function(t,e,n){"use strict";var r={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.e=r},function(t,e,n){"use strict";var r=n(0),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,i,o,a,u,s){this.isInTransaction()?r(!1):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=t.call(e,n,i,o,a,u,s),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(t){this.isInTransaction()?void 0:r(!1);for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i,a=e[n],u=this.wrapperInitData[n];try{i=!0,u!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,u),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};t.e=o},function(t,e,n){"use strict";var r=!1;t.e=r},function(t,e,n){"use strict";var r=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t};t.e=r},function(t,e,n){"use strict";function r(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.e=r},function(t,e,n){"use strict";function r(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return r?!!n[r]:!1}function i(t){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.e=i},function(t,e,n){"use strict";function r(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}t.e=r},function(t,e,n){"use strict";function r(t){var e=t&&(i&&t[i]||t[o]);return"function"==typeof e?e:void 0}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.e=r},function(t,e,n){"use strict";function r(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(4);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.e=r},function(t,e,n){"use strict";var r=n(4),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=n(41),u=a(function(t,e){t.innerHTML=e});if(r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(u=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),i.test(e)||"<"===e[0]&&o.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),s=null}t.e=u},function(t,e,n){"use strict";function r(t,e){var n=null===t||t===!1,r=null===e||e===!1;if(n||r)return n===r;var i=typeof t,o=typeof e;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}t.e=r},function(t,e,n){"use strict";function r(t){return d[t]}function i(t,e){return t&&"object"==typeof t&&null!=t.key?a(t.key):e.toString(36)}function o(t){return(""+t).replace(v,r)}function a(t){return"$"+o(t)}function u(t,e,n,r){var o=typeof t;if("undefined"!==o&&"boolean"!==o||(t=null),null===t||"string"===o||"number"===o||c.isValidElement(t))return n(r,t,""===e?p+i(t,0):e),1;var s,d,v=0,_=""===e?p:e+h;if(Array.isArray(t))for(var y=0;y<t.length;y++)s=t[y],d=_+i(s,y),v+=u(s,d,n,r);else{var m=l(t);if(m){var g,b=m.call(t);if(m!==t.entries)for(var w=0;!(g=b.next()).done;)s=g.value,d=_+i(s,w++),v+=u(s,d,n,r);else for(;!(g=b.next()).done;){var C=g.value;C&&(s=C[1],d=_+a(C[0])+h+i(s,0),v+=u(s,d,n,r))}}else"object"===o&&(String(t),f(!1))}return v}function s(t,e,n){return null==t?0:u(t,"",e,n)}var c=(n(12),n(6)),l=n(45),f=n(0),p=(n(1),"."),h=":",d={"=":"=0",":":"=2"},v=/[=:]/g;t.e=s},function(t,e,n){"use strict";var r=(n(2),n(8)),i=(n(1),r);t.e=i},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(63).nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=arguments.length<2?!1:u.call(arguments,1);return s[n]=!0,o(function(){s[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(e,n(51).setImmediate,n(51).clearImmediate)},function(t,e,n){(function(e,n,r){!function(e){t.e=e()}(function(){return function a(t,e,n){function r(o,u){if(!e[o]){if(!t[o]){var s="function"==typeof _dereq_&&_dereq_;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,a,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function u(t){this._normalQueue._pushOne(t),this._queueTick()}var s;try{throw new Error}catch(c){s=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?u.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=u),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},u=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},s=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,a,void 0,l,p),c._then(u,s,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+u.classString(t)+" has no method '"+u.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var a,u=t("./util"),s=u.canEvaluate;u.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(s){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,u=o.errorObj,s=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t.isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n.isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===u&&(this._attachExtraTrace(r.e),s.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,u){return function(s){var c=u._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(s instanceof f)return o(n).call(c,s)}else if("function"==typeof f){var p=o(f).call(c,s);if(p===a)return p;if(p)return o(n).call(c,s)}else if(r.isObject(s)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=s[v])continue t}return o(n).call(c,s)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,u=t.prototype._peekContext,s=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=u,t.prototype._promiseCreated=s,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+U.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function u(t){if(!this.isCancellable())return this;var e=this._onCancel();void 0!==e?U.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function s(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(z(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=k(t);U.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),U.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&X){if(void 0!==i&&i._returnedNonUndefined())return;var o=r._bitField;if(0===(65535&o))return;n&&(n+=" ");var a="a promise was created in a "+n+"handler but was not returned from it";r._warn(a,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(it.warnings){var i,o=new L(t);if(e)r._attachExtraTrace(o);else if(it.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}Z("warning",o)||S(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,u=r.length-1;u>=0;--u)if(r[u]===o){a=u;break}for(var u=a;u>=0;--u){var s=r[u];if(e[i]!==s)break;e.pop(),i--}e=r}}function C(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||B.test(r),o=i&&et(r);i&&!o&&(W&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function E(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||B.test(r))break}return n>0&&(e=e.slice(n)),e}function k(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?E(t):["    (No stack trace)"],{message:n,stack:C(e)}}function S(t,e,n){if("undefined"!=typeof console){var r;if(U.isObject(t)){var i=t.stack;r=e+q(i,t)}else r=e+String(t);"function"==typeof D?D(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function x(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){F.throwLater(o)}"unhandledRejection"===t?Z(t,n,r)||i||S(n,"Unhandled rejection "):Z(t,r)}function T(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():U.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+P(e)+">, no stack trace)"}function P(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function O(){return"function"==typeof rt}function A(t){var e=t.match(nt);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function I(t,e){if(O()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,u=-1,s=0;s<i.length;++s){var c=A(i[s]);if(c){n=c.fileName,a=c.line;break}}for(var s=0;s<o.length;++s){var c=A(o[s]);if(c){r=c.fileName,u=c.line;break}}0>a||0>u||!n||!r||n!==r||a>=u||(et=function(t){if(V.test(t))return!0;var e=A(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=u)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);rt(this,R),e>32&&this.uncycle()}var M,N,D,j=n._getDomain,F=n._async,L=t("./errors").Warning,U=t("./util"),z=U.canAttachTrace,V=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,B=null,q=null,W=!1,H=!(0==U.env("BLUEBIRD_DEBUG")),K=!(0==U.env("BLUEBIRD_WARNINGS")||!H&&!U.env("BLUEBIRD_WARNINGS")),$=!(0==U.env("BLUEBIRD_LONG_STACK_TRACES")||!H&&!U.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=U.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(K||!!U.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),F.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){x("rejectionHandled",M,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),x("unhandledRejection",N,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=j();N="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=j();M="function"==typeof t?null===e?t:e.bind(t):void 0};var Y=function(){};n.longStackTraces=function(){if(F.haveItemsQueued()&&!it.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!it.longStackTraces&&O()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;it.longStackTraces=!0,Y=function(){if(F.haveItemsQueued()&&!it.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),F.enableTrampoline(),it.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),F.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return it.longStackTraces&&O()};var G=function(){try{var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),U.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!U.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Q=function(){return U.isNode?function(){return e.emit.apply(e,arguments)}:U.global?function(t){var e="on"+t.toLowerCase(),n=U.global[e];return n?(n.apply(U.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),J={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},Z=function(t){var e=!1;try{e=Q.apply(null,arguments)}catch(n){F.throwLater(n),e=!0}var r=!1;try{r=G(t,J[t].apply(null,arguments))}catch(n){F.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&Y()),"warnings"in t){var e=t.warnings;it.warnings=!!e,X=it.warnings,U.isObject(e)&&"wForgottenReturn"in e&&(X=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!it.cancellation){if(F.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=s,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=u,n.prototype._execute=a,tt=f,it.cancellation=!0}"monitoring"in t&&(t.monitoring&&!it.monitoring?(it.monitoring=!0,n.prototype._fireEvent=Z):!t.monitoring&&it.monitoring&&(it.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var tt=p,et=function(){return!1},nt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;U.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var a=e[r].stack,u=n[a];if(void 0!==u&&u!==r){u>0&&(e[u-1]._parent=void 0,e[u-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var s=r>0?e[r-1]:this;t-1>u?(s._parent=e[u+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=k(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(C(i.stack.split("\n"))),i=i._parent;w(r),b(r),U.notEnumerableProp(t,"stack",g(n,r)),U.notEnumerableProp(t,"__stackCleaned__",!0)}};var rt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():T(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,B=t,q=e;var n=Error.captureStackTrace;return et=function(t){return V.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return B=/@/,q=e,W=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(q=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?T(e):e.toString()},null):(B=t,q=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(D=function(t){console.warn(t)},U.isNode&&e.stderr.isTTY?D=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:U.isNode||"string"!=typeof(new Error).stack||(D=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var it={warnings:K,longStackTraces:!1,cancellation:!1,monitoring:!1};return $&&n.longStackTraces(),{longStackTraces:function(){return it.longStackTraces},warnings:function(){return it.warnings},cancellation:function(){return it.cancellation},monitoring:function(){return it.monitoring},propagateFromFunction:function(){return tt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:I,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:G,fireGlobalEvent:Q}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,e){return r(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,u=t("./es5"),s=u.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(_){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);u.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=s({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),u.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,u=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},s=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return a}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:u,names:u,defineProperty:c,getDescriptor:s,
freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise?(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0):!1}function a(){return s.call(this,this.promise._target()._settledValue())}function u(t){return o(this,t)?void 0:(f.e=t,f)}function s(t){var r=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(r._boundValue()):s.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p.isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(a,u,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,s,s)},e.prototype.tap=function(t){return this._passThrough(t,1,s)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function u(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=h(n[o])(t);if(r._popContext(),a===p){r._pushContext();var u=e.reject(p.e);return r._popContext(),u}var s=i(a,r);if(s instanceof e)return s}return null}function s(t,n,i,o){var a=this._promise=new e(r);a._captureStackTrace(),a._setOnCancel(this),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(s,o),s.prototype._isResolved=function(){return null===this._promise},s.prototype._cleanup=function(){this._promise=this._generator=null},s.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext(),t===p&&t.e===r&&(t=null)}var i=this._promise;this._cleanup(),t===p?i._rejectCallback(t.e,!1):i.cancel()}},s.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,this._promiseCancelled(),t.cancel()}},s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},s.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=u(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?this._promiseFulfilled(o._value()):0!==(16777216&a)?this._promiseRejected(o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=s,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new s(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function u(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:i.bind(e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:h,this._init$(void 0,-2)}function s(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+l.classString(e));var o="object"==typeof n&&null!==n?n.concurrency:0;return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new u(t,e,o,i).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=[];l.inherits(u,n),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),u=this._preservedValues,s=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,s>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(s>=1&&this._inFlight>=s)return r[n]=t,this._queue.push(n),!1;null!==u&&(u[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(a.checkForgottenReturns(d,v,null!==u?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return s>=1&&this._inFlight++,r[n]=_,_._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o?(null!==u?this._filter(r,u):this._resolve(r),!0):!1},u.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},u.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},u.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return s(this,t,e,null)},e.map=function(t,e,n,r){return s(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),u=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=u(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var s;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];s=a.isArray(c)?u(t).apply(l,c):u(t).call(l,c)}else s=u(t)();var f=r._popContext();return o.checkForgottenReturns(s,f,"Promise.try",r),r._resolveFromSyncValue(s),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(u(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),u=a.maybeWrapAsError,s=t("./errors"),c=s.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=u(e).apply(n._boundValue(),[null].concat(t));i===s&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?u(e).call(r,null):u(e).call(r,null,t);i===s&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=u(e).call(n._boundValue(),t);i===s&&a.throwLater(i.e)}var o=t("./util"),a=e._async,u=o.tryCatch,s=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function n(){}function r(t,e){if("function"!=typeof e)throw new m("expecting a function but got "+h.classString(e));if(t.constructor!==i)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function i(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==b&&(r(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new i(b);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var s,c=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new i.PromiseInspection(this._target())},f=function(t){return i.reject(new m(t))},p={},h=t("./util");s=h.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(i,"_getDomain",s);var d=t("./es5"),v=t("./async"),_=new v;d.defineProperty(i,"_async",{value:_});var y=t("./errors"),m=i.TypeError=y.TypeError;i.RangeError=y.RangeError;var g=i.CancellationError=y.CancellationError;i.TimeoutError=y.TimeoutError,i.OperationalError=y.OperationalError,i.RejectionError=y.OperationalError,i.AggregateError=y.AggregateError;var b=function(){},w={},C={},E=t("./thenables")(i,b),k=t("./promise_array")(i,b,E,f,n),S=t("./context")(i),x=S.create,T=t("./debuggability")(i,S),P=(T.CapturedTrace,t("./finally")(i,E)),O=t("./catch_filter")(C),A=t("./nodeback"),I=h.errorObj,R=h.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!h.isObject(o))return f("expecting an object but got "+h.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},i.prototype.then=function(t,e){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(n+=", "+h.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?f("expecting a function but got "+h.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},i.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(b);e._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,r=R(t)(A(e,n));return r===I&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new k(t).promise()},i.cast=function(t){var e=E(t);return e instanceof i||(e=new i(b),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(b);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));var e=_._schedule;return _._schedule=t,e},i.prototype._then=function(t,e,n,r,o){var a=void 0!==o,u=a?o:new i(b),c=this._target(),l=c._bitField;a||(u._propagateFrom(this,3),u._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,u));var f=s();if(0!==(50397184&l)){var p,h,d=c._settlePromiseCtx;0!==(33554432&l)?(h=c._rejectionHandler0,p=t):0!==(16777216&l)?(h=c._fulfillmentHandler0,p=e,c._unsetRejectionIsUnhandled()):(d=c._settlePromiseLateCancellationObserver,h=new g("late cancellation observer"),c._attachExtraTrace(h),p=e),_.invoke(d,c,{handler:null===f?p:"function"==typeof p&&f.bind(p),promise:u,receiver:r,value:h})}else c._addCallbacks(t,e,u,r,f);return u},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setAsyncGuaranteed=function(){this._bitField=134217728|this._bitField},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e!==p?void 0===e&&this._isBound()?this._boundValue():e:void 0},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},i.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:i.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:i.bind(e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:i.bind(t)),"function"==typeof e&&(this[a+1]=null===i?e:i.bind(e))}return this._setLength(o+1),o},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var n=E(t,this);if(!(n instanceof i))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var o=r._bitField;if(0===(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var u=1;a>u;++u)r._migrateCallbackAt(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var s=new g("late cancellation observer");r._attachExtraTrace(s),this._reject(s)}}},i.prototype._rejectCallback=function(t,e,n){var r=h.ensureErrorObject(t),i=r===t;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+h.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,e?i:!1),this._reject(t)},i.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},i.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===w?n&&"number"==typeof n.length?o=R(t).apply(this._boundValue(),n):(o=I,o.e=new m("cannot .spread() a non-array: "+h.classString(n))):o=R(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===I?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,r,o){var a=t instanceof i,u=this._bitField,s=0!==(134217728&u);0!==(65536&u)?(a&&t._invokeInternalOnCancel(),r instanceof P&&r.isFinallyHandler()?(r.cancelPromise=t,R(e).call(r,o)===I&&t._reject(I.e)):e===l?t._fulfill(l.call(r)):r instanceof n?r._promiseCancelled(t):a||t instanceof k?t._cancel():r.cancel()):"function"==typeof e?a?(s&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,o,t)):e.call(r,o,t):r instanceof n?r._isResolved()||(0!==(33554432&u)?r._promiseFulfilled(o,t):r._promiseRejected(o,t)):a&&(s&&t._setAsyncGuaranteed(),0!==(33554432&u)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof i?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():_.settlePromises(this))}},i.prototype._reject=function(t){var e=this._bitField;return(117506048&e)>>>16?void 0:(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?_.fatalError(t,h.isNode):void((65535&e)>0?_.settlePromises(this):this._ensurePossibleRejectionHandled()))},i.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new i(b);return{promise:t,resolve:o,reject:a}},h.notEnumerableProp(i,"_makeSelfResolutionError",c),t("./method")(i,b,E,f,T),t("./bind")(i,b,E,T),t("./cancel")(i,k,f,T),t("./direct_resolve")(i),t("./synchronous_inspection")(i),t("./join")(i,k,E,b,T),i.Promise=i,t("./map.js")(i,k,f,E,b,T),t("./using.js")(i,f,E,x,b,T),t("./timers.js")(i,b,T),t("./generators.js")(i,f,b,E,n,T),t("./nodeify.js")(i),t("./call_get.js")(i),t("./props.js")(i,k,E,f),t("./race.js")(i,b,E,f),t("./reduce.js")(i,k,f,E,b,T),t("./settle.js")(i,k,T),t("./some.js")(i,k,f),t("./promisify.js")(i,b),t("./any.js")(i),t("./each.js")(i,b),t("./filter.js")(i,b),h.toFastProperties(i),h.toFastProperties(i.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new i(b)),T.setBounds(v.firstLineError,h.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{}}}function u(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=t("./util");return s.isArray,s.inherits(u,o),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var u=o._bitField;if(this._values=o,0===(50397184&u))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&u))return 0!==(16777216&u)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=s.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+s.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(o)},u.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,u=0;n>u;++u){var s=r(t[u],i);s instanceof e?(s=s._target(),a=s._bitField):a=null,o?null!==a&&s.suppressUnhandledRejections():null!==a?0===(50397184&a)?(s._proxy(this,u),this._values[u]=s):o=0!==(33554432&a)?this._promiseFulfilled(s._value(),u):0!==(16777216&a)?this._promiseRejected(s._reason(),u):this._promiseCancelled(u):o=this._promiseFulfilled(s,u)}o||i._setAsyncGuaranteed()},u.prototype._isResolved=function(){return null===this._values},u.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},u.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},u.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},u.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(t){return t},u}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!C.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return r?i(r):!1}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function u(t,e,n,r){for(var u=h.inheritedDataKeys(t),s=[],c=0;c<u.length;++c){var l=u[c],f=t[l],p=r===E?!0:E(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||s.push(l,f)}return a(s,e,n),s}function s(t,r,i,o,a,u){function s(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof l&&this!==c?this[l]:t,s=d(o,u);try{a.apply(i,v(arguments,s))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(s,"__isPromisified__",!0),s}function c(t,e,n,r,i){for(var o=new RegExp(k(e)+"$"),a=u(t,e,o,n),s=0,c=a.length;c>s;s+=2){var l=a[s],f=a[s+1],d=l+e;if(r===S)t[d]=S(l,p,l,f,e,i);else{var v=r(f,function(){return S(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return S(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],C=new RegExp("^(?:"+w.join("|")+")$"),E=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},S=y?f:s;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,a=l(t,n,o);return h.copyDescriptors(t,a,r),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=E);var o=e.promisifier;if("function"!=typeof o&&(o=S),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=h.inheritedDataKeys(t),u=0;u<a.length;++u){var s=t[a[u]];"constructor"!==a[u]&&h.isClass(s)&&(c(s.prototype,r,i,o,n),c(s,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==u&&t instanceof u)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=r(t);return c(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var u,s=t("./util"),c=s.isObject,l=t("./es5");"function"==typeof Map&&(u=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new u,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};s.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();a>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var s=r(t);if(s instanceof e)return u(s);if(t=a.asArray(t),null===t)return i("expecting an array or an iterable object but got "+a.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;h>p;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var a=t("./util"),u=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function u(t,n,r,i){this.constructor$(t);var a=p();this._fn=null===a?n:a.bind(n),void 0!==r&&(r=e.resolve(r),
r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function s(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new u(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var u=r._popContext();return a.checkForgottenReturns(o,u,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(u,n),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==o&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},u.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(s,s,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var a,u=t("./util"),s=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};if(u.isNode&&"undefined"==typeof MutationObserver){var c=n.setImmediate,l=e.nextTick;a=u.isRecentNode?function(t){c.call(n,t)}:function(t){l.call(e,t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:s:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,a=t("./util");a.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,c=a.isArray,l={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values),!0):!1},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new u(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},u=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=t.prototype._isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype.isCancelled=function(){return this._target()._isCancelled()},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return u.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var s=e.reject(i.e);return r&&r._popContext(),s}if("function"==typeof i){if(a(t)){var s=new e(n);return t._then(s._fulfill,s._reject,void 0,s,null),s}return u(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function a(t){return f.call(t,"_promise0")}function u(t,r,i){function o(t){u&&(u._resolveCallback(t),u=null)}function a(t){u&&(u._rejectCallback(t,f,!0),u=null)}var u=new e(n),l=u;i&&i._pushContext(),u._captureStackTrace(),i&&i._popContext();var f=!0,p=s.tryCatch(r).call(t,o,a);return f=!1,u&&p===c&&(u._rejectCallback(p.e,!0,!0),u=null),l}var s=t("./util"),c=s.errorObj,l=s.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var u=t("./util"),s=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var a,u;return void 0!==o?(a=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),u=setTimeout(function(){a._fulfill()},+t),r.cancellation()&&a._setOnCancel(new i(u))),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new s("operation timed out"):new s(e),u.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,u,s=new i(setTimeout(function(){n.isPending()&&f(n,e,u)},t));return r.cancellation()?(u=this.then(),n=u._then(o,a,void 0,s,void 0),n._setOnCancel(s)):n=this._then(o,a,void 0,s,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function u(t){setTimeout(function(){throw t},0)}function s(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(a>=c)return l._fulfill();var o=s(t[a++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return u(f)}if(o instanceof e)return o._then(i,u,null,null,null)}i()}var a=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch;l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,u=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,u=!1):(o=arguments,t--);for(var s=new h(t),f=0;t>f;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:s,index:f},void 0))}s[f]=v}for(var b=new Array(s.length),f=0;f<b.length;++f)b[f]=e.resolve(s[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}C._pushContext(),i=m(i);var r=u?i.apply(void 0,t):i(t),o=C._popContext();return a.checkForgottenReturns(r,o,"Promise.using",C),r}),C=w.lastly(function(){var t=new e.PromiseInspection(w);return c(s,t)});return s.promise=C,C._setOnCancel(s),C},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=O;return O=null,t.apply(this,arguments)}catch(e){return P.e=e,P}}function a(t){return O=t,o}function u(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return u(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!x.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(u(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return x.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=x.names(t.prototype),n=x.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=M.test(t+"")&&x.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return N.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function C(t){return g(t)&&x.propertyIsWritable(t,"stack")}function E(t){return{}.toString.call(t)}function k(t,e,n){for(var r=x.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{x.defineProperty(e,o,x.getDescriptor(t,o))}catch(a){}}}function S(t,e){return L?{NODE_ENV:"production"}[t]:e}var O,x=t("./es5"),T="undefined"==typeof navigator,P={e:{}},A="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,I=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},R=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(x.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(a){return r}for(var u=0;u<o.length;++u){var s=o[u];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(t,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}t=x.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),M=/this\s*\.\s*\S+\s*=/,N=/^[a-z$_][a-z$_0-9]*$/i,D=function(){return"stack"in new Error?function(t){return C(t)?t:new Error(m(t))}:function(t){if(C(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),j=function(t){return x.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var F="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};j=function(t){return x.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?F(t):null}}var L="undefined"!=typeof e&&"[object process]"===E(e).toLowerCase(),U={isClass:d,isIdentifier:_,inheritedDataKeys:R,getDataPropertyOrDefault:f,thrower:h,isArray:x.isArray,asArray:j,notEnumerableProp:p,isPrimitive:u,isObject:s,isError:g,canEvaluate:T,errorObj:P,tryCatch:a,inherits:I,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:C,ensureErrorObject:D,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:E,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:L,env:S,global:A};U.isRecentNode=U.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),U.isNode&&U.toFastProperties(e);try{throw new Error}catch(z){U.lastLineError=z}r.exports=U},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(63),function(){return this}(),n(51).setImmediate)},function(t,e,n){!function(e,n){t.e=n()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:O(t)}function n(t){return a(t)?t:A(t)}function r(t){return u(t)?t:I(t)}function i(t){return o(t)&&!s(t)?t:R(t)}function o(t){return!(!t||!t[cn])}function a(t){return!(!t||!t[ln])}function u(t){return!(!t||!t[fn])}function s(t){return a(t)||u(t)}function c(t){return!(!t||!t[pn])}function l(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function h(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;n>i;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(_)),t.size}function v(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return 0/0;e=n}return 0>e?d(t)+e:e}function _(){return!0}function y(t,e,n){return(0===t||void 0!==n&&-n>=t)&&(void 0===e||void 0!==n&&e>=n)}function m(t,e){return b(t,e,0)}function g(t,e){return b(t,e,e)}function b(t,e,n){return void 0===t?n:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function C(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function E(){return{value:void 0,done:!0}}function k(t){return!!T(t)}function S(t){return t&&"function"==typeof t.next}function x(t){var e=T(t);return e&&e.call(t)}function T(t){var e=t&&(En&&t[En]||t[kn]);return"function"==typeof e?e:void 0}function P(t){return t&&"number"==typeof t.length}function O(t){return null===t||void 0===t?L():o(t)?t.toSeq():V(t)}function A(t){return null===t||void 0===t?L().toKeyedSeq():o(t)?a(t)?t.toSeq():t.fromEntrySeq():U(t)}function I(t){return null===t||void 0===t?L():o(t)?a(t)?t.entrySeq():t.toIndexedSeq():z(t)}function R(t){return(null===t||void 0===t?L():o(t)?a(t)?t.entrySeq():t:z(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function N(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function D(t){this._iterable=t,this.size=t.length||t.size}function j(t){this._iterator=t,this._iteratorCache=[]}function F(t){return!(!t||!t[xn])}function L(){return Tn||(Tn=new M([]))}function U(t){var e=Array.isArray(t)?new M(t).fromEntrySeq():S(t)?new j(t).fromEntrySeq():k(t)?new D(t).fromEntrySeq():"object"==typeof t?new N(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function z(t){var e=B(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function V(t){var e=B(t)||"object"==typeof t&&new N(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function B(t){return P(t)?new M(t):S(t)?new j(t):k(t)?new D(t):void 0}function q(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;o>=a;a++){var u=i[n?o-a:a];if(e(u[1],r?u[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,n)}function W(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new w(function(){var t=i[n?o-a:a];return a++>o?E():C(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function H(t,e){return e?K(e,t,"",{"":t}):$(t)}function K(t,e,n,r){return Array.isArray(e)?t.call(r,n,I(e).map(function(n,r){return K(t,n,r,e)})):X(e)?t.call(r,n,A(e).map(function(n,r){return K(t,n,r,e)})):e}function $(t){return Array.isArray(t)?I(t).map($).toList():X(t)?A(t).map($).toMap():t}function X(t){return t&&(t.constructor===Object||void 0===t.constructor)}function Y(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function G(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||u(t)!==u(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!s(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&Y(i[1],t)&&(n||Y(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var l=t;t=e,e=l}var f=!0,p=e.__iterate(function(e,r){return(n?t.has(e):i?Y(e,t.get(r,yn)):Y(t.get(r,yn),e))?void 0:(f=!1,!1)});return f&&t.size===p}function Q(t,e){if(!(this instanceof Q))return new Q(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Pn)return Pn;Pn=this}}function J(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(J(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),t>e&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(On)return On;On=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Fn?at(t):ut(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return st(t);if("function"==typeof t.toString)return ut(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function at(t){var e=zn[t];return void 0===e&&(e=ut(t),Un===Ln&&(Un=0,zn={}),Un++,zn[t]=e),e}function ut(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function st(t){var e;if(Nn&&(e=An.get(t),void 0!==e))return e;if(e=t[jn],void 0!==e)return e;if(!Mn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[jn],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++Dn,1073741824&Dn&&(Dn=0),Nn)An.set(t,e);else{if(void 0!==Rn&&Rn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Mn)Object.defineProperty(t,jn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[jn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[jn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){J(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?Ct():pt(t)&&!c(t)?t:Ct().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Vn])}function ht(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function _t(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function mt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&bt(t._root)}function gt(t,e){return C(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var i=Object.create(Bn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ct(){return qn||(qn=wt(0))}function Et(t,e,n){var r,i;if(t._root){var o=l(mn),a=l(gn);if(r=kt(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===yn?-1:1:0)}else{if(n===yn)return t;i=1,r=new ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(i,r):Ct()}function kt(t,e,n,r,i,o,a,u){return t?t.update(e,n,r,i,o,a,u):o===yn?t:(f(u),f(a),new yt(e,r,[i,o]))}function St(t){return t.constructor===yt||t.constructor===_t}function xt(t,e,n,r,i){if(t.keyHash===r)return new _t(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&_n,u=(0===n?r:r>>>n)&_n,s=a===u?[xt(t,e,n+dn,r,i)]:(o=new yt(e,r,i),u>a?[t,o]:[o,t]);return new dt(e,1<<a|1<<u,s)}function Tt(t,e,n,r){t||(t=new p);for(var i=new yt(t,ot(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function Pt(t,e,n,r){for(var i=0,o=0,a=new Array(n),u=0,s=1,c=e.length;c>u;u++,s<<=1){var l=e[u];void 0!==l&&u!==r&&(i|=s,a[o++]=l)}return new dt(t,i,a)}function Ot(t,e,n,r,i){for(var o=0,a=new Array(vn),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[o++]:void 0;return a[r]=i,new vt(t,o+1,a)}function At(t,e,r){for(var i=[],a=0;a<r.length;a++){var u=r[a],s=n(u);o(u)||(s=s.map(function(t){return H(t)})),i.push(s)}return Mt(t,e,i)}function It(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):Y(t,e)?t:e}function Rt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return Y(e,i)?e:i}}function Mt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,yn,function(t){return t===yn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function Nt(t,e,n,r){var i=t===yn,o=e.next();if(o.done){var a=i?n:t,u=r(a);return u===a?t:u}J(i||t&&t.set,"invalid keyPath");var s=o.value,c=i?yn:t.get(s,yn),l=Nt(c,e,n,r);return l===c?t:l===yn?t.remove(s):(i?Ct():t).set(s,l)}function Dt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function jt(t,e,n,r){var i=r?t:h(t);return i[e]=n,i}function Ft(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,u=0;i>u;u++)u===e?(o[u]=n,a=-1):o[u]=t[u+a];return o}function Lt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;r>a;a++)a===e&&(o=1),i[a]=t[a+o];return i}function Ut(t){var e=Wt();if(null===t||void 0===t)return e;if(zt(t))return t;var n=r(t),i=n.size;return 0===i?e:(lt(i),i>0&&vn>i?qt(0,i,dn,null,new Vt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function zt(t){return!(!t||!t[$n])}function Vt(t,e){this.array=t,this.ownerID=e}function Bt(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===u?s&&s.array:t&&t.array,i=n>o?0:o-n,c=a-n;return c>vn&&(c=vn),function(){if(i===c)return Gn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var u,s=t&&t.array,c=i>o?0:o-i>>r,l=(a-i>>r)+1;return l>vn&&(l=vn),function(){for(;;){if(u){var t=u();if(t!==Gn)return t;u=null}if(c===l)return Gn;var o=e?--l:c++;u=n(s&&s[o],r-dn,i+(o<<r))}}}var o=t._origin,a=t._capacity,u=Qt(a),s=t._tail;return n(t._root,t._level,0)}function qt(t,e,n,r,i,o,a){var u=Object.create(Xn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Wt(){return Yn||(Yn=qt(0,0,dn))}function Ht(t,e,n){if(e=v(t,e),e!==e)return t;if(e>=t.size||0>e)return t.withMutations(function(t){0>e?Yt(t,e).set(0,n):Yt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=l(gn);return e>=Qt(t._capacity)?r=Kt(r,t.__ownerID,0,e,n,o):i=Kt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):qt(t._origin,t._capacity,t._level,i,r):t}function Kt(t,e,n,r,i,o){var a=r>>>n&_n,u=t&&a<t.array.length;if(!u&&void 0===i)return t;var s;if(n>0){var c=t&&t.array[a],l=Kt(c,e,n-dn,r,i,o);return l===c?t:(s=$t(t,e),s.array[a]=l,s)}return u&&t.array[a]===i?t:(f(o),s=$t(t,e),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function $t(t,e){return e&&t&&e===t.ownerID?t:new Vt(t?t.array.slice():[],e)}function Xt(t,e){if(e>=Qt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&_n],r-=dn;return n}}function Yt(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new p,i=t._origin,o=t._capacity,a=i+e,u=void 0===n?o:0>n?o+n:i+n;if(a===i&&u===o)return t;if(a>=u)return t.clear();for(var s=t._level,c=t._root,l=0;0>a+l;)c=new Vt(c&&c.array.length?[void 0,c]:[],r),s+=dn,l+=1<<s;l&&(a+=l,i+=l,u+=l,o+=l);for(var f=Qt(o),h=Qt(u);h>=1<<s+dn;)c=new Vt(c&&c.array.length?[c]:[],r),s+=dn;var d=t._tail,v=f>h?Xt(t,u-1):h>f?new Vt([],r):d;if(d&&h>f&&o>a&&d.array.length){c=$t(c,r);for(var _=c,y=s;y>dn;y-=dn){var m=f>>>y&_n;_=_.array[m]=$t(_.array[m],r)}_.array[f>>>dn&_n]=d}if(o>u&&(v=v&&v.removeAfter(r,0,u)),a>=h)a-=h,u-=h,s=dn,c=null,v=v&&v.removeBefore(r,0,a);else if(a>i||f>h){for(l=0;c;){var g=a>>>s&_n;if(g!==h>>>s&_n)break;g&&(l+=(1<<s)*g),s-=dn,c=c.array[g]}c&&a>i&&(c=c.removeBefore(r,s,a-l)),c&&f>h&&(c=c.removeAfter(r,s,h-l)),l&&(a-=l,u-=l)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=s,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):qt(a,u,s,c,v)}function Gt(t,e,n){for(var i=[],a=0,u=0;u<n.length;u++){var s=n[u],c=r(s);c.size>a&&(a=c.size),o(s)||(c=c.map(function(t){return H(t)})),i.push(c)}return a>t.size&&(t=t.setSize(a)),Mt(t,e,i)}function Qt(t){return vn>t?0:t-1>>>dn<<dn}function Jt(t){return null===t||void 0===t?ee():Zt(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Zt(t){return pt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Jt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Qn||(Qn=te(Ct(),Wt()))}function ne(t,e,n){var r,i,o=t._map,a=t._list,u=o.get(e),s=void 0!==u;if(n===yn){if(!s)return t;a.size>=vn&&a.size>=2*o.size?(i=a.filter(function(t,e){return void 0!==t&&u!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return t;r=o,i=a.set(u,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ae(t){this._iter=t,this.size=t.size}function ue(t){var e=Pe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);

return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Oe,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===Cn){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?bn:wn,n)},e}function se(t,e,n){var r=Pe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,yn);return o===yn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return r(e.call(n,t,i,a),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(Cn,i);return new w(function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return C(r,u,e.call(n,a[1],u,t),i)})},r}function ce(t,e){var n=Pe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ue(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Oe,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var i=Pe(t);return r&&(i.has=function(r){var i=t.get(r,yn);return i!==yn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,yn);return o!==yn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return t.__iterate(function(t,o,s){return e.call(n,t,o,s)?(u++,i(t,r?o:u-1,a)):void 0},o),u},i.__iteratorUncached=function(i,o){var a=t.__iterator(Cn,o),u=0;return new w(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(e.call(n,l,c,t))return C(i,r?c:u++,l,o)}})},i}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=a(t),i=(c(t)?Jt():ft()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return t=t||[],t.push(r?[a,o]:o),t})});var o=Te(t);return i.map(function(e){return ke(t,o(e))})}function he(t,e,n,r){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=n===1/0?i:0|n),y(e,n,i))return t;var o=m(e,i),a=g(n,i);if(o!==o||a!==a)return he(t.toSeq().cacheResult(),e,n,r);var u,s=a-o;s===s&&(u=0>s?0:s);var c=Pe(t);return c.size=0===u?u:t.size&&u||void 0,!r&&F(t)&&u>=0&&(c.get=function(e,n){return e=v(this,e),e>=0&&u>e?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,s=!0,c=0;return t.__iterate(function(t,n){return s&&(s=a++<o)?void 0:(c++,e(t,r?n:c-1,i)!==!1&&c!==u)}),c},c.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var i=0!==u&&t.__iterator(e,n),a=0,s=0;return new w(function(){for(;a++<o;)i.next();if(++s>u)return E();var t=i.next();return r||e===wn?t:e===bn?C(e,s-1,void 0,t):C(e,s-1,t.value[1],t)})},c}function de(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,u){return e.call(n,t,i,u)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(Cn,i),u=!0;return new w(function(){if(!u)return E();var t=a.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?r===Cn?t:C(r,s,c,t):(u=!1,E())})},r}function ve(t,e,n,r){var i=Pe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return t.__iterate(function(t,o,c){return u&&(u=e.call(n,t,o,c))?void 0:(s++,i(t,r?o:s-1,a))}),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(Cn,o),s=!0,c=0;return new w(function(){var t,o,l;do{if(t=u.next(),t.done)return r||i===wn?t:i===bn?C(i,c++,void 0,t):C(i,c++,t.value[1],t);var f=t.value;o=f[0],l=f[1],s&&(s=e.call(n,l,o,a))}while(s);return i===Cn?t:C(i,o,l,t)})},i}function _e(t,e){var r=a(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?U(t):z(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var s=i[0];if(s===t||r&&a(s)||u(t)&&u(s))return s}var c=new M(i);return r?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ye(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,i){function a(t,c){var l=this;t.__iterate(function(t,i){return(!e||e>c)&&o(t)?a(t,c+1):r(t,n?i:u++,l)===!1&&(s=!0),!s},i)}var u=0,s=!1;return a(t,0),u},r.__iteratorUncached=function(r,i){var a=t.__iterator(r,i),u=[],s=0;return new w(function(){for(;a;){var t=a.next();if(t.done===!1){var c=t.value;if(r===Cn&&(c=c[1]),e&&!(u.length<e)||!o(c))return n?t:C(r,s++,c,t);u.push(a),a=c.__iterator(r,i)}else a=u.pop()}return E()})},r}function me(t,e,n){var r=Te(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function ge(t,e){var n=Pe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(wn,r),a=0;return new w(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?C(n,a++,e):C(n,a++,i.value,i)})},n}function be(t,e,n){e||(e=Ae);var r=a(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?A(o):u(t)?I(o):R(o)}function we(t,e,n){if(e||(e=Ae),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Ce(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Ce(e,t,n)?n:t})}function Ce(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ee(t,n,r){var i=Pe(t);return i.size=new M(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),x(i?t.reverse():t)}),a=0,u=!1;return new w(function(){var e;return u||(e=o.map(function(t){return t.next()}),u=e.some(function(t){return t.done})),u?E():C(t,a++,n.apply(null,e.map(function(t){return t.value})))})},i}function ke(t,e){return F(t)?e:t.constructor(e)}function Se(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function xe(t){return lt(t.size),d(t)}function Te(t){return a(t)?n:u(t)?r:i}function Pe(t){return Object.create((a(t)?A:u(t)?I:R).prototype)}function Oe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):O.prototype.cacheResult.call(this)}function Ae(t,e){return t>e?1:e>t?-1:0}function Ie(t){var n=x(t);if(!n){if(!P(t))throw new TypeError("Expected iterable or array-like: "+t);n=x(e(t))}return n}function Re(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);De(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=ft(o)},i=r.prototype=Object.create(Jn);return i.constructor=r,r}function Me(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ne(t){return t._name||t.constructor.name||"Record"}function De(t,e){try{e.forEach(je.bind(void 0,t))}catch(n){}}function je(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){J(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Fe(t){return null===t||void 0===t?Ve():Le(t)&&!c(t)?t:Ve().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Le(t){return!(!t||!t[Zn])}function Ue(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function ze(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ve(){return er||(er=ze(Ct()))}function Be(t){return null===t||void 0===t?He():qe(t)?t:He().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function qe(t){return Le(t)&&c(t)}function We(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function He(){return rr||(rr=We(ee()))}function Ke(t){return null===t||void 0===t?Ye():$e(t)?t:Ye().unshiftAll(t)}function $e(t){return!(!t||!t[ir])}function Xe(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ye(){return ar||(ar=Xe(0))}function Ge(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Qe(t,e){return e}function Je(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return h(arguments)}function rn(t,e){return e>t?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=a(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+un(ot(t),ot(e))|0}:function(t,e){r=r+un(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return an(i,r)}function an(t,e){return e=In(e,3432918353),e=In(e<<15|e>>>-15,461845907),e=In(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=In(e^e>>>16,2246822507),e=In(e^e>>>13,3266489909),e=it(e^e>>>16)}function un(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sn=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=a,e.isIndexed=u,e.isAssociative=s,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",hn="delete",dn=5,vn=1<<dn,_n=vn-1,yn={},mn={value:!1},gn={value:!1},bn=0,wn=1,Cn=2,En="function"==typeof Symbol&&Symbol.iterator,kn="@@iterator",Sn=En||kn;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=bn,w.VALUES=wn,w.ENTRIES=Cn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[Sn]=function(){return this},t(O,e),O.of=function(){return O(arguments)},O.prototype.toSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq {","}")},O.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},O.prototype.__iterate=function(t,e){return q(this,t,e,!0)},O.prototype.__iterator=function(t,e){return W(this,t,e,!0)},t(A,O),A.prototype.toKeyedSeq=function(){return this},t(I,O),I.of=function(){return I(arguments)},I.prototype.toIndexedSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq [","]")},I.prototype.__iterate=function(t,e){return q(this,t,e,!1)},I.prototype.__iterator=function(t,e){return W(this,t,e,!1)},t(R,O),R.of=function(){return R(arguments)},R.prototype.toSetSeq=function(){return this},O.isSeq=F,O.Keyed=A,O.Set=R,O.Indexed=I;var xn="@@__IMMUTABLE_SEQ__@@";O.prototype[xn]=!0,t(M,I),M.prototype.get=function(t,e){return this.has(t)?this._array[v(this,t)]:e},M.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;r>=i;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},M.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?E():C(t,i,n[e?r-i++:i++])})},t(N,A),N.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},N.prototype.has=function(t){return this._object.hasOwnProperty(t)},N.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;i>=o;o++){var a=r[e?i-o:o];if(t(n[a],a,this)===!1)return o+1}return o},N.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var a=r[e?i-o:o];return o++>i?E():C(t,a,n[a])})},N.prototype[pn]=!0,t(D,I),D.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=x(n),i=0;if(S(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},D.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=x(n);if(!S(r))return new w(E);var i=0;return new w(function(){var e=r.next();return e.done?e:C(t,i++,e.value)})},t(j,I),j.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,t(a,i++,this)===!1)break}return i},j.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return C(t,i,r[i++])})};var Tn;t(Q,I),Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Q.prototype.get=function(t,e){return this.has(t)?this._value:e},Q.prototype.includes=function(t){return Y(this._value,t)},Q.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:new Q(this._value,g(e,n)-m(t,n))},Q.prototype.reverse=function(){return this},Q.prototype.indexOf=function(t){return Y(this._value,t)?0:-1},Q.prototype.lastIndexOf=function(t){return Y(this._value,t)?this.size:-1},Q.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},Q.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?C(t,r++,n._value):E()})},Q.prototype.equals=function(t){return t instanceof Q?Y(this._value,t._value):G(t)};var Pn;t(Z,I),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+v(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return y(t,e,this.size)?this:(t=m(t,this.size),e=g(e,this.size),t>=e?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;n>=o;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Z.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new w(function(){var a=i;return i+=e?-r:r,o>n?E():C(t,o++,a)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:G(this,t)};var On;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var An,In="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Rn=Object.isExtensible,Mn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Nn="function"==typeof WeakMap;Nn&&(An=new WeakMap);var Dn=0,jn="__immutablehash__";"function"==typeof Symbol&&(jn=Symbol(jn));var Fn=16,Ln=255,Un=0,zn={};t(ft,et),ft.of=function(){var t=sn.call(arguments,0);return Ct().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return Et(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,yn,function(){return e})},ft.prototype.remove=function(t){return Et(this,t,yn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=Nt(this,Ie(t),e,n);return r===yn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ct()},ft.prototype.merge=function(){return At(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var e=sn.call(arguments,1);return At(this,t,e)},ft.prototype.mergeIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,Ct(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return At(this,It,arguments)},ft.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return At(this,Rt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,Ct(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Jt(be(this,t))},ft.prototype.sortBy=function(t,e){return Jt(be(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new mt(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var Vn="@@__IMMUTABLE_MAP__@@",Bn=ft.prototype;Bn[Vn]=!0,Bn[hn]=Bn.remove,Bn.removeIn=Bn.deleteIn,ht.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;a>o;o++)if(Y(n,i[o][0]))return i[o][1];return r},ht.prototype.update=function(t,e,n,r,i,o,a){for(var u=i===yn,s=this.entries,c=0,l=s.length;l>c&&!Y(r,s[c][0]);c++);var p=l>c;if(p?s[c][1]===i:u)return this;if(f(a),(u||!p)&&f(o),!u||1!==s.length){if(!p&&!u&&s.length>=Wn)return Tt(t,s,r,i);var d=t&&t===this.ownerID,v=d?s:h(s);return p?u?c===l-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new ht(t,v)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&_n),o=this.bitmap;return 0===(o&i)?r:this.nodes[Dt(o&i-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var u=(0===e?n:n>>>e)&_n,s=1<<u,c=this.bitmap,l=0!==(c&s);if(!l&&i===yn)return this;var f=Dt(c&s-1),p=this.nodes,h=l?p[f]:void 0,d=kt(h,t,e+dn,n,r,i,o,a);if(d===h)return this;if(!l&&d&&p.length>=Hn)return Ot(t,p,c,u,d);if(l&&!d&&2===p.length&&St(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&St(d))return d;var v=t&&t===this.ownerID,_=l?d?c:c^s:c|s,y=l?d?jt(p,f,d,v):Lt(p,f,v):Ft(p,f,d,v);return v?(this.bitmap=_,this.nodes=y,this):new dt(t,_,y)},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&_n,o=this.nodes[i];return o?o.get(t+dn,e,n,r):r},vt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var u=(0===e?n:n>>>e)&_n,s=i===yn,c=this.nodes,l=c[u];if(s&&!l)return this;var f=kt(l,t,e+dn,n,r,i,o,a);if(f===l)return this;var p=this.count;if(l){if(!f&&(p--,Kn>p))return Pt(t,c,p,u)}else p++;var h=t&&t===this.ownerID,d=jt(c,u,f,h);return h?(this.count=p,this.nodes=d,this):new vt(t,p,d)},_t.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;a>o;o++)if(Y(n,i[o][0]))return i[o][1];return r},_t.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var u=i===yn;if(n!==this.keyHash)return u?this:(f(a),f(o),xt(this,t,e,n,[r,i]));for(var s=this.entries,c=0,l=s.length;l>c&&!Y(r,s[c][0]);c++);var p=l>c;if(p?s[c][1]===i:u)return this;if(f(a),(u||!p)&&f(o),u&&2===l)return new yt(t,this.keyHash,s[1^c]);var d=t&&t===this.ownerID,v=d?s:h(s);return p?u?c===l-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new _t(t,this.keyHash,v)},yt.prototype.get=function(t,e,n,r){return Y(n,this.entry[0])?this.entry[1]:r},yt.prototype.update=function(t,e,n,r,i,o,a){var u=i===yn,s=Y(r,this.entry[0]);return(s?i===this.entry[1]:u)?this:(f(a),u?void f(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new yt(t,this.keyHash,[r,i]):(f(o),xt(this,t,e,ot(r),[r,i])))},ht.prototype.iterate=_t.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;i>=r;r++)if(t(n[e?i-r:r])===!1)return!1},dt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;i>=r;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},yt.prototype.iterate=function(t,e){return t(this.entry)},t(mt,w),mt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return gt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,n>=i)return gt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,n>=i){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=bt(o,e)}continue}e=this._stack=this._stack.__prev}return E()};var qn,Wn=vn/4,Hn=vn/2,Kn=vn/4;t(Ut,nt),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("List [","]")},Ut.prototype.get=function(t,e){if(t=v(this,t),t>=0&&t<this.size){t+=this._origin;var n=Xt(this,t);return n&&n.array[t&_n]}return e},Ut.prototype.set=function(t,e){return Ht(this,t,e)},Ut.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Ut.prototype.insert=function(t,e){return this.splice(t,0,e)},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Wt()},Ut.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Yt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Ut.prototype.pop=function(){return Yt(this,0,-1)},Ut.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Yt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Ut.prototype.shift=function(){return Yt(this,1)},Ut.prototype.merge=function(){return Gt(this,void 0,arguments)},Ut.prototype.mergeWith=function(t){var e=sn.call(arguments,1);return Gt(this,t,e)},Ut.prototype.mergeDeep=function(){return Gt(this,It,arguments)},Ut.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Gt(this,Rt(t),e)},Ut.prototype.setSize=function(t){return Yt(this,0,t)},Ut.prototype.slice=function(t,e){var n=this.size;return y(t,e,n)?this:Yt(this,m(t,n),g(e,n))},Ut.prototype.__iterator=function(t,e){var n=0,r=Bt(this,e);return new w(function(){var e=r();return e===Gn?E():C(t,n++,e)})},Ut.prototype.__iterate=function(t,e){for(var n,r=0,i=Bt(this,e);(n=i())!==Gn&&t(n,r++,this)!==!1;);return r},Ut.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?qt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Ut.isList=zt;var $n="@@__IMMUTABLE_LIST__@@",Xn=Ut.prototype;Xn[$n]=!0,Xn[hn]=Xn.remove,Xn.setIn=Bn.setIn,Xn.deleteIn=Xn.removeIn=Bn.removeIn,Xn.update=Bn.update,Xn.updateIn=Bn.updateIn,Xn.mergeIn=Bn.mergeIn,Xn.mergeDeepIn=Bn.mergeDeepIn,Xn.withMutations=Bn.withMutations,Xn.asMutable=Bn.asMutable,Xn.asImmutable=Bn.asImmutable,Xn.wasAltered=Bn.wasAltered,Vt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&_n;if(r>=this.array.length)return new Vt([],t);var i,o=0===r;if(e>0){var a=this.array[r];if(i=a&&a.removeBefore(t,e-dn,n),i===a&&o)return this}if(o&&!i)return this;var u=$t(this,t);if(!o)for(var s=0;r>s;s++)u.array[s]=void 0;return i&&(u.array[r]=i),u},Vt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&_n;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-dn,n),i===o&&r===this.array.length-1)return this}var a=$t(this,t);return a.array.splice(r+1),i&&(a.array[r]=i),a};var Yn,Gn={};t(Jt,ft),Jt.of=function(){return this(arguments)},Jt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Jt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Jt.prototype.set=function(t,e){return ne(this,t,e)},Jt.prototype.remove=function(t){return ne(this,t,yn)},Jt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Jt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Jt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Jt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Jt.isOrderedMap=Zt,Jt.prototype[pn]=!0,Jt.prototype[hn]=Jt.prototype.remove;var Qn;t(re,A),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=se(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?xe(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?xe(this):0;return new w(function(){var i=n.next();return i.done?i:C(t,e?--r:r++,i.value,i)})},re.prototype[pn]=!0,t(ie,I),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new w(function(){var e=n.next();return e.done?e:C(t,r++,e.value,e)})},t(oe,R),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){var e=n.next();return e.done?e:C(t,e.value,e.value,e)})},t(ae,A),ae.prototype.entrySeq=function(){return this._iter.toSeq()},ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Se(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Se(r);var i=o(r);return C(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ae.prototype.cacheResult=Oe,t(Re,et),Re.prototype.toString=function(){return this.__toString(Ne(this)+" {","}")},Re.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Re.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Re.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Me(this,Ct()))},Re.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ne(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Me(this,r)},Re.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Me(this,e)},Re.prototype.wasAltered=function(){return this._map.wasAltered()},Re.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Re.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Me(this,e,t):(this.__ownerID=t,this._map=e,this)};var Jn=Re.prototype;Jn[hn]=Jn.remove,Jn.deleteIn=Jn.removeIn=Bn.removeIn,Jn.merge=Bn.merge,Jn.mergeWith=Bn.mergeWith,Jn.mergeIn=Bn.mergeIn,Jn.mergeDeep=Bn.mergeDeep,Jn.mergeDeepWith=Bn.mergeDeepWith,Jn.mergeDeepIn=Bn.mergeDeepIn,Jn.setIn=Bn.setIn,Jn.update=Bn.update,Jn.updateIn=Bn.updateIn,Jn.withMutations=Bn.withMutations,Jn.asMutable=Bn.asMutable,Jn.asImmutable=Bn.asImmutable,t(Fe,rt),Fe.of=function(){return this(arguments)},Fe.fromKeys=function(t){return this(n(t).keySeq())},Fe.prototype.toString=function(){return this.__toString("Set {","}")},Fe.prototype.has=function(t){return this._map.has(t)},Fe.prototype.add=function(t){return Ue(this,this._map.set(t,!0))},Fe.prototype.remove=function(t){return Ue(this,this._map.remove(t))},Fe.prototype.clear=function(){return Ue(this,this._map.clear())},Fe.prototype.union=function(){var t=sn.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Fe.prototype.intersect=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Fe.prototype.subtract=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Fe.prototype.merge=function(){return this.union.apply(this,arguments)},Fe.prototype.mergeWith=function(t){var e=sn.call(arguments,1);return this.union.apply(this,e)},Fe.prototype.sort=function(t){return Be(be(this,t))},Fe.prototype.sortBy=function(t,e){return Be(be(this,e,t))},Fe.prototype.wasAltered=function(){return this._map.wasAltered()},Fe.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Fe.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Fe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Fe.isSet=Le;var Zn="@@__IMMUTABLE_SET__@@",tr=Fe.prototype;tr[Zn]=!0,tr[hn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Bn.withMutations,tr.asMutable=Bn.asMutable,tr.asImmutable=Bn.asImmutable,tr.__empty=Ve,tr.__make=ze;var er;t(Be,Fe),Be.of=function(){return this(arguments)},Be.fromKeys=function(t){return this(n(t).keySeq())},
Be.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Be.isOrderedSet=qe;var nr=Be.prototype;nr[pn]=!0,nr.__empty=He,nr.__make=We;var rr;t(Ke,nt),Ke.of=function(){return this(arguments)},Ke.prototype.toString=function(){return this.__toString("Stack [","]")},Ke.prototype.get=function(t,e){var n=this._head;for(t=v(this,t);n&&t--;)n=n.next;return n?n.value:e},Ke.prototype.peek=function(){return this._head&&this._head.value},Ke.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Xe(t,e)},Ke.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xe(e,n)},Ke.prototype.pop=function(){return this.slice(1)},Ke.prototype.unshift=function(){return this.push.apply(this,arguments)},Ke.prototype.unshiftAll=function(t){return this.pushAll(t)},Ke.prototype.shift=function(){return this.pop.apply(this,arguments)},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ye()},Ke.prototype.slice=function(t,e){if(y(t,e,this.size))return this;var n=m(t,this.size),r=g(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Xe(i,o)},Ke.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ke.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Ke.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,C(t,n++,e)}return E()})},Ke.isStack=$e;var ir="@@__IMMUTABLE_STACK__@@",or=Ke.prototype;or[ir]=!0,or.withMutations=Bn.withMutations,or.asMutable=Bn.asMutable,or.asImmutable=Bn.asImmutable,or.wasAltered=Bn.wasAltered;var ar;e.Iterator=w,Ge(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Jt(this.toKeyedSeq())},toOrderedSet:function(){return Be(a(this)?this.valueSeq():this)},toSet:function(){return Fe(a(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return u(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ke(a(this)?this.valueSeq():this)},toList:function(){return Ut(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=sn.call(arguments,0);return ke(this,_e(this,t))},includes:function(t){return this.some(function(e){return Y(e,t)})},entries:function(){return this.__iterator(Cn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,i,o){return t.call(e,r,i,o)?void 0:(n=!1,!1)}),n},filter:function(t,e){return ke(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(bn)},map:function(t,e){return ke(this,se(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return ke(this,ce(this,!0))},slice:function(t,e){return ke(this,he(this,t,e,!0))},some:function(t,e){return!this.every(Ze(t),e)},sort:function(t){return ke(this,be(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return G(this,t)},entrySeq:function(){var t=this;if(t._cache)return new M(t._cache);var e=t.toSeq().map(Je).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ze(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){return t.call(e,n,i,o)?(r=[i,n],!1):void 0}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(_)},flatMap:function(t,e){return ke(this,me(this,t,e))},flatten:function(t){return ke(this,ye(this,t,!0))},fromEntrySeq:function(){return new ae(this)},get:function(t,e){return this.find(function(e,n){return Y(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Ie(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,yn):yn,r===yn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,yn)!==yn},hasIn:function(t){return this.getIn(t,yn)!==yn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return Y(e,t)})},keySeq:function(){return this.toSeq().map(Qe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return ke(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return ke(this,ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ze(t),e)},sortBy:function(t,e){return ke(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return ke(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return ke(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ze(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ur=e.prototype;ur[cn]=!0,ur[Sn]=ur.values,ur.__toJS=ur.toArray,ur.__toStringMapper=en,ur.inspect=ur.toSource=function(){return this.toString()},ur.chain=ur.flatMap,ur.contains=ur.includes,Ge(n,{flip:function(){return ke(this,ue(this))},mapEntries:function(t,e){var n=this,r=0;return ke(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return ke(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var sr=n.prototype;sr[ln]=!0,sr[Sn]=ur.entries,sr.__toJS=ur.toObject,sr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ge(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return ke(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return ke(this,ce(this,!1))},slice:function(t,e){return ke(this,he(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=m(t,0>t?this.count():this.size);var r=this.slice(0,t);return ke(this,1===n?r:r.concat(h(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return ke(this,ye(this,t,!1))},get:function(t,e){return t=v(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=v(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return ke(this,ge(this,t))},interleave:function(){var t=[this].concat(h(arguments)),e=Ee(this.toSeq(),I.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),ke(this,n)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return ke(this,ve(this,t,e,!1))},zip:function(){var t=[this].concat(h(arguments));return ke(this,Ee(this,nn,t))},zipWith:function(t){var e=h(arguments);return e[0]=this,ke(this,Ee(this,t,e))}}),r.prototype[fn]=!0,r.prototype[pn]=!0,Ge(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ur.includes,i.prototype.contains=i.prototype.includes,Ge(A,n.prototype),Ge(I,r.prototype),Ge(R,i.prototype),Ge(et,n.prototype),Ge(nt,r.prototype),Ge(rt,i.prototype);var cr={Iterable:e,Seq:O,Collection:tt,Map:ft,OrderedMap:Jt,List:Ut,Stack:Ke,Set:Fe,OrderedSet:Be,Record:Re,Range:Z,Repeat:Q,is:Y,fromJS:H};return cr})},function(t,e,n){function r(){r.init.call(this)}var i={};i.isObject=function(t){return"object"==typeof t&&null!==t},i.isNumber=function(t){return"number"==typeof t},i.isUndefined=function(t){return void 0===t},i.isFunction=function(t){return"function"==typeof t},t.e=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(t){if(!i.isNumber(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,a,u;if(this._events||(this._events={}),"error"===t&&!this._events.error)throw e=arguments[1],e instanceof Error?e:Error('Uncaught, unspecified "error" event.');if(n=this._events[t],i.isUndefined(n))return!1;if(i.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];n.apply(this,o)}else if(i.isObject(n)){for(r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];for(u=n.slice(),r=u.length,a=0;r>a;a++)u[a].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i.isFunction(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i.isFunction(e.listener)?e.listener:e),this._events[t]?i.isObject(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i.isObject(this._events[t])&&!this._events[t].warned){var n;n=i.isUndefined(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,i.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),i.isFunction(console.trace)&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i.isFunction(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i.isFunction(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i.isFunction(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i.isObject(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i.isFunction(n))this.removeListener(t,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i.isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i.isFunction(t._events[e])?1:t._events[e].length:0}},function(t,e,n){function r(t,e){function n(){t.Request.apply(this,arguments)}n.prototype=Object.create(t.Request.prototype),n.prototype.end=function(n){var r=t.Request.prototype.end,i=this;return new e(function(t,e){r.call(i,function(r,i){n&&n(r,i),r?(r.response=i,e(r)):t(i)})})},n.prototype.then=function(n,r){var i=t.Request.prototype.end,o=this;return new e(function(t,e){i.call(o,function(n,r){n?(n.response=r,e(n)):t(r)})}).then(n,r)};var r=function(t,e){return new n(t,e)};return r.options=function(t){return r("OPTIONS",t)},r.head=function(t,e){var n=r("HEAD",t);return e&&n.send(e),n},r.get=function(t,e){var n=r("GET",t);return e&&n.query(e),n},r.post=function(t,e){var n=r("POST",t);return e&&n.send(e),n},r.put=function(t,e){var n=r("PUT",t);return e&&n.send(e),n},r.patch=function(t,e){var n=r("PATCH",t);return e&&n.send(e),n},r.del=function(t){return r("DELETE",t)},r}t.e=r},function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){if(!g(t))return t;var e=[];for(var n in t)null!=t[n]&&a(e,n,t[n]);return e.join("&")}function a(t,e,n){return Array.isArray(n)?n.forEach(function(n){a(t,e,n)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function u(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;a>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function s(t){var e,n,r,i,o=t.split(/\r?\n/),a={};o.pop();for(var u=0,s=o.length;s>u;++u)n=o[u],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=w(n.slice(e+1)),a[r]=i;return a}function c(t){return/[\/+]json\b/.test(t)}function l(t){return t.split(/ *; */).shift()}function f(t){return y(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function p(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new p(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(i,e)})}function d(t,e){var n=b("DELETE",t);return e&&n.end(e),n}var v,_=n(95),y=n(175),m=n(178),g=n(92);v="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var b=t.e=n(179).bind(null,h);b.getXHR=function(){if(!(!v.XMLHttpRequest||v.location&&"file:"==v.location.protocol&&v.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var w="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=o,b.parseString=u,b.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},p.prototype.get=function(t){return this.header[t.toLowerCase()]},p.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=l(e);var n=f(e);for(var r in n)this[r]=n[r]},p.prototype.parseBody=function(t){var e=b.parse[this.type];return!e&&c(this.type)&&(e=b.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},p.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},p.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},b.Response=p,_(h.prototype);for(var C in m)h.prototype[C]=m[C];h.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},h.prototype.type=function(t){return this.set("Content-Type",b.types[t]||t),this},h.prototype.responseType=function(t){return this._responseType=t,this},h.prototype.accept=function(t){return this.set("Accept",b.types[t]||t),this},h.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(t+":"+e);this.set("Authorization","Basic "+r);break;case"auto":this.username=t,this.password=e}return this},h.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},h.prototype._getFormData=function(){return this._formData||(this._formData=new v.FormData),this._formData},h.prototype.send=function(t){var e=g(t),n=this._header["content-type"];if(e&&g(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||i(t)?this:(n||this.type("json"),this)},p.prototype.parse=function(t){return v.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},p.prototype.serialize=function(t){return this._parser=t,this},h.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,n=this.xhr=b.getXHR(),o=this._query.join("&"),a=this._timeout,u=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var s=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=s);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=s)}catch(l){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),o&&(o=b.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!i(u)){var f=this._header["content-type"],p=this._parser||b.serialize[f?f.split(";")[0]:""];!p&&c(f)&&(p=b.serialize["application/json"]),p&&(u=p(u))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof u?u:null),this},b.Request=h,b.get=function(t,e,n){var r=b("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},b.head=function(t,e,n){var r=b("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.del=d,b["delete"]=d,b.patch=function(t,e,n){var r=b("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.post=function(t,e,n){var r=b("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.put=function(t,e,n){var r=b("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},,function(t,e,n){"use strict";var r=n(8),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.e=i},function(t,e,n){"use strict";function r(t){try{t.focus()}catch(e){}}t.e=r},function(t,e,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.e=r},function(t,e,n){"use strict";function r(t){return a?void 0:o(!1),p.hasOwnProperty(t)||(t="*"),u.hasOwnProperty(t)||(a.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",u[t]=!a.firstChild),u[t]?p[t]:null}var i=n(4),o=n(0),a=i.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(t){p[t]=f,u[t]=!0}),t.e=r},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.e=i},function(t,e,n){function r(){l=!1,u.length?c=u.concat(c):f=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(r);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var u,s=t.e={},c=[],l=!1,f=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){o.forEach(function(e){i[r(e,t)]=i[t]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:i,shorthandPropertyExpansions:a};t.e=u},function(t,e,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(2),o=n(14),a=n(0);i(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(t){this._callbacks&&(this._callbacks.length=t,this._contexts.length=t)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.e=r},function(t,e,n){"use strict";function r(t){return(""+t).replace(b,"$&/")}function i(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=i.getPooled(e,n);y(t,o,r),i.release(r)}function u(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function s(t,e,n){var i=t.result,o=t.keyPrefix,a=t.func,u=t.context,s=a.call(u,e,t.count++);Array.isArray(s)?c(s,i,n,_.thatReturnsArgument):null!=s&&(v.isValidElement(s)&&(s=v.cloneAndReplaceKey(s,o+(!s.key||e&&e.key===s.key?"":r(s.key)+"/")+n)),i.push(s))}function c(t,e,n,i,o){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(e,a,i,o);y(t,s,c),u.release(c)}function l(t,e,n){if(null==t)return t;var r=[];return c(t,r,null,e,n),r}function f(t,e,n){return null}function p(t,e){return y(t,f,null)}function h(t){var e=[];return c(t,e,null,_.thatReturnsArgument),e}var d=n(14),v=n(6),_=n(8),y=n(49),m=d.twoArgumentPooler,g=d.fourArgumentPooler,b=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,m),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(u,g);var w={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:p,toArray:h};t.e=w},function(t,e,n){"use strict";function r(t,e){var n=C.hasOwnProperty(e)?C[e]:null;k.hasOwnProperty(e)&&(n!==b.OVERRIDE_BASE?_(!1):void 0),t&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?_(!1):void 0)}function i(t,e){if(e){"function"==typeof e?_(!1):void 0,h.isValidElement(e)?_(!1):void 0;var n=t.prototype,i=n.__reactAutoBindPairs;e.hasOwnProperty(g)&&E.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==g){var a=e[o],c=n.hasOwnProperty(o);if(r(c,o),E.hasOwnProperty(o))E[o](t,a);else{var l=C.hasOwnProperty(o),f="function"==typeof a,p=f&&!l&&!c&&e.autobind!==!1;if(p)i.push(o,a),n[o]=a;else if(c){var d=C[o];!l||d!==b.DEFINE_MANY_MERGED&&d!==b.DEFINE_MANY?_(!1):void 0,d===b.DEFINE_MANY_MERGED?n[o]=u(n[o],a):d===b.DEFINE_MANY&&(n[o]=s(n[o],a))}else n[o]=a}}}}function o(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in E;i?_(!1):void 0;var o=n in t;o?_(!1):void 0,t[n]=r}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:_(!1);for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?_(!1):void 0,t[n]=e[n]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function s(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var n=e.bind(t);return n}function l(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=c(t,i)}}var f=n(2),p=n(68),h=n(6),d=(n(27),n(26),n(80)),v=n(21),_=n(0),y=n(22),m=n(11),g=(n(1),m({mixins:null})),b=y({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],C={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},E={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=f({},t.childContextTypes,e);

},contextTypes:function(t,e){t.contextTypes=f({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps=t.getDefaultProps?u(t.getDefaultProps,e):e},propTypes:function(t,e){t.propTypes=f({},t.propTypes,e)},statics:function(t,e){o(t,e)},autobind:function(){}},k={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},S=function(){};f(S.prototype,p.prototype,k);var x={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindPairs.length&&l(this),this.props=t,this.context=e,this.refs=v,this.updater=n||d,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?_(!1):void 0,this.state=r};e.prototype=new S,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],w.forEach(i.bind(null,e)),i(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:_(!1);for(var n in C)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){w.push(t)}}};t.e=x},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=o,this.updater=n||i}var i=n(80),o=(n(25),n(40),n(21)),a=n(0);n(1),r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?a(!1):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")},t.e=r},function(t,e,n){"use strict";var r=n(32),i=n(131),o=n(5),a={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(t){}};o.measureMethods(a,"ReactComponentBrowserEnvironment",{replaceNodeWithMarkup:"replaceNodeWithMarkup"}),t.e=a},function(t,e,n){"use strict";var r={hasCachedChildNodes:1};t.e=r},function(t,e,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=u.getValue(t);null!=e&&i(this,Boolean(t.multiple),e)}}function i(t,e,n){var r,i,o=s.getNodeFromInstance(t).options;if(e){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(2),u=n(35),s=n(3),c=n(7),l=(n(1),!1),f={getNativeProps:function(t,e){return a({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=u.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||l||(l=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=u.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,i(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?i(t,Boolean(e.multiple),e.defaultValue):i(t,Boolean(e.multiple),e.multiple?[]:""))}};t.e=f},function(t,e,n){"use strict";function r(){if(f.current){var t=f.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(t,e){t._store&&!t._store.validated&&null==t.key&&(t._store.validated=!0,o("uniqueKey",t,e))}function o(t,e,n){var i=r();if(!i){var o="string"==typeof n?n:n.displayName||n.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=d[t]||(d[t]={});if(a[i])return null;a[i]=!0;var u={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return e&&e._owner&&e._owner!==f.current&&(u.childOwner=" It was passed a child from "+e._owner.getName()+"."),u}function a(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];c.isValidElement(r)&&i(r,e)}else if(c.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var o=p(t);if(o&&o!==t.entries)for(var a,u=o.call(t);!(a=u.next()).done;)c.isValidElement(a.value)&&i(a.value,e)}}function u(t,e,n,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?h(!1):void 0,a=e[o](n,o,t,i)}catch(u){a=u}a instanceof Error&&!(a.message in v)&&(v[a.message]=!0,r())}}function s(t){var e=t.type;if("function"==typeof e){var n=e.displayName||e.name;e.propTypes&&u(n,e.propTypes,t.props,l.prop),"function"==typeof e.getDefaultProps}}var c=n(6),l=n(27),f=(n(26),n(12)),p=(n(40),n(45)),h=n(0),d=(n(1),{}),v={},_={createElement:function(t,e,n){var r="string"==typeof t||"function"==typeof t,i=c.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)a(arguments[o],t);return s(i),i},createFactory:function(t){var e=_.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var r=c.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],r.type);return s(r),r}};t.e=_},function(t,e,n){"use strict";var r,i={injectEmptyComponentFactory:function(t){r=t}},o={create:function(t){return r(t)}};o.injection=i,t.e=o},function(t,e,n){"use strict";var r={logTopLevelRenders:!1};t.e=r},function(t,e,n){"use strict";function r(t){return o(document.documentElement,t)}var i=n(135),o=n(100),a=n(59),u=n(60),s={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=u();return{focusedElem:t,selectionRange:s.hasSelectionCapabilities(t)?s.getSelection(t):null}},restoreSelection:function(t){var e=u(),n=t.focusedElem,i=t.selectionRange;e!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,i),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if(void 0===r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(t,e)}};t.e=s},function(t,e,n){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;n>r;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function i(t){return t?t.nodeType===M?t.documentElement:t.firstChild:null}function o(t){return t.getAttribute&&t.getAttribute(A)||""}function a(t,e,n,r,i){var o;if(g.logTopLevelRenders){var a=t._currentElement.props,u=a.type;o="React mount: "+("string"==typeof u?u:u.displayName||u.name),console.time(o)}var s=C.mountComponent(t,n,null,_(t,e),i);o&&console.timeEnd(o),t._renderedComponent._topLevelWrapper=t,L._mountImageIntoNode(s,e,t,r,n)}function u(t,e,n,r){var i=k.ReactReconcileTransaction.getPooled(!n&&y.useCreateElement);i.perform(a,null,t,e,i,n,r),k.ReactReconcileTransaction.release(i)}function s(t,e,n){for(C.unmountComponent(t,n),e.nodeType===M&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function c(t){var e=i(t);if(e){var n=v.getInstanceFromNode(e);return!(!n||!n._nativeParent)}}function l(t){var e=i(t),n=e&&v.getInstanceFromNode(e);return n&&!n._nativeParent?n:null}function f(t){var e=l(t);return e?e._nativeContainerInfo._topLevelWrapper:null}var p=n(15),h=n(13),d=n(24),v=(n(12),n(3)),_=n(126),y=n(130),m=n(6),g=n(74),b=(n(25),n(147)),w=n(5),C=n(16),E=n(82),k=n(7),S=n(21),x=n(89),T=n(0),P=n(47),O=n(48),A=(n(1),h.ID_ATTRIBUTE_NAME),I=h.ROOT_ATTRIBUTE_NAME,R=1,M=9,N=11,D={},j=1,F=function(){this.rootID=j++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props};var L={TopLevelWrapper:F,_instancesByReactRootID:D,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r){return L.scrollMonitor(n,function(){E.enqueueElementInternal(t,e),r&&E.enqueueCallbackInternal(t,r)}),t},_renderNewRootComponent:function(t,e,n,r){!e||e.nodeType!==R&&e.nodeType!==M&&e.nodeType!==N?T(!1):void 0,d.ensureScrollValueMonitoring();var i=x(t);k.batchedUpdates(u,i,e,n,r);var o=i._instance.rootID;return D[o]=i,i},renderSubtreeIntoContainer:function(t,e,n,r){return null==t||null==t._reactInternalInstance?T(!1):void 0,L._renderSubtreeIntoContainer(t,e,n,r)},_renderSubtreeIntoContainer:function(t,e,n,r){E.validateCallback(r,"ReactDOM.render"),m.isValidElement(e)?void 0:T(!1);var a=m(F,null,null,null,null,null,e),u=f(n);if(u){var s=u._currentElement,l=s.props;if(O(l,e)){var p=u._renderedComponent.getPublicInstance(),h=r&&function(){r.call(p)};return L._updateRootComponent(u,a,n,h),p}L.unmountComponentAtNode(n)}var d=i(n),v=d&&!!o(d),_=c(n),y=v&&!u&&!_,g=L._renderNewRootComponent(a,n,y,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):S)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(t,e,n){return L._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){!t||t.nodeType!==R&&t.nodeType!==M&&t.nodeType!==N?T(!1):void 0;var e=f(t);return e?(delete D[e._instance.rootID],k.batchedUpdates(s,e,t,!1),!0):(c(t),1===t.nodeType&&t.hasAttribute(I),!1)},_mountImageIntoNode:function(t,e,n,o,a){if(!e||e.nodeType!==R&&e.nodeType!==M&&e.nodeType!==N?T(!1):void 0,o){var u=i(e);if(b.canReuseMarkup(t,u))return void v.precacheNode(n,u);var s=u.getAttribute(b.CHECKSUM_ATTR_NAME);u.removeAttribute(b.CHECKSUM_ATTR_NAME);var c=u.outerHTML;u.setAttribute(b.CHECKSUM_ATTR_NAME,s);var l=t,f=r(l,c);" (client) "+l.substring(f-20,f+20)+"\n (server) "+c.substring(f-20,f+20),e.nodeType===M?T(!1):void 0}if(e.nodeType===M?T(!1):void 0,a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);p.insertTreeBefore(e,t,null)}else P(e,t),v.precacheNode(n,e.firstChild)}};w.measureMethods(L,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.e=L},function(t,e,n){"use strict";var r=n(22),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.e=i},function(t,e,n){"use strict";function r(t){if("function"==typeof t.type)return t.type;var e=t.type,n=f[e];return null==n&&(f[e]=n=c(e)),n}function i(t){return l?void 0:s(!1),new l(t)}function o(t){return new p(t)}function a(t){return t instanceof p}var u=n(2),s=n(0),c=null,l=null,f={},p=null,h={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){u(f,t)}},d={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:h};t.e=d},function(t,e,n){"use strict";var r=n(6),i=n(0),o={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?o.EMPTY:r.isValidElement(t)?"function"==typeof t.type?o.COMPOSITE:o.NATIVE:void i(!1)}};t.e=o},function(t,e,n){"use strict";function r(t,e){}var i=(n(1),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")}});t.e=i},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t){function e(e,n,r,i,o,a){if(i=i||E,a=a||r,null==n[r]){var u=b[o];return e?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return t(n,r,i,o,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function o(t){function e(e,n,r,i,o){var a=e[n],u=_(a);if(u!==t){var s=b[i],c=y(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return i(e)}function a(){return i(w.thatReturns(null))}function u(t){function e(e,n,r,i,o){if("function"!=typeof t)return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a)){var u=b[i],s=_(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=t(a,c,r,i,o+"["+c+"]");if(l instanceof Error)return l}return null}return i(e)}function s(){function t(t,e,n,r,i){if(!g.isValidElement(t[e])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return i(t)}function c(t){function e(e,n,r,i,o){if(!(e[n]instanceof t)){var a=b[i],u=t.name||E,s=m(e[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return i(e)}function l(t){function e(e,n,i,o,a){for(var u=e[n],s=0;s<t.length;s++)if(r(u,t[s]))return null;var c=b[o],l=JSON.stringify(t);return new Error("Invalid "+c+" `"+a+"` of value `"+u+"` "+("supplied to `"+i+"`, expected one of "+l+"."))}return i(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function f(t){function e(e,n,r,i,o){if("function"!=typeof t)return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],u=_(a);if("object"!==u){var s=b[i];return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=t(a,c,r,i,o+"."+c);if(l instanceof Error)return l}return null}return i(e)}function p(t){function e(e,n,r,i,o){for(var a=0;a<t.length;a++){var u=t[a];if(null==u(e,n,r,i,o))return null}var s=b[i];return new Error("Invalid "+s+" `"+o+"` supplied to "+("`"+r+"`."))}return i(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function t(t,e,n,r,i){if(!v(t[e])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function d(t){function e(e,n,r,i,o){var a=e[n],u=_(a);if("object"!==u){var s=b[i];return new Error("Invalid "+s+" `"+o+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in t){var l=t[c];if(l){var f=l(a,c,r,i,o+"."+c);if(f)return f}}return null}return i(e)}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||g.isValidElement(t))return!0;var e=C(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!v(i[1]))return!1}return!0;default:return!1}}function _(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function y(t){var e=_(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function m(t){return t.constructor&&t.constructor.name?t.constructor.name:E}var g=n(6),b=n(26),w=n(8),C=n(45),E="<<anonymous>>",k={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:a(),arrayOf:u,element:s(),instanceOf:c,node:h(),objectOf:f,oneOf:l,oneOfType:p,shape:d};t.e=k},function(t,e,n){"use strict";function r(t){a.enqueueUpdate(t)}function i(t,e){var n=o.get(t);return n?n:null}var o=(n(12),n(38)),a=n(7),u=n(0),s=(n(1),{isMounted:function(t){var e=o.get(t);return e?!!e._renderedComponent:!1},enqueueCallback:function(t,e,n){s.validateCallback(e,n);var o=i(t);return o?(o._pendingCallbacks?o._pendingCallbacks.push(e):o._pendingCallbacks=[e],void r(o)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],r(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=i(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=i(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),r(n)}},enqueueElementInternal:function(t,e){t._pendingElement=e,r(t)},validateCallback:function(t,e){t&&"function"!=typeof t?u(!1):void 0}});t.e=s},function(t,e,n){"use strict";t.e="15.0.1"},function(t,e,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){r.currentScrollLeft=t.x,r.currentScrollTop=t.y}};t.e=r},function(t,e,n){"use strict";function r(t,e){if(null==e?i(!1):void 0,null==t)return e;var n=Array.isArray(t),r=Array.isArray(e);return n&&r?(t.push.apply(t,e),t):n?(t.push(e),t):r?[t].concat(e):[t,e]}var i=n(0);t.e=r},function(t,e,n){"use strict";var r=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.e=r},function(t,e,n){"use strict";function r(t){for(var e;(e=t._renderedNodeType)===i.COMPOSITE;)t=t._renderedComponent;return e===i.NATIVE?t._renderedComponent:e===i.EMPTY?null:void 0}var i=n(79);t.e=r},function(t,e,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(4),o=null;t.e=r},function(t,e,n){"use strict";function r(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t){var e;if(null===t||t===!1)e=u.create(i);else if("object"==typeof t){var n=t;!n||"function"!=typeof n.type&&"string"!=typeof n.type?c(!1):void 0,e="string"==typeof n.type?s.createInternalComponent(n):r(n.type)?new n.type(n):new l(n)}else"string"==typeof t||"number"==typeof t?e=s.createInstanceForText(t):c(!1);return e._mountIndex=0,e._mountImage=null,e}var o=n(2),a=n(122),u=n(73),s=n(78),c=n(0),l=(n(1),function(t){this.construct(t)});o(l.prototype,a.Mixin,{_instantiateReactComponent:i}),t.e=i},function(t,e,n){"use strict";function r(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&i[t.type]||"textarea"===e)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.e=r},function(t,e,n){"use strict";var r=n(4),i=n(29),o=n(47),a=function(t,e){t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){o(t,i(e))})),t.e=a},function(t,e,n){function r(t){return null!=t&&"object"==typeof t}t.e=r},,,function(t,e,n){function r(t){return t?i(t):void 0}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.e=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},,,function(t,e,n){"use strict";function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;t.e=r},function(t,e,n){"use strict";function r(t){return i(t.replace(o,"ms-"))}var i=n(98),o=/^-ms-/;t.e=r},function(t,e,n){"use strict";function r(t,e){return t&&e?t===e?!0:i(t)?!1:i(e)?r(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var i=n(107);t.e=r},function(t,e,n){"use strict";function r(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?a(!1):void 0,"number"!=typeof e?a(!1):void 0,0===e||e-1 in t?void 0:a(!1),"function"==typeof t.callee?a(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var r=Array(e),i=0;e>i;i++)r[i]=t[i];return r}function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return i(t)?Array.isArray(t)?t.slice():r(t):[t]}var a=n(0);t.e=o},function(t,e,n){"use strict";function r(t){var e=t.match(l);return e&&e[1].toLowerCase()}function i(t,e){var n=c;c?void 0:s(!1);var i=r(t),o=i&&u(i);if(o){n.innerHTML=o[1]+t+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=t;var f=n.getElementsByTagName("script");f.length&&(e?void 0:s(!1),a(f).forEach(e));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=n(4),a=n(101),u=n(61),s=n(0),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.e=i},function(t,e,n){"use strict";function r(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.e=r},function(t,e,n){"use strict";function r(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.e=r},function(t,e,n){"use strict";function r(t){return i(t).replace(o,"-ms-")}var i=n(104),o=/^ms-/;t.e=r},function(t,e,n){"use strict";function r(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.e=r},function(t,e,n){"use strict";function r(t){return i(t)&&3==t.nodeType}var i=n(106);t.e=r},function(t,e,n){"use strict";function r(t,e,n){if(!t)return null;var r={};for(var o in t)i.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}var i=Object.prototype.hasOwnProperty;t.e=r},function(t,e,n){"use strict";function r(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.e=r},function(t,e,n){"use strict";var r=n(3),i=n(59),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};t.e=o},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case P.topCompositionStart:return O.compositionStart;case P.topCompositionEnd:return O.compositionEnd;case P.topCompositionUpdate:return O.compositionUpdate}}function a(t,e){return t===P.topKeyDown&&e.keyCode===w}function u(t,e){switch(t){case P.topKeyUp:return-1!==b.indexOf(e.keyCode);case P.topKeyDown:return e.keyCode!==w;case P.topKeyPress:case P.topMouseDown:case P.topBlur:return!0;default:return!1}}function s(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,r){var i,c;if(C?i=o(t):I?u(t,n)&&(i=O.compositionEnd):a(t,n)&&(i=O.compositionStart),!i)return null;S&&(I||i!==O.compositionStart?i===O.compositionEnd&&I&&(c=I.getData()):I=_.getPooled(r));var l=y.getPooled(i,e,n,r);if(c)l.data=c;else{var f=s(n);null!==f&&(l.data=f)}return d.accumulateTwoPhaseDispatches(l),l}function l(t,e){switch(t){case P.topCompositionEnd:return s(e);case P.topKeyPress:var n=e.which;return n!==x?null:(A=!0,T);case P.topTextInput:var r=e.data;return r===T&&A?null:r;default:return null}}function f(t,e){if(I){if(t===P.topCompositionEnd||u(t,e)){var n=I.getData();return _.release(I),I=null,n}return null}switch(t){case P.topPaste:return null;case P.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case P.topCompositionEnd:return S?null:e.data;default:return null}}function p(t,e,n,r){var i;if(i=k?l(t,n):f(t,n),!i)return null;var o=m.getPooled(O.beforeInput,e,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var h=n(9),d=n(18),v=n(4),_=n(118),y=n(157),m=n(160),g=n(11),b=[9,13,27,32],w=229,C=v.canUseDOM&&"CompositionEvent"in window,E=null;v.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var k=v.canUseDOM&&"TextEvent"in window&&!E&&!r(),S=v.canUseDOM&&(!C||E&&E>8&&11>=E),x=32,T=String.fromCharCode(x),P=h.topLevelTypes,O={beforeInput:{phasedRegistrationNames:{bubbled:g({onBeforeInput:null}),captured:g({onBeforeInputCapture:null})},dependencies:[P.topCompositionEnd,P.topKeyPress,P.topTextInput,P.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:g({onCompositionEnd:null}),captured:g({onCompositionEndCapture:null})},dependencies:[P.topBlur,P.topCompositionEnd,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:g({onCompositionStart:null}),captured:g({onCompositionStartCapture:null})},dependencies:[P.topBlur,P.topCompositionStart,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:g({onCompositionUpdate:null}),captured:g({onCompositionUpdateCapture:null})},dependencies:[P.topBlur,P.topCompositionUpdate,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]}},A=!1,I=null,R={eventTypes:O,extractEvents:function(t,e,n,r){return[c(t,e,n,r),p(t,e,n,r)]}};t.e=R},function(t,e,n){"use strict";var r=n(64),i=n(4),o=n(5),a=(n(99),n(166)),u=n(105),s=n(109),c=(n(1),s(function(t){return u(t)})),l=!1,f="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(h){l=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var d={createMarkupForStyles:function(t,e){var n="";for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];null!=i&&(n+=c(r)+":",n+=a(r,i,e)+";")}return n||null},setValueForStyles:function(t,e,n){var i=t.style;for(var o in e)if(e.hasOwnProperty(o)){var u=a(o,e[o],n);if("float"!==o&&"cssFloat"!==o||(o=f),u)i[o]=u;else{var s=l&&r.shorthandPropertyExpansions[o];if(s)for(var c in s)i[c]="";else i[o]=""}}}};o.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.e=d},function(t,e,n){"use strict";function r(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function i(t){var e=k.getPooled(A.change,R,t,S(t));b.accumulateTwoPhaseDispatches(e),E.batchedUpdates(o,e)}function o(t){g.enqueueEvents(t),g.processEventQueue(!1)}function a(t,e){I=t,R=e,I.attachEvent("onchange",i)}function u(){I&&(I.detachEvent("onchange",i),I=null,R=null)}function s(t,e){return t===O.topChange?e:void 0}function c(t,e,n){t===O.topFocus?(u(),a(e,n)):t===O.topBlur&&u()}function l(t,e){I=t,R=e,M=t.value,N=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(I,"value",F),I.attachEvent?I.attachEvent("onpropertychange",p):I.addEventListener("propertychange",p,!1)}function f(){I&&(delete I.value,I.detachEvent?I.detachEvent("onpropertychange",p):I.removeEventListener("propertychange",p,!1),I=null,R=null,M=null,N=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==M&&(M=e,i(t))}}function h(t,e){return t===O.topInput?e:void 0}function d(t,e,n){t===O.topFocus?(f(),l(e,n)):t===O.topBlur&&f()}function v(t,e){return t!==O.topSelectionChange&&t!==O.topKeyUp&&t!==O.topKeyDown||!I||I.value===M?void 0:(M=I.value,R)}function _(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function y(t,e){return t===O.topClick?e:void 0}var m=n(9),g=n(17),b=n(18),w=n(4),C=n(3),E=n(7),k=n(10),S=n(44),x=n(46),T=n(90),P=n(11),O=m.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[O.topBlur,O.topChange,O.topClick,O.topFocus,O.topInput,O.topKeyDown,O.topKeyUp,O.topSelectionChange]}},I=null,R=null,M=null,N=null,D=!1;w.canUseDOM&&(D=x("change")&&(!("documentMode"in document)||document.documentMode>8));var j=!1;w.canUseDOM&&(j=x("input")&&(!("documentMode"in document)||document.documentMode>11));var F={get:function(){return N.get.call(this)},set:function(t){M=""+t,N.set.call(this,t)}},L={eventTypes:A,extractEvents:function(t,e,n,i){var o,a,u=e?C.getNodeFromInstance(e):window;if(r(u)?D?o=s:a=c:T(u)?j?o=h:(o=v,a=d):_(u)&&(o=y),o){var l=o(t,e);if(l){var f=k.getPooled(A.change,l,n,i);return f.type="change",b.accumulateTwoPhaseDispatches(f),f}}a&&a(t,u,e)}};t.e=L},function(t,e,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.e=r},function(t,e,n){"use strict";function r(t){return t.substring(1,t.indexOf(" "))}var i=n(15),o=n(4),a=n(102),u=n(8),s=n(61),c=n(0),l=/^(<[^ \/>]+)/,f="data-danger-index",p={dangerouslyRenderMarkup:function(t){o.canUseDOM?void 0:c(!1);for(var e,n={},i=0;i<t.length;i++)t[i]?void 0:c(!1),e=r(t[i]),e=s(e)?e:"*",n[e]=n[e]||[],n[e][i]=t[i];var p=[],h=0;for(e in n)if(n.hasOwnProperty(e)){var d,v=n[e];for(d in v)if(v.hasOwnProperty(d)){var _=v[d];v[d]=_.replace(l,"$1 "+f+'="'+d+'" ')}for(var y=a(v.join(""),u),m=0;m<y.length;++m){var g=y[m];g.hasAttribute&&g.hasAttribute(f)&&(d=+g.getAttribute(f),g.removeAttribute(f),p.hasOwnProperty(d)?c(!1):void 0,p[d]=g,h+=1)}}return h!==p.length?c(!1):void 0,p.length!==t.length?c(!1):void 0,p},dangerouslyReplaceNodeWithMarkup:function(t,e){if(o.canUseDOM?void 0:c(!1),e?void 0:c(!1),"HTML"===t.nodeName?c(!1):void 0,"string"==typeof e){var n=a(e,u)[0];t.parentNode.replaceChild(n,t)}else i.replaceChildWithTree(t,e)}};t.e=p},function(t,e,n){"use strict";var r=n(11),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.e=i},function(t,e,n){"use strict";var r=n(9),i=n(18),o=n(3),a=n(28),u=n(11),s=r.topLevelTypes,c={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},l={eventTypes:c,extractEvents:function(t,e,n,r){if(t===s.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(t!==s.topMouseOut&&t!==s.topMouseOver)return null;var u;if(r.window===r)u=r;else{var l=r.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var f,p;if(t===s.topMouseOut){f=e;var h=n.relatedTarget||n.toElement;p=h?o.getClosestInstanceFromNode(h):null}else f=null,p=e;if(f===p)return null;var d=null==f?u:o.getNodeFromInstance(f),v=null==p?u:o.getNodeFromInstance(p),_=a.getPooled(c.mouseLeave,f,n,r);_.type="mouseleave",_.target=d,_.relatedTarget=v;var y=a.getPooled(c.mouseEnter,p,n,r);return y.type="mouseenter",y.target=v,y.relatedTarget=d,i.accumulateEnterLeaveDispatches(_,y,f,p),[_,y]}};t.e=l},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=n(2),o=n(14),a=n(88);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;r>t&&n[t]===i[t];t++);var a=r-t;for(e=1;a>=e&&n[r-e]===i[o-e];e++);var u=e>1?1-e:void 0;return this._fallbackText=i.slice(t,u),this._fallbackText}}),o.addPoolingTo(r),t.e=r},function(t,e,n){"use strict";var r=n(13),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={
isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:u,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:u,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:i|a,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.e=l},function(t,e,n){"use strict";var r=n(2),i=n(66),o=n(68),a=n(67),u=n(129),s=n(6),c=(n(72),n(81)),l=n(83),f=n(172),p=(n(1),s.createElement),h=s.createFactory,d=s.cloneElement,v=r,_={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:f},Component:o,createElement:p,cloneElement:d,isValidElement:s.isValidElement,PropTypes:c,createClass:a.createClass,createFactory:h,createMixin:function(t){return t},DOM:u,version:l,__spread:v};t.e=_},function(t,e,n){"use strict";function r(t,e,n){var r=void 0===t[n];null!=e&&r&&(t[n]=o(e))}var i=n(16),o=n(89),a=n(48),u=n(49),s=(n(1),{instantiateChildren:function(t,e,n){if(null==t)return null;var i={};return u(t,r,i),i},updateChildren:function(t,e,n,r,u){if(e||t){var s,c;for(s in e)if(e.hasOwnProperty(s)){c=t&&t[s];var l=c&&c._currentElement,f=e[s];if(null!=c&&a(l,f))i.receiveComponent(c,f,r,u),e[s]=c;else{c&&(n[s]=i.getNativeNode(c),i.unmountComponent(c,!1));var p=o(f);e[s]=p}}for(s in t)!t.hasOwnProperty(s)||e&&e.hasOwnProperty(s)||(c=t[s],n[s]=i.getNativeNode(c),i.unmountComponent(c,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];i.unmountComponent(r,e)}}});t.e=s},function(t,e,n){"use strict";function r(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(t){}function o(t,e){}var a=n(2),u=n(36),s=n(12),c=n(6),l=n(37),f=n(38),p=(n(25),n(79)),h=n(5),d=n(27),v=(n(26),n(16)),_=n(82),y=n(21),m=n(0),g=n(48);n(1),i.prototype.render=function(){var t=f.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return o(t,e),e};var b=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,n,r){this._context=r,this._mountOrder=b++,this._nativeParent=e,this._nativeContainerInfo=n;var a,u,s=this._processProps(this._currentElement.props),l=this._processContext(r),p=this._currentElement.type;p.prototype&&p.prototype.isReactComponent?a=new p(s,l,_):(a=p(s,l,_),null!=a&&null!=a.render||(u=a,o(p,u),null===a||a===!1||c.isValidElement(a)?void 0:m(!1),a=new i(p))),a.props=s,a.context=l,a.refs=y,a.updater=_,this._instance=a,f.set(a,this);var h=a.state;void 0===h&&(a.state=h=null),"object"!=typeof h||Array.isArray(h)?m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var d;return d=a.unstable_handleError?this.performInitialMountWithErrorHandling(u,e,n,t,r):this.performInitialMount(u,e,n,t,r),a.componentDidMount&&t.getReactMountReady().enqueue(a.componentDidMount,a),d},performInitialMountWithErrorHandling:function(t,e,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(t,e,n,r,i)}catch(u){r.rollback(a),this._instance.unstable_handleError(u),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(t,e,n,r,i)}return o},performInitialMount:function(t,e,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===t&&(t=this._renderValidatedComponent()),this._renderedNodeType=p.getType(t),this._renderedComponent=this._instantiateReactComponent(t);var a=v.mountComponent(this._renderedComponent,r,e,n,this._processChildContext(i));return a},getNativeNode:function(){return v.getNativeNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount)if(t){var n=this.getName()+".componentWillUnmount()";l.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(v.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,f.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return y;var r={};for(var i in n)r[i]=t[i];return r},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof e.childContextTypes?m(!1):void 0;for(var i in r)i in e.childContextTypes?void 0:m(!1);return a({},t,r)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var i=this.getName();for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?m(!1):void 0,a=t[o](e,o,i,n)}catch(u){a=u}a instanceof Error&&(r(this),n===d.prop)}},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&v.receiveComponent(this,this._pendingElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,n,r,i){var o,a,u=this._instance,s=!1;this._context===i?o=u.context:(o=this._processContext(i),s=!0),e===n?a=n.props:(a=this._processProps(n.props),s=!0),s&&u.componentWillReceiveProps&&u.componentWillReceiveProps(a,o);var c=this._processPendingState(a,o),l=this._pendingForceUpdate||!u.shouldComponentUpdate||u.shouldComponentUpdate(a,c,o);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,c,o,t,i)):(this._currentElement=n,this._context=i,u.props=a,u.state=c,u.context=o)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=a({},i?r[0]:n.state),u=i?1:0;u<r.length;u++){var s=r[u];a(o,"function"==typeof s?s.call(n,o,t,e):s)}return o},_performComponentUpdate:function(t,e,n,r,i,o){var a,u,s,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,u=c.state,s=c.context),c.componentWillUpdate&&c.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,c.props=e,c.state=n,c.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,u,s),c)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(g(r,i))v.receiveComponent(n,i,t,this._processChildContext(e));else{var o=v.getNativeNode(n);v.unmountComponent(n,!1),this._renderedNodeType=p.getType(i),this._renderedComponent=this._instantiateReactComponent(i);var a=v.mountComponent(this._renderedComponent,t,this._nativeParent,this._nativeContainerInfo,this._processChildContext(e));this._replaceNodeWithMarkup(o,a)}},_replaceNodeWithMarkup:function(t,e){u.replaceNodeWithMarkup(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(){var t;s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}return null===t||t===!1||c.isValidElement(t)?void 0:m(!1),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?m(!1):void 0;var r=e.getPublicInstance(),i=n.refs===y?n.refs={}:n.refs;i[t]=r},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof i?null:t},_instantiateReactComponent:null};h.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var C={Mixin:w};t.e=C},function(t,e,n){"use strict";var r=n(3),i=n(142),o=n(76),a=n(5),u=n(16),s=n(7),c=n(83),l=n(167),f=n(87),p=n(174);n(1),i.inject();var h=a.measure("React","render",o.render),d={findDOMNode:l,render:h,unmountComponentAtNode:o.unmountComponentAtNode,version:c,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=f(t)),t?r.getNodeFromInstance(t):null}},Mount:o,Reconciler:u}),t.e=d},function(t,e,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(t,e){if(!e.disabled)return e;var n={};for(var i in e)e.hasOwnProperty(i)&&!r[i]&&(n[i]=e[i]);return n}};t.e=i},function(t,e,n){"use strict";function r(t,e){e&&(X[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?N(!1):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?N(!1):void 0,"object"==typeof e.dangerouslySetInnerHTML&&q in e.dangerouslySetInnerHTML?void 0:N(!1)),null!=e.style&&"object"!=typeof e.style?N(!1):void 0)}function i(t,e,n,r){var i=t._nativeContainerInfo,a=i._ownerDocument;a&&(U(e,a),r.getReactMountReady().enqueue(o,{inst:t,registrationName:e,listener:n}))}function o(){var t=this;b.putListener(t.inst,t.registrationName,t.listener)}function a(){var t=this;P.postMountWrapper(t)}function u(){var t=this;t._rootNodeID?void 0:N(!1);var e=L(t);switch(e?void 0:N(!1),t._tag){case"iframe":case"object":t._wrapperState.listeners=[C.trapBubbledEvent(g.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in H)H.hasOwnProperty(n)&&t._wrapperState.listeners.push(C.trapBubbledEvent(g.topLevelTypes[n],H[n],e));break;case"img":t._wrapperState.listeners=[C.trapBubbledEvent(g.topLevelTypes.topError,"error",e),C.trapBubbledEvent(g.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[C.trapBubbledEvent(g.topLevelTypes.topReset,"reset",e),C.trapBubbledEvent(g.topLevelTypes.topSubmit,"submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[C.trapBubbledEvent(g.topLevelTypes.topInvalid,"invalid",e)]}}function s(){O.postUpdateWrapper(this)}function c(t){Q.call(G,t)||(Y.test(t)?void 0:N(!1),G[t]=!0)}function l(t,e){return t.indexOf("-")>=0||null!=e.is}function f(t){var e=t.type;c(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var p=n(2),h=n(110),d=n(112),v=n(15),_=n(114),y=n(13),m=n(33),g=n(9),b=n(17),w=n(23),C=n(24),E=n(69),k=n(124),S=n(70),x=n(3),T=n(132),P=n(134),O=n(71),A=n(137),I=n(148),R=n(5),M=n(29),N=n(0),D=(n(46),n(11)),j=(n(62),n(50),n(1),S),F=b.deleteListener,L=x.getNodeFromInstance,U=C.listenTo,z=w.registrationNameModules,V={string:!0,number:!0},B=D({style:null}),q=D({__html:null}),W={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},H={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},$={listing:!0,pre:!0,textarea:!0},X=p({menuitem:!0},K),Y=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,G={},Q={}.hasOwnProperty,J=1;f.displayName="ReactDOMComponent",f.Mixin={mountComponent:function(t,e,n,i){this._rootNodeID=J++,this._domID=n._idCounter++,this._nativeParent=e,this._nativeContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(u,this);break;case"button":o=k.getNativeProps(this,o,e);break;case"input":T.mountWrapper(this,o,e),o=T.getNativeProps(this,o),t.getReactMountReady().enqueue(u,this);break;case"option":P.mountWrapper(this,o,e),o=P.getNativeProps(this,o);break;case"select":O.mountWrapper(this,o,e),o=O.getNativeProps(this,o),t.getReactMountReady().enqueue(u,this);break;case"textarea":A.mountWrapper(this,o,e),o=A.getNativeProps(this,o),t.getReactMountReady().enqueue(u,this)}r(this,o);var s,c;null!=e?(s=e._namespaceURI,c=e._tag):n._tag&&(s=n._namespaceURI,c=n._tag),(null==s||s===_.svg&&"foreignobject"===c)&&(s=_.html),s===_.html&&("svg"===this._tag?s=_.svg:"math"===this._tag&&(s=_.mathml)),this._namespaceURI=s;var l;if(t.useCreateElement){var f,p=n._ownerDocument;if(s===_.html)if("script"===this._tag){var d=p.createElement("div"),y=this._currentElement.type;d.innerHTML="<"+y+"></"+y+">",f=d.removeChild(d.firstChild)}else f=p.createElement(this._currentElement.type);else f=p.createElementNS(s,this._currentElement.type);x.precacheNode(this,f),this._flags|=j.hasCachedChildNodes,this._nativeParent||m.setAttributeForRoot(f),this._updateDOMProperties(null,o,t);var g=v(f);this._createInitialChildren(t,o,i,g),l=g}else{var b=this._createOpenTagMarkupAndPutListeners(t,o),w=this._createContentMarkup(t,o,i);l=!w&&K[this._tag]?b+"/>":b+">"+w+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":o.autoFocus&&t.getReactMountReady().enqueue(h.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(a,this)}return l},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o)if(z.hasOwnProperty(r))o&&i(this,r,o,t);else{r===B&&(o&&(o=this._previousStyleCopy=p({},e.style)),o=d.createMarkupForStyles(o,this));var a=null;null!=this._tag&&l(this._tag,e)?W.hasOwnProperty(r)||(a=m.createMarkupForCustomAttribute(r,o)):a=m.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+m.createMarkupForRoot()),n+=" "+m.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var r="",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=V[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)r=M(o);else if(null!=a){var u=this.mountChildren(a,t,n);r=u.join("")}}return $[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(t,e,n,r){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&v.queueHTML(r,i.__html);else{var o=V[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)v.queueText(r,o);else if(null!=a)for(var u=this.mountChildren(a,t,n),s=0;s<u.length;s++)v.queueChild(r,u[s])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,i){var o=e.props,a=this._currentElement.props;switch(this._tag){case"button":o=k.getNativeProps(this,o),a=k.getNativeProps(this,a);break;case"input":T.updateWrapper(this),o=T.getNativeProps(this,o),a=T.getNativeProps(this,a);break;case"option":o=P.getNativeProps(this,o),a=P.getNativeProps(this,a);break;case"select":o=O.getNativeProps(this,o),a=O.getNativeProps(this,a);break;case"textarea":A.updateWrapper(this),o=A.getNativeProps(this,o),a=A.getNativeProps(this,a)}r(this,a),this._updateDOMProperties(o,a,t),this._updateDOMChildren(o,a,t,i),"select"===this._tag&&t.getReactMountReady().enqueue(s,this)},_updateDOMProperties:function(t,e,n){var r,o,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&null!=t[r])if(r===B){var u=this._previousStyleCopy;for(o in u)u.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else z.hasOwnProperty(r)?t[r]&&F(this,r):(y.properties[r]||y.isCustomAttribute(r))&&m.deleteValueForProperty(L(this),r);for(r in e){var s=e[r],c=r===B?this._previousStyleCopy:null!=t?t[r]:void 0;if(e.hasOwnProperty(r)&&s!==c&&(null!=s||null!=c))if(r===B)if(s?s=this._previousStyleCopy=p({},s):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in s)s.hasOwnProperty(o)&&c[o]!==s[o]&&(a=a||{},a[o]=s[o])}else a=s;else if(z.hasOwnProperty(r))s?i(this,r,s,n):c&&F(this,r);else if(l(this._tag,e))W.hasOwnProperty(r)||m.setValueForAttribute(L(this),r,s);else if(y.properties[r]||y.isCustomAttribute(r)){var f=L(this);null!=s?m.setValueForProperty(f,r,s):m.deleteValueForProperty(f,r)}}a&&d.setValueForStyles(L(this),a,this)},_updateDOMChildren:function(t,e,n,r){var i=V[typeof t.children]?t.children:null,o=V[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=null!=i?null:t.children,c=null!=o?null:e.children,l=null!=i||null!=a,f=null!=o||null!=u;null!=s&&null==c?this.updateChildren(null,n,r):l&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=u?a!==u&&this.updateMarkup(""+u):null!=c&&this.updateChildren(c,n,r)},getNativeNode:function(){return L(this)},unmountComponent:function(t){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":N(!1)}this.unmountChildren(t),x.uncacheNode(this),b.deleteAllListeners(this),E.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return L(this)}},R.measureMethods(f.Mixin,"ReactDOMComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),p(f.prototype,f.Mixin,I.Mixin),t.e=f},function(t,e,n){"use strict";function r(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===i?e:e.ownerDocument:null,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null};return n}var i=(n(50),9);t.e=r},function(t,e,n){"use strict";function r(t,e,n,r,i,o){}var i=n(139),o=(n(1),[]),a={addDevtool:function(t){o.push(t)},removeDevtool:function(t){for(var e=0;e<o.length;e++)o[e]===t&&(o.splice(e,1),e--)},onCreateMarkupForProperty:function(t,e){r("onCreateMarkupForProperty",t,e)},onSetValueForProperty:function(t,e,n){r("onSetValueForProperty",t,e,n)},onDeleteValueForProperty:function(t,e){r("onDeleteValueForProperty",t,e)}};a.addDevtool(i),t.e=a},function(t,e,n){"use strict";var r=n(2),i=n(15),o=n(3),a=function(t){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};r(a.prototype,{mountComponent:function(t,e,n,r){var a=n._idCounter++;this._domID=a,this._nativeParent=e,this._nativeContainerInfo=n;var u=" react-empty: "+this._domID+" ";if(t.useCreateElement){var s=n._ownerDocument,c=s.createComment(u);return o.precacheNode(this,c),i(c)}return t.renderToStaticMarkup?"":"<!--"+u+"-->"},receiveComponent:function(){},getNativeNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),t.e=a},function(t,e,n){"use strict";function r(t){return i.createFactory(t)}var i=n(6),o=(n(72),n(108)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.e=a},function(t,e,n){"use strict";var r={useCreateElement:!0};t.e=r},function(t,e,n){"use strict";var r=n(32),i=n(3),o=n(5),a={dangerouslyProcessChildrenUpdates:function(t,e){var n=i.getNodeFromInstance(t);r.processUpdates(n,e)}};o.measureMethods(a,"ReactDOMIDOperations",{dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.e=a},function(t,e,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);c.asap(r,this);var i=e.name;if("radio"===e.type&&null!=i){for(var o=s.getNodeFromInstance(this),a=o;a.parentNode;)a=a.parentNode;for(var f=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<f.length;p++){var h=f[p];if(h!==o&&h.form===o.form){var d=s.getInstanceFromNode(h);d?void 0:l(!1),c.asap(r,d)}}}return n}var o=n(2),a=n(33),u=n(35),s=n(3),c=n(7),l=n(0),f=(n(1),{getNativeProps:function(t,e){var n=u.getValue(e),r=u.getChecked(e),i=o({type:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return i},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&a.setValueForProperty(s.getNodeFromInstance(t),"checked",n||!1);var r=u.getValue(e);null!=r&&a.setValueForProperty(s.getNodeFromInstance(t),"value",""+r)}});t.e=f},function(t,e,n){"use strict";var r=n(127);t.e={debugTool:r}},function(t,e,n){"use strict";var r=n(2),i=n(66),o=n(3),a=n(71),u=(n(1),{mountWrapper:function(t,e,n){var r=null;null!=n&&"select"===n._tag&&(r=a.getSelectValueContext(n));var i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var o=0;o<r.length;o++)if(""+r[o]==""+e.value){i=!0;break}}else i=""+r==""+e.value;t._wrapperState={selected:i}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=o.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getNativeProps:function(t,e){var n=r({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var o="";return i.forEach(e.children,function(t){null!=t&&("string"!=typeof t&&"number"!=typeof t||(o+=t))}),o&&(n.children=o),n}});t.e=u},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function i(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset,u=e.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var c=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),l=c?0:u.toString().length,f=u.cloneRange();f.selectNodeContents(t),f.setEnd(u.startContainer,u.startOffset);var p=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),h=p?0:f.toString().length,d=h+l,v=document.createRange();v.setStart(n,i),v.setEnd(o,a);var _=v.collapsed;return{start:_?d:h,end:_?h:d}}function a(t,e){var n,r,i=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function u(t,e){if(window.getSelection){var n=window.getSelection(),r=t[l()].length,i=Math.min(e.start,r),o=void 0===e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var u=c(t,i),s=c(t,o);if(u&&s){var f=document.createRange();f.setStart(u.node,u.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(s.node,s.offset)):(f.setEnd(s.node,s.offset),n.addRange(f))}}}var s=n(4),c=n(170),l=n(88),f=s.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:f?i:o,setOffsets:f?a:u};t.e=p},function(t,e,n){"use strict";var r=n(2),i=n(32),o=n(15),a=n(3),u=n(5),s=n(29),c=n(0),l=(n(50),function(t){this._currentElement=t,this._stringText=""+t,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(l.prototype,{mountComponent:function(t,e,n,r){var i=n._idCounter++,u=" react-text: "+i+" ",c=" /react-text ";if(this._domID=i,this._nativeParent=e,t.useCreateElement){var l=n._ownerDocument,f=l.createComment(u),p=l.createComment(c),h=o(l.createDocumentFragment());return o.queueChild(h,o(f)),this._stringText&&o.queueChild(h,o(l.createTextNode(this._stringText))),o.queueChild(h,o(p)),a.precacheNode(this,f),this._closingComment=p,h}var d=s(this._stringText);return t.renderToStaticMarkup?d:"<!--"+u+"-->"+d+"<!--"+c+"-->"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=this.getNativeNode();i.replaceDelimitedText(r[0],r[1],n)}}},getNativeNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=a.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?c(!1):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._nativeNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),u.measureMethods(l.prototype,"ReactDOMTextComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),t.e=l},function(t,e,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return c.asap(r,this),n}var o=n(2),a=n(33),u=n(35),s=n(3),c=n(7),l=n(0),f=(n(1),{getNativeProps:function(t,e){null!=e.dangerouslySetInnerHTML?l(!1):void 0;var n=o({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=e.defaultValue,r=e.children;null!=r&&(null!=n?l(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:l(!1),r=r[0]),n=""+r),null==n&&(n="");var o=u.getValue(e);t._wrapperState={initialValue:""+(null!=o?o:n),listeners:null,onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=u.getValue(e);null!=n&&a.setValueForProperty(s.getNodeFromInstance(t),"value",""+n)}});t.e=f},function(t,e,n){"use strict";function r(t,e){"_nativeNode"in t?void 0:s(!1),"_nativeNode"in e?void 0:s(!1);for(var n=0,r=t;r;r=r._nativeParent)n++;for(var i=0,o=e;o;o=o._nativeParent)i++;for(;n-i>0;)t=t._nativeParent,n--;for(;i-n>0;)e=e._nativeParent,i--;for(var a=n;a--;){if(t===e)return t;t=t._nativeParent,e=e._nativeParent}return null}function i(t,e){"_nativeNode"in t?void 0:s(!1),"_nativeNode"in e?void 0:s(!1);for(;e;){if(e===t)return!0;e=e._nativeParent}return!1}function o(t){return"_nativeNode"in t?void 0:s(!1),t._nativeParent}function a(t,e,n){for(var r=[];t;)r.push(t),t=t._nativeParent;var i;for(i=r.length;i-->0;)e(r[i],!1,n);for(i=0;i<r.length;i++)e(r[i],!0,n)}function u(t,e,n,i,o){for(var a=t&&e?r(t,e):null,u=[];t&&t!==a;)u.push(t),t=t._nativeParent;for(var s=[];e&&e!==a;)s.push(e),e=e._nativeParent;var c;for(c=0;c<u.length;c++)n(u[c],!0,i);for(c=s.length;c-->0;)n(s[c],!1,o)}var s=n(0);t.e={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:u}},function(t,e,n){"use strict";var r,i=(n(13),n(23),n(1),{onCreateMarkupForProperty:function(t,e){r(t)},onSetValueForProperty:function(t,e,n){r(e)},onDeleteValueForProperty:function(t,e){r(e)}});t.e=i},function(t,e,n){"use strict";function r(t,e,n,r,i,o){}var i=n(146),o=(n(1),[]),a={addDevtool:function(t){o.push(t)},removeDevtool:function(t){for(var e=0;e<o.length;e++)o[e]===t&&(o.splice(e,1),e--)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onSetState:function(){r("onSetState")},onMountRootComponent:function(t){r("onMountRootComponent",t)},onMountComponent:function(t){r("onMountComponent",t)},onUpdateComponent:function(t){r("onUpdateComponent",t)},onUnmountComponent:function(t){r("onUnmountComponent",t)}};a.addDevtool(i),t.e=a},function(t,e,n){"use strict";function r(){this.reinitializeTransaction();

}var i=n(2),o=n(7),a=n(39),u=n(8),s={initialize:u,close:function(){p.isBatchingUpdates=!1}},c={initialize:u,close:o.flushBatchedUpdates.bind(o)},l=[c,s];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return l}});var f=new r,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?t(e,n,r,i,o):f.perform(t,null,e,n,r,i,o)}};t.e=p},function(t,e,n){"use strict";function r(){C||(C=!0,y.EventEmitter.injectReactEventListener(_),y.EventPluginHub.injectEventPluginOrder(a),y.EventPluginUtils.injectComponentTree(f),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,SelectEventPlugin:b,BeforeInputEventPlugin:i}),y.NativeComponent.injectGenericComponentClass(l),y.NativeComponent.injectTextComponentClass(d),y.DOMProperty.injectDOMPropertyConfig(s),y.DOMProperty.injectDOMPropertyConfig(g),y.EmptyComponent.injectEmptyComponentFactory(function(t){return new p(t)}),y.Updates.injectReconcileTransaction(m),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var i=n(111),o=n(113),a=n(116),u=n(117),s=(n(4),n(119)),c=n(69),l=n(125),f=n(3),p=n(128),h=n(138),d=n(136),v=n(141),_=n(144),y=n(145),m=n(150),g=n(152),b=n(153),w=n(154),C=!1;t.e={inject:r}},function(t,e,n){"use strict";function r(t){i.enqueueEvents(t),i.processEventQueue(!1)}var i=n(17),o={handleTopLevel:function(t,e,n,o){var a=i.extractEvents(t,e,n,o);r(a)}};t.e=o},function(t,e,n){"use strict";function r(t){for(;t._nativeParent;)t=t._nativeParent;var e=f.getNodeFromInstance(t),n=e.parentNode;return f.getClosestInstanceFromNode(n)}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){var e=h(t.nativeEvent),n=f.getClosestInstanceFromNode(e),i=n;do t.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<t.ancestors.length;o++)n=t.ancestors[o],v._handleTopLevel(t.topLevelType,n,t.nativeEvent,h(t.nativeEvent))}function a(t){var e=d(window);t(e)}var u=n(2),s=n(58),c=n(4),l=n(14),f=n(3),p=n(7),h=n(44),d=n(103);u(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(t){v._handleTopLevel=t},setEnabled:function(t){v._enabled=!!t},isEnabled:function(){return v._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?s.listen(r,e,v.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?s.capture(r,e,v.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);s.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(v._enabled){var n=i.getPooled(t,e);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};t.e=v},function(t,e,n){"use strict";var r=n(13),i=n(17),o=n(34),a=n(36),u=n(67),s=n(73),c=n(24),l=n(78),f=n(5),p=n(7),h={Component:a.injection,Class:u.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:c.injection,NativeComponent:l.injection,Perf:f.injection,Updates:p.injection};t.e=h},function(t,e,n){"use strict";var r,i,o=(n(1),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){i()}});t.e=o},function(t,e,n){"use strict";var r=n(165),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return o.test(t)?t:t.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(t);return i===n}};t.e=a},function(t,e,n){"use strict";function r(t,e,n){return{type:f.INSERT_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function i(t,e,n){return{type:f.MOVE_EXISTING,content:null,fromIndex:t._mountIndex,fromNode:p.getNativeNode(t),toIndex:n,afterNode:e}}function o(t,e){return{type:f.REMOVE_NODE,content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function a(t){return{type:f.SET_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(t){return{type:f.TEXT_CONTENT,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(t,e){return e&&(t=t||[],t.push(e)),t}function c(t,e){l.processChildrenUpdates(t,e)}var l=n(36),f=n(77),p=(n(12),n(16)),h=n(121),d=n(168),v=n(0),_={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return h.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r,i){var o;return o=d(e),h.updateChildren(t,o,n,r,i),o},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a],s=p.mountComponent(u,e,this,this._nativeContainerInfo,n);u._mountIndex=o++,i.push(s)}return i},updateTextContent:function(t){var e=this._renderedChildren;h.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&v(!1);var r=[u(t)];c(this,r)},updateMarkup:function(t){var e=this._renderedChildren;h.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&v(!1);var r=[a(t)];c(this,r)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var r=this._renderedChildren,i={},o=this._reconcilerUpdateChildren(r,t,i,e,n);if(o||r){var a,u=null,l=0,f=0,h=null;for(a in o)if(o.hasOwnProperty(a)){var d=r&&r[a],v=o[a];d===v?(u=s(u,this.moveChild(d,h,f,l)),l=Math.max(d._mountIndex,l),d._mountIndex=f):(d&&(l=Math.max(d._mountIndex,l)),u=s(u,this._mountChildAtIndex(v,h,f,e,n))),f++,h=p.getNativeNode(v)}for(a in i)i.hasOwnProperty(a)&&(u=s(u,this._unmountChild(r[a],i[a])));u&&c(this,u),this._renderedChildren=o}},unmountChildren:function(t){var e=this._renderedChildren;h.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,r){return t._mountIndex<r?i(t,e,n):void 0},createChild:function(t,e,n){return r(n,e,t._mountIndex)},removeChild:function(t,e){return o(t,e)},_mountChildAtIndex:function(t,e,n,r,i){var o=p.mountComponent(t,r,this,this._nativeContainerInfo,i);return t._mountIndex=n,this.createChild(t,e,o)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}};t.e=_},function(t,e,n){"use strict";var r=n(0),i={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){i.isValidOwner(n)?void 0:r(!1),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i.isValidOwner(n)?void 0:r(!1);var o=n.getPublicInstance();o&&o.refs[e]===t.getPublicInstance()&&n.detachRef(e)}};t.e=i},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=t}var i=n(2),o=n(65),a=n(14),u=n(24),s=n(75),c=n(39),l={initialize:s.getSelectionInformation,close:s.restoreSelection},f={initialize:function(){var t=u.isEnabled();return u.setEnabled(!1),t},close:function(t){u.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[l,f,p],d={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,c.Mixin,d),a.addPoolingTo(r),t.e=r},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function i(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(149),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,r=null===e||e===!1;return n||r||e._owner!==t._owner||e.ref!==t.ref},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},t.e=a},function(t,e,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).map(function(t){o.Properties[t]=0,i[t]&&(o.DOMAttributeNames[t]=i[t])}),t.e=o},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&c.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(t,e){if(w||null==m||m!==f())return null;var n=r(m);if(!b||!d(b,n)){b=n;var i=l.getPooled(y.select,g,t,e);return i.type="select",i.target=m,a.accumulateTwoPhaseDispatches(i),i}return null}var o=n(9),a=n(18),u=n(4),s=n(3),c=n(75),l=n(10),f=n(60),p=n(90),h=n(11),d=n(62),v=o.topLevelTypes,_=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,y={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[v.topBlur,v.topContextMenu,v.topFocus,v.topKeyDown,v.topMouseDown,v.topMouseUp,v.topSelectionChange]}},m=null,g=null,b=null,w=!1,C=!1,E=h({onSelect:null}),k={eventTypes:y,extractEvents:function(t,e,n,r){if(!C)return null;var o=e?s.getNodeFromInstance(e):window;switch(t){case v.topFocus:(p(o)||"true"===o.contentEditable)&&(m=o,g=e,b=null);break;case v.topBlur:m=null,g=null,b=null;break;case v.topMouseDown:w=!0;break;case v.topContextMenu:case v.topMouseUp:return w=!1,i(n,r);case v.topSelectionChange:if(_)break;case v.topKeyDown:case v.topKeyUp:return i(n,r)}return null},didPutListener:function(t,e,n){e===E&&(C=!0)}};t.e=k},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(18),a=n(3),u=n(155),s=n(156),c=n(10),l=n(159),f=n(161),p=n(28),h=n(158),d=n(162),v=n(163),_=n(19),y=n(164),m=n(8),g=n(42),b=n(0),w=n(11),C=r.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:w({onAbort:!0}),captured:w({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:w({onAnimationEnd:!0}),captured:w({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:w({onAnimationIteration:!0}),captured:w({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:w({onAnimationStart:!0}),captured:w({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:w({onBlur:!0}),captured:w({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:w({onCanPlay:!0}),captured:w({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:w({onCanPlayThrough:!0}),captured:w({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:w({onClick:!0}),captured:w({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:w({onContextMenu:!0}),captured:w({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:w({onCopy:!0}),captured:w({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:w({onCut:!0}),captured:w({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:w({onDoubleClick:!0}),captured:w({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:w({onDrag:!0}),captured:w({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:w({onDragEnd:!0}),captured:w({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:w({onDragEnter:!0}),captured:w({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:w({onDragExit:!0}),captured:w({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:w({onDragLeave:!0}),captured:w({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:w({onDragOver:!0}),captured:w({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:w({onDragStart:!0}),captured:w({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:w({onDrop:!0}),captured:w({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:w({onDurationChange:!0}),captured:w({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:w({onEmptied:!0}),captured:w({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:w({onEncrypted:!0}),captured:w({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:w({onEnded:!0}),captured:w({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:w({onError:!0}),captured:w({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:w({onFocus:!0}),captured:w({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:w({onInput:!0}),captured:w({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:w({onInvalid:!0}),captured:w({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:w({onKeyDown:!0}),captured:w({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:w({onKeyPress:!0}),captured:w({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:w({onKeyUp:!0}),captured:w({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:w({onLoad:!0}),captured:w({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:w({onLoadedData:!0}),captured:w({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:w({onLoadedMetadata:!0}),captured:w({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:w({onLoadStart:!0}),captured:w({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:w({onMouseDown:!0}),captured:w({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:w({onMouseMove:!0}),captured:w({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:w({onMouseOut:!0}),captured:w({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:w({onMouseOver:!0}),captured:w({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:w({onMouseUp:!0}),captured:w({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:w({onPaste:!0}),captured:w({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:w({onPause:!0}),captured:w({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:w({onPlay:!0}),captured:w({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:w({onPlaying:!0}),captured:w({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:w({onProgress:!0}),captured:w({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:w({onRateChange:!0}),captured:w({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:w({onReset:!0}),captured:w({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:w({onScroll:!0}),captured:w({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:w({onSeeked:!0}),captured:w({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:w({onSeeking:!0}),captured:w({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:w({onStalled:!0}),captured:w({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:w({onSubmit:!0}),captured:w({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:w({onSuspend:!0}),captured:w({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:w({onTimeUpdate:!0}),captured:w({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:w({onTouchCancel:!0}),captured:w({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:w({onTouchEnd:!0}),captured:w({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:w({onTouchMove:!0}),captured:w({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:w({onTouchStart:!0}),captured:w({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:w({onTransitionEnd:!0}),captured:w({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:w({onVolumeChange:!0}),captured:w({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:w({onWaiting:!0}),captured:w({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:w({onWheel:!0}),captured:w({onWheelCapture:!0})}}},k={topAbort:E.abort,topAnimationEnd:E.animationEnd,topAnimationIteration:E.animationIteration,topAnimationStart:E.animationStart,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topInvalid:E.invalid,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topTransitionEnd:E.transitionEnd,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var S in k)k[S].dependencies=[S];var x=w({onClick:null}),T={},P={eventTypes:E,extractEvents:function(t,e,n,r){var i=k[t];if(!i)return null;var a;switch(t){case C.topAbort:case C.topCanPlay:case C.topCanPlayThrough:case C.topDurationChange:case C.topEmptied:case C.topEncrypted:case C.topEnded:case C.topError:case C.topInput:case C.topInvalid:case C.topLoad:case C.topLoadedData:case C.topLoadedMetadata:case C.topLoadStart:case C.topPause:case C.topPlay:case C.topPlaying:case C.topProgress:case C.topRateChange:case C.topReset:case C.topSeeked:case C.topSeeking:case C.topStalled:case C.topSubmit:case C.topSuspend:case C.topTimeUpdate:case C.topVolumeChange:case C.topWaiting:a=c;break;case C.topKeyPress:if(0===g(n))return null;case C.topKeyDown:case C.topKeyUp:a=f;break;case C.topBlur:case C.topFocus:a=l;break;case C.topClick:if(2===n.button)return null;case C.topContextMenu:case C.topDoubleClick:case C.topMouseDown:case C.topMouseMove:case C.topMouseOut:case C.topMouseOver:case C.topMouseUp:a=p;break;case C.topDrag:case C.topDragEnd:case C.topDragEnter:case C.topDragExit:case C.topDragLeave:case C.topDragOver:case C.topDragStart:case C.topDrop:a=h;break;case C.topTouchCancel:case C.topTouchEnd:case C.topTouchMove:case C.topTouchStart:a=d;break;case C.topAnimationEnd:case C.topAnimationIteration:case C.topAnimationStart:a=u;break;case C.topTransitionEnd:a=v;break;case C.topScroll:a=_;break;case C.topWheel:a=y;break;case C.topCopy:case C.topCut:case C.topPaste:a=s}a?void 0:b(!1);var m=a.getPooled(i,e,n,r);return o.accumulateTwoPhaseDispatches(m),m},didPutListener:function(t,e,n){if(e===x){var r=t._rootNodeID,o=a.getNodeFromInstance(t);T[r]||(T[r]=i.listen(o,"click",m))}},willDeleteListener:function(t,e){if(e===x){var n=t._rootNodeID;T[n].remove(),delete T[n]}}};t.e=P},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(10),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(10),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(10),o={data:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(28),o={dataTransfer:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(19),o={relatedTarget:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(10),o={data:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(19),o=n(42),a=n(169),u=n(43),s={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(r,s),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(19),o=n(43),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(10),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=n(28),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.e=r},function(t,e,n){"use strict";function r(t){for(var e=1,n=0,r=0,o=t.length,a=-4&o;a>r;){for(var u=Math.min(r+4096,a);u>r;r+=4)n+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=i,n%=i}for(;o>r;r++)n+=e+=t.charCodeAt(r);return e%=i,n%=i,e|n<<16}var i=65521;t.e=r},function(t,e,n){"use strict";function r(t,e,n){var r=null==e||"boolean"==typeof e||""===e;if(r)return"";var i=isNaN(e);return i||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var i=n(64),o=(n(1),i.isUnitlessNumber);t.e=r},function(t,e,n){"use strict";function r(t){if(null==t)return null;if(1===t.nodeType)return t;var e=o.get(t);return e?(e=a(e),e?i.getNodeFromInstance(e):null):void u(("function"==typeof t.render,!1))}var i=(n(12),n(3)),o=n(38),a=n(87),u=n(0);n(1),t.e=r},function(t,e,n){"use strict";function r(t,e,n){var r=t,i=void 0===r[n];i&&null!=e&&(r[n]=e)}function i(t){if(null==t)return t;var e={};return o(t,r,e),e}var o=n(49);n(1),t.e=i},function(t,e,n){"use strict";function r(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=i(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var i=n(42),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.e=r},function(t,e,n){"use strict";function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var n=r(t),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,e>=o&&a>=e)return{node:n,offset:e-o};o=a}n=r(i(n))}}t.e=o},function(t,e,n){"use strict";function r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function i(t){if(u[t])return u[t];if(!a[t])return t;var e=a[t];for(var n in e)if(e.hasOwnProperty(n)&&n in s)return u[t]=e[n];return""}var o=n(4),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},u={},s={};o.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.e=i},function(t,e,n){"use strict";function r(t){return i.isValidElement(t)?void 0:o(!1),t}var i=n(6),o=n(0);t.e=r},function(t,e,n){"use strict";function r(t){return'"'+i(t)+'"'}var i=n(29);t.e=r},function(t,e,n){"use strict";var r=n(76);t.e=r.renderSubtreeIntoContainer},function(t,e,n){t.e=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},,,function(t,e,n){var r=n(92);e.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},e.parse=function(t){return this._parser=t,this},e.timeout=function(t){return this._timeout=t,this},e.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},e.use=function(t){return t(this),this},e.get=function(t){return this._header[t.toLowerCase()]},e.getHeader=e.get,e.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},e.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},e.field=function(t,e){return this._getFormData().append(t,e),this}},function(t,e,n){function r(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}t.e=r},function(t,e,n){t.e=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],Object.defineProperty(t,"exports",{enumerable:!0,configurable:!1,get:function(){return t.e},set:function(e){return t.e=e}}),Object.defineProperty(t,"loaded",{enumerable:!0,configurable:!1,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,configurable:!1,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){n(52),n(53),n(30),n(54),n(20),n(31),n(56),t.e=n(55)}]);;
//!file:conversations-assets.min.43ffaba76412ca9ebf0d.js
webpackJsonp([1],{176:function(n,e,t){function i(n,e){for(var t=0;t<n.length;t++){var i=n[t],o=p[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(u(i.parts[r],e))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(u(i.parts[r],e));p[i.id]={id:i.id,refs:1,parts:a}}}}function o(n){for(var e=[],t={},i=0;i<n.length;i++){var o=n[i],r=o[0],a=o[1],s=o[2],c=o[3],u={css:a,media:s,sourceMap:c};t[r]?t[r].parts.push(u):e.push(t[r]={id:r,parts:[u]})}return e}function r(n,e){var t=M(),i=N[N.length-1];if("top"===n.insertAt)i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),N.push(e);else{if("bottom"!==n.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(e)}}function a(n){n.parentNode.removeChild(n);var e=N.indexOf(n);e>=0&&N.splice(e,1)}function s(n){var e=document.createElement("style");return e.type="text/css",r(n,e),e}function c(n){var e=document.createElement("link");return e.rel="stylesheet",r(n,e),e}function u(n,e){var t,i,o;if(e.singleton){var r=b++;t=m||(m=s(e)),i=l.bind(null,t,r,!1),o=l.bind(null,t,r,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=c(e),i=f.bind(null,t),o=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(e),i=d.bind(null,t),o=function(){a(t)});return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else o()}}function l(n,e,t,i){var o=t?"":i.css;if(n.styleSheet)n.styleSheet.cssText=v(e,o);else{var r=document.createTextNode(o),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(r,a[e]):n.appendChild(r)}}function d(n,e){var t=e.css,i=e.media;if(i&&n.setAttribute("media",i),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}function f(n,e){var t=e.css,i=e.sourceMap;i&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([t],{type:"text/css"}),r=n.href;n.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var p={},h=function(n){var e;return function(){return"undefined"==typeof e&&(e=n.apply(this,arguments)),e}},g=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),M=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,N=[];n.e=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var t=o(n);return i(t,e),function(n){for(var r=[],a=0;a<t.length;a++){var s=t[a],c=p[s.id];c.refs--,r.push(c)}if(n){var u=o(n);i(u,e)}for(var a=0;a<r.length;a++){var c=r[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var v=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}()},177:function(n,e,t){var i=t(96);"string"==typeof i&&(i=[[n.i,i,""]]),t(176)(i,{}),i.locals&&(n.e=i.locals)},181:function(n,e,t){var i=t(52),o=t(55)(t(56),i),r=function(n){return n?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},a=function(){return r("XSRF-TOKEN")||r("XSRF-TOKEN_QA")||r("XSRF-TOKEN_LOCAL")},s=function(n){return o.get(n).set("X-XSRF-TOKEN",a()).set("Accept","application/json").end()};n.e={get:s}},57:function(n,e,t){"use strict";function i(){return r||(r=new o(s)),r}function o(n){if(!n)throw new Error("No API instance provided");this.api=n,this.unread=u.Map({}),this.emitter=new c}var r,a=t(30),s=t(181),c=t(54),u=t(53),l=a.noConflict(),d="change";o.prototype={load:function(){return this.api.get("/api/partials/desktop/inbox/unread-items").then(l.bind(function(n){return this.unread=u.Map(n.body),this.emitter.emit(d),n.body},this))["catch"](l.bind(function(n){console.error("Unable to fetch unread items",n)},this))},get:function(){return this.unread.toJS()},subscribe:function(n){this.emitter.addListener(d,n)},unsubscribe:function(n){this.emitter.removeListener(d,n)}},n.e={instance:i,UnreadStore:o}},93:function(n,e,t){var i=t(20),o=t(57),r=t(30);r.noConflict(),t(177);var a=i.createClass({displayName:"notificationBell",getInitialState:function(){return this.getUnreadStatus()},componentDidMount:function(){o.instance().subscribe(this.handleUnreadChanged)},componentWillUnmount:function(){o.instance().unsubscribe(this.handleUnreadChanged)},handleUnreadChanged:function(){this.setState(this.getUnreadStatus())},getUnreadStatus:function(){var n=o.instance().get();return{hasUnreadComments:n.hasUnreadComments,unreadMentionCount:n.unreadMentionCount}},render:function(){var n=this.state.hasUnreadComments,e=this.state.unreadMentionCount,t={opacity:n?1:.4},o={display:e?"inline-block":"none"},r=n?"notification-bell":"notification-bell notification-bell--inactive";return i.createElement("div",{className:r},i.createElement("span",{className:"notification-bell__icon",style:t},i.createElement("span",{className:"notification-bell__mentions",style:o},e)))}});n.e=a},94:function(n,e,t){function i(n,e,t){a.render(r.createElement(u[n],t),document.getElementById(e))}function o(n){a.unmountComponentAtNode(document.getElementById(n))}var r=t(20),a=t(31),s=t(57),c=t(93),u={notificationBell:c};window.invc={render:i,destroy:o,UnreadStore:s}},96:function(n,e,t){e=n.e=t(97)(),e.push([n.i,".notification-bell {\n  display: inline-block;\n}\n.notification-bell--inactive .notification-bell__icon:hover {\n  opacity: 0.6 !important;\n}\n.notification-bell__icon {\n  background: url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSczIDIgMTQgMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz4NCiAgICA8cGF0aCBkPSdNMTAsMTggQzEwLjkwNTg4MjQsMTggMTEuNjQ3MDU4OCwxNy4yOCAxMS42NDcwNTg4LDE2LjQgTDguMzUyOTQxMTgsMTYuNCBDOC4zNTI5NDExOCwxNy4yOCA5LjA5NDExNzY1LDE4IDEwLDE4IEwxMCwxOCBaIE0xNS4zNTI5NDEyLDEzLjIgTDE1LjM1Mjk0MTIsOC44IEMxNS4zNTI5NDEyLDYuMzQ0IDEzLjU5ODgyMzUsNC4yODggMTEuMjM1Mjk0MSwzLjc0NCBMMTEuMjM1Mjk0MSwzLjIgQzExLjIzNTI5NDEsMi41MzYgMTAuNjgzNTI5NCwyIDEwLDIgQzkuMzE2NDcwNTksMiA4Ljc2NDcwNTg4LDIuNTM2IDguNzY0NzA1ODgsMy4yIEw4Ljc2NDcwNTg4LDMuNzQ0IEM2LjQwMTE3NjQ3LDQuMjg4IDQuNjQ3MDU4ODIsNi4zNDQgNC42NDcwNTg4Miw4LjggTDQuNjQ3MDU4ODIsMTMuMiBMMywxNC44IEwzLDE1LjYgTDE3LDE1LjYgTDE3LDE0LjggTDE1LjM1Mjk0MTIsMTMuMiBMMTUuMzUyOTQxMiwxMy4yIFonIHN0cm9rZT0nbm9uZScgZmlsbD0nI0U2RTlGMCcgZmlsbC1ydWxlPSdldmVub2RkJz48L3BhdGg+DQo8L3N2Zz4=) no-repeat;\n  display: inline-block;\n  height: 16px;\n  position: relative;\n  transition: opacity ease 300ms;\n  width: 14px;\n  z-index: 1;\n}\n.notification-bell__mentions {\n  background: #f36;\n  border-radius: 3px;\n  bottom: 6px;\n  box-sizing: border-box;\n  color: #fff;\n  height: 13px;\n  left: 10px;\n  padding: 0 3px;\n  position: absolute;\n  text-align: center;\n  z-index: 2;\n}\n",""])},97:function(n,e,t){n.e=function(){var n=[];return n.toString=function(){for(var n=[],e=0;e<this.length;e++){var t=this[e];n.push(t[2]?"@media "+t[2]+"{"+t[1]+"}":t[1])}return n.join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&i[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}}},[94]);;
//!file:pub-sub.js
!function(ng,app){"use strict";function PubSubFactory(_){var PubSub=function(){function off(eventType,callback){var eventConfig=parseEventConfig(eventType);subscriptions.hasOwnProperty(eventConfig.type)&&(subscriptions[eventConfig.type]=_.reject(subscriptions[eventConfig.type],function(subscription){return callback?subscription.namespace===eventConfig.namespace&&subscription.callback===callback:subscription.namespace===eventConfig.namespace}))}function on(eventType,callback,context){if(_.isArray(eventType))return void _.forEach(eventType,function(eventType){on(eventType,callback,context)});var eventConfig=parseEventConfig(eventType);subscriptions.hasOwnProperty(eventConfig.type)||(subscriptions[eventConfig.type]=[]),subscriptions[eventConfig.type].push({namespace:eventConfig.namespace,callback:callback,context:context||{}})}function parseEventConfig(eventType){var parts=eventType.split(".");return{type:parts.shift(),namespace:parts.join(",")||null}}function trigger(eventType,eventData){var eventConfig=parseEventConfig(eventType);if("*"===eventConfig.type)throw new Error("IllegalEventType");if(subscriptions.hasOwnProperty(eventConfig.type)){var eventArguments=arguments;eventArguments[0]={type:eventConfig.type,namespace:eventConfig.namespace},_.forEach(subscriptions[eventConfig.type],function(subscription){(null===eventConfig.namespace||eventConfig.namespace===subscription.namespace)&&subscription.callback.apply(subscription.context,eventArguments)}),_.forEach(subscriptions["*"],function(subscription){subscription.callback.apply(subscription.context,eventArguments)})}}var subscriptions={};return subscriptions["*"]=[],{off:off,on:on,trigger:trigger}};return PubSub}app.factory("PubSub",PubSubFactory)}(angular,InVision);;
//!file:app-controller.js
!function(ng,app){"use strict";function Controller($document,$location,$route,$routeParams,$scope,$timeout,$window,_,analyticsService,appSettings,beforeUnloadService,commentObjectService,config,Deferred,hotspotService,ipInfoService,modelEvents,projectViewingService,requestContext,ScreenAlignmentHelper,screenService,sessionInactivityService,sessionService,shareService,userPreferenceService,userService){function addScreenToHistory(screenID){screenHistory.length&&screenHistory[screenHistory.length-1]===screenID||screenHistory.push(screenID)}function getBrowserCompatibliity(){var userAgent=$window.navigator.userAgent.toLowerCase(),isIE6=6===$window.ieVersion,isIE7=7===$window.ieVersion,isCompatible=!(isIE6||isIE7),reason=null;return isCompatible||(reason="version",-1!==userAgent.search("trident/(4|5).0")&&(reason="mode")),{isCompatible:isCompatible,isNotCompatible:!isCompatible,reason:reason}}function getCurrentScreenID(){var screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare);return screenID}function getNormalizedPixelDensityWidth(imageWidth,clientFilename){return clientFilename.indexOf("@2x")>0?.5*imageWidth:clientFilename.indexOf("@print")>0?.3333*imageWidth:imageWidth}function getPreviousScreenFromHistory(){if(screenHistory.length<2)return null;var previousScreenID=(screenHistory.pop(),screenHistory.pop());return previousScreenID}function getXsrfTokenCookie(){var cookieString=$document.prop("cookie")||"",matches=cookieString.match(/\bXSRF-TOKEN=([^;]+)/i);return matches&&matches[1]||""}function getViewportWidth(){return $scope.project.isMobile?$scope.deviceTemplate.viewportWidth:cachedWindowWidth}function isRouteRedirect(route){return!route.current.action}function loadCountryCode(){var geolocationInfo=ipInfoService.getGeolocationData();$scope.share.countryCode=geolocationInfo&&geolocationInfo.country&&""!==geolocationInfo.country?geolocationInfo.country.toLowerCase():"us"}function prepareToUpdateShareConfig(trigger){pendingShareConfigChangeEvent=trigger,isAppFocused&&($timeout.cancel(pendingShareConfigChangeTimer),pendingShareConfigChangeTimer=$timeout(function(){$scope.updateShareConfig("timer."+pendingShareConfigChangeEvent),pendingShareConfigChangeEvent=""},5e3))}function shouldShowSMSTooltip(){return}function sendSlackActivityAnalytics(){var searchObj=$location.search();if("undefined"!=typeof searchObj.slackActivity){var eventProperties={slackActivity:searchObj.slackActivity};analyticsService.track("ShareLink.Clicked",eventProperties),$location.search("slackActivity",null)}}function syncWindowToScreenAlignment(){if($scope.screen){var helper=new ScreenAlignmentHelper,alignment=helper.calculate($scope.screen);$scope.$broadcast("screenAlignment:update",alignment)}}if($scope.config=config,$scope.share=config.share,$scope.bodyStyle=config.share.isEmbed?{"background-color":"rgba(0,0,0,0)"}:"",$scope.branding=config.branding,analyticsService.setupTrackGrowthForOptimizelyCampaigns(),config.isPreview)return void($scope.isLoadingOpen=!0);config.LOADING_COMPLETE_PERCENT=50,analyticsService.segmentIo(),analyticsService.googleAnalytics(),analyticsService.track("ShareLink.Viewed"),analyticsService.trackGrowthPage("Share","Share"),analyticsService.trackGrowth("App - Public Share - View Project",{"Project Type":"Prototype","Logged In":!!sessionService.user.isAccountAuthenticated});var enableInbox=!1,enableMentionShortcut=!1,shareCommentingLogin=!1,enableTrustArc=!1,enableFunnelEnvy=!1;config&&config.featureFlags&&(enableInbox=!!config.featureFlags.enableInbox,enableMentionShortcut=!!config.featureFlags.mentionShortcut,shareCommentingLogin=!!config.featureFlags.shareCommentingLogin,enableTrustArc=!(!config.featureFlags["product-RAIN-1225-trust-arc-in-prototype-share"]||!config.allowExternalScripts),enableFunnelEnvy=!(!config.featureFlags["analytics-RAIN-1212-funnel-envy-platform"]||!config.allowExternalScripts)),appSettings.setFeatureFlag("inbox",enableInbox),appSettings.setFeatureFlag("mentionShortcut",enableMentionShortcut),appSettings.setFeatureFlag("shareCommentingLogin",shareCommentingLogin),$scope.settings=appSettings.getSettings();var hasLocalStorage=function(){var x="__storage_test__";try{return localStorage.setItem(x,x),localStorage.removeItem(x),!0}catch(e){return!1}}();$scope.clearBodyStyle=function(){$scope.headerStyle={},$scope.bodyStyle={}},$scope.closeBrowse=function(){$scope.isBrowseOpen=!1},$scope.closeBrowserCompatibilityAlert=function(){$scope.browserCompatibility.isCompatible=!0,$scope.browserCompatibility.isNotCompatible=!1},$scope.closeLoading=function(){if($scope.isLoadingOpen=!1,$scope.$broadcast("loadingSequenceCompleted"),window.parent!=window&&window.parent.postMessage("inShareLoadingComplete","*"),$location.search().welcome&&$scope.user.isAccountAuthenticated&&$scope.openModalWindow("welcomeUser",{fromSignUp:!1}),$location.search().welcome&&$location.search().sso&&analyticsService.trackGrowth("App - Public Share - SSO Login",{"User Authenticated":$scope.user.isAccountAuthenticated?"True":"False"}),$location.search().welcome&&($location.search("welcome",null),$location.search().sso&&$location.search("sso",null)),enableTrustArc){var taScript=document.createElement("script");taScript.setAttribute("src","//consent.trustarc.com/notice?domain=invisionapp.com&c=teconsent&pcookie"),document.body.appendChild(taScript)}if(enableFunnelEnvy){var funnelEnvyScript=document.createElement("script");funnelEnvyScript.onload=function(){window.funnelEnvy=new FunnelEnvy({customerId:"5ac5aba744badd657feea81a",apiUrl:"//backstage.funnelenvy.com"})},funnelEnvyScript.setAttribute("type","text/javascript"),funnelEnvyScript.setAttribute("src","//cdn2.funnelenvy.com/organization/5ac5aba744badd657feea81a/backstage-client.js"),document.body.appendChild(funnelEnvyScript)}},$scope.getPercentOfScreensLoaded=function(){return percentOfScreensLoaded},$scope.getScreenHistory=function(){return screenHistory},$scope.navigateToPreviousScreen=function(){var previousScreenID=getPreviousScreenFromHistory();previousScreenID&&$location.url("/screens/"+previousScreenID)},$scope.navigateToScreenComments=function(){share.isCommentingAllowed&&$location.url($scope.generateCommentUrl())},$scope.generateCommentUrl=function(){return"/screens/"+getCurrentScreenID()+"/comments"},$scope.navigateToScreenPreview=function(){var screenID=getCurrentScreenID();$location.url("/screens/"+screenID)},$scope.navigateToTargetScreen=function(screenID,maintainScrollPosition){return screenID?($location.url("/screens/"+screenID),$scope.closeBrowse(),void $scope.$broadcast("screenViewer:screenChanged")):void console.error("Trying to navigate to no screen")},$scope.goToShareStart=function(){var shareStart=config.share.screenID;0==shareStart&&(shareStart=config.screens[0].id),$scope.$broadcast("relaunchMobileApp",config.share.screenID),$scope.navigateToTargetScreen(shareStart,!1)},$scope.getAppIcon=function(){return $scope.appIcon.imageUrl||"/share/app/img/icon.png"},$scope.toggleSmsShareForm=function(){$scope.isShowingSmsForm=!$scope.isShowingSmsForm},$scope.sendShareSms=function(){return $scope.sms.phoneNumber=$scope.sms.phoneNumber.replace(/[^\d+]+/g,""),$scope.sms.phoneNumber.length<10?void($scope.sms.message="Invalid phone number."):10==$scope.sms.phoneNumber.length?void($scope.sms.message="Please add country code."):($scope.sms.messageSent=!1,$scope.sms.message="",void Deferred.handlePromise(shareService.sendSMS(share.id,$scope.sms.phoneNumber),function(response){$scope.sms.messageSent=!0,hasLocalStorage&&localStorage.setItem("smsPhoneNumber",$scope.sms.phoneNumber),$timeout(function(){$scope.sms.messageSent=!1,$scope.sms.message="",$scope.isShowingSmsForm=!1},15e3)},function(response){$scope.sms.message="Error: Unable to send SMS."}))},$scope.openBrowse=function(){share.isLoadAllScreens&&($scope.isBrowseOpen=!0)},$scope.openModalWindow=function(type){var modalData=_.toArray(arguments),modalType=modalData.shift();$scope.$broadcast("openModalWindow",modalType,modalData)},$scope.setBodyClass=function(className){if(1==$scope.share.isEmbed)return void($scope.bodyClass="embed");var bodyClass=$scope.subview;$scope.screen.zoomScrollBehavior===screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING&&(bodyClass+=" disable-horizontal-scrolling"),$scope.project.isMobile&&(bodyClass+=" mobile"),$scope.bodyClass=bodyClass+" "+className},$scope.setHeaderStyle=function(style){style["background-color"]=null,$scope.headerStyle=$scope.share.isEmbed?"":style},$scope.setBodyStyle=function(style){$scope.bodyStyle=$scope.share.isEmbed?"":style},$scope.setPercentOfScreensLoaded=function(percent){percentOfScreensLoaded<config.LOADING_COMPLETE_PERCENT&&$scope.setWindowTitle(percent+"% Loaded"),percentOfScreensLoaded=percent},$scope.setWindowTitle=function(title){$scope.windowTitle=title},$scope.toggleBrowse=function(){$scope.isBrowseOpen=!$scope.isBrowseOpen},$scope.appliedClass=function(){if("comments"==$scope.subview)return"desktop";if($scope.project.mobileStatusbarIsOpaque&&$scope.project.mobileStatusbarIsVisible)var statusbarClass="opaque-status-bar";else if(!$scope.project.mobileStatusbarIsOpaque||!$scope.project.mobileStatusbarIsVisible)var statusbarClass="transparent-status-bar";var classNames=$scope.deviceTemplate.className+" "+statusbarClass;return"white"==$scope.deviceTemplate.mobileSkinColor&&(classNames+=" white"),$scope.project.mobileStatusbarIsVisible&&(classNames+=" statusbarIsVisible"),classNames},$scope.applyScreenDisplayScaleToScreen=function(screen){var binaryWidth=screen.width,screenWidth=getNormalizedPixelDensityWidth(binaryWidth,screen.clientFilename),viewportWidth=getViewportWidth(),isZoomToBrowserWidth=+screen.zoomScrollBehavior===screenService.zoomScrollBehaviors.ZOOM_OUT_TO_BROWSER_WIDTH;return $scope.project.isMobile?(screen.displayScale=viewportWidth/binaryWidth,screen.scrollScale=viewportWidth/screenWidth):isZoomToBrowserWidth&&screenWidth>viewportWidth?(screen.displayScale=viewportWidth/binaryWidth,screen.scrollScale=viewportWidth/screenWidth):(screen.displayScale=screenWidth/binaryWidth,screen.scrollScale=1),screen},$scope.applyScreenDisplayScale=function(){$scope.applyScreenDisplayScaleToScreen($scope.screen)},$scope.getReverseDisplayScale=function(screen){if($scope.project.isMobile)var displayScale=screen.width/$scope.deviceTemplate.viewportWidth;else if(!$scope.project.isMobile&&screen.clientFilename.indexOf("@2x")>0)var displayScale=2;else if(!$scope.project.isMobile&&screen.clientFilename.indexOf("@print")>0)var displayScale=3;else var displayScale=1;if(!$scope.project.isMobile&&screen.zoomScrollBehavior===screenService.zoomScrollBehaviors.ZOOM_OUT_TO_BROWSER_WIDTH&&screen.width*displayScale>$(window).width())var displayScale=screen.width/$(window).width();return displayScale},$scope.getFixedDesktopHeaderHeight=function(){var height=$scope.screen.fixedHeaderHeight*$scope.screen.displayScale;return 1==$scope.screen.backgroundFrame&&(height+=40),height},$scope.setMobileLoadingForGifIsReady=function(value){$scope.mobileLoadingForGifIsReady=value},$scope.setDesktopLoadingForGifIsReady=function(value){$scope.desktopLoadingForGifIsReady=value},$scope.setIsTransitioning=function(value){$scope.isTransitioning=value},$scope.setTransitionData=function(data){$scope.transitionData=data},$scope.setScreen=function(screen){$scope.screen=screen,$scope.applyScreenDisplayScaleToScreen(screen),$scope.project.isMobile||$scope.applyDesktopWrapperOffset(screen)},$scope.applyDesktopWrapperOffset=function(screen){var scaledScreenWidth=screen.width*screen.displayScale,windowWidth=$(window).width();$scope.desktopWrapperOffset=screen.zoomScrollBehavior==screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING&&scaledScreenWidth>windowWidth&&"preview"==$scope.subview?"left"===screen.alignment?0:"right"===screen.alignment?-1*(scaledScreenWidth-windowWidth):(scaledScreenWidth-windowWidth)/2*-1:0},$scope.updateShareConfig=function(trigger){var shareID=$scope.share.id;Deferred.handlePromise(shareService.getShareConfig(shareID,null,trigger),function(response){config.project=response.project,config.screens=response.screens,config.share=_.isArray(response.share)?response.share[0]:response.share,config.metaScreens=response.metaScreens,config.hotspots=response.hotspots,config.conversations=response.conversations,config.comments=response.comments,config.commentSketches=response.commentSketches,config.dividers=response.dividers,config.members=response.members,config.affiliates=response.affiliates,$scope.$broadcast("configUpdated.share",config)},function(response){})},$scope.updateShareUsers=function(shareUsers){config.members=shareUsers.members,config.affiliates=shareUsers.affiliates},$scope.updateDeviceTemplate=function(){$scope.deviceTemplate=_.withProperty($scope.deviceTemplates,"mobileDeviceID",config.project.mobileDeviceID)[0]},$scope.setHasSeenShareWalkThrough=function(val){$scope.hasSeenShareWalkThrough=val},$scope.getHasSeenShareWalkThroughUserPreferenceID=function(){if("file:"===window.location.protocol)return void $scope.setHasSeenShareWalkThrough(!0);var getByName=userPreferenceService.getPreferenceTypeByName("hasSeenShareWalkThrough",!1,"boolean");getByName.then(function(response1){$scope.hasSeenShareWalkThroughUserPreferenceID=response1.data.id;var getHasSeenShareWalkThroughValue=userPreferenceService.getUserPreferenceById($scope.hasSeenShareWalkThroughUserPreferenceID);getHasSeenShareWalkThroughValue.then(function(response2){$scope.setHasSeenShareWalkThrough("true"===response2.data.value)})})};var renderContext=requestContext.getRenderContext("","screenID"),percentOfScreensLoaded=0,screenHistory=[],share=shareService.getShare(),cachedWindowWidth=$($window).width(),pendingShareConfigChangeEvent="",pendingShareConfigChangeTimer=0,isAppFocused=!0;if($scope.xsrfToken=getXsrfTokenCookie(),$scope.windowTitle="InVision Share",$scope.bodyClass="",$scope.subview=null,$scope.isLoadingOpen=!0,$scope.isBrowseOpen=!1,$scope.shouldShowPoweredBy=config.shouldShowPoweredBy,$scope.isModalOpen=!1,$scope.mobileLoadingForGifIsReady=config.project.isMobile?!1:!0,$scope.desktopLoadingForGifIsReady=config.project.isMobile?!0:!1,$scope.enterpriseConfig=config.companyInfo,$scope.defaultScreenIDForShare=0==shareService.getShare().screenID?screenService.getScreens()[0].id:shareService.getShare().screenID,_.findWithProperty(config.screens,"id",$scope.defaultScreenIDForShare)||($scope.defaultScreenIDForShare=screenService.getScreens()[0].id),$scope.project=config.project,$scope.project.loadingScreen=_.withProperty(config.screens,"screenTypeID",3)[0]||"",$scope.share=shareService.getShare(),$scope.deviceTemplates=config.mobileDevices,$scope.deviceTemplate=_.withProperty($scope.deviceTemplates,"mobileDeviceID",config.project.mobileDeviceID)[0],$scope.project.isWatch="watch"===$scope.deviceTemplate.deviceType,$scope.appIcon=screenService.getAppIcon(),$scope.loadingScreen=screenService.getLoadingScreen(),$scope.screenID=$scope.defaultScreenIDForShare,$scope.screen=null,$scope.setScreen(screenService.getScreenByID($scope.screenID)),$scope.desktopWrapperOffset=0,$scope.isInAppMode=!1,$scope.isTransitioning=!1,$scope.transitionData={},$scope.isShowingSmsForm=!1,$scope.sms={},$scope.sms.phoneNumber="",$scope.sms.messageSent=!1,$scope.sms.message="",hasLocalStorage&&localStorage.getItem("smsPhoneNumber")&&($scope.sms.phoneNumber=localStorage.getItem("smsPhoneNumber")),$scope.branding=config.branding,$scope.browserCompatibility=getBrowserCompatibliity(),$scope.hasSeenShareWalkThrough=!1,$scope.hasSeenShareWalkThroughUserPreferenceID=0,$scope.getHasSeenShareWalkThroughUserPreferenceID(),$scope.shareUser=config.user,$scope.user=sessionService.user,appSettings.setUser($scope.user),$scope.user.isUserValidationRequired=!1,$scope.user.tempAvatar,appSettings.getSettings().features.shareCommentingLogin&&sessionService.user.email&&shareService.getExistingUser(sessionService.user.email).then(function(response){$scope.user.isUserValidationRequired=response&&response.name,$scope.user.isUserValidationRequired&&($scope.user.tempAvatar=response.avatarID,$scope.user.tempInitials=userService.getInitials(response.name),$scope.user.hasSystemAvatar=userService.isSystemAvatar(response.avatarID))}),$scope.user.isAccountAuthenticated?sessionService.authenticate().then(function(){analyticsService.initGrowthAnalytics(sessionService.user,sessionService.subscription)}):analyticsService.initGrowthAnalytics(),$scope.isShowingSlideshowNav=sessionService.get("isShowingSlideshowNav"),$scope.$on("requestContextChanged",function(){renderContext.isChangeRelevant()&&($scope.subview=renderContext.getNextSection(),addScreenToHistory(requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare)),$scope.closeBrowse(),$scope.screenID!=getCurrentScreenID()&&($scope.screenID=getCurrentScreenID(),$scope.xsfrToken&&projectViewingService.incrementScreenCount($scope.share.id)))}),$scope.$on("$routeChangeSuccess",function(event,currentRoute,previousRoute){return commentObjectService.set(null,0),config.project&&config.project.id&&currentRoute.params.screenID&&commentObjectService.set("project",{objectID:config.project.id,conversationID:currentRoute.params.conversationID}),isRouteRedirect($route)?void 0:(requestContext.setContext($route.current.action,$routeParams),"comments"!==renderContext.getNextSection()||share.isCommentingAllowed?void $scope.$broadcast("requestContextChanged",requestContext):$location.path("/"))}),$scope.$on("modal.isWindowOpen",function(event,isOpen){$scope.isModalOpen=isOpen}),$scope.$watch("screen",function(newVal,oldVal){newVal!==oldVal&&$scope.applyScreenDisplayScale()}),$scope.$watch(function(){return sessionService.get("isShowingSlideshowNav")},function(newValue){$scope.isShowingSlideshowNav=newValue}),modelEvents.on("projectUpdated.share",function(event,project){(project.id==config.project.id||project.mobileDeviceID!==config.project.mobileDeviceID)&&prepareToUpdateShareConfig("event.project-updated")}),modelEvents.on("screenUploaded.share",function(event,screen){screen.projectID==config.project.id&&prepareToUpdateShareConfig("event.screen-uploaded")}),modelEvents.on("screenConfigUpdated.share",function(event,screen){screen.projectID==config.project.id&&prepareToUpdateShareConfig("event.screen-config-updated")}),modelEvents.on("screenDeleted.share",function(event,screenID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.screen-deleted")}),modelEvents.on("commentAdded.share",function(event,commentID,conversationID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.comment-added")}),modelEvents.on("commentUpdated.share",function(event,commentID,conversationID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.comment-updated")}),modelEvents.on("commentDeleted.share",function(event,commentID,conversationID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.comment-deleted")}),modelEvents.on("conversationUpdated.share",function(event,conversationID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.conversation-updated")}),modelEvents.on("hotspotCreated.share",function(event,hotspotID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.hotspot-created")}),modelEvents.on("hotspotUpdated.share",function(event,hotspotID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.hotspot-updated")}),modelEvents.on("hotspotDeleted.share",function(event,hotspotID,projectID){projectID==config.project.id&&prepareToUpdateShareConfig("event.hotspot-deleted")}),$scope.$on("configUpdated.share",function(event,localConfig){var isTemplateChange=localConfig.project.mobileDeviceID!==$scope.project.mobileDeviceID;$scope.project=localConfig.project,$scope.project.loadingScreen=_.withProperty(localConfig.screens,"screenTypeID",3)[0]||"",isTemplateChange&&($scope.share=localConfig.share,$scope.deviceTemplate=_.withProperty($scope.deviceTemplates,"mobileDeviceID",localConfig.project.mobileDeviceID)[0],$scope.project.isWatch="watch"===$scope.deviceTemplate.deviceType)}),$(window).on("resize.sharePreview",function(){cachedWindowWidth=$($window).width(),$scope.applyScreenDisplayScale(),$scope.project.isMobile||$scope.applyDesktopWrapperOffset($scope.screen),syncWindowToScreenAlignment(),$scope.$apply()}),$(window).on("focus blur",function(event){isAppFocused="focus"===event.type}),$(window).on("mousemove keydown focus",function(event){pendingShareConfigChangeEvent&&$scope.$apply(function(){$timeout.cancel(pendingShareConfigChangeTimer),$scope.updateShareConfig("flushing."+pendingShareConfigChangeEvent),pendingShareConfigChangeEvent=""})}),beforeUnloadService.push(this,function(){projectViewingService.setEndedAt($scope.share.id)}),shouldShowSMSTooltip(),$timeout(function(){$window.analytics&&analytics.track("Share viewed via desktop")},1e3),sendSlackActivityAnalytics(),$scope.project.isMobile&&loadCountryCode(),$scope.user.isAccountAuthenticated&&$scope.user.hasCompanyMembership&&sessionInactivityService.init($scope.user.sessionIdentifier,sessionService.authenticate,function(){document.location.reload(!0)}),sessionService.user.isAccountAuthenticated){var subdomain=window.location.hostname.split(".")[0],analyticsUserID=config.singleTenantConfig&&config.singleTenantConfig.useSingleTenantAnalytics?subdomain+"-"+sessionService.user.id:sessionService.user.id;analyticsService.identifyGrowth(analyticsUserID,{"Full Name":sessionService.user.name,Email:sessionService.user.email,"Last Activity":moment(sessionService.user.lastRequestAt).format("YYYY-MM-DD HH:mm:ss")})}}app.controller("AppController",Controller)}(angular,InVision);;
//!file:banner/auth-ask-controller.js
!function(ng,app){"use strict";function Controller($scope,$window,analyticsService,config,sessionService,shareService){$scope.showAuthAskBanner=!1,$scope.$on("loadingSequenceCompleted",function(){var share=shareService.getShare(),enterpriseShareSignupFlowVariant=1===($window.InvAnalytics||{}).enterpriseShareSignupFlowVariant;$scope.showAuthAskBanner=!sessionService.user.isAccountAuthenticated&&share.isCommentingAllowed&&enterpriseShareSignupFlowVariant,$scope.showAuthAskBanner&&analyticsService.trackGrowth("App - Public Share - View Create Account Banner")}),$scope.triggerAuthModal=function(isSignUp){var opts={showSignup:!!isSignUp,isFullScreenMode:!0};$scope.openModalWindow("auth",opts),$scope.showAuthAskBanner=!1},$scope.closeAuthAskBanner=function(){$scope.showAuthAskBanner&&analyticsService.trackGrowth("App - Public Share - Dismiss Create Account Banner"),$scope.showAuthAskBanner=!1}}app.controller("banner.AuthAskController",Controller)}(angular,InVision);;
//!file:browse/browse-controller.js
!function(ng,app){"use strict";function Controller($scope,requestContext,shareService,screenService,sessionService,dateHelper,_){function augmentScreens(screens){for(var i=0;i<screens.length;i++){var screen=screens[i];screen.updatedAtDateLabel=dateHelper.formatDate(screen.updatedAt,"mmm d")+" at "+dateHelper.formatTime(screen.updatedAt,"h:mm tt")}return screens}$scope.applyScreenNavigation=function(screen){$scope.navigateToTargetScreen(screen.id)},$scope.showSubview=function(subview){$scope.subview=subview,sessionService.set("browse.BrowseController.defaultSubview",subview)},$scope.mergeScreensAndDividersForDisplay=function(){var displayObjectsTemp=$scope.screens;if(2!==$scope.project.sortTypeID){displayObjectsTemp=[];for(var sortedDividers=_.sortBy($scope.dividers,"sort"),sortedScreens=_.sortBy($scope.screens,"sort"),d=0;d<sortedDividers.length;d++){var screensInGroup=_.where(sortedScreens,{screenGroupId:sortedDividers[d].dividerID});sortedDividers[d].screenCount=screensInGroup.length,displayObjectsTemp.push(sortedDividers[d]);for(var s=0;s<screensInGroup.length;s++)screensInGroup[s].type="screenObj",displayObjectsTemp.push(screensInGroup[s])}}else displayObjectsTemp.forEach(function(screen){screen.type="screenObj"}),displayObjectsTemp=_.sortOnPropertyUsingNaturalOrder(displayObjectsTemp,"name");$scope.displayObjects=displayObjectsTemp},$scope.shouldDividerDisplay=function(item){return"divider"===item.type&&0!=item.sort&&item.screenCount>0?!0:!1},$scope.isTabletPortrait="tablet"===$scope.deviceTemplate.deviceType&&"portrait"===$scope.deviceTemplate.orientation,$scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),$scope.screens=augmentScreens(screenService.getScreens()),$scope.dividers=_.sortBy(screenService.getDividers(),"sort"),$scope.selectedScreen=_.findWithProperty($scope.screens,"id",$scope.screenID),$scope.subview=sessionService.get("browse.BrowseController.defaultSubview","thumbnails"),$scope.excludeComments=!shareService.getShare().isCommentingAllowed,$scope.displayObjects=[],$scope.mergeScreensAndDividersForDisplay()}app.controller("browse.BrowseController",Controller)}(angular,InVision);;
//!file:comments/catchup-toolbar-controller.js
!function(ng,app){"use strict";function Controller($scope,$location,requestContext,Deferred,screenService,conversationService,commentService,modelEvents,_){}app.controller("comments.CatchupToolbarController",Controller)}(angular,InVision);;
//!file:comments/comments-controller.js
!function(ng,app){"use strict";function Controller($location,$sce,$scope,$window,_,commentService,config,conversationService,requestContext,screenService,sessionService){function applyRemoteData(screen,conversations){$scope.setScreen(screen),document.URL.indexOf("/comments")>=0&&$scope.setWindowTitle(screen.name+" - Comments"),$scope.conversations=augmentConversations(conversations),applyFilters(),updateUnreadConversations(),$scope.unreadConversations.length&&($scope.showUnreadComments=!0)}function augmentConversations(conversations){return conversations}function loadRemoteData(){var screen=screenService.getScreenByID($scope.screenID);if(screen){var conversations=conversationService.getConversationsByScreenID(screen.id);conversations=markConversationsAsUnread(conversations),applyRemoteData(screen,conversations)}}function markConversationsAsUnread(conversations){for(var i=0;i<conversations.length;i++){var comments=commentService.getCommentsByConversationID(conversations[i].id);conversations[i].isUnread=!!_.withProperty(comments,"isUnread",!0).length}return conversations}function navigateToComments(){$location.path("/screens/"+$scope.screenID+"/comments")}function applyFilters(){var conversations=$scope.conversations;updateFilterCounts(),showConversations(conversations),applyShowCompletedFilter(conversations),applyTypeFilter(conversations),showConversationsNotAffectedByFiltering(conversations)}function applyShowCompletedFilter(conversations){$scope.filters.showCompleted.value||hideConversations(_.withProperty(conversations,"isComplete",!0))}function applyTypeFilter(conversations){"comments"===$scope.filters.type.value?(hideConversations(_.withProperty(conversations,"isForDevelopment",!0)),hideConversations(_.withProperty(conversations,"isTourPoint",!0))):"dev-notes"===$scope.filters.type.value?hideConversations(_.withProperty(conversations,"isForDevelopment",!1)):"tour-points"===$scope.filters.type.value&&hideConversations(_.withProperty(conversations,"isTourPoint",!1))}function showConversations(conversations){_.setProperty(conversations,"isShown",!0)}function hideConversations(conversations){_.setProperty(conversations,"isShown",!1)}function showConversationsNotAffectedByFiltering(conversations){showConversations(_.withPropertyRange($scope.conversations,"id",conversationIDsNotAffectedByFiltering))}function clearExcludedConversationIDs(){conversationIDsNotAffectedByFiltering=[]}function updateFilterCounts(){var conversations=$scope.conversations;$scope.filters.showCompleted.value||(conversations=_.withoutProperty(conversations,"isComplete",!0)),$scope.typeFilterOptions[0].count=conversations.length,$scope.typeFilterOptions[1].count=_.where(conversations,{isForDevelopment:!1,isTourPoint:!1}).length,$scope.typeFilterOptions[2].count=_.withProperty(conversations,"isForDevelopment",!0).length,$scope.typeFilterOptions[3].count=_.withProperty(conversations,"isTourPoint",!0).length,"all"===$scope.filters.type.value?$scope.filters.showCompleted.count=_.withProperty($scope.conversations,"isComplete",!0).length:"comments"===$scope.filters.type.value?$scope.filters.showCompleted.count=_.where($scope.conversations,{isForDevelopment:!1,isTourPoint:!1,isComplete:!0}).length:"dev-notes"===$scope.filters.type.value?$scope.filters.showCompleted.count=_.where($scope.conversations,{isForDevelopment:!0,isComplete:!0}).length:"tour-points"===$scope.filters.type.value&&($scope.filters.showCompleted.count=_.where($scope.conversations,{isTourPoint:!0,isComplete:!0}).length)}function updateUnreadConversations(){$scope.unreadConversations=_.filter($scope.conversations,function(conversation){return conversation.isUnread&&!conversation.isComplete||_.contains(visitedUnreadConversationIDs,conversation.id)}),updateVisibleUnreadConversations()}function updateVisibleUnreadConversations(){$scope.visibleUnreadConversations=$scope.unreadConversations,$scope.hiddenUnreadConversations=[],$scope.unreadConversations.length>$scope.unreadConversationCapacity&&($scope.visibleUnreadConversations=$scope.unreadConversations.slice(0,$scope.unreadConversationCapacity),$scope.hiddenUnreadConversations=$scope.unreadConversations.slice($scope.unreadConversationCapacity))}function calculateClickToCommentCTAMargin(windowHeight,screenHeight,isMobile){var margin=config.project.isMobile?95:0;return margin+=12,margin+=(screenHeight>windowHeight?windowHeight:screenHeight)/2}$scope.startSketchBuilder=function(){$scope.isShowingSketchBuilder=!0,$scope.isBottomBarShown=!1,$scope.$emit("isShowingSketchBuilder",!0)},$scope.getMarkerPos=function(conversation,displayScale){var markerPos={top:conversation.y*displayScale,left:conversation.x*displayScale};return markerPos},$scope.getScreenDisplayData=function(screen){var displayData={height:screen.height,width:screen.width,displayScale:screen.displayScale};return displayData},$scope.hideSketchBuilder=function(){$scope.isShowingSketchBuilder=!1,$scope.isBottomBarShown=!0,$scope.$emit("isShowingSketchBuilder",!1)},$scope.exportTempSketches=function(){return _.clone($scope.tempSketches)},$scope.clearCommentSketches=function(){$scope.tempSketches.splice(0,$scope.tempSketches.length)},$scope.deleteTempSketch=function(tempID){_.eachRight($scope.tempSketches,function(sketch,index){tempID===sketch.tempID&&$scope.tempSketches.splice(index,1)})},$scope.setTempSketches=function(tempSketches){$scope.clearCommentSketches(),_.each(tempSketches,function(sketch){$scope.tempSketches.push(sketch)})},$scope.startSketchViewer=function(sketch,isTemp,marker){void 0!==sketch.sketchID&&(sketch.id=sketch.sketchID),$scope.sketchViewerSketch=angular.copy(sketch),$scope.sketchViewerSketch.svg=$sce.trustAsHtml(sketch.svg),$scope.sketchViewerMarker=marker,$scope.sketchViewerSketchIsTemp=void 0!==sketch.tempID?!0:!1,$scope.isShowingSketchViewer=!0,$scope.isBottomBarShown=!1,$scope.setSketchImageIsProcessing(!1)},$scope.closeSketchViewer=function(){$scope.sketchViewerSketch={},$scope.sketchViewerMarker={},$scope.sketchViewerSketchIsTemp=!1,$scope.isShowingSketchViewer=!1,$scope.isBottomBarShown=!0,$scope.setSketchImageIsProcessing(!1)},$scope.setSketchImageIsProcessing=function(isProcessing){$scope.sketchImageIsProcessing=isProcessing},$scope.setIsHoveringViewport=function(val){$scope.isHoveringViewport=val},$scope.setIsHoveringHotspot=function(val){$scope.isHoveringHotspot=val},$scope.setIsShowingConversationMenu=function(val){$scope.isShowingConversationMenu=val},$scope.getIsShowingConversationMenu=function(){return $scope.isShowingConversationMenu},$scope.reloadConversations=function(conversations){loadRemoteData()},$scope.changeShowCompletedFilter=function(){clearExcludedConversationIDs(),navigateToComments(),applyFilters()},$scope.changeTypeFilter=function(option){clearExcludedConversationIDs(),navigateToComments(),$scope.filters.type=option,applyFilters()},$scope.markConversationAsRead=function(conversation){var conversationIndex=_.indexOfWithProperty($scope.conversations,"id",conversation.id);$scope.conversations[conversationIndex].isUnread=!1,conversationService.markRead(conversation.id);var conversations=_.filter($scope.conversations,function(conversation){return conversation.isUnread&&!conversation.isComplete||_.contains(visitedUnreadConversationIDs,conversation.id)});$scope.unreadConversations=conversations},$scope.updateUnreadConversationCapacity=function(capacity){$scope.unreadConversationCapacity=capacity,updateVisibleUnreadConversations()},$scope.setConversations=function(conversations){$scope.conversations=augmentConversations(conversations)},$scope.setCurrentCommentType=function(type){$scope.currentCommentType=type};var renderContext=requestContext.getRenderContext("comments","screenID","sketchID"),conversationIDsNotAffectedByFiltering=[],visitedUnreadConversationIDs=[];$scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),$scope.typeFilterOptions=[{label:"All Types",value:"all",count:0,isPrivate:!1},{label:"Comments",value:"comments",count:0,isPrivate:!1},{label:"Notes",value:"dev-notes",count:0,isPrivate:!0},{label:"Tour Points",value:"tour-points",count:0,isPrivate:!1}],$scope.filters={type:$scope.typeFilterOptions[0],showCompleted:{value:!1,count:0}},$scope.conversations=[],$scope.unreadConversations=[],$scope.visibleUnreadConversations=[],$scope.hiddenUnreadConversations=[],$scope.unreadConversationCapacity=10,$scope.isShowingSketchBuilder=!1,$scope.isShowingSketchViewer=!1,$scope.sketchViewerSketchIsTemp=!1,$scope.sketchViewerSketch={},$scope.sketchViewerMarker={},$scope.sketchImageIsProcessing=!1,$scope.tempSketches=[],$scope.isHoveringViewport=!1,$scope.isHoveringHotspot=!1,$scope.isShowingConversationMenu=!1,$scope.isUserAccountAuthenticated=sessionService.user.isAccountAuthenticated,$scope.showUnreadComments=!1,$scope.currentCommentType="comment";var clickToCommentCTA=$window.InvAnalytics&&$window.InvAnalytics.clickToCommentCTA||{};$scope.clickToCommentCTAActive=clickToCommentCTA.active,$scope.clickToCommentCTAVariant=clickToCommentCTA.variant||"dark";var screenHeight=$scope.screen.height*$scope.screen.displayScale,windowHeight=$window.innerHeight;$scope.clickToCommentCTAMargin=calculateClickToCommentCTAMargin(windowHeight,screenHeight,config.project.isMobile),$window.addEventListener("resize",function(){$scope.$apply(function(){windowHeight=$window.innerHeight,$scope.clickToCommentCTAMargin=calculateClickToCommentCTAMargin(windowHeight,screenHeight,config.project.isMobile)})}),$scope.dismissClickToCommentCTA=function(event){function getEvent(name){var e=$.Event(name);return Object.assign(e,{clientX:event.clientX,clientY:event.clientY,pageX:event.pageX,pageY:event.pageY}),e}$scope.clickToCommentCTAActive=!1,$window.InvAnalytics.clickToCommentCTA.active=!1;var el=document.elementFromPoint(event.pageX,event.pageY);requestAnimationFrame(function(){$(el).trigger(getEvent("mousedown")),$(el).trigger(getEvent("click")),$(el).trigger(getEvent("mouseup"))})},$scope.$on("loadingSequenceCompleted",function(event){$scope.screen&&document.URL.indexOf("/comments")>=0&&$scope.setWindowTitle($scope.screen.name+" - Comments")}),$scope.$on("requestContextChanged",function(){renderContext.isChangeRelevant()&&($scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),loadRemoteData())}),$scope.$on("configUpdated.share",function(localConfig){localConfig!=config&&loadRemoteData()}),loadRemoteData()}app.controller("comments.CommentsController",Controller)}(angular,InVision);;
//!file:comments/form-controller.js
!function(ng,app){"use strict";function Controller($scope,$sce,$timeout,$window,_,accountService,analyticsService,appSettings,commentService,companyService,config,conversationCropService,conversationService,dateHelper,Deferred,emojiService,hashKeyCopier,mentionUtilities,mentionStorage,modelEvents,moment,parseCommentService,projectService,projectViewingService,requestContext,screenService,sessionService,shareService,userService,validationService){function applyRemoteData(share,project,comments,members,affiliates){$scope.share=share,$scope.project=augmentProject(project),$scope.comments=augmentComments(comments),$scope.members=augmentUsers(_.rejectWithProperty(members,"id",$scope.user.id)),$scope.affiliates=augmentUsers(affiliates),$scope.hideCommentInput=!1,$scope.conversationTitle=$scope.conversationTitle,$scope.isTeamMember=!!_.findWithProperty(members,"id",$scope.user.id),$scope.showInternalOptions=sessionService.user.isAccountAuthenticated&&$scope.isTeamMember,$scope.sketchesDisabled=config.featureFlags["prototypes-rain-690-sunset-sketches"],$scope.gdprOptOutEnabled=shouldShowMarketingOptOut();{var membersWithoutUser=_.rejectWithProperty(members,"id",$scope.user.id),allUsers=membersWithoutUser.concat(affiliates);sessionService.user.id}if(comments.length){var preselectedUserIDs=$scope.conversation.subscribers;$scope.isShowingUserList=!1,$scope.isShowingTeaser=!0}else{var defaultUserIDs=_.pluck(membersWithoutUser,"id"),preselectedUserIDs=sessionService.get("selectedUserIDs")||defaultUserIDs;$scope.isShowingUserList=!_.similar(defaultUserIDs,preselectedUserIDs),$scope.isShowingTeaser=!1}_.each(allUsers,function(user){user.isSelected=_.contains(preselectedUserIDs,user.id)}),$scope.selectedUserCount=$scope.isInternalConversation||$scope.share.isUserTesting?_.countWithProperty(membersWithoutUser,"isSelected",!0):_.countWithProperty(allUsers,"isSelected",!0)}function augmentComment(comment,index,collection){var atConversationDisabled=config.featureFlags["prototypes-rain-690-sunset-conversation"],isFirstOrLastN=!1,isCollapsed=!1,isFirstCollapsed=!1,previousCollapsedComments=[],commentHTML=parseCommentService.getComment({comment:comment.comment,emojiParsed:comment.emojiparsedcomment,mentions:comment.mentions},sessionService.user.id,{atConversationDisabled:atConversationDisabled});return comment.isOwnedByUser=!1,comment.isOwnedByUser=sessionService.user.isAccountAuthenticated?sessionService.user.id===comment.userID:sessionService.user.id===comment.userID&&userService.isAffiliate(comment.userID),isFirstOrLastN=0===index||index>=collection.length-3,previousCollapsedComments=_.filterWithProperty(collection.slice(0,index),"isCollapsed",!0),isCollapsed=!(isFirstOrLastN||comment.isUnread),isFirstCollapsed=isCollapsed&&0===previousCollapsedComments.length,comment.isFirstCollapsed=isFirstCollapsed,comment.isCollapsed=isCollapsed,comment.dateLabel=getDateLabel(comment.createdAt),comment.niceDate=moment(comment.createdAt).fromNow(),comment.isEditing=!1,comment.html=commentHTML,comment.editedComment=comment.comment,comment.isDeleting=!1,comment.userHasSystemAvatar=userService.isSystemAvatar(comment.userAvatarID),comment.userInitials=userService.getInitials(comment.userName),comment.userOnlineStatus=userService.getOnlineStatus(comment.userLastRequestAt),comment.userFirstName=comment.userName.split(" ")[0],comment}function augmentComments(comments){return _.each(comments,augmentComment),comments}function augmentProject(project){return project.isOwnedByUser=sessionService.user.isAccountAuthenticated&&project.userID===sessionService.user.id,project}function augmentUser(user){return user.isSelected=!1,user.initials=userService.getInitials(user.name),user.onlineStatus=userService.getOnlineStatus(user.lastRequestAt),user.hasSystemAvatar=userService.isSystemAvatar(user.avatarID),user}function augmentUsers(users){return _.each(users,augmentUser),users}function getDateLabel(createdAt){return moment(createdAt).fromNow()}function loadRemoteData(){var share=shareService.getShare(),project=projectService.getProject(),comments=commentService.getCommentsByConversationID($scope.conversation.id),members=userService.getMembers(),affiliates=userService.getAffiliates();applyRemoteData(share,project,comments,members,affiliates)}function saveConversation(){Deferred.handlePromise(conversationService.saveConversation($scope.conversation),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't update your conversation. Try refreshing your browser.")})}function shouldShowMarketingOptOut(){return config.featureFlags["rain-1178-gdpr-marketing-opt-out"]?config.featureFlags["product-RAIN-1213-geofencing-opt-out"]?config.isRequestFromGdprCountry:!0:!1}function startConversation(){function getConversationPromise(dataUrl,isUnsupported){return conversationService.startConversation($scope.screenID,$scope.conversation.label,$scope.conversation.x,$scope.conversation.y,$scope.conversation.isForDevelopment,$scope.conversation.isPrivate,$scope.conversation.isTourPoint,dataUrl,isUnsupported)}var tempSketches=$scope.exportTempSketches();placeholderComment.create($scope.newComment,!0,tempSketches),$timeout(function(){Deferred.handlePromise(getConversationPromise("",!0),function(response){$scope.conversation.id=response.id,$scope.setTempSketches(tempSketches),saveComment(),placeholderComment.destroy()},function(response){$scope.openModalWindow("error","For some reason, we couldn't save your comment. Try refreshing your browser.")})},1e3)}function updatePrivacySettings(isForDevelopment,isPrivate,isTourPoint){$scope.conversation.isForDevelopment=isForDevelopment,$scope.conversation.isPrivate=isPrivate,$scope.conversation.isTourPoint=isTourPoint,$scope.isInternalConversation=isForDevelopment||isPrivate,$scope.selectedUserCount=$scope.isInternalConversation||$scope.share.isUserTesting?_.countWithProperty($scope.members,"isSelected",!0):_.countWithProperty($scope.members,"isSelected",!0)+_.countWithProperty($scope.affiliates,"isSelected",!0),setMarkerLabel(!0),$scope.conversation.id&&saveConversation()}function saveComment(){function processCommentSave(dataUrl,isUnsupported){Deferred.handlePromise(commentService.addComment($scope.conversation.id,newComment,mentions,notify,sketches,"",isUnsupported),function(response){submissionInProgress=!1,$scope.clearCommentSketches(),projectViewingService.incrementCommentCount($scope.share.id),_.contains($scope.conversation.subscribers,$scope.user.id)||conversationService.addSubscribers($scope.conversation.id,[$scope.user.id]),notify.others.length&&Deferred.handlePromise(projectService.reloadStakeholders($scope.project.id),function(){var affiliates=userService.getAffiliates(),allUserIDs=_.pluck(affiliates,"id"),knownUserIDs=_.pluck($scope.affiliates,"id"),newUserIDs=_.difference(allUserIDs,knownUserIDs);newUserIDs.length&&conversationService.addSubscribers($scope.conversation.id,newUserIDs),newUserIDs.length&&!$scope.comments.length&&sessionService.set("selectedUserIDs",sessionService.get("selectedUserIDs").concat(newUserIDs))}),setMarkerLabel()},function(error){submissionInProgress=!1,$scope.openModalWindow("error","For some reason, we couldn't save your comment. Try refreshing your browser.")})}var sketches=$scope.exportTempSketches();if(analyticsService.trackGrowth("App - Public Share - Add Comment",{Location:"Public Share","Is Reply":!!$scope.comments.length,"Logged In":!!sessionService.user.isAccountAuthenticated}),$scope.hideCommentInput=!0,!$scope.conversation.id)return startConversation();$scope.isInternalConversation&&(_.setProperty($scope.affiliates,"isSelected",!1),$scope.emailAddresses=""),$scope.share.isUserTesting&&!$scope.comments.length&&(_.setProperty($scope.affiliates,"isSelected",!1),$scope.emailAddresses="");var newComment=$scope.newComment,mentions=mentionStorage.get();placeholderComment.create(newComment,!1,sketches);var selectedMembers=_.withProperty($scope.members,"isSelected",!0),selectedAffiliates=_.withProperty($scope.affiliates,"isSelected",!0),notify={members:_.pluck(selectedMembers,"id"),stakeholders:_.pluck(selectedAffiliates,"id"),others:[],unsubscribe:[]},membersToUnsubscribe=_.withProperty($scope.members,"isSelected",!1),stakeholdersToUnsubscribe=_.withProperty($scope.affiliates,"isSelected",!1);if(notify.unsubscribe=_.pluck(membersToUnsubscribe,"id"),notify.unsubscribe=notify.unsubscribe.concat(_.pluck(stakeholdersToUnsubscribe,"id")),_.trim($scope.emailAddresses)&&(notify.others=$scope.emailAddresses.split(/[,;:\s]+/gi)),$timeout(function(){var cropPromise=conversationCropService.createConversationImage($scope.conversation,$scope.screen.imageUrl,150,110,6);cropPromise.then(function(dataUrl){$("html").hasClass("lt-ie9")&&(dataUrl=""),processCommentSave("",$("html").hasClass("lt-ie9"))},function(reason){processCommentSave("",!0)})},1e3),screenService.alterCommentCount($scope.conversation.screenID,1),!$scope.comments.length){var selectedUserIDs=_.pluck(selectedMembers,"id").concat(_.pluck(selectedAffiliates,"id"));_.findWithProperty($scope.members,"id",$scope.user.id)||_.findWithProperty($scope.affiliates,"id",$scope.user.id)||selectedUserIDs.push($scope.user.id),sessionService.set("selectedUserIDs",selectedUserIDs)}analyticsService.track("Comment.Added",{username:$scope.user.email,isReply:!0,isAuthenticated:$scope.user.isAccountAuthenticated,commentType:$scope.currentCommentType,commentLocation:"share",userNotified:mentions.length>0,passwordGiven:$scope.passwordGiven})}function setMarkerLabel(skipSave){if(skipSave=!!skipSave,$scope.conversation&&(isNaN(parseInt($scope.conversation.label,10))||$scope.conversation.isTourPoint)){var getNewLabel=!1,clearLabel=!1;if($scope.conversation.isTourPoint){var comments=$scope.comments?_.filter($scope.comments,{conversationID:$scope.conversation.id}):[];comments&&comments.length>1&&isNaN(parseInt($scope.conversation.label,10))?getNewLabel=!0:(!comments||comments&&comments.length<=1&&!isNaN(parseInt($scope.conversation.label,10)))&&(clearLabel=!0)}else isNaN(parseInt($scope.conversation.label,10))&&(getNewLabel=!0);if(getNewLabel){var labels=_.pluck($scope.conversations,"label"),maxLabel=_.max(labels,function(label){return""===label?0:parseInt(label,10)});$scope.conversation.label=(parseInt(maxLabel,10)||0)+1,0===$scope.conversation.label&&($scope.conversation.label=""),$scope.conversation.id&&$scope.conversation.id>0&&(skipSave||conversationService.saveConversation($scope.conversation))}else clearLabel&&($scope.conversation.label="",$scope.conversation.id&&$scope.conversation.id>0&&(skipSave||conversationService.saveConversation($scope.conversation)))}}function isFormValid(){return $scope.identity.name?$scope.identity.email?mentionUtilities.isEmailAddress($scope.identity.email)?$scope.signupRequiredForComment&&!isPasswordValid($scope.identity.password)?($scope.errorMessage="Please enter a valid password.",!1):!0:($scope.errorMessage="Please enter a valid email address.",!1):($scope.errorMessage="Please enter your email.",!1):($scope.errorMessage="Please enter your name.",!1)}function isPasswordValid(password){return password&&password.length&&password.length>=5}function isEmailPasswordRequirementSatisfied(){return $scope.isLoggingIn&&!$scope.identity.email?($scope.errorMessage="Please enter your email.",!1):$scope.identity.password?!0:($scope.errorMessage="Please enter your password.",!1)}function existingUser(isUserValidationRequired){if(!$scope.isCommentingLoginEnabled)return void identifyUser();var userEmail=$scope.identity.email||sessionService.user.email;isUserValidationRequired?($scope.isAuthenticating=!0,$scope.currentEmail=userEmail):identifyUser(),analyticsService.track("Comment.Adding",{passwordRequired:isUserValidationRequired})}function identifyUser(){shareService.identify($scope.identity.name,$scope.identity.email).then(function(response){$scope.isIdentifying=!1,$scope.canLike=!0,$scope.hasInitialMentions=!0;var isEnterprise=config&&config.companySettings&&config.companySettings.isEnterprise;!isEnterprise&&$scope.isCommentingLoginEnabled&&$scope.lazyPasswordToSignUpFlow&&$scope.setNeedsSignup(!0),$scope.addComment()})["catch"](function(response){$scope.errorMessage=validationService.isInvalidField(response)?INVALID_FIELD_ERROR:validationService.isForbidden(response)?FORBIDDEN_ERROR:UNEXPECTED_ERROR})}function authenticateUser(workflow){shareService.validateUser($scope.currentEmail,$scope.identity.password,$scope.project.id,$scope.user.id,workflow).then(function(response){$scope.isIdentifying=!1,$scope.isAuthenticating=!1,$scope.passwordGiven=!0,$scope.errorMessage="",$scope.isSigningUp=!1,$scope.isSigningIn=!1,sessionService.authenticate().then(function(){analyticsService.setSubscriptionInfo(sessionService.subscription),$scope.lazyPasswordToSignUpFlow&&($scope.setNeedsSignup(!1),$scope.showThanksForLazyPasswordFlow()),$scope.addComment(),$scope.$emit("shareAuthenticationChanged")})})["catch"](function(response){$scope.isSigningIn=!1,$scope.errorMessage=validationService.isInvalidField(response)?INVALID_PASSWORD_ERROR:validationService.isForbidden(response)?FORBIDDEN_ERROR:validationService.isTooManyAttempts(response)?BRUTEFORCE_ERROR:UNEXPECTED_ERROR})}function handleProjectStakeholderRemoved(event,projectID,userID){$scope.affiliates=_.rejectWithProperty($scope.affiliates,"id",userID)}function handleConversationSubscriberUpdate(event,conversationID,notify){if(conversationID==$scope.conversation.id){var deSelectedMembers,selectedAffiliates,subscribers=_.uniq([].concat(notify.members).concat(notify.stakeholders));$scope.conversation.subscribers=subscribers,_.setProperty($scope.members,"isSelected",!0),deSelectedMembers=_.withoutPropertyRange($scope.members,"id",subscribers),_.setProperty(deSelectedMembers,"isSelected",!1),notify.resubscribe?projectService.reloadStakeholders($scope.project.id).then(function(response){$scope.affiliates=augmentUsers(response),_.setProperty($scope.affiliates,"isSelected",!1),selectedAffiliates=_.withPropertyRange($scope.affiliates,"id",subscribers),_.setProperty(selectedAffiliates,"isSelected",!0)}):(_.setProperty($scope.affiliates,"isSelected",!1),selectedAffiliates=_.withPropertyRange($scope.affiliates,"id",subscribers),$scope.affiliates=selectedAffiliates,_.setProperty(selectedAffiliates,"isSelected",!0))}}function addEmoji(event,commentVal,emoji,target){var emojiItem=":"+emoji+":";"undefined"==typeof target?($scope.newComment=commentVal+emojiItem,$scope.showCommentInput()):target.comment=commentVal+emojiItem}function typeaheadEmoji(event,emoji,caretPos,target){var comment="";"undefined"==typeof target?(comment=emojiService.splitEmoji($scope.newComment,caretPos),$scope.newComment=comment.before+comment.colon+emoji+": "+comment.after):(comment=emojiService.splitEmoji(target.comment,caretPos),target.comment=comment.before+comment.colon+emoji+": "+comment.after)}$scope.isSigningUp=!1;var placeholderComment={current:!1,create:function(newComment,isNewConversation,sketches){if(this.current)return this.current;var atConversationDisabled=config.featureFlags["prototypes-rain-690-sunset-conversation"];isNewConversation&&$scope.clearCommentSketches(),isNewConversation=isNewConversation||!1,$scope.isShowingUserList=!1,$scope.newComment=isNewConversation?newComment:"",$scope.setMarkersAsClean(),$scope.$broadcast("invSuccessButton:success");var createdAt=(new Date).getTime(),interstitial={userName:$scope.user.name||"Me",userFirstName:$scope.user.name.split(" ")[0],userAvatarID:$scope.user.avatarID||0,userHasSystemAvatar:$scope.user.isAnonymous||$scope.user.hasSystemAvatar,userInitials:$scope.user.initials||"ME",dateLabel:"Just Now",comment:newComment,html:parseCommentService.getComment({comment:newComment,mentions:mentionStorage.get()},sessionService.user.id,{atConversationDisabled:atConversationDisabled}),sketches:sketches?sketches:[],isEditing:!1,numberOfLikes:0,likedBy:[],conversationID:$scope.conversation.id,isPlaceholder:!0,createdAt:createdAt};if($scope.comments.push(interstitial),!isNewConversation){config.comments.push(interstitial);for(var cs=0;cs<sketches.length;cs++)config.commentSketches.push(sketches[cs])}return this.current=interstitial,this},destroy:function(){return this.current=!1,this}};$scope.showNewCommentForm=function(){$scope.stopEditingComments(),$scope.isShowingTeaser=!1},$scope.closeIdentifyForm=function(){$scope.isIdentifying=!1,$scope.isAuthenticating=!1},$scope.openLoginForm=function(){$scope.isLoggingIn=!0,$scope.isIdentifying=!1,$scope.isAuthenticating=!1,$scope.errorMessage="",analyticsService.trackGrowth("App - Public Share - View Comment Login Form")},$scope.closeLoginForm=function(){$scope.isIdentifying=!0,$scope.isLoggingIn=!1,$scope.isAuthenticating=!1,$scope.errorMessage="",analyticsService.trackGrowth("App - Public Share - View Comment Signup Form")},$scope.submitLoginForm=function(){$scope.errorMessage="",isEmailPasswordRequirementSatisfied()&&($scope.currentEmail=$scope.identity.email,$scope.isSigningIn=!0,authenticateUser("login"))},$scope.submitLazyPasswordToSignup=function(){return $scope.identity.email=sessionService.user.email,$scope.identity.name=sessionService.user.name,$scope.errorMessage="",isPasswordValid($scope.identity.password)?void $scope.submitFormSignup():($scope.errorMessage="Make sure you have a minimum of 5 characters.",!1)},$scope.closeLazyPasswordToSignup=function(){$scope.thanksForLazyPassword=!1,$scope.lazyPasswordToSignUpFlow=!1,$scope.closeJustThisConversationPanel($scope.conversation.id),$scope.deselectAllConversations()},$scope.showThanksForLazyPasswordFlow=function(){$scope.thanksForLazyPassword=!0,$scope.setNeedsSignup(!1),$timeout(function(){$scope.closeLazyPasswordToSignup()},5e3)},$scope.$on("shareAuthenticationChanged",function(){setTimeout(function(){angular.element(".submitComment").triggerHandler("click")},200)}),$scope.addComment=function(){if(!submissionInProgress&&(_.trim($scope.newComment)||$scope.tempSketches&&$scope.tempSketches.length)){if(!sessionService.user.isAccountAuthenticated){if(sessionService.user.isAnonymous)return $scope.signupRequiredForComment&&(analyticsService.track("Comment.SignupFormView"),analyticsService.trackGrowth("App - Signup - View Signup Form",{Flow:isEnterprise?"Signup to Comment - Enterprise":"Signup to Comment"}),analyticsService.trackGrowth("App - Public Share - View Comment Signup Form")),void $scope.openModalWindow("auth",{showSignup:!0,showWelcomeUser:!1,isFullScreenMode:!1});if($scope.user.isUserValidationRequired)return void existingUser(!0)}if(submissionInProgress=!0,$scope.hasUnauthorizedEmail=!1,$scope.emailAddresses&&config.companyInfo&&config.companyInfo.permissions&&config.companyInfo.permissions.requireShareAuth){var emails=$scope.emailAddresses.split(",");Deferred.handlePromise(companyService.assertEmailsAreCompanyMembers(emails),function(response){return response.emailsAreMembers?void saveComment():(submissionInProgress=!1,void($scope.hasUnauthorizedEmail=!0))},function(response){submissionInProgress=!1,$scope.openModalWindow("error","For some reason, we couldn't save your comment. Try refreshing your browser.")})}else saveComment()}},$scope.stopEditingComments=function(){_.setProperty($scope.comments,"isEditing",!1)},$scope.deleteComment=function(comment){Deferred.handlePromise(commentService.deleteComment(comment.id),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't delete your comment. Try refreshing your browser.")}),$scope.comments=_.without($scope.comments,comment),setMarkerLabel(),screenService.alterCommentCount($scope.conversation.screenID,-1)},$scope.deleteSketch=function(sketchID){conversationService.deleteSketch(sketchID);for(var c=0;c<$scope.comments.length;c++)$scope.comments[c].sketches=_.rejectWithProperty($scope.comments[c].sketches,"id",sketchID)},$scope.editComment=function(comment){$scope.stopEditingComments(),$scope.isShowingTeaser=!0,comment.isEditing=!0,comment.editedComment=comment.comment,mentionStorage.set(comment.mentions)},$scope.expandComments=function(){var comments=$scope.comments;_.setProperty(comments,"isCollapsed",!1)},$scope.getUsersToBeNotified=function(){var userNames=[],pushUserOnStackIfNotified=function(user){user.isSelected&&userNames.push(userService.getFirstName(user.name))};if($scope.conversation.isPrivate||$scope.conversation.isForDevelopment?_.each($scope.members,function(member){member.canViewPrivateComments&&pushUserOnStackIfNotified(member)}):_.each($scope.members,pushUserOnStackIfNotified),_.each($scope.affiliates,pushUserOnStackIfNotified),_.trim($scope.emailAddresses)){var others=$scope.emailAddresses.split(/[,;:\s]+/gi);userNames=userNames.concat(others)}return userNames[0]},$scope.hideDeleteConfirmation=function(comment){(comment||$scope).isDeleting=!1},$scope.handleKeyDown=function(e){$scope.isIdentifying?(e.preventDefault(),$scope.submitForm({comment:$scope.newComment,sketches:$scope.tempSketches})):$scope.isSignup?(e.preventDefault(),$scope.submitLazyPasswordToSignup()):$scope.isLoggingIn?(e.preventDefault(),$scope.submitLoginForm()):$scope.isAuthenticating&&(e.preventDefault(),$scope.submitFormPassword())},$scope.handleKeyDownAuth=function(e){$scope.showLogin?(e.preventDefault(),$scope.submitLoginForm()):$scope.showSignup&&(e.preventDefault(),$scope.submitFormSignup())},$scope.isStakeholdersShowing=function(){return!!$scope.affiliates.length&&!$scope.share.isUserTesting},$scope.removeStakeholder=function(user){projectService.removeStakeholderFromProject(user.id)},$scope.saveComment=function(comment){var atConversationDisabled=config.featureFlags["prototypes-rain-690-sunset-conversation"],newComment=_.trim(comment.comment);return newComment?(Deferred.handlePromise(commentService.updateComment(comment.id,comment.conversationID,newComment),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't save your comment. Try refreshing your browser.")}),comment.comment=newComment,comment.mentions=mentionStorage.get(),comment.html=parseCommentService.getComment({comment:newComment,mentions:comment.mentions},sessionService.user.id,{atConversationDisabled:atConversationDisabled}),comment.isEditing=!1,$scope.isShowingTeaser=!0,setMarkerLabel(),void $scope.$broadcast("commentChanged")):comment.isEditing=!1},$scope.showDeleteConfirmation=function(comment,isFirstComment){isFirstComment?$scope.isDeleting=!0:comment.isDeleting=!0},$scope.submitForm=function(comment){if($scope.errorMessage="",$scope.newComment=comment.comment,$scope.tempSketches=comment.sketches,$scope.isIdentifying&&analyticsService.track("Comment.Adding",{identityRequired:settings.features.shareCommentingLogin}),$scope.isIdentifying&&isFormValid()){var isUserValidationRequired=!1;if(!settings.features.shareCommentingLogin)return void existingUser(isUserValidationRequired);shareService.getExistingUser($scope.identity.email).then(function(response){isUserValidationRequired=response&&response.name,isUserValidationRequired&&($scope.user.tempAvatar=response.avatarID,$scope.user.tempInitials=userService.getInitials(response.name),$scope.user.hasSystemAvatar=userService.isSystemAvatar(response.avatarID)),existingUser(isUserValidationRequired)})}$scope.addComment()},$scope.submitFormPassword=function(){$scope.errorMessage="",$scope.isAuthenticating&&isEmailPasswordRequirementSatisfied()&&authenticateUser("login2")},$scope.submitFormSignup=function(comment){comment=comment||{comment:"",sketches:[]},$scope.errorMessage="",$scope.newComment=comment.comment,$scope.tempSketches=comment.sketches,isFormValid()&&($scope.isSigningUp=!0,shareService.getExistingUser($scope.identity.email).then(function(response){var isExistingUser=response&&response.name;if(isExistingUser)$scope.user.tempAvatar=response.avatarID,$scope.user.tempInitials=userService.getInitials(response.name),$scope.user.hasSystemAvatar=userService.isSystemAvatar(response.avatarID),$scope.isAuthenticating=!0,$scope.currentEmail=$scope.identity.email,$scope.isSigningUp=!1,$scope.addComment(),$scope.$emit("shareAuthenticationSignupError:existingUser");else{var newAccountCriteria={name:$scope.identity.name,email:$scope.identity.email,password:$scope.identity.password,marketingOptOut:!(!$scope.gdprOptOutEnabled||!$scope.identity.optout)};accountService.createAccount(newAccountCriteria).then(function(){$scope.currentEmail=$scope.identity.email,analyticsService.trackGrowth("App - Signup - Successful Signup",{"Signup Type":"Email Address",Flow:isEnterprise?"Signup to Comment - Enterprise":"Signup to Comment",Plan:"Free"}),document.cookie="PUSHGAQSIGNUPEVENT=; path=/; domain="+window.location.hostname.match(/\.\w+\.\w+$/g)[0]+"; expires="+new Date(0).toUTCString(),authenticateUser("signup")})["catch"](function(){$scope.errorMessage=UNEXPECTED_ERROR,$scope.isSigningUp=!1})}}))},$scope.$on("shareAuthenticationSetErrorMessage",function(event,message){$scope.errorMessage=message}),$scope.setTypeAsComment=function(){updatePrivacySettings(!1,!1,!1),$scope.setCurrentCommentType("comment"),$scope.isNewTourPoint=!1},$scope.setTypeAsPrivateComment=function(){updatePrivacySettings(!1,!0,!1),$scope.setCurrentCommentType("private-comment"),$scope.isNewTourPoint=!1},$scope.setTypeAsDevNote=function(){updatePrivacySettings(!0,!0,!1),$scope.setCurrentCommentType("dev-note"),$scope.isNewTourPoint=!1},$scope.setTypeAsTourPoint=function(){updatePrivacySettings(!1,!1,!0),$scope.setCurrentCommentType("tour-point"),$scope.isNewTourPoint=!$scope.conversation.id||0===$scope.conversation.id},$scope.closeCommentFormOnSave=function(conversationID){$scope.conversation.isTourPoint&&$scope.conversation.id&&($scope.isNewTourPoint=!1),$scope.closeJustThisConversationPanel(conversationID)},$scope.toggleIsForDevelopment=function(){updatePrivacySettings(!$scope.conversation.isForDevelopment,$scope.conversation.isPrivate,!1)},$scope.toggleIsPrivate=function(){updatePrivacySettings($scope.conversation.isForDevelopment,!$scope.conversation.isPrivate,!1)},$scope.toggleLike=function(comment){if(comment.hasUserLiked=!comment.hasUserLiked,comment.hasUserLiked){comment.numberOfLikes++;var hasNotLiked=_.isUndefined(_.findWithProperty(comment.likedBy,"email",sessionService.user.email));hasNotLiked&&comment.likedBy.unshift({name:sessionService.user.name,email:sessionService.user.email})}else comment.numberOfLikes--,comment.likedBy=_.rejectWithProperty(comment.likedBy,"email",sessionService.user.email);comment.likedByList=commentService.formatCommentLikers(comment),conversationService.toggleCommentLike(comment.id,comment.conversationID)},$scope.toggleUserList=function(){$scope.isShowingUserList=!$scope.isShowingUserList},$scope.toggleUserSelection=function(user){user.isSelected?$scope.selectedUserCount++:$scope.selectedUserCount--},$scope.updateConversationStatus=function(conversation){var methodName=conversation.isComplete?"markComplete":"markIncomplete";Deferred.handlePromise(conversationService[methodName](conversation.id),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't update the conversation. Try refreshing your browser.")}),conversation.isComplete&&$timeout(function(){$scope.closeConversation()},250)},$scope.notifyOptionSelected="All",$scope.checkAll=function(){_.setProperty($scope.members,"isSelected",!0),_.setProperty($scope.affiliates,"isSelected",!0),$scope.hasAllChecked=!0},$scope.uncheckAll=function(){_.setProperty($scope.members,"isSelected",!1),_.setProperty($scope.affiliates,"isSelected",!1),$scope.notifyOthers="",$scope.hasAllChecked=!1},$scope.checkAllCollaborators=function(){$scope.uncheckAll(),_.setProperty($scope.members,"isSelected",!0)},$scope.selectAll=function(){$scope.checkAll(),$scope.notifyOptionSelected="All"},$scope.selectCollaborators=function(){$scope.checkAllCollaborators(),$scope.notifyOptionSelected="Collaborators"},$scope.toggleNotifyOption=function(){if($scope.getNotifyCount()>0)return void $scope.uncheckAll();switch($scope.notifyOptionSelected){case"All":$scope.selectAll();break;case"Collaborators":$scope.selectCollaborators()}},$scope.getNotifyCount=function(){var count=0;return _.each($scope.members,function(user){user.isSelected&&count++}),$scope.conversation.isForDevelopment||$scope.conversation.isPrivate||_.each($scope.affiliates,function(user){user.isSelected&&count++}),$scope.affiliates.length+$scope.members.length!==count&&$scope.hasAllChecked&&($scope.hasAllChecked=!1),$scope.affiliates.length+$scope.members.length===count&&($scope.hasAllChecked=!0),count},$scope.share=null,$scope.project=null,$scope.conversation=$scope.selectedConversation||$scope.newConversation||{},$scope.isNewTourPoint=$scope.conversation.isTourPoint&&(!$scope.conversation.id||0===$scope.conversation.id),$scope.showInternalOptions=!1,$scope.comments=[],$scope.isDeleting=!1,$scope.isIdentifying=!1,$scope.isAuthenticating=!1,$scope.isLoggingIn=!1,$scope.passwordGiven=!1,$scope.isSignup=$scope.isSignup,$scope.identity={name:"",email:"",password:""};var settings=appSettings.getSettings();$scope.isCommentingLoginEnabled=settings.features.shareCommentingLogin,$scope.members=[],$scope.affiliates=[],$scope.isShowingUserList=!1,$scope.isInternalConversation=$scope.conversation.isForDevelopment||$scope.conversation.isPrivate,$scope.selectedUserCount=0,$scope.isShowingTeaser=!0,$scope.emailAddresses="",$scope.newComment="",$scope.canLike=!sessionService.user.isAnonymous,$scope.hasInitialMentions=!sessionService.user.isAnonymous,$scope.canEdit=sessionService.user.isAccountAuthenticated,$scope.hasAllChecked=!1,$scope.isTeamMember=!1,$scope.hasUnauthorizedEmail=!1,$scope.errorMessage=null,$scope.conversationTitle="Start a conversation",$scope.currentEmail="";var isEnterprise=config&&config.companySettings&&config.companySettings.isEnterprise,disableSingleTenantSignupToComment=config.singleTenantConfig&&config.singleTenantConfig.disableSingleTenantSignupToComment,requireSignupToCommentEnterprise=isEnterprise&&!disableSingleTenantSignupToComment,lazyPasswordFlowFlag=$window.InvAnalytics&&$window.InvAnalytics.commentSignupCTA||{},lazyPasswordFlowFlagActive=lazyPasswordFlowFlag.active&&"cta"===lazyPasswordFlowFlag.variant,requireSignupToCommentNonEnterprise=!isEnterprise&&!lazyPasswordFlowFlagActive;$scope.signupRequiredForComment=$scope.isCommentingLoginEnabled&&(requireSignupToCommentNonEnterprise||requireSignupToCommentEnterprise),$scope.lazyPasswordToSignUpFlow=!$scope.signupRequiredForComment&&lazyPasswordFlowFlagActive;var INVALID_FIELD_ERROR="Please enter a valid name and email address.",INVALID_PASSWORD_ERROR=$sce.trustAsHtml("Sorry, password isn't right. We can help you <a class='underline' href='/d/password/requestReset' target='_blank'>recover your password.</a>"),UNEXPECTED_ERROR="Unexpected error.",BRUTEFORCE_ERROR="Sorry, you have attempted to login too many times.",FORBIDDEN_ERROR="Something is funky - it looks like you already identified yourself. Try refreshing your browser - that should fix it.";$scope.$on("$destroy",function(event){$scope.conversation.id&&_.findWithProperty($scope.comments,"isUnread",!0)&&(conversationService.markRead($scope.conversation.id),screenService.alterUnreadCommentCount($scope.conversation.screenID,-_.countWithProperty($scope.comments,"isUnread",!0))),modelEvents.off("projectStakeholderRemoved.commentsFormController"),modelEvents.off("conversationSubscribersUpdated.commentsFormController")}),$scope.$on("configUpdated.share",function(event,response){$scope.members=augmentUsers(_.rejectWithProperty(response.members,"id",$scope.user.id)),$scope.affiliates=augmentUsers(response.affiliates);var membersWithoutUser=_.rejectWithProperty($scope.members,"id",$scope.user.id),allUsers=membersWithoutUser.concat($scope.affiliates);if($scope.comments.length)var preselectedUserIDs=$scope.conversation.subscribers;else var defaultUserIDs=_.pluck(membersWithoutUser,"id"),preselectedUserIDs=sessionService.get("selectedUserIDs")||defaultUserIDs;_.each(allUsers,function(user){user.isSelected=_.contains(preselectedUserIDs,user.id)})});var submissionInProgress=!1,unwatchNewComment=$scope.$watch("newComment",function(newValue,oldValue){
newValue!==oldValue&&($scope.setMarkersAsDirty(),unwatchNewComment())});$scope.$on("$selectEmoji",addEmoji),$scope.$on("$typeaheadEmoji",typeaheadEmoji),$scope.$on("reloadComments",function(){var comments=commentService.getCommentsByConversationID($scope.conversation.id);$scope.comments=hashKeyCopier.copyHashKeys(augmentComments(comments),$scope.comments)}),modelEvents.on("shareIdentityChanged.commentsFormController",function(event,user){_.extendExistingProperties($scope.user,user),$scope.user.hasSystemAvatar=userService.isSystemAvatar($scope.user.avatarID),$scope.user.initials=userService.getInitials($scope.user.name);var subdomain=window.location.hostname.split(".")[0],analyticsUserID=config.singleTenantConfig&&config.singleTenantConfig.useSingleTenantAnalytics?subdomain+"-"+$scope.user.id:$scope.user.id;analyticsService.identifyGrowth(analyticsUserID,{"Full Name":$scope.user.name,Email:$scope.user.email,"Last Activity":moment($scope.user.lastRequestAt).format("YYYY-MM-DD HH:mm:ss")}),analyticsService.trackGrowth("App - Login",{"Login Type":"Email","Login Location":"Share"}),document.cookie="LOGINEVENTSOURCE=; path=/; domain="+window.location.hostname.match(/\.\w+\.\w+$/g)[0]+"; expires="+new Date(0).toUTCString()}),modelEvents.on("projectStakeholderRemoved.commentsFormController",handleProjectStakeholderRemoved),modelEvents.on("conversationSubscribersUpdated.commentsFormController",handleConversationSubscriberUpdate),loadRemoteData()}app.controller("comments.FormController",Controller)}(angular,InVision);;
//!file:comments/markers-controller.js
!function(ng,app){"use strict";function Controller($location,$scope,$timeout,_,analyticsService,commentService,config,conversationCropService,conversationService,Deferred,modelEvents,requestContext,screenService,sessionService,userService){function applyData(){$scope.viewport.width=$scope.screen.width*$scope.screen.displayScale,$scope.viewport.height=$scope.screen.height*$scope.screen.displayScale,$scope.viewport.alignment=$scope.screen.alignment,loadConversation()}function loadConversations(screenID){$scope.reloadConversations(),applyData()}function getNewConversationLabel(){for(var maxLabel=0,i=0,length=$scope.conversations.length;length>i;i++)isNaN(parseInt($scope.conversations[i].label,10))||(maxLabel=Math.max(maxLabel,parseInt($scope.conversations[i].label,10)));return maxLabel+1}function loadConversation(conversationID){var manualConversationID=!!conversationID;conversationID=conversationID||requestContext.getParamAsInt("conversationID",0),conversationID&&(analyticsService.trackGrowth("App - Public Share - Open Comment Modal",{Location:"Public Share","Is Reply":!0,"Logged In":!!sessionService.user.isAccountAuthenticated}),$scope.clearCommentSketches(),$scope.setIsShowingConversationMenu(!1),$scope.selectedConversation=null,$scope.newConversation=null,$timeout(function(){$scope.needsSignup&&($scope.setNeedsSignup(!1),$scope.isSignup=!0,analyticsService.track("Comment.SignupFormView"),analyticsService.trackGrowth("App - Signup - View Signup Form",{Flow:"Signup to Comment"})),$scope.selectedConversation=_.findWithProperty($scope.conversations,"id",conversationID),$scope.setIsShowingConversationMenu(!0),$scope.selectedConversation||manualConversationID||$location.url("/screens/"+$scope.screenID+"/comments")}))}function isUserACollaborator(){var user=sessionService.user,members=userService.getMembers(),isTeamMember=!!_.findWithProperty(members,"id",user.id);return user.isAccountAuthenticated&&isTeamMember}$scope.areMarkersDirty=function(){return hasActiveMarkerWithDirtyData},$scope.closeConversation=function(isScreenChange){if($scope.newConversation&&$scope.needsSignup){var conversationID=$scope.newConversation.id;$timeout(function(){loadConversation(conversationID)})}$scope.selectedConversation&&!isScreenChange&&$scope.markConversationAsRead($scope.selectedConversation),$scope.newConversation=null,$scope.selectedConversation=null,$scope.clearCommentSketches(),$scope.isCommentInputVisible=!1,hasActiveMarkerWithDirtyData=!1,isScreenChange||$location.url("/screens/"+$scope.screenID+"/comments"),$scope.setIsShowingConversationMenu(!1)},$scope.closeJustThisConversationPanel=function(currentConversationID){return $scope.selectedConversation?void(currentConversationID===$scope.selectedConversation.id&&$scope.closeConversation()):void $scope.closeConversation()},$scope.deleteConversation=function(conversation){var comments=commentService.getCommentsByConversationID(conversation.id);Deferred.handlePromise(conversationService.deleteConversation(conversation.id),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't delete the conversation. Try refreshing your browser.")}),$scope.setConversations(_.without($scope.conversations,conversation)),$scope.selectedConversation=null,screenService.alterCommentCount(conversation.screenID,-comments.length)},$scope.setMarkersAsDirty=function(){hasActiveMarkerWithDirtyData=!0},$scope.setMarkersAsClean=function(){hasActiveMarkerWithDirtyData=!1},$scope.setNeedsSignup=function(needsSignup){$scope.needsSignup=needsSignup},$scope.deselectAllConversations=function(){$scope.isSignup=!1,$scope.setNeedsSignup(!1),$scope.closeConversation()},$scope.showNextConversation=function(){var currentIndex=_.indexOf($scope.conversations,$scope.selectedConversation),nextIndex=currentIndex+1,nextConversation=$scope.conversations[nextIndex]||_.first($scope.conversations);$location.url("/screens/"+$scope.screenID+"/comments/"+nextConversation.id)},$scope.showPreviousConversation=function(){var currentIndex=_.indexOf($scope.conversations,$scope.selectedConversation),previousIndex=currentIndex-1,previousConversation=$scope.conversations[previousIndex]||_.last($scope.conversations);$location.url("/screens/"+$scope.screenID+"/comments/"+previousConversation.id)},$scope.startNewConversation=function(x,y){analyticsService.trackGrowth("App - Public Share - Open Comment Modal",{Location:"Public Share","Is Reply":!1,"Logged In":!!sessionService.user.isAccountAuthenticated}),$scope.newConversation={id:0,x:x/$scope.screen.displayScale,y:y/$scope.screen.displayScale,label:"tour-point"===$scope.currentCommentType?"":getNewConversationLabel(),screenID:$scope.screenID,isForDevelopment:"dev-note"===$scope.currentCommentType?!0:!1,isPrivate:"dev-note"===$scope.currentCommentType||"private-comment"===$scope.currentCommentType?!0:!1,isTourPoint:"tour-point"===$scope.currentCommentType?!0:!1,isComplete:!1,subscribers:[]},$scope.isCommentInputVisible=!0,$scope.setIsShowingConversationMenu(!0),$scope.setNeedsSignup(!1),$scope.isSignup=!1},$scope.updateConversationPosition=function(conversation,x,y){conversation.x=x/$scope.screen.displayScale,conversation.y=y/$scope.screen.displayScale,$timeout(function(){var cropPromise=conversationCropService.createConversationImage(conversation,$scope.screen.imageUrl,150,110,6);cropPromise.then(function(dataUrl){$("html").hasClass("lt-ie9")&&(dataUrl=""),Deferred.handlePromise(conversationService.changePosition(conversation.id,x/$scope.screen.displayScale,y/$scope.screen.displayScale,""),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't update the position of the conversation. Try refreshing your browser.")})},function(reason){Deferred.handlePromise(conversationService.changePosition(conversation.id,x/$scope.screen.displayScale,y/$scope.screen.displayScale,""),null,function(response){$scope.openModalWindow("error","For some reason, we couldn't update the position of the conversation. Try refreshing your browser.")})})},1e3)},$scope.updateNewConversationPosition=function(x,y){$scope.newConversation.x=x/$scope.screen.displayScale,$scope.newConversation.y=y/$scope.screen.displayScale};var renderContext=requestContext.getRenderContext("comments",["screenID","conversationID"]),hasActiveMarkerWithDirtyData=!1;$scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),$scope.selectedConversation=null,$scope.newConversation=null,$scope.viewport={width:0,height:0,alignment:"center"},$scope.userAuthenticated=config.user.isAccountAuthenticated,$scope.isUserACollaborator=isUserACollaborator(),$scope.$on("mentionText.editing",function(event,isDirty){isDirty?$scope.setMarkersAsDirty():$scope.setMarkersAsClean()}),$scope.$on("$destroy",function(){modelEvents.off("conversationCreated.commentsMarkers"),modelEvents.off("conversationUpdated.commentsMarkers")}),$scope.$on("requestContextChanged",function(){renderContext.isChangeRelevant()&&(hasActiveMarkerWithDirtyData=!1,requestContext.hasParamChanged("screenID")?($scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),$scope.closeConversation(!0),loadConversations($scope.screenID)):requestContext.hasParamChanged("conversationID")&&loadConversation())}),$scope.$on("conversationSelected",function(event,conversation){$scope.selectedConversation?conversation?loadConversation(conversation.id):$scope.selectedConversation=null:$scope.selectedConversation=conversation}),modelEvents.on("conversationCreated.commentsMarkers",function(event,conversation){conversation.screenID===$scope.screenID&&loadConversations($scope.screenID)}),modelEvents.on("conversationUpdated.commentsMarkers",function(event,conversation){if(conversation.screenID===$scope.screenID){var cachedConversation=_.findWithProperty($scope.conversations,"id",conversation.id);cachedConversation&&(cachedConversation.isComplete=conversation.isComplete,cachedConversation.subscribers=conversation.subscribers)}}),modelEvents.on("conversationDeleted.commentsMarkers",function(event,conversationID){$scope.selectedConversation&&conversationID==$scope.selectedConversation.id&&($scope.selectedConversation=null)}),applyData()}app.controller("comments.MarkersController",Controller)}(angular,InVision);;
//!file:layouts/modal-controller.js
!function(ng,app){"use strict";function Controller($scope,modalWindowRequest,beforeUnloadService,_){var originalBodyClass="",isPageRefreshing=!1;$scope.subview=null,$scope.nextSubview=null,$scope.$on("modalWindowHidden",function(event){$scope.subview=$scope.nextSubview,$scope.nextSubview=null,null===$scope.subview&&$scope.setBodyClass(originalBodyClass)}),$scope.$on("openModalWindow",function(event,modalType,modalData){if(!isPageRefreshing)if(null===$scope.subview)modalWindowRequest.setRequest(modalType,modalData),$scope.subview=modalType,originalBodyClass=$scope.bodyClass,$scope.setBodyClass($scope.bodyClass+" modal-open");else{if("error"===modalType&&$scope.subview===modalType)return;modalWindowRequest.setRequest(modalType,modalData,!0),$scope.nextSubview=modalType,$scope.$broadcast("closeModalWindowWithoutFade")}}),beforeUnloadService.push(this,function(){isPageRefreshing=!0,setTimeout(function(){isPageRefreshing=!1},1e3)})}app.controller("layouts.ModalController",Controller)}(angular,InVision);;
//!file:loading/loading-controller.js
!function(ng,app){"use strict";function Controller($scope,config){return config.isPreview?void($scope.percentLoaded=75):($scope.loadingSequenceCompleted=function(){$scope.closeLoading()},$scope.percentLoaded=0,void $scope.$watch(function(){return $scope.getPercentOfScreensLoaded()},function(newValue){$scope.percentLoaded=newValue}))}app.controller("loading.LoadingController",Controller)}(angular,InVision);;
//!file:modal/auth-controller.js
!function(ng,app){"use strict";function Controller($scope,$window,analyticsService,config,modalWindowRequest){var modalData=modalWindowRequest.getData(0)||{},companySettings=config&&config.companySettings||{},isEnterprise=companySettings.isEnterprise,invAnalytics=$window.InvAnalytics||{},forceOffSSO=void 0!==invAnalytics.forceOffSSO?!!invAnalytics.forceOffSSO:!1;$scope.showSignup=void 0===modalData.showSignup?!0:modalData.showSignup,$scope.showLogin=!$scope.showSignup,$scope.showWelcomeUser=void 0===modalData.showWelcomeUser?!0:modalData.showWelcomeUser,$scope.isFullScreenMode=void 0===modalData.isFullScreenMode?!0:modalData.isFullScreenMode,$scope.ssoEnabled=forceOffSSO?!1:companySettings.isSSO,$scope.companyImage=companySettings.companyLogo?"/logos/"+companySettings.companyLogo:null,$scope.companyName=companySettings.companyName,$scope.ssoURL="/sso/sp_login?redir="+encodeURIComponent(window.location.pathname+"#"+$scope.generateCommentUrl()+"?welcome=true&sso=true"),analyticsService.track("Comment.SignupFormView"),analyticsService.trackGrowth("App - Signup - View Signup Form",{Flow:isEnterprise?"Signup to Comment Modal - Enterprise":"Signup to Comment Modal","Triggered By":"banner"===modalData.trigger?"Share Banner":"Comment Mode Toggle"}),$scope.closeModal=function(){$scope.closeModalWindow()},$scope.ssoLinkClick=function(){analyticsService.trackGrowth("App - Signup - Click SSO Login Link")},$scope.switchPrompt=function(requireSignIn){$scope.setErrorMessage(),$scope.showSignup=!requireSignIn&&!$scope.showSignup,$scope.showLogin=requireSignIn||!$scope.showLogin},$scope.$on("shareAuthenticationChanged",function(){$scope.closeModal(),setTimeout(function(){$scope.showWelcomeUser&&$scope.openModalWindow("welcomeUser",{fromSignUp:$scope.showSignup})},200)}),$scope.$on("shareAuthenticationSignupError:existingUser",function(){$scope.switchPrompt(!0)}),$scope.setErrorMessage=function(message){$scope.$broadcast("shareAuthenticationSetErrorMessage",message||"")}}app.controller("modal.Auth",Controller)}(angular,InVision);;
//!file:modal/error-controller.js
!function(ng,app){"use strict";function Controller($scope,modalWindowRequest,_){$scope.errorMessage=modalWindowRequest.getData(0)}app.controller("modal.ErrorController",Controller)}(angular,InVision);;
//!file:modal/share-tour-controller.js
!function(ng,app){"use strict";function Controller($scope,userPreferenceService,modelEvents){$scope.closeTour=function(){$scope.closeModalWindow()},modelEvents.trigger("markHasSeenCommentTooltipFromTour"),userPreferenceService.setUserPreferenceById($scope.hasSeenShareWalkThroughUserPreferenceID,"true"),$scope.setHasSeenShareWalkThrough(!0)}app.controller("modal.ShareTour",Controller)}(angular,InVision);;
//!file:modal/welcome-user-controller.js
!function(ng,app){"use strict";function Controller($scope,$timeout,modalWindowRequest,sessionService){var modalData=modalWindowRequest.getData(0)||{};$scope.signedUp=!!modalData.fromSignUp,$scope.user=sessionService.user,$scope.closeModal=function(){$scope.closeModalWindow()},$timeout(function(){$scope.closeModal(),$scope.navigateToScreenComments()},4e3)}app.controller("modal.WelcomeUser",Controller)}(angular,InVision);;
//!file:screens/screens-controller.js
!function(ng,app){"use strict";function Controller($scope,$timeout,$location,requestContext,screenService,hashKeyCopier,projectService,shareService,projectViewingService,hotspotService,_,config){function applyBackgroundStyles(screen,suppressBackgroundOptions){var style={};if($scope.project.isMobile)style.background="#afb2bd top center no-repeat";else{if(style["border-style"]="",style["border-image"]="none",style["border-width"]="",style.height="",style["border-image-outset"]="",style["background-attachment"]="",style["background-position"]="",style["background-color"]="#f9f9fb",screen.backgroundColor&&(style["background-color"]="#"+screen.backgroundColor),screen.backgroundImageUrl){var offsetTop="comments"==$scope.subview?"55px":"0px";switch(style["background-image"]="url( '"+screen.backgroundImageUrl+"' )",screen.backgroundImagePosition){case"center":case"50% 0 no-repeat":style["background-position"]="50% "+offsetTop,style["background-repeat"]="no-repeat";break;case"tile":case"repeat":style["background-position"]="0px "+offsetTop,style["background-repeat"]="repeat";break;case"tile-horizontally":case"0 0 repeat-x":style["background-position"]="0px "+offsetTop,style["background-repeat"]="repeat-x";break;case"fixed":switch(style["background-attachment"]="fixed",style["background-repeat"]="no-repeat",screen.alignment){case"left":style["background-position"]="left top";break;case"center":style["background-position"]="center top";break;case"right":style["background-position"]="right top"}}}screen.backgroundImageClientFilename.indexOf("@2x")>=0?style["background-size"]=.5*screen.backgroundImageWidth+"px "+.5*screen.backgroundImageHeight+"px":screen.backgroundImageClientFilename.indexOf("@print")>0&&(style["background-size"]=.3333*screen.backgroundImageWidth+"px "+.3333*screen.backgroundImageHeight+"px"),screen.backgroundAutostretch?(style["background-image"]="",style["border-style"]="solid",style["border-image"]="url('"+screen.imageUrl+"') 0 0 0 "+(screen.width-1)+" fill stretch",style["border-width"]="0px 1px 0px 1px",style.height=screen.height*screen.displayScale,style["border-image-outset"]="0% 100%",style["margin-left"]="-1px",style["margin-right"]="-2px"):screen.backgroundFrame}$scope.setHeaderStyle(angular.copy(style)),$scope.setBodyStyle(style),$scope.setBodyClass(screen.backgroundFrame?"framed":"")}function augmentScreen(screen){screen.isImageLoaded=!1,screen.isGif=/\.gif$/i.test(screen.clientFilename),$scope.applyScreenDisplayScaleToScreen(screen),screen.now=(new Date).getTime()}function augmentScreens(screens){return _.each(screens,augmentScreen),screens}function getScreensToPreload(){if($scope.project.isMobile)return $scope.screens;var screens=_.filter($scope.screens,function(screen){return screen.distanceFromStartScreen<=1});return screens}function sortScreensByRelevance(screens){var startScreen=_.findWithProperty(screens,"id",$scope.screenID);startScreen||(startScreen=_.findWithProperty(screens,"id",$scope.defaultScreenIDForShare)),startScreen.distanceFromStartScreen=0;for(var index=_.indexOf(screens,startScreen),i=index+1;i<screens.length;i++)screens[i].distanceFromStartScreen=i-index;for(var i=index-1;i>=0;i--)screens[i].distanceFromStartScreen=i==index-1?index-i:screens.length-1-i;return spiderScreensForNavigationalDistance(screens,_.pluck(screens,"id"),startScreen.id,1,1),screens.sort(function(a,b){return a.distanceFromStartScreen<b.distanceFromStartScreen?-1:a.distanceFromStartScreen>b.distanceFromStartScreen?1:0}),screens}function spiderScreensForNavigationalDistance(screens,allScreenIDs,screenID,depth,maxDepth){if(!(depth>maxDepth))for(var hotspots=hotspotService.getHotspotsByScreenID(screenID),i=0;i<hotspots.length;i++){var hotspot=hotspots[i];if(hotspot.targetTypeID===hotspotService.targetTypes.screen){var targetScreen=_.findWithProperty(screens,"id",hotspot.targetScreenID);if(!targetScreen)continue;targetScreen.distanceFromStartScreen=Math.min(targetScreen.distanceFromStartScreen,hotspot.templateID?depth+.5:depth),spiderScreensForNavigationalDistance(screens,allScreenIDs,targetScreen.id,depth+1,maxDepth)}else if(hotspot.targetTypeID===hotspotService.targetTypes.nextScreenInSort){var currentIndex=_.indexOf(allScreenIDs,screenID);if(currentIndex<screens.length-1){var targetScreen=screens[currentIndex+1];targetScreen.distanceFromStartScreen=Math.min(targetScreen.distanceFromStartScreen,depth),spiderScreensForNavigationalDistance(screens,allScreenIDs,targetScreen.id,depth+1,maxDepth)}}}}$scope.Math=window.Math,$scope.imageLoadedForScreen=function(screen){if(screen&&(screen.isImageLoaded=!0,!($scope.getPercentOfScreensLoaded()>=100))){_.findWithProperty($scope.screensToPreload,"id",screen.id)&&$scope.screensThatHavePreloaded.push(screen);var percent=Math.floor($scope.screensThatHavePreloaded.length/$scope.screensToPreload.length*100);$scope.setPercentOfScreensLoaded(percent)}};var renderContext=requestContext.getRenderContext("","screenID");$scope.share=shareService.getShare(),$scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),$scope.screens=sortScreensByRelevance(augmentScreens(screenService.getScreens())),$scope.screensToPreload=getScreensToPreload(),$scope.screensThatHavePreloaded=[],$scope.project=projectService.getProject(),$scope.selectedScreen=_.findWithProperty($scope.screens,"id",$scope.screenID),$scope.selectedScreen?applyBackgroundStyles($scope.selectedScreen):$location.url("/"),$scope.$on("requestContextChanged",function(){if(renderContext.isChangeRelevant()){var previousScreenID=$scope.screenID;$scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),previousScreenID!==$scope.screenID&&$timeout(function(){return $scope.selectedScreen=_.findWithProperty($scope.screens,"id",$scope.screenID),$scope.selectedScreen?void applyBackgroundStyles($scope.selectedScreen):$location.url("/")},200)}}),$scope.$watch("subview",function(newValue,oldValue){newValue!=oldValue&&applyBackgroundStyles($scope.selectedScreen)}),$scope.$on("configUpdated.share",function(event,localConfig){var isTemplateChange=localConfig.project.mobileDeviceID!==$scope.project.mobileDeviceID;isTemplateChange&&($scope.project=localConfig.project,$scope.share=localConfig.share),(!_.isEqual(localConfig,config)||isTemplateChange)&&($scope.screens=sortScreensByRelevance(augmentScreens(screenService.getScreens())),_.setProperty($scope.screens,"isImageLoaded",!0),$scope.selectedScreen=_.findWithProperty($scope.screens,"id",$scope.screenID),applyBackgroundStyles($scope.selectedScreen))}),$(window).on("resize.shareScreens",function(){$scope.screens=sortScreensByRelevance(augmentScreens(screenService.getScreens())),$scope.$apply()})}app.controller("screens.ScreensController",Controller)}(angular,InVision);;
//!file:preview/preview-controller.js
!function(ng,app){"use strict";function Controller($scope,$rootScope,$timeout,$window,requestContext,hotspotService,projectService,screenService,sessionService,commentService,userService,shareService,_,config,$q,conversationService){function supportsHtml5Storage(){var tempString="test";try{return localStorage.setItem(tempString,tempString),localStorage.removeItem(tempString),!0}catch(e){return!1}}function loadTourPoints(){for(var initialTourPoints=augmentTourPoints(_.filter(config.conversations,{isTourPoint:!0,isComplete:!1})),tourPoints=[],screen=null,i=0;i<config.screens.length;i++){screen=config.screens[i];var screenTourPoints=_.filter(initialTourPoints,{screenID:screen.id});if(screenTourPoints){var partitionedPoints=_.partition(screenTourPoints,function(n){return-1===n.manualOrder||""===n.manualOrder}),normalSortedTourPoints=partitionedPoints[0],manuallySortedTourPoints=partitionedPoints[1];normalSortedTourPoints.sort(function(a,b){return a.y-b.y||a.x-b.x});var resortedTourPoints=[];if(manuallySortedTourPoints.length>0){manuallySortedTourPoints.sort(function(a,b){return a.manualOrder===b.manualOrder?a.y-b.y||a.x-b.x:a.manualOrder-b.manualOrder});var minManualOrder=_.min(manuallySortedTourPoints,"manualOrder").manualOrder,maxManualOrder=_.max(manuallySortedTourPoints,"manualOrder").manualOrder,position=0===minManualOrder?0:1;for(position;maxManualOrder>=position;position++){var manualForPosition=_.filter(manuallySortedTourPoints,{manualOrder:position});0===manualForPosition.length&&normalSortedTourPoints.length>0?resortedTourPoints.push(normalSortedTourPoints.shift()):resortedTourPoints=resortedTourPoints.concat(manualForPosition)}}resortedTourPoints=resortedTourPoints.concat(normalSortedTourPoints),resortedTourPoints.forEach(function(point){point.section=tourPointSection(point,screen),tourPoints.push(point)})}}return $timeout(function(){$rootScope.$broadcast("loadTourPoints",tourPoints)}),tourPoints}function tourPointSection(tourPoint,screen){var HEADER="header",BODY="body",FOOTER="footer";if(!tourPoint||!screen)return BODY;var screenHeader=screen.fixedHeaderHeight,screenFooter=screen.height-screen.fixedFooterHeight,footerOffset=25;return tourPoint.y<screenHeader?HEADER:tourPoint.y+footerOffset>=screenFooter?FOOTER:BODY}function augmentTourPoints(tourPoints){for(var i=0;i<tourPoints.length;i++){var comments=commentService.getCommentsByConversationID(tourPoints[i].id);tourPoints[i].comment=comments[0],tourPoints[i].comment.html=commentService.getHtmlForComment(tourPoints[i].comment.comment),tourPoints[i].comment.userHasSystemAvatar=userService.isSystemAvatar(tourPoints[i].comment.userAvatarID),tourPoints[i].comment.userInitials=userService.getInitials(tourPoints[i].comment.userName),tourPoints[i].comment.userOnlineStatus=userService.getOnlineStatus(tourPoints[i].comment.userLastRequestAt),tourPoints[i].comment.userFirstName=tourPoints[i].comment.userName.split(" ")[0],tourPoints[i].isUnread=isTourPointUnread(tourPoints[i].id)}return tourPoints}function isTourPointUnread(conversationID){var tourPoints=[];if(!supportsHtml5Storage())return!0;null===window.localStorage.getItem("tourPoints")&&window.localStorage.setItem("tourPoints",JSON.stringify(tourPoints)),tourPoints=JSON.parse(window.localStorage.getItem("tourPoints"));var thisTourPoint=_.findWithProperty(tourPoints,"conversationID",conversationID);return void 0===thisTourPoint&&(thisTourPoint={conversationID:conversationID,isUnread:!0},tourPoints.push(thisTourPoint),window.localStorage.setItem("tourPoints",JSON.stringify(tourPoints))),thisTourPoint.isUnread}function convertBottomPositionedHotspots(){for(var h=0;h<$scope.hotspots.length;h++)$scope.hotspots[h].isBottomAligned&&($scope.hotspots[h].y=$scope.screen.height-($scope.hotspots[h].y+$scope.hotspots[h].height))}function applyRemoteData(screen){return screen?($scope.setScreen(screen),$scope.setBodyClass(),$scope.hotspots=hotspotService.getHotspotsByScreenID($scope.screenID),$scope.allHotspots=config.hotspots,$scope.project.mobileTemplate=_.filter(config.mobileDevices,{mobileDeviceID:$scope.project.mobileDeviceID})[0],convertBottomPositionedHotspots(),void $scope.setWindowTitle(screen.name)):void($scope.hotspots=[])}function getSampleProjectStatus(project){return project.isSample&&75!==project.id&&87!==project.id&&101727!==project.id&&5701!==project.id}function updateSlideshowSettings(){var isSlideshowNavAllowed=sessionService.get("isSlideshowNavAllowed"),hasFirstScreenHotSpots=sessionService.get("hasFirstScreenHotSpots"),isKeyboardNavUsed=sessionService.get("isKeyboardNavUsed",!1),hasMultipleScreens=$scope.screens.length>1;isSlideshowNavAllowed!==!0||hasMultipleScreens!==!0||hasFirstScreenHotSpots!==!1&&isKeyboardNavUsed!==!0||(sessionService.set("isShowingSlideshowNav",!0),$scope.isShowingSlideshowNav=!0)}function initShareSettings(){var share=shareService.getShare();sessionService.set("hasFirstScreenHotSpots",!_.isEmpty($scope.hotspots)),sessionService.set("isSlideshowNavAllowed",!share.isUserTesting&&share.isLoadAllScreens),$scope.isUserTesting=share.isUserTesting,$timeout(function(){updateSlideshowSettings()})}function loadRemoteData(){var screen=screenService.getScreenByID($scope.screenID);screen&&$timeout(function(){applyRemoteData(screen)},$scope.project.isMobile?100:0)}function transitionToNextScreen(hotspot){$scope.navigateToTargetScreen(hotspot.targetScreenID)}function prepareTransitionLayer(){return $scope.$broadcast("mobile:transition:prepare")}function runTransitionLayer(){return $timeout(function(){vm.isTransitioning=!0,$scope.$broadcast("mobile:transition:run")})}function updateTransitionLayer(target,update,isHotspotPositionOnScreen){return $timeout(function(){!isHotspotPositionOnScreen&&target&&$scope.setScreen(target),vm.isTransitioning=!1,update&&$scope.$broadcast("mobile:transition:updateCurrent")})}var tourPointTooltipTimeout,vm=this,cachedConfig=angular.copy(config);vm.hot={initialized:!1,threshold:5,x:0,y:0},$scope.applyHotspotNavigation=function(hotspot,transitionData){if(hotspot){screenService.setScreenClickedOn($scope.screen);var targetScreen;if(hotspot.targetTypeID===hotspotService.targetTypes.previousScreenInSort)targetScreen=screenService.getPreviousScreen($scope.screenID);else if(hotspot.targetTypeID===hotspotService.targetTypes.nextScreenInSort)targetScreen=screenService.getNextScreen($scope.screenID);else if(hotspot.targetTypeID===hotspotService.targetTypes.lastScreenVisited){var history=$scope.getScreenHistory();targetScreen=screenService.getScreenByID(history[history.length-2])}else targetScreen=screenService.getScreenByID(hotspot.targetScreenID);hotspot.targetScreenID=targetScreen.id,$scope.project.isMobile&&hotspot.transitionTypeID>1&&6!==hotspot.targetTypeID&&5!==hotspot.targetTypeID?targetScreen&&1!==hotspot.transitionTypeID&&(transitionData.targetScreen=targetScreen,screenService.setCurrentScreen(targetScreen),$scope.setTransitionData(transitionData),$scope.$broadcast("mobile:transition:updateCurrent",function(){$timeout(prepareTransitionLayer).then(runTransitionLayer).then(transitionToNextScreen.bind(this,hotspot)).then(updateTransitionLayer.bind(this,targetScreen,!1))})):updateTransitionLayer(targetScreen,!0).then(transitionToNextScreen.bind(this,hotspot))}},$scope.keyboardNavUsed=function(){sessionService.set("isKeyboardNavUsed",!0),updateSlideshowSettings()},$scope.showNextScreen=function(){var nextScreen=screenService.getNextScreen($scope.screenID);$scope.navigateToTargetScreen(nextScreen.id)},$scope.showPreviousScreen=function(){var previousScreen=screenService.getPreviousScreen($scope.screenID);$scope.navigateToTargetScreen(previousScreen.id)},$scope.selectTooltipTourPoint=function(tourPoint){tourPointTooltipTimeout&&$timeout.cancel(tourPointTooltipTimeout),$scope.tooltipTourPoint=$scope.selectedTourPoint?null:tourPoint,$rootScope.$broadcast("tourPointTooltipSelected",tourPoint)},$scope.clearTooltipTourPoint=function(){$scope.tooltipTourPoint&&(tourPointTooltipTimeout=$timeout(function(){$rootScope.$broadcast("clearTooltipTourPoint")},125))},$scope.clearTooltipTimeout=function(){$timeout.cancel(tourPointTooltipTimeout)},$scope.selectTourPoint=function(tourPoint,$event){$scope.selectedTourPoint=tourPoint?_.findWithProperty($scope.tourPoints,"id",tourPoint.id):null,$rootScope.$broadcast("selectTourPoint",tourPoint,$event)};{var renderContext=requestContext.getRenderContext("preview","screenID");angular.noop}$scope.screens=screenService.getScreens();var defaultScreenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare);if(config.project.isMobile){var defaultScreen=_.findWithProperty($scope.screens,"id",defaultScreenID);if(defaultScreen&&3===defaultScreen.screenTypeID){var targetScreen=_.min($scope.screens,"sort");$scope.screenID=targetScreen.id}else $scope.screenID=defaultScreenID}else $scope.screenID=defaultScreenID;$scope.inViewport=!1,$scope.hotspots=[],$scope.allHotspots=[],$scope.isSampleProject=getSampleProjectStatus(projectService.getProject()),$scope.project=projectService.getProject(),$scope.project.mobileTemplate=_.filter(config.mobileDevices,{mobileDeviceID:$scope.project.mobileDeviceID})[0],$scope.isShowingHotspots=!1,$scope.isShowingSlideshowNav=!1,$scope.tourPoints=loadTourPoints(),$scope.selectedConversation=null,$scope.selectedTourPoint=null,$scope.tooltipTourPoint=null,$scope.currentScreenIndex=screenService.getCurrentScreenIndex(),$scope.screenCount=screenService.getTotalScreenCount(),$scope.$on("loadingSequenceCompleted",function(){$scope.screen&&$scope.setWindowTitle($scope.screen.name)}),$scope.$on("requestContextChanged",function(){renderContext.isChangeRelevant()&&($scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),loadRemoteData(),$scope.isShowingHotspots=!1)}),$scope.$on("doTransition",function(event,hotspot,transitionData){$scope.applyHotspotNavigation(hotspot,transitionData)}),$scope.$on("setSelectedTourPoint",function(event,tourPoint){$scope.selectedTourPoint=tourPoint}),$scope.$watch("isShowingSlideshowNav",function(newValue){$scope.$emit("isShowingSlideshowNav",newValue)}),$scope.$watch(screenService.getCurrentScreenIndex,function(newValue){$scope.currentScreenIndex=newValue}),$scope.$on("showNextScreen",function(){$scope.showNextScreen()}),$scope.$on("showPreviousScreen",function(){$scope.showPreviousScreen()}),$scope.$on("autoRedirectTriggered.share",function(event,hotspot){$rootScope.$broadcast("clearTourPointForm"),InvScreenViewer.actions.activateHotspot(hotspot)}),$scope.$on("clearTooltipTimeout",function(){$scope.clearTooltipTimeout()}),$scope.$on("configUpdated.share",function(event,localConfig){var isTemplateChange=localConfig.project.mobileDeviceID!==$scope.project.mobileDeviceID;isTemplateChange&&($scope.project=localConfig.project,$scope.project.mobileTemplate=_.withProperty($scope.deviceTemplates,"mobileDeviceID",localConfig.project.mobileDeviceID)[0],$scope.project.isWatch="watch"===$scope.project.mobileTemplate.deviceType,$scope.deviceTemplate=$scope.project.mobileTemplate),(!_.isEqual(localConfig,cachedConfig)||isTemplateChange)&&($scope.screens=screenService.getScreens(),$scope.screenCount=$scope.screens.length,loadRemoteData())}),$scope.Math=window.Math,loadRemoteData(),initShareSettings()}app.controller("preview.PreviewController",Controller)}(angular,InVision);;
//!file:preview/tour-comments-controller.js
!function(ng,app){"use strict";function Controller($scope,$rootScope,$log,$timeout,$location,$window,requestContext,hotspotService,projectService,screenService,sessionService,commentService,userService,shareService,_,config,$q,conversationService){function supportsHtml5Storage(){var tempString="test";try{return localStorage.setItem(tempString,tempString),localStorage.removeItem(tempString),!0}catch(e){return!1}}function setTourPointIsUnread(conversationID,isUnread){var tourPoints=[];if(supportsHtml5Storage()){null===$window.localStorage.getItem("tourPoints")&&$window.localStorage.setItem("tourPoints",JSON.stringify(tourPoints)),tourPoints=JSON.parse($window.localStorage.getItem("tourPoints"));var thisTourPoint=_.findWithProperty(tourPoints,"conversationID",conversationID);void 0===thisTourPoint?(thisTourPoint={conversationID:conversationID,isUnread:!!isUnread},tourPoints.push(thisTourPoint)):thisTourPoint.isUnread=!!isUnread,$window.localStorage.setItem("tourPoints",JSON.stringify(tourPoints))}}$scope.clearTooltipTourPoint=function(){$timeout(function(){$scope.tooltipTourPoint=null})},$scope.clearTooltipTimeout=function(){$rootScope.$broadcast("clearTooltipTimeout")},$scope.hasPreviousTourPoint=function(){if(!$scope.selectedTourPoint)return!1;var pointIndex=_.indexOfWithProperty($scope.tourPoints,"id",$scope.selectedTourPoint.id);return pointIndex>=1?!0:!1},$scope.hasNextTourPoint=function(){if(!$scope.selectedTourPoint)return!1;var pointIndex=_.indexOfWithProperty($scope.tourPoints,"id",$scope.selectedTourPoint.id);return $scope.tourPoints[pointIndex+1]?!0:!1},$scope.previousTourPoint=function(){if($scope.selectedTourPoint&&!isTransitioning){isTransitioning=!0;var pointIndex=_.indexOfWithProperty($scope.tourPoints,"id",$scope.selectedTourPoint.id);$scope.selectTourPoint($scope.tourPoints[pointIndex-1])}},$scope.nextTourPoint=function(){if($scope.selectedTourPoint&&!isTransitioning){isTransitioning=!0;var pointIndex=_.indexOfWithProperty($scope.tourPoints,"id",$scope.selectedTourPoint.id);$scope.selectTourPoint($scope.tourPoints[pointIndex+1])}},$scope.selectTourPoint=function(tourPoint,$event){var screenID=requestContext.getParamAsInt("screenID"),timeoutTimer=0;tourPoint&&(tourPoint.isUnread=!1,setTourPointIsUnread(tourPoint.id,!1),config.user.isAccountAuthenticated&&conversationService.markRead(tourPoint.id)),tourPoint&&tourPoint.screenID!==screenID?($scope.selectedTourPoint=null,$scope.$broadcast("conversationSelected",null,$event),timeoutTimer=250,$scope.navigateToTargetScreen(tourPoint.screenID,!1)):$scope.selectedTourPoint&&($scope.selectedTourPoint=null,$scope.$broadcast("clearTooltipTourPoint"),$scope.$broadcast("conversationSelected",null,$event)),$timeout(function(){$rootScope.$broadcast("setSelectedTourPoint",tourPoint),$scope.tooltipTourPoint=null,$scope.$broadcast("clearTooltipTourPoint"),$scope.selectedTourPoint=tourPoint,$scope.$broadcast("conversationSelected",tourPoint,$event),250===timeoutTimer?$timeout(function(){isTransitioning=!1},350):isTransitioning=!1},timeoutTimer)},$scope.clearTourPointForm=function(){$scope.$broadcast("conversationSelected",null),$rootScope.$broadcast("setSelectedTourPoint",null)};var isTransitioning=!1;$scope.selectedTourPoint=null,$scope.tourPoints=[],$scope.tooltipTourPoint=null,$scope.$watch("screen.id",function(newValue,oldValue){newValue!==oldValue&&($scope.selectedTourPoint=null,$scope.tooltipTourPoint=null)}),$scope.$on("loadTourPoints",function(event,tourPoints){$scope.tourPoints=_.clone(tourPoints)}),$scope.$on("conversationSelected",function(event,conversation,mouseEvent){$scope.selectedTourPoint=conversation}),$scope.$on("tourPointTooltipSelected",function(event,tourPoint){$scope.tooltipTourPoint=tourPoint,$timeout(function(){$scope.$broadcast("refreshTooltipStyle")})}),$scope.$on("clearTooltipTourPoint",function(){$scope.clearTooltipTourPoint()}),$scope.$on("selectTourPoint",function(event,tourPoint,mouseEvent){$scope.selectTourPoint(tourPoint,mouseEvent)}),$scope.$on("clearTourPointForm",function(){$scope.clearTourPointForm()})}app.controller("preview.TourCommentsController",Controller)}(angular,InVision);;
//!file:toolbar/toolbar-controller.js
!function(ng,app){"use strict";function Controller($rootScope,$scope,$window,_,accountService,analyticsService,commentService,config,conversationService,hotspotService,modelEvents,requestContext,screenService,sessionService,shareService,userPreferenceService){function applyRemoteData(share,screens,comments,hotspots){$scope.share=share,$scope.includeBrowseTool=share.isLoadAllScreens,$scope.includeCommentsTool=share.isCommentingAllowed,$scope.commentCount=comments.length,$scope.unreadCommentCount=_.countWithProperty(comments,"isUnread",!0),tourData.hasMultipleScreens=screens.length>1,tourData.hasHotSpots=hotspots.length>0,$scope.displayFilename=sanitizePhotoshopFilename($scope.screen.clientFilename)}function loadRemoteData(){for(var comments=[],conversations=conversationService.getConversationsByScreenID($scope.screenID),i=0,length=conversations.length;length>i;i++)comments=comments.concat(commentService.getCommentsByConversationID(conversations[i].id));var screens=screenService.getScreens(),hotspots=hotspotService.getAllHotSpots(),share=shareService.getShare();applyRemoteData(share,screens,comments,hotspots)}function sanitizePhotoshopFilename(clientFilename){return clientFilename?clientFilename.replace(/@2x@2x/i,"@2x").replace(/@print/i,""):""}$scope.closeIntroduction=function(){$scope.isShowingIntroduction=!1,$scope.updateActiveStatus()},$scope.updateActiveStatus=function(){$scope.isActive=!1,($scope.isUserOverToolbar||$scope.isShowingComments||$scope.isBrowseOpen||$scope.isShowingIntroduction||!$scope.hasSeenCommentsTooltip)&&($scope.isActive=!0)},$scope.toggleShareModal=function(){$scope.isShowingShareModal=!$scope.isShowingShareModal},$scope.hasSeenCommentTooltip=function(){accountService.markHasSeenCommentTooltip(1),$scope.hasSeenCommentsTooltip=!0,$scope.isActive=!1,modelEvents.trigger("toolbarOpacityChange",$scope.isActive)},$scope.updateIsUserOverToolbar=function(isUserOverToolbar){$scope.isUserOverToolbar=isUserOverToolbar,$scope.updateActiveStatus()},$scope.showShareTour=function(){$scope.openModalWindow("shareTour",tourData)},$scope.shouldShowBounceToolTip=function(){var showBouncyToolTip=!1;return showBouncyToolTip},$scope.shouldShowHelpQuestionMark=function(){var showHelperQuestionMark=!1;return $scope.hasSeenShareWalkThrough||!$scope.includeCommentsTool&&!$scope.includeBrowseTool||(showHelperQuestionMark=!0),showHelperQuestionMark},$scope.closeCommentTooltipExperiment=function(){!$scope.hasSeenCommentsTooltip&&$scope.includeCommentsTool&&(accountService.markHasSeenCommentTooltip(1),$scope.hasSeenCommentsTooltip=!0),$scope.commentToolTipVisible=!1};var renderContext=requestContext.getRenderContext("","screenID"),tourData={hasMultipleScreens:!0,hasHotSpots:!0},hasShownAuthModal=!1;$scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),$scope.displayFilename="",$scope.share=null,$scope.includeBrowseTool=!1,$scope.includeCommentsTool=!1,$scope.isShowingComments="comments"===renderContext.getNextSection(),$scope.commentCount=0,$scope.unreadCommentCount=0,$scope.isUserOverToolbar=!1,$scope.isActive=!1,$scope.isShowingIntroduction=!1,$scope.isShowingShareModal=!1,$scope.isShareTourRunning=!1,$scope.tourSubView="",$scope.hasSeenTour=!1,$scope.hasSeenCommentsTooltip=config.user.hasSeenCommentToolTip||!1,$scope.shareUrl=$scope.$parent.$parent.share.key?"http://invis.io/"+$scope.$parent.$parent.share.key:null,$scope.commentToolTipVisible=!1,$scope.$on("$destroy",function(){modelEvents.off("commentCreated.toolbar"),modelEvents.off("commentDeleted.toolbar"),modelEvents.off("conversationDeleted.toolbar"),modelEvents.off("conversationMarkedRead.toolbar"),modelEvents.off("poweredByOpacityChange.toolbar"),modelEvents.off("shareTourSubview.toolbar"),modelEvents.off("shareTour.toolbar"),modelEvents.off("markHasSeenCommentTooltipFromTour.toolbar")}),$scope.$watch("isBrowseOpen",function(newVal){$scope.updateActiveStatus(),$rootScope.$emit("isBrowseOpen",newVal)}),$scope.$watch("isShowingComments",function(newValue,oldValue){var isAlreadyShowingComments="comments"===renderContext.getNextSection();if(newValue&&!isAlreadyShowingComments){var enterpriseShareSignupFlowVariant=2===($window.InvAnalytics||{}).enterpriseShareSignupFlowVariant;config.user.isAccountAuthenticated||hasShownAuthModal||!enterpriseShareSignupFlowVariant||($scope.openModalWindow("auth",{showSignup:!0,isFullScreenMode:!1}),hasShownAuthModal=!0),$scope.isShowingSmsForm&&$scope.toggleSmsShareForm(),$scope.navigateToScreenComments(),$scope.closeCommentTooltipExperiment(),analyticsService.track("Comment.ToggleCommentModeOn"),analyticsService.trackGrowth("App - Public Share - Toggle Comment Mode",{"Logged In":!!sessionService.user.isAccountAuthenticated,Enabled:!0})}else!newValue&&isAlreadyShowingComments&&($scope.navigateToScreenPreview(),analyticsService.trackGrowth("App - Public Share - Toggle Comment Mode",{"Logged In":!!sessionService.user.isAccountAuthenticated,Enabled:!1}))}),$scope.$on("requestContextChanged",function(){renderContext.isChangeRelevant()&&($scope.isShowingComments="comments"===renderContext.getNextSection(),requestContext.hasParamChanged("screenID")&&($scope.screenID=requestContext.getParamAsInt("screenID",$scope.defaultScreenIDForShare),loadRemoteData()),$scope.updateActiveStatus())}),modelEvents.on(["commentCreated.toolbar","commentDeleted.toolbar"],function(event){loadRemoteData()}),modelEvents.on(["conversationDeleted.toolbar","conversationMarkedRead.toolbar"],function(event,conversationID){loadRemoteData()}),modelEvents.on("poweredByOpacityChange.toolbar",function(event,isActive){$scope.isShowingComments||($scope.isActive=isActive)}),modelEvents.on("shareTourSubview.toolbar",function(event,tourSubView){$scope.tourSubView=tourSubView}),modelEvents.on("shareTour.toolbar",function(event,isShareTourRunning){$scope.isShareTourRunning=isShareTourRunning,$scope.hasSeenTour=!0,isShareTourRunning||($scope.tourSubView="")}),modelEvents.on("markHasSeenCommentTooltipFromTour.toolbar",function(event){$scope.hasSeenCommentTooltip()}),$scope.$on("configUpdated.share",function(event,localConfig){loadRemoteData()}),$scope.$on("loadingSequenceCompleted",function(event){$scope.commentToolTipVisible=!$scope.hasSeenCommentsTooltip}),loadRemoteData()}app.controller("toolbar.ToolbarController",Controller)}(angular,InVision);;
//!file:add-padding-on-scroll.js
!function(ng,app){"use strict";function Directive($timeout){var linkFunction=function($scope,element){function init(){$scope.screen.height*$scope.screen.displayScale>windowHeight&&$win.on("scroll.invAddPaddingOnScroll",function(){var scrollBottom=$scope.screen.height*$scope.screen.displayScale;hasExtraPadding?$win.scrollTop()+windowHeight<scrollBottom-extraPadding&&removeExtraPadding():$win.scrollTop()+windowHeight>scrollBottom&&addExtraPadding()})}function destroy(){$win.off("scroll.invAddPaddingOnScroll"),removeExtraPadding()}function addExtraPadding(){hasExtraPadding||(hasExtraPadding=!0,$timeout(function(){$element.css({paddingBottom:extraPadding})},scrollDelay))}function removeExtraPadding(){hasExtraPadding&&(hasExtraPadding=!1,$element.css({paddingBottom:0}))}var $win=$(window),$element=($("body"),$(element)),windowHeight=$win.height(),extraPadding=50,hasExtraPadding=!1,scrollDelay=1e3;$win.on("resize.invAddPaddingOnScroll",function(){destroy(),$timeout(init)}),$scope.$on("$destroy",function(){destroy(),$win.off("resize.invAddPaddingOnScroll")}),$timeout(init)};return{link:linkFunction,restrict:"A"}}app.directive("invAddPaddingOnScroll",Directive)}(angular,InVision);;
//!file:autofocus.js
!function(ng,app){"use strict";app.directive("invAutofocus",function(){var linkFunction=function($scope,element,attributes){function focus(){setTimeout(function(){target[0].focus()})}var target=$(element),modal=target.closest("div[ inv-modal ]");1===modal.length&&modal.is(".fade")&&!modal.is(".in")?modal.on("shown.invAutofocus",function(){focus()}):target.is(":visible")&&focus(),$scope.$watch(function(){return target.is(":visible")},function(newValue,oldValue){newValue===!0&&newValue!==oldValue&&focus()}),$scope.$on("$destroy",function(){modal.off("shown.invAutofocus")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:autosize.js
!function(ng,app){"use strict";app.directive("invAutosize",function(){var linkFunction=function($scope,element,attributes){function getInitialDelta(){var content=element.val();element.val("");var height=element.outerHeight(),scrollHeight=element[0].scrollHeight,delta=Math.max(0,scrollHeight-height);return element.val(content),delta}function resize(){var height=element.outerHeight(),scrollHeight=element[0].scrollHeight,scrollableHeight=scrollHeight-height-initialDelta;if(!(0>=scrollableHeight)){var newHeight=scrollHeight;element.height(newHeight)}}element.addClass("autosize");var initialDelta=getInitialDelta();element.on("keyup.invAutosize",function(event){return""===element.val()?void element.height(initialDelta):void resize()}),$scope.$on("$destroy",function(){element.off("keypress.invAutosize")})};return{link:linkFunction,priority:2,restrict:"A"}})}(angular,InVision);;
//!file:bouncyTooltip.js
!function(ng,app){"use strict";app.directive("invBouncyTooltip",function(){var linkFunction=function($scope,element,attributes){var target=$(element),tooltipInstance=null,styleClass=attributes.tooltipstyleclass||"",message=attributes.msg||"no message",callback=attributes.callback||null,$tooltip=$('<div class="popover top comment-tip floating '+styleClass+'"><i></i><div class="arrow"></div><div class="popover-content">'+message+"</div></div>");$tooltip.appendTo(target).on("mouseenter",function(){$(this).removeClass("cssRunning").addClass("cssPause")}).on("mouseleave",function(){$(this).removeClass("cssPause").addClass("cssRunning")}),$("i",$tooltip).on("click",function(){$tooltip.fadeOut(200,function(){$tooltip.remove(),callback&&$scope.$apply(callback)})}),$scope.$on("$destroy",function(){tooltipInstance&&tooltipInstance.remove()})};return{link:linkFunction,restrict:"A",scope:!1}})}(angular,InVision);;
//!file:browse-key-combos.js
!function(ng,app){"use strict";app.directive("invBrowseKeyCombos",function($document,keyComboHelper,_){var linkFunction=function($scope,element,attributes,keyCombosController){function closeBrowse(){$scope.$apply(function(){$scope.closeBrowse()})}var listenerConfig={};listenerConfig["keydown.invBrowseKeyCombos"]=function(event){event.metaKey||keyComboHelper.isEscapeKeyEvent(event)&&closeBrowse()},keyCombosController.addListener(listenerConfig),$scope.$on("$destroy",function(){keyCombosController.removeListener(listenerConfig)})};return{link:linkFunction,require:"^invKeyCombos",restrict:"A"}})}(angular,InVision);;
//!file:comments-catchup-toolbar-helper.js
!function(ng,app){"use strict";function Directive($window,$timeout){var linkFunction=function($scope,element,attributes){function updateMarkerCapacity(){var markerWidth=35,calloutWidth=150,hiddenCalloutWidth=65,filterWidth=400,windowWidth=win.width(),wiggleRoom=100,minMarkerCount=10,availableWidth=windowWidth-calloutWidth-hiddenCalloutWidth-filterWidth-wiggleRoom,markerCapacity=Math.floor(availableWidth/markerWidth);$scope.updateUnreadConversationCapacity(Math.max(markerCapacity,minMarkerCount))}var win=$($window).on("resize.invCommentsCatchupToolbarHelper",function(event){$scope.$apply(function(){updateMarkerCapacity()})});$timeout(updateMarkerCapacity),$scope.$on("$destroy",function(){win.off("resize.invCommentsCatchupToolbarHelper")})};return{link:linkFunction,restrict:"A"}}app.directive("invCommentsCatchupToolbarHelper",Directive)}(angular,InVision);;
//!file:comments-cursor-tooltip.js
!function(ng,app){"use strict";app.directive("invCommentsCursorTooltip",function(){var linkFunction=function($scope,element,attributes){var $document=$(document),$win=$(window);$document.on("mousemove.cursorTooltip",function(e){$(element).css({left:e.pageX-$win.scrollLeft()+15,top:e.pageY-$win.scrollTop()-10})}),$scope.$on("$destroy",function(){$document.off("mousemove.cursorTooltip")})};return{link:linkFunction,restrict:"A",scope:!1}})}(angular,InVision);;
//!file:comments-form.js
!function(ng,app){"use strict";app.directive("invCommentsForm",function($window,$document,$timeout,_){var linkFunction=function($scope,element,attributes,markersController){function updatePosition(markerX,markerY){var formWidth=550,formPadding=10;element.css({left:markerX+"px",top:markerY+"px"});var rightmostOffset=containerOffset.left+markerX+formWidth+formPadding;rightmostOffset>documentWidth?element.addClass("left"):element.removeClass("left")}function setTextClass(){$scope.conversation.isTourPoint&&($(".comment-item.first .post-comment").height()<=40?$(".comment-item.first .post-comment").addClass("single-line"):$(".comment-item.first .post-comment").removeClass("single-line"))}var documentWidth=$document.width(),viewport=element.closest("div.viewport"),containerOffset=viewport.offset();markersController.setCallback(updatePosition),updatePosition($scope.conversation.x,$scope.conversation.y),$timeout(function(){setTextClass()}),$scope.showCommentInput=function(){$scope.isCommentInputVisible=!0},0===$scope.conversation.id&&($scope.isShowingUserList=!0),$(window).on("resize.invCommentsForm",function(event){documentWidth=$document.width(),containerOffset=viewport.offset()}),$document.on("keydown.invCommentsForm",function(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&$scope.$apply(function(){$scope.$eval(attributes.ngSubmit)})}),$scope.$on("commentChanged",function(){$timeout(function(){setTextClass()})}),$scope.$on("$destroy",function(){markersController.clearCallback(),$document.off("resize.invCommentsForm"),$document.off("keydown.invCommentsForm")})};return{link:linkFunction,require:"^invCommentsMarkers",restrict:"A"}})}(angular,InVision);;
//!file:comments-key-combos.js
!function(ng,app){"use strict";app.directive("invCommentsKeyCombos",function($document,$location,keyComboHelper,screenService,_){var linkFunction=function($scope,element,attributes,keyCombosController){function showBrowse(){$scope.$apply(function(){$scope.openBrowse()})}function showNextScreen(){$scope.$apply(function(){var nextScreen=screenService.getNextScreen($scope.screenID);$location.url("/screens/"+nextScreen.id+"/comments")})}function showPreview(){$scope.$apply(function(){$scope.navigateToScreenPreview()})}function showPreviousScreen(){$scope.$apply(function(){var previousScreen=screenService.getPreviousScreen($scope.screenID);$location.url("/screens/"+previousScreen.id+"/comments")})}var listenerConfig={};listenerConfig["keydown.invCommentsKeyCombos"]=function(event){event.metaKey||"TEXTAREA"==event.target.tagName.toUpperCase()||"INPUT"==event.target.tagName.toUpperCase()||$scope.isShowingSketchBuilder||$scope.isShowingSketchViewer||(keyComboHelper.isEscapeKeyEvent(event)?showPreview():keyComboHelper.isLeftArrowKeyEvent(event)?(event.preventDefault(),showPreviousScreen()):keyComboHelper.isRightArrowKeyEvent(event)?(event.preventDefault(),showNextScreen()):!event.ctrlKey&&keyComboHelper.isCharKeyEvent(event,"c")?(event.preventDefault(),showPreview()):(keyComboHelper.isCharKeyEvent(event,"b")||keyComboHelper.isCharKeyEvent(event,"j"))&&(event.preventDefault(),showBrowse()))},keyCombosController.addListener(listenerConfig),$scope.$on("$destroy",function(){keyCombosController.removeListener(listenerConfig)})};return{link:linkFunction,require:"^invKeyCombos",restrict:"A"}})}(angular,InVision);;
//!file:comments-markers.js
!function(ng,app){"use strict";app.directive("invCommentsMarkers",function($document,$location,$timeout,_,sessionService,userService){function Controller(){function announceMarkerPosition(markerX,markerY){formPositionCallback&&formPositionCallback(markerX,markerY)}function clearCallback(){formPositionCallback=null}function setCallback(callback){formPositionCallback=callback}var formPositionCallback=null;return{announceMarkerPosition:announceMarkerPosition,clearCallback:clearCallback,setCallback:setCallback}}var linkFunction=function($scope,element,attributes,markersController){function ConversationActivationState(stateManager,marker,initialPageX,initialPageY){function handleMouseMove(event){hasMoved(event.pageX,event.pageY)&&stateManager.gotoState(MovingConversationState,marker,initialPageX,initialPageY,event.pageX,event.pageY)}function handleMouseUp(event){$scope.areMarkersDirty()?alert("Oops, you haven't saved your comment!"):$scope.$apply(function(){$scope.closeConversation()}),cancelClick=!0,stateManager.gotoState(ReadyState)}function hasMoved(pageX,pageY){var tolerance=3;return Math.abs(initialPageX-pageX)>tolerance||Math.abs(initialPageY-pageY)>tolerance}function teardown(){viewport.off("mousemove.invCommentMarkers"),viewport.off("mouseup.invCommentMarkers")}return viewport.on("mousemove.invCommentMarkers",handleMouseMove),viewport.on("mouseup.invCommentMarkers",handleMouseUp),teardown}function MarkerActivationState(stateManager,marker,initialPageX,initialPageY){function handleMouseMove(event){hasMoved(event.pageX,event.pageY)&&stateManager.gotoState(MovingMarkerState,marker,initialPageX,initialPageY,event.pageX,event.pageY)}function handleMouseUp(event){stateManager.gotoState(ReadyState)}function hasMoved(pageX,pageY){var tolerance=3;return Math.abs(initialPageX-pageX)>tolerance||Math.abs(initialPageY-pageY)>tolerance}function teardown(){viewport.off("mousemove.invCommentMarkers"),viewport.off("mouseup.invCommentMarkers")}return viewport.on("mousemove.invCommentMarkers",handleMouseMove),viewport.on("mouseup.invCommentMarkers",handleMouseUp),teardown}function MovingConversationState(stateManager,marker,initialPageX,initialPageY,currentPageX,currentPageY){function getLocalPosition(pageX,pageY){var deltaX=initialPageX-pageX,deltaY=initialPageY-pageY,newX=initialMarkerPosition.left-deltaX,newY=initialMarkerPosition.top-deltaY;return{left:newX,top:newY}}function handleMouseMove(event){updateMarkerPosition(event.pageX,event.pageY)}function handleMouseUp(event){var position=marker.position();$scope.$apply(function(){$scope.updateConversationPosition(marker.scope().conversation,position.left,position.top)}),stateManager.gotoState(ReadyState)}function teardown(){$document.off("mousemove.invCommentMarkers"),$document.off("mouseup.invCommentMarkers"),marker.removeClass("activation")}function updateMarkerPosition(pageX,pageY){var localPosition=getLocalPosition(pageX,pageY);marker.css({left:localPosition.left+"px",top:localPosition.top+"px"}),markersController.announceMarkerPosition(localPosition.left,localPosition.top)}$document.on("mousemove.invCommentMarkers",handleMouseMove),$document.on("mouseup.invCommentMarkers",handleMouseUp);{var initialMarkerPosition=marker.position();viewport.offset()}return updateMarkerPosition(currentPageX,currentPageY),marker.addClass("activation"),cancelClick=!0,teardown}function MovingMarkerState(stateManager,marker,initialPageX,initialPageY,currentPageX,currentPageY){function getLocalPosition(pageX,pageY){var deltaX=initialPageX-pageX,deltaY=initialPageY-pageY,newX=initialMarkerPosition.left-deltaX,newY=initialMarkerPosition.top-deltaY;return{left:newX,top:newY}}function handleMouseMove(event){updateMarkerPosition(event.pageX,event.pageY)}function handleMouseUp(event){var position=marker.position();$scope.$apply(function(){$scope.updateConversationPosition(marker.scope().conversation,position.left,position.top)}),stateManager.gotoState(ReadyState)}function teardown(){$document.off("mousemove.invCommentMarkers"),$document.off("mouseup.invCommentMarkers"),marker.removeClass("activation")}function updateMarkerPosition(pageX,pageY){var localPosition=getLocalPosition(pageX,pageY);marker.css({left:localPosition.left+"px",top:localPosition.top+"px"})}$document.on("mousemove.invCommentMarkers",handleMouseMove),$document.on("mouseup.invCommentMarkers",handleMouseUp);var initialMarkerPosition=marker.position();return updateMarkerPosition(currentPageX,currentPageY),marker.addClass("activation"),cancelClick=!0,teardown}function MovingNewConversationState(stateManager,marker,initialPageX,initialPageY,currentPageX,currentPageY){function getLocalPosition(pageX,pageY){var deltaX=initialPageX-pageX,deltaY=initialPageY-pageY,newX=initialMarkerPosition.left-deltaX,newY=initialMarkerPosition.top-deltaY;return{left:newX,top:newY}}function handleMouseMove(event){updateMarkerPosition(event.pageX,event.pageY)}function handleMouseUp(event){var position=marker.position();$scope.$apply(function(){$scope.updateNewConversationPosition(position.left,position.top)}),stateManager.gotoState(ReadyState)}function teardown(){$document.off("mousemove.invCommentMarkers"),$document.off("mouseup.invCommentMarkers"),marker.removeClass("activation")}function updateMarkerPosition(pageX,pageY){var localPosition=getLocalPosition(pageX,pageY);marker.css({left:localPosition.left+"px",top:localPosition.top+"px"}),markersController.announceMarkerPosition(localPosition.left,localPosition.top)}$document.on("mousemove.invCommentMarkers",handleMouseMove),$document.on("mouseup.invCommentMarkers",handleMouseUp);{var initialMarkerPosition=marker.position();viewport.offset()}return updateMarkerPosition(currentPageX,currentPageY),marker.addClass("activation"),cancelClick=!0,teardown}function NewConversationActivationState(stateManager,marker,initialPageX,initialPageY){function handleMouseMove(event){hasMoved(event.pageX,event.pageY)&&stateManager.gotoState(MovingNewConversationState,marker,initialPageX,initialPageY,event.pageX,event.pageY)}function handleMouseUp(event){$scope.areMarkersDirty()?alert("Oops, you haven't saved your comment!"):$scope.$apply(function(){$scope.closeConversation()}),stateManager.gotoState(ReadyState)}function hasMoved(pageX,pageY){var tolerance=3;return Math.abs(initialPageX-pageX)>tolerance||Math.abs(initialPageY-pageY)>tolerance}function teardown(){viewport.off("mousemove.invCommentMarkers"),viewport.off("mouseup.invCommentMarkers")}return viewport.on("mousemove.invCommentMarkers",handleMouseMove),viewport.on("mouseup.invCommentMarkers",handleMouseUp),teardown}function PotentialMarkerState(stateManager,initialPageX,initialPageY){function handleMouseLeave(){stateManager.gotoState(ReadyState)}function handleMouseUp(event){if(hasMoved(event.pageX,event.pageY))stateManager.gotoState(ReadyState);else{var viewportOffset=viewport.offset(),x=initialPageX-viewportOffset.left-24,y=initialPageY-viewportOffset.top-24;$scope.$apply(function(){$scope.startNewConversation(x,y)}),stateManager.gotoState(ReadyState)}}function hasMoved(pageX,pageY){var tolerance=3;return Math.abs(initialPageX-pageX)>tolerance||Math.abs(initialPageY-pageY)>tolerance}function teardown(){viewport.off("mouseleave.invCommentMarkers"),viewport.off("mouseup.invCommentMarkers")}return viewport.on("mouseleave.invCommentMarkers",handleMouseLeave),viewport.on("mouseup.invCommentMarkers",handleMouseUp),teardown}function ReadyState(stateManager){function handleMouseDown(event){var target=$(event.target);target.closest("form.conversation").length||(target.is(".marker")?handleMouseDownOnMarker(event):target.is(".viewport")&&handleMouseDownOnViewport(event))}function isUserACollaborator(){var user=sessionService.user,members=userService.getMembers(),isTeamMember=!!_.findWithProperty(members,"id",user.id);return user.isAccountAuthenticated&&isTeamMember}function handleMouseDownOnMarker(event){event.preventDefault();var target=$(event.target);target.scope().conversation&&target.scope().conversation.isTourPoint&&!isUserACollaborator()||($scope.selectedConversation?$scope.selectedConversation===target.scope().conversation?stateManager.gotoState(ConversationActivationState,target,event.pageX,event.pageY):$scope.areMarkersDirty()&&alert("Oops, you haven't saved your comment!"):$scope.newConversation?target.is(".new-marker")?stateManager.gotoState(NewConversationActivationState,target,event.pageX,event.pageY):$scope.areMarkersDirty()&&alert("Oops, you haven't saved your comment!"):stateManager.gotoState(MarkerActivationState,target,event.pageX,event.pageY))}function handleMouseDownOnViewport(event){$scope.areMarkersDirty()||($scope.selectedConversation||$scope.newConversation?$scope.$apply(function(){$scope.closeConversation()}):stateManager.gotoState(PotentialMarkerState,event.pageX,event.pageY))}function teardown(){viewport.off("mousedown.invCommentMarkers")}return viewport.on("mousedown.invCommentMarkers",handleMouseDown),teardown}function getMarkerByConversationID(id){var marker=viewport.children("a.marker:not(.new-marker)").filter(function(){var conversation=$(this).scope().conversation;return conversation&&conversation.id==id});return marker}function scrollToActiveMarkerIfNecessary(){if($scope.selectedConversation){var marker=getMarkerByConversationID($scope.selectedConversation.id);if(marker.length){var win=$(window),viewTop=win.scrollTop(),viewBottom=viewTop+win.height(),viewLeft=win.scrollLeft(),viewRight=viewLeft+win.width(),markerOffset=marker.offset(),markerTop=markerOffset.top,markerBottom=markerTop+49,markerLeft=markerOffset.left,markerRight=markerLeft+49,markerIsHidden=viewTop>=markerTop||markerBottom>=viewBottom||viewLeft>=markerLeft||markerRight>=viewRight;markerIsHidden&&$("html, body").stop(!0).animate({scrollLeft:markerLeft-100,scrollTop:markerTop-100},500)}}}function measureScrollBarWidth(){var scrollBarMeasure=$("<div />");$("body").append(scrollBarMeasure),scrollBarMeasure.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var scrollBarMeasureContent=$("<div />").height(1);scrollBarMeasure.append(scrollBarMeasureContent);var insideWidth=scrollBarMeasureContent.width(),outsideWidth=scrollBarMeasure.width(),width=outsideWidth-insideWidth;return scrollBarMeasure.remove(),0>=width?8:width}var stateManager={currentStateTeardown:null,gotoState:function(){var stateArguments=_.toArray(arguments),newStateConstructor=stateArguments.shift();stateArguments.unshift(stateManager),stateManager.currentStateTeardown&&_.isFunction(stateManager.currentStateTeardown)&&stateManager.currentStateTeardown(),stateManager.currentStateTeardown=newStateConstructor.apply({},stateArguments)}};element.on("click.invCommentMarkers","a.marker",function(event){cancelClick&&(event.preventDefault(),event.stopPropagation(),cancelClick=!1)}),$document.on("mousedown.invDocumentClick",function(event){var target=$(event.target),marker=$(".marker"),sketch=$("#shareSketchViewer"),sketchBulder=$("#shareSketchBuilder"),commentForm=$(".comment-thread-container"),mentionsPopover=$(".mention-menu-wrapper"),isCommentForm=commentForm.is(target)||!!commentForm.has(target).length,isMarker=marker.is(target)||!!marker.has(target).length,isSketch=sketch.is(target)||!!sketch.has(target).length,isSketchBuilder=sketchBulder.is(target)||!!sketchBulder.has(target).length,clientW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),clientH=Math.max(document.documentElement.clientHeight,window.innerHeight||0);!isCommentForm&&!isMarker&&!isSketch&&!isSketchBuilder&&!mentionsPopover&&!$scope.areMarkersDirty()&&$scope.getIsShowingConversationMenu()&&event.clientY<clientH-sbWidth&&event.clientX<clientW-sbWidth&&$scope.closeConversation()});var viewport=element.children("div.viewport"),cancelClick=!1,sbWidth=measureScrollBarWidth();stateManager.gotoState(ReadyState),$timeout(scrollToActiveMarkerIfNecessary),$scope.$watch("screenID",function(newValue){cancelClick=!1,stateManager.gotoState(ReadyState)}),$scope.$watch("selectedConversation",function(conversation){conversation&&$timeout(scrollToActiveMarkerIfNecessary)}),$scope.$on("$destroy",function(){element.off("click.invCommentMarkers"),element.off("mousedown.invCommentMarkers"),element.off("mousemove.invCommentMarkers"),element.off("mouseup.invCommentMarkers"),$document.off("mousedown.invCommentMarkers"),$document.off("mousemove.invCommentMarkers"),$document.off("mouseup.invCommentMarkers"),$document.off("mousedown.invDocumentClick")})};return{controller:Controller,link:linkFunction,require:"invCommentsMarkers",restrict:"A"}})}(angular,InVision);;
//!file:comments-tour-form-key-combos.js
!function(ng,app){"use strict";function CommentsTourFormKeyCombos($document,_,emojiService,keyComboHelper){function linkFunction($scope,element,attributes,keyCombosController){function closeForm(){$scope.$apply(function(){$scope.selectTourPoint(null)})}function showNextConversation(){return $scope.areMarkersDirty()?alert("Oops, you haven't saved your comment!"):void(0!==$scope.conversation.id&&$scope.$apply(function(){$scope.nextTourPoint()}))}function showPreviousConversation(){return $scope.areMarkersDirty()?alert("Oops, you haven't saved your comment!"):void(0!==$scope.conversation.id&&$scope.$apply(function(){$scope.previousTourPoint()}))}var listenerConfig={};listenerConfig["keydown.invTourCommentsFormKeyCombos"]=function(event){if(!event.metaKey){var target=$(event.target);if(keyComboHelper.isEscapeKeyEvent(event)){if(emojiService.isTypeaheadActive()||emojiService.isPopoverActive())return;closeForm()}else event.shiftKey||keyComboHelper.isShiftKeyEvent(event)?event.stopPropagation():target.is(":input")||(keyComboHelper.isLeftArrowKeyEvent(event)?showPreviousConversation():keyComboHelper.isRightArrowKeyEvent(event)&&showNextConversation())}},keyCombosController.addListener(listenerConfig),$scope.$on("$destroy",function(){keyCombosController.removeListener(listenerConfig)})}return{link:linkFunction,require:"^invKeyCombos",restrict:"A"}}app.directive("invCommentsTourFormKeyCombos",CommentsTourFormKeyCombos)}(angular,InVision);;
//!file:confirm-popover.js
!function(ng,app){"use strict";app.directive("invConfirmPopover",function(){var linkFunction=function($scope,element,attributes){var handleCancelClick=function(event){event.preventDefault(),target.popover("destroy"),doc.off("mousedown.invConfirmPopover"),doc.off("click.invConfirmPopover")},handleConfirmClick=function(event){event.preventDefault(),target.popover("destroy"),doc.off("mousedown.invConfirmPopover"),doc.off("click.invConfirmPopover"),$scope.$apply(confirmExpression)},handleDocumentMousedown=function(event){$(event.target).closest("div.popover").length||(target.popover("destroy"),doc.off("mousedown.invConfirmPopover"),doc.off("click.invConfirmPopover"))},doc=$(document),target=$(element),confirmExpression=attributes.onConfirm;target.on("click.invConfirmPopover",function(event){return event.preventDefault(),target.popover({html:!0,placement:"top",trigger:"manual",title:function(){return attributes.invConfirmPopover},content:"<a class='btn btn-primary btn-small invConfirmPopoverConfirm'>&nbsp;Yes&nbsp;</a> &nbsp; <a class='btn btn-small invConfirmPopoverCancel'>&nbsp;No&nbsp;</a> "}),target.tooltip("hide"),target.popover("show"),doc.on("mousedown.invConfirmPopover",handleDocumentMousedown),doc.on("click.invConfirmPopover","a.invConfirmPopoverConfirm",handleConfirmClick),doc.on("click.invConfirmPopover","a.invConfirmPopoverCancel",handleCancelClick),!1}),$scope.$on("$destroy",function(){target.off("click.invConfirmPopover"),target.popover("destroy"),doc.off("mousedown.invConfirmPopover"),doc.off("click.invConfirmPopover")})};return{link:linkFunction,restrict:"A",scope:!1}})}(angular,InVision);;
//!file:copy-to-clipboard.js
!function(ng,app){"use strict";app.directive("invCopyToClipboard",function($timeout){var linkFunction=function($scope,element,attributes){var $element=$(element),$button=$element.find("button"),$copiedText=$(".copied"),clip=new ZeroClipboard($button,{moviePath:"/share/common/vendor/zeroclipboard/ZeroClipboard.swf"});clip.on("complete",function(clip,args){$timeout(function(){$scope.toggleShareModal()}),$copiedText.fadeIn(250),$timeout(function(){$copiedText.fadeOut(250)},4e3)}),$scope.$watch("isShowingShareModal",function(_new){_new&&$timeout(function(){$(element).find("input#share_link").select()})}),$scope.$on("$destroy",function(){})};return{link:linkFunction}})}(angular,InVision);;
//!file:fade-show.js
!function(ng,app){"use strict";app.directive("invFadeShow",function(){var linkFunction=function($scope,element,attributes){var duration="fast",expression=attributes.invFadeShow;$scope.$eval(expression)?element.show():element.hide(),$scope.$watch(expression,function(newValue,oldValue){ng.isUndefined(newValue)||newValue===oldValue||(newValue?element.stop(!0,!0).fadeIn(duration):newValue||element.stop(!0,!0).fadeOut(duration))}),$scope.$on("$destroy",function(){})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:focus.js
!function(ng,app){"use strict";function Directive(){var linkFunction=function($scope,element,attributes){element.one("focus.invFocus",function(event){$scope.$apply(attributes.invFocus)}),$scope.$on("$destroy",function(){element.off("focus.invFocus")})};return{link:linkFunction,restrict:"A"}}app.directive("invFocus",Directive)}(angular,InVision);;
//!file:history-overlay.js
!function(ng,app){"use strict";function Directive(_,$timeout){var linkFunction=function($scope,element,attributes){function getElementBoundingCoords(el){for(var coordinates={top:0,left:0},obj=el,body=document.body;obj;)coordinates.left+=obj.offsetLeft+obj.clientLeft,coordinates.top+=obj.offsetTop+obj.clientTop,obj=obj.offsetParent;for(obj=el;obj!==body;)obj&&obj.scrollTop&&obj.scrollTop>0&&(coordinates.top-=obj.scrollTop),obj&&obj.scrollLeft&&obj.scrollLeft>0&&(coordinates.left-=obj.scrollLeft),obj=obj.parentNode;return coordinates}var timer,$window=$(window),$body=$("body"),screenData=JSON.parse(attributes.overlayScreenData),markerPos=JSON.parse(attributes.overlayMarkerPos),elPos=getElementBoundingCoords(element[0]),$screenImage=$("<div class='history-overlay'><div class='history-overlay-image-container'><img src='"+attributes.overlayImage+"'></div></div>"),$img=$screenImage.find("img"),$commentContainer=element.closest(".comment-content"),imageStyle={top:-elPos.top+(elPos.top-markerPos.top)+135,left:-elPos.left+(elPos.left-markerPos.left)+275,height:screenData.height*screenData.displayScale,width:screenData.width*screenData.displayScale};$img.css(imageStyle),element.on("mouseenter.history-overlay",function(){var toolDiff=29*(3-element.closest(".comment-item-options__tools").children("li:visible").length),containerStyle={top:elPos.top-$commentContainer.scrollTop(),left:elPos.left+toolDiff};$screenImage.css(containerStyle),$body.append($screenImage),timer=$timeout(function(){$screenImage.offset().top-$window.scrollTop()<=47&&$screenImage.addClass("flip")},1),$screenImage.stop().fadeIn(250)}),element.on("mouseleave.history-overlay",function(){$screenImage.stop().fadeOut(250,function(){$screenImage.remove(),$screenImage.removeClass("flip")})}),$scope.$on("$destroy",function(){element.unbind("mouseenter.history-overlay"),element.unbind("mouseleave.history-overlay"),$timeout.cancel(timer)})};return{link:linkFunction}}app.directive("invHistoryOverlay",Directive)}(angular,InVision);;
//!file:i8n-telephone.js
!function(ng,app){"use strict";function Directive(){var linkFunction=function($scope,element,attributes){var defaultCountry=$scope[attributes.countryCode]||"us";$(element).intlTelInput({defaultCountry:defaultCountry,americaMode:!1,defaultStyling:!0}),$scope.$watch(attributes.countryCode,function(newValue,oldValue){newValue!==$(element).intlTelInput("getSelectedCountryData").iso2&&$(element).intlTelInput("selectCountry",newValue)}),$scope.$on("$destroy",function(){})};return{link:linkFunction,restrict:"A"}}app.directive("invI8nTelephone",Directive)}(angular,InVision);;
//!file:key-combos.js
!function(ng,app){"use strict";app.directive("invKeyCombos",function($document,_){function Controller($scope,$element){function addListener(config){var currentConfig=getCurrentConfig();currentConfig&&removeExistingBindings(currentConfig),listeners.push(config),addNewBindings(config)}function addNewBindings(config){for(var eventType in config)$document.on(eventType,config[eventType])}function getCurrentConfig(){var lastIndex=listeners.length-1;return listeners[lastIndex]||null}function removeExistingBindings(config){for(var eventType in config)$document.off(eventType)}function removeActiveListener(){removeExistingBindings(listeners.pop());var nextConfig=getCurrentConfig();nextConfig&&addNewBindings(nextConfig)}function removeInactiveListener(config){listeners=_.without(listeners,config)}function removeListener(config){var currentConfig=getCurrentConfig();currentConfig===config?removeActiveListener():removeInactiveListener(config)}var listeners=[];return{addListener:addListener,removeListener:removeListener}}function linkFunction($scope,element,attributes,controller){}return{controller:Controller,link:linkFunction,required:"@",restrict:"A"}})}(angular,InVision);;
//!file:loading-sequence.js
!function(ng,app){"use strict";app.directive("invLoadingSequence",function($timeout,$,_,config){var linkFunction=function($scope,element,attributes){function handleEndOfLoadingSequence(){$scope.$apply($scope.loadingSequenceCompleted)}function setStatus(percentage){var totalImagesInSprite=20,imagesPerRow=5,imageWidth=258,index=Math.ceil(totalImagesInSprite*percentage/100)-1;percentage&&(index=Math.max(0,index));var row=Math.floor(index/imagesPerRow),column=index%imagesPerRow,xOffset=-1*column*imageWidth,yOffset=-1*row*imageWidth;dom.status.css("background-position",xOffset+"px "+yOffset+"px")}var dom={target:element,loader:element.find("div.loading-backdrop"),status:element.find("div.status"),text:element.find(".loading-container")};$scope.$watch("percentLoaded",function(newValue){setStatus(newValue),newValue>config.LOADING_COMPLETE_PERCENT&&((config.isLite===!1||void 0===config.isLite)&&$scope.setDesktopLoadingForGifIsReady(!0),dom.text.fadeOut(250,function(){dom.loader.fadeOut(250,handleEndOfLoadingSequence)}))})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:mobile-simulated-loading-screen.js
!function(ng,app){"use strict";app.directive("invMobileSimulatedLoadingScreen",function($timeout){var linkFunction=function($scope,element,attributes){attributes.$observe("isShareLoaded",function(newVal){"false"==newVal&&$timeout(function(){$scope.setMobileLoadingForGifIsReady(!0),element.fadeOut(600)},1e3)}),$scope.$on("relaunchMobileApp",function(event,screenID){element.show(),$scope.setMobileLoadingForGifIsReady(!1),$timeout(function(){$scope.setMobileLoadingForGifIsReady(!0),element.fadeOut(600)},1e3)})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:mobile-skin.js
!function(ng,app){"use strict";app.directive("invMobileSkin",function($timeout,config,modelEvents){var linkFunction=function($scope,element,attributes){var positionSkin=function(){if(1==config.share.isEmbed)return void $(element).css("margin","20px 0 0 20px");var winHeight=$(window).height(),skinHeight=($(window).height(),$(element).height()),shadowHeight=0,bottomBarHeight=0;if(skinHeight-shadowHeight+25>=winHeight-bottomBarHeight)var topMargin="25px";else var topMargin=(winHeight-bottomBarHeight-skinHeight+shadowHeight)/2;$(element).css("margin-top",Math.round(topMargin))};$scope.deviceTemplate.mobileDeviceID>0&&($timeout(function(){positionSkin()}),$(window).on("resize.mobileSkin",positionSkin),element.on("mousedown.mobileSkin",function(event){event.preventDefault(),$(event.target).parents(".mobile-viewport").length||modelEvents.trigger("flashHotspots")})),$scope.showArrows=!0,$scope.$on("$destroy",function(){$(window).off("resize.mobileSkin"),element.off("mousedown.mobileSkin")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:mobile-slideshow-nav.js
!function(ng,app){"use strict";app.directive("invMobileSlideshowNav",function($timeout,sessionService,screenService){var linkFunction=function($scope,element,attributes){function updateSlideshowSettings(){var isSlideshowNavAllowed=sessionService.get("isSlideshowNavAllowed"),hasMultipleScreens=$(".screen").length>1;$scope.isShowingMobileSlideshowNav=isSlideshowNavAllowed!==!1&&hasMultipleScreens?!0:!1}function setupMobileNav(){$(".skin").on("mouseenter.invMobileSlideshowNav",function(e){$(e.target).is(".preview-nav img")||$(".preview-nav").removeClass("visible")}),$(".skin").on("mouseleave.invMobileSlideshowNav",function(e){$(".preview-nav").addClass("visible")})}function killEventHandlers(){$(".skin").off("mouseenter.invMobileSlideshowNav"),$(".skin").off("mouseleave.invMobileSlideshowNav")}$scope.showPreviousScreen=function(){$scope.$broadcast("showPreviousScreen"),$scope.$broadcast("showSlideshowStatus")},$scope.showNextScreen=function(){$scope.$broadcast("showNextScreen"),$scope.$broadcast("showSlideshowStatus")},$scope.isShowingMobileSlideshowNav=!0,$scope.currentScreenIndex=screenService.getCurrentScreenIndex(),$scope.screenCount=screenService.getTotalScreenCount(),$scope.$on("isShowingSlideshowNav",function(event,value){updateSlideshowSettings()}),$scope.$on("$destroy",function(){killEventHandlers()}),$scope.$watch(screenService.getCurrentScreenIndex,function(newValue){$scope.currentScreenIndex=newValue}),$timeout(function(){setupMobileNav(),updateSlideshowSettings()})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:notify-text.js
!function(ng,app){"use strict";function Directive(){var linkFunction=function($scope,element,attributes){function setText(names,others){$(element).text("Send notification to "+names+" "+others)}var notifyNames="0 people",notifyOthers="";attributes.$observe("names",function(value){value=value||"0 people",notifyNames=value,setText(value,notifyOthers)}),attributes.$observe("others",function(value){value-=1;var text=0>=value?"":"& "+value+" other"+(value>1?"s":"");notifyOthers=text,setText(notifyNames,text)})};return{link:linkFunction,restrict:"A"}}app.directive("invNotifyText",Directive)}(angular,InVision);;
//!file:preview-auto-redirect-listener.js
!function(ng,app){"use strict";function Directive($,_,$rootScope,$timeout,hotspotService){return{restrict:"A",scope:!0,link:function($scope,element,attributes){function getAutoRedirectHotspot(screenID){var hotspots=hotspotService.getHotspotsByScreenID(screenID),autoRedirectHotspot=_.findWithProperty(hotspots,"eventTypeID",9);void 0!=autoRedirectHotspot?($timeout.cancel(timer),timer=$timeout(function(){$scope.$broadcast("autoRedirectTriggered.share",autoRedirectHotspot,void 0,!0),$timeout.cancel(timer)},autoRedirectHotspot.metaData.redirectAfter)):$timeout.cancel(timer)}var delayOnLoadTimer;$scope.$watch("screen",function(newScreen,oldScreen){$timeout.cancel(timer),"true"==attributes.isShareLoaded&&getAutoRedirectHotspot(newScreen.id)}),$rootScope.$on("isBrowseOpen",function(event,isOpen){isOpen?$timeout.cancel(timer):getAutoRedirectHotspot($scope.screenID)}),attributes.$observe("isShareLoaded",function(newValue){"true"==newValue&&($timeout.cancel(delayOnLoadTimer),delayOnLoadTimer=$timeout(function(){getAutoRedirectHotspot($scope.screenID)},2e3))}),$scope.$on("$destroy",function(event){$timeout.cancel(timer),$timeout.cancel(delayOnLoadTimer)})}}}app.directive("invPreviewAutoRedirectListener",Directive);var timer}(angular,InVision);;
//!file:preview-helper.js
!function(ng,app){"use strict";var isViewportEventRegistered=!1;app.directive("invPreviewHelper",function($timeout,keyComboHelper,_,modelEvents,sessionService,config){var linkFunction=function($scope,element,attributes,keyCombosController){function flashPreviewHotspots(fadeInDuration,pauseDuration,fadeOutDuration){fadeInDuration=fadeInDuration||100,pauseDuration=pauseDuration||200,fadeOutDuration=fadeOutDuration||200;var hotspots=element.closest("body").find("a.hotspot");hotspots.is(".flashing")||hotspots.addClass("flashing").stop(!0).fadeTo(fadeInDuration,1).delay(pauseDuration).fadeTo(fadeOutDuration,0,function(){$(this).removeClass("flashing")})}function showSlideshowStatus(forceShow){forceShow=!!forceShow,($scope.isShowingSlideshowNav===!0||forceShow)&&slideshowStatus.stop(!0,!0).show().delay(1e3).fadeOut(500)}function highlightSlideshowNav(){$scope.isShowingSlideshowNav!==!0||$scope.project.isMobile||showSlideshowStatus()}function keyboardNavUsed(){$scope.keyboardNavUsed()}function showBrowse(){$scope.$apply(function(){$scope.openBrowse()})}function showComments(){$scope.$apply(function(){$scope.navigateToScreenComments()})}function showNextScreen(){$scope.$apply(function(){$scope.showNextScreen();var forceStatus=!!$scope.project.isMobile;showSlideshowStatus(forceStatus)})}function showPreviousScreen(){$scope.$apply(function(){$scope.showPreviousScreen();var forceStatus=!!$scope.project.isMobile;showSlideshowStatus(forceStatus)})}function hoverLeave(event){var $skin=$(".mobile-skin"),$viewport=$(".mobile-viewport"),circleWidth=$viewport.outerWidth(!0),circleHeight=$viewport.outerHeight(!0),circleLeft=$viewport.offset().left,circleTop=$viewport.offset().top,circlePos={x:circleLeft+circleWidth/2,y:circleTop+circleHeight/2,radius:circleWidth/2},distance=Math.sqrt(Math.pow(event.pageX-circlePos.x,2)+Math.pow(event.pageY-circlePos.y,2));distance>circlePos.radius&&sessionService.get("inViewport")&&(sessionService.set("inViewport",!1),$skin.removeClass("viewport-hover"),$(this).off("mousemove.viewportIntent"))}function verifyHoverIntent(event){var $skin=$(".mobile-skin"),$viewport=$(".mobile-viewport");if(0!==parseInt($viewport.css("border-top-left-radius"))&&"iPhoneX"!=mobileSkinName){var circleWidth=$viewport.outerWidth(!0),circleHeight=$viewport.outerHeight(!0),circleLeft=$viewport.offset().left,circleTop=$viewport.offset().top,circlePos={x:circleLeft+circleWidth/2,y:circleTop+circleHeight/2,radius:circleWidth/2};$(this).on("mousemove.viewportIntent",function(event){var distance=Math.sqrt(Math.pow(event.pageX-circlePos.x,2)+Math.pow(event.pageY-circlePos.y,2));distance<=circlePos.radius&&!sessionService.get("inViewport")?(sessionService.set("inViewport",!0),isChrome46()||$skin.addClass("viewport-hover")):distance>circlePos.radius&&sessionService.get("inViewport")&&(sessionService.set("inViewport",!1),$skin.removeClass("viewport-hover"))})}else sessionService.set("inViewport",!0),isChrome46()||$skin.addClass("viewport-hover")}function isChrome46(){var version=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),platform=navigator.platform;return"MacIntel"===platform&&!!version&&46===parseInt(version[2],10)}var slideshowNav=element.find(".slideshow-nav"),slideshowStatus=slideshowNav.find(".slideshow-status");if(!$scope.isUserTesting){var mousedata={threshold:5,x:0,y:0};element.on("mousedown.invPreviewHelper",function(event){mousedata.x=event.clientX,mousedata.y=event.clientY})}var viewportElements=".mobile-viewport, .mobile-status-bar, #mobile_transition_layer",mobileSkinName=attributes.mobileSkinName;if(void 0===sessionService.get("inViewport")&&sessionService.set("inViewport",!1),!isViewportEventRegistered&&$scope.project.isMobile){isViewportEventRegistered=!0;var $html=$("html");$html.on("mouseenter.viewportIntent touchstart.viewportIntent",viewportElements,verifyHoverIntent),$html.on("mouseleave.viewportIntent",viewportElements,hoverLeave)}var listenerConfig={};listenerConfig["keydown.invPreviewKeyCombos"]=function(event){if(!("INPUT"==event.target.tagName.toUpperCase()||$(".tour-point-form").length>0||event.metaKey))if(keyComboHelper.isLeftArrowKeyEvent(event)){if(event.preventDefault(),!$scope.share.isLoadAllScreens)return;$scope.project.isMobile?$timeout(function(){$scope.showPreviousScreen()}):showPreviousScreen(),keyboardNavUsed()}else if(keyComboHelper.isRightArrowKeyEvent(event)){if(event.preventDefault(),!$scope.share.isLoadAllScreens)return;$scope.project.isMobile?$timeout(function(){$scope.showNextScreen()}):showNextScreen(),keyboardNavUsed()}else!event.ctrlKey&&keyComboHelper.isCharKeyEvent(event,"c")?(event.preventDefault(),showComments()):(keyComboHelper.isCharKeyEvent(event,"b")||keyComboHelper.isCharKeyEvent(event,"j"))&&(event.preventDefault(),showBrowse())},keyCombosController.addListener(listenerConfig),$scope.$on("showSlideshowStatus",function(){showSlideshowStatus(!0)}),$scope.$watch("isLoadingOpen",function(newValue,oldValue){newValue!==oldValue&&($scope.isUserTesting||newValue!==!1||(flashPreviewHotspots(),highlightSlideshowNav()))}),$scope.$watch("isShowingSlideshowNav",function(newValue,oldValue){newValue!==oldValue&&newValue===!0&&$scope.isLoadingOpen===!1&&highlightSlideshowNav()}),modelEvents.on("flashHotspots.preview",function(event){flashPreviewHotspots()}),$scope.$on("$destroy",function(){keyCombosController.removeListener(listenerConfig),modelEvents.off("flashHotspots.preview"),element.off("mousedown.invPreviewHelper")})};return{link:linkFunction,require:"^invKeyCombos",restrict:"A"}})}(angular,InVision);;
//!file:realtime.js
!function(ng,app){"use strict";function Directive($window,config,Pusher,modelEvents,_){function link($scope,element,attributes){function buildModelEventTriggerArguments(event,eventType,propertyNames){var triggerArguments=_.map(propertyNames,function(propertyName){return event.data[propertyName]});return triggerArguments.unshift(eventType),triggerArguments}function getChannelName(userID){var privateChannelName=["private","user",userID];return config.featureFlags["share-silver-1081-pusher-namespace"]&&config.featureFlags["pusher-namespace"]&&config.pusher.namespace&&privateChannelName.push(config.pusher.namespace),privateChannelName.join("-")}function mapPushEvent(channel,eventType,property1,property2,propertyN){var propertyNames=_.toArray(arguments),channel=propertyNames.shift(),eventType=propertyNames.shift();channel.bind(eventType,function(event){var triggerArguments=buildModelEventTriggerArguments(event,eventType,propertyNames);$scope.$apply(function(){modelEvents.trigger.apply(modelEvents,triggerArguments)})})}function subscribeToChannelEvents(channel){return mapPushEvent(channel,"screenDeleted","screenID","projectID"),mapPushEvent(channel,"screenUploaded","screen"),mapPushEvent(channel,"screenSortNotification","projectID"),mapPushEvent(channel,"screenConfigUpdated","screen"),mapPushEvent(channel,"projectUpdated","project"),mapPushEvent(channel,"hotspotCreated","hotspotID","projectID"),mapPushEvent(channel,"hotspotUpdated","hotspotID","projectID"),mapPushEvent(channel,"hotspotDeleted","hotspotID","projectID"),mapPushEvent(channel,"commentAdded","commentID","conversationID","projectID"),mapPushEvent(channel,"commentUpdated","commentID","conversationID","projectID"),mapPushEvent(channel,"commentDeleted","commentID","conversationID","projectID"),mapPushEvent(channel,"conversationAdded","conversationID","screenID","projectID"),mapPushEvent(channel,"conversationUpdated","conversationID","projectID"),mapPushEvent(channel,"conversationDeleted","conversationID","projectID"),mapPushEvent(channel,"conversationSubscribersUpdated","conversationID","notify"),mapPushEvent(channel,"sessionInactive","identifier"),channel}$window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0,Pusher.channel_auth_endpoint="/api/pusher/authenticate";var pusherOptions=config.allowExternalScripts!==!1?{}:{disableStats:!0},pusher=new Pusher(config.pusher.appKey,pusherOptions),userChannel=null,unwatchUserID=$scope.$watch(function(){return config.user.id},function(newUserID,oldUserID){config.user.isAnonymous||unwatchUserID(),userChannel&&oldUserID&&pusher.unsubscribe(getChannelName(oldUserID)),userChannel=subscribeToChannelEvents(pusher.subscribe(getChannelName(newUserID))),userChannel.bind("pusher:subscription_error",function(status){403==status&&pusher.unsubscribe(getChannelName(newUserID))})})}return{link:link,restrict:"A"}}app.directive("invRealtime",Directive)}(angular,InVision);;
//!file:screen-version-image-scaler.js
!function(ng,app){"use strict";function Directive(){function link($scope,element,attributes){function scaleImage(){var imageWidth=element[0].naturalWidth,displayScale=(element[0].naturalHeight,$scope.screen.displayScale),scaledWidth=displayScale*imageWidth;element.css({height:"auto",width:scaledWidth+"px"})}element.on("load.invHistoryImageLoadEvent",function(event){scaleImage()}),$scope.$watch("activeVersion.imageUrl",function(oldImageUrl,newImageUrl){oldImageUrl!=newImageUrl&&scaleImage()}),$scope.$watch("screen.displayScale",function(oldDisplayScale,newDisplayScale){oldDisplayScale!=newDisplayScale&&scaleImage()}),$scope.$on("$destroy",function(){element.off("load.invHistoryImageLoadEvent")})}return{link:link,restrict:"A"}}app.directive("invScreenVersionImageScaler",Directive)}(angular,InVision);;
//!file:screen.js
!function(ng,app){"use strict";app.directive("invScreen",function($timeout,_){var linkFunction=function($scope,element,attributes){function handleImageLoaded(){element.off("load.invScreen").off("error.invScreen"),$timeout(function(){$scope.imageLoadedForScreen($scope.screen)})}function handleScreenSelectionForGif(newValue,oldValue){newValue!==oldValue&&newValue&&element.prop("src")&&(element.attr("src",imgGifPrev.src),setTimeout(function(){element.attr("src",imgGif.src)},0))}var imgGifPrev,imgGif;element.on("load.invScreen",handleImageLoaded),element.on("error.invScreen",handleImageLoaded),$scope.screen&&$scope.screen.isGif&&(imgGif||(imgGif=new Image,imgGif.src=$scope.screen.imageUrl,imgGifPrev=new Image),$scope.$watch("selectedScreen.id",function(val){val!=$scope.screen.id&&(imgGifPrev.src=$scope.selectedScreen.imageUrl)}),$scope.$watch("( selectedScreen.id == screen.id && mobileLoadingForGifIsReady == true && desktopLoadingForGifIsReady == true && isLoadingOpen == false )",handleScreenSelectionForGif)),$scope.$on("$destroy",function(){element.off("load.invScreen"),element.off("error.invScreen")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:screens.js
!function(ng,app){"use strict";app.directive("invScreens",function($window,_,config,$location,$timeout,screenService){var linkFunction=function($scope,element,attributes){function handleSelectedScreenChange(screen,isSubviewSwitch){if(isFirstScreenChange&&(isFirstScreenChange=!1),screen){var screenWidth=screen.width*screen.displayScale,screenHeight=screen.height*screen.displayScale,isMaintainScrollPosition=isFirstScreenChange?!1:"false"!==$location.search().maintainScrollPosition;if(!(windowWidth>=screenWidth&&windowHeight>=screenHeight)){var targetScrollLeft;targetScrollLeft=isMaintainScrollPosition&&!isSubviewSwitch?$jqWindow.scrollLeft():"left"===screen.alignment?0:"right"===screen.alignment?screenWidth-windowWidth:(screenWidth-windowWidth)/2;var targetScrollTop=0;isMaintainScrollPosition&&(targetScrollTop=$jqWindow.scrollTop()),(screen.zoomScrollBehavior!==screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING||"comments"==$scope.subview)&&$jqWindow.scrollLeft(targetScrollLeft),"comments"!==$scope.subview&&$jqWindow.scrollTop(targetScrollTop),$timeout(function(){(screen.zoomScrollBehavior!==screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING||"comments"==$scope.subview)&&$jqWindow.scrollLeft(targetScrollLeft),"comments"!==$scope.subview&&$jqWindow.scrollTop(targetScrollTop)})}}}var isFirstScreenChange=!0,$jqWindow=$(window),windowWidth=$jqWindow.width(),windowHeight=$jqWindow.height();$jqWindow.on("resize.invScreens",function(){windowWidth=$jqWindow.width(),windowHeight=$jqWindow.height()});var unwatchLoading=$scope.$watch(function(){return $scope.getPercentOfScreensLoaded()>config.LOADING_COMPLETE_PERCENTAGE},function(isLoaded){isLoaded&&(unwatchLoading(),$scope.$watch("selectedScreen",function(newScreen,oldScreen){handleSelectedScreenChange(newScreen,!1)}))});$scope.$watch("subview",function(newSection,oldSection){"comments"==newSection&&"comments"!=oldSection&&handleSelectedScreenChange($scope.screen,!0)}),$scope.$on("$destroy",function(){$jqWindow.off("resize.invScreens")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:share-screen-viewer.js
!function(ng,app){"use strict";function Directive(_,$location,$routeParams,$timeout,$window,config,ScreenAlignmentHelper){var linkFunction=function($scope,element){function getConfig(){var _share=$scope.share;_share=_.omit(_share,"id");var _config=_.merge($scope.project,$scope.screen);return _config=_.merge(_config,_share),_config.isShare=!0,_config.mobileStatusbarBackgroundIsTransparent=""===_config.mobileStatusbarBackgroundColor,_config}function prepData(data){return data&&data.hasOwnProperty("forceRefreshGUID")?_.omit(data,"forceRefreshGUID"):data}function syncScreenAlignment(alignment){if(!alignment){var helper=new ScreenAlignmentHelper;alignment=helper.calculate($scope.screen)}InvScreenViewer.store.setAlignment(alignment)}function mergeDataIntoScreen(screen){var _screen=angular.copy(screen),loadingScreenID=$scope.project.loadingScreen.id||null;return _screen.id!==loadingScreenID&&(_screen.displayScale=_screen.displayScale||1,_screen.hotspots=$scope.hotspots,_screen.config=getConfig()),_screen}function handleDataChange(newValue,oldValue){if(newValue!==oldValue){var _screen=mergeDataIntoScreen($scope.screen),_screens=_.map($scope.screens,mergeDataIntoScreen),_project=$scope.project,_config=getConfig(),allHotspots=prepData($scope.allHotspots);_project.loadingScreen=_.withProperty(_screens,"screenTypeID",3)[0]||"",$scope.hasChangedScreens||$scope.startingScreenID!==_screen.id||($scope.isNavigationDisabled=_.isArray(_screen.hotspots)&&_screen.hotspots.length>0),InvScreenViewer.store.pushNewData({project:prepData(_project),screen:prepData(_screen),currentScreenID:_screen.id,screens:prepData(_screens),screenCount:_.size(_screens),allHotspots:allHotspots,config:prepData(_config),templates:prepData($scope.templates),tourPoints:prepData($scope.tourPoints),disableHotspotFlash:_config.isUserTesting||!1,isNavigationDisabled:$scope.isNavigationDisabled}),positionOtherViewports(),window.setTimeout(syncScreenAlignment)}}function pushScreenCount(){InvScreenViewer.store.pushNewData({screenCount:_.size($scope.screens)})}function remount(_screen,_screens){ReactDOM.unmountComponentAtNode(element[0]),ReactDOM.render(React.createFactory(InvScreenViewer.component)({screen:_screen,screens:_screens,project:prepData($scope.project),screenCount:100}),element[0]),pushScreenCount()}function init(){var _screen=mergeDataIntoScreen($scope.screen),_screens=_.map($scope.screens,mergeDataIntoScreen),disableHotspotFlash=$scope.isUserTesting;InvScreenViewer.store.getDefaultData({screen:prepData(_screen),screens:prepData(_screens),project:prepData($scope.project),tourPoints:prepData($scope.tourPoints),disableHotspotFlash:disableHotspotFlash||!1,screenCount:_.size(_screens),config:getConfig()}),remount(_screen,_screens),syncScreenAlignment()}function positionOtherViewports(){if($scope.project.isMobile){var viewportPosition=$("#viewport").offset(),statusBarHeight=statusBarHeights[$scope.project.mobileTemplate.mobileSkin]||20,viewportHeight=parseInt($scope.project.mobileTemplate.viewportHeight,10),transitionLayer=$("#mobile_transition_layer, #mobile_sketch_layer"),transitionImage=transitionLayer.find(".target-screen").find("img");$scope.project.mobileStatusbarIsOpaque&&$scope.project.mobileStatusbarIsVisible&&(viewportHeight-=statusBarHeight);var transitionLayerStyles={overflow:"hidden",top:viewportPosition.top-window.pageYOffset,left:viewportPosition.left-window.pageXOffset,height:viewportHeight,width:$scope.project.mobileTemplate.viewportWidth};$scope.project&&$scope.project.mobileTemplate&&"iPhoneX"===$scope.project.mobileTemplate.mobileSkin&&(transitionLayerStyles.borderRadius=!$scope.project.mobileStatusbarIsVisible||$scope.project.mobileStatusbarBackgroundIsTransparent||$scope.project.mobileStatusbarIsOpaque?$scope.project.mobileStatusbarIsOpaque&&$scope.project.mobileStatusbarIsVisible?"0 0 40px 40px":"40px":"42px 42px 40px 40px"),transitionLayer.css(transitionLayerStyles),transitionImage.css({marginTop:-InvScreenViewer.store.transitionScroll.y||0})}}{var $win=angular.element($window),niceScrollInstance=null;angular.noop}"startingScreenID"in $scope||($scope.startingScreenID=parseInt($routeParams.screenID,10)||$scope.screen.id);var statusBarHeights={iPhoneX:44,iPad:15,"HTC One":24,"Samsung Galaxy S4":24};$scope.$on("$destroy",function(){ReactDOM.unmountComponentAtNode(element[0]),$win.off("resize.invScreenViewer"),$win.off("scroll.invScreenViewer")}),$scope.$on("loadingSequenceCompleted",function(){InvScreenViewer.store.triggerInitialSyncScreen(!0)}),$scope.$watch("deviceTemplate",handleDataChange,!0),$scope.$watch("screen",handleDataChange,!0),$scope.$watch("screens",handleDataChange,!0),$scope.$watch("hotspots",handleDataChange,!0),$scope.$watch("allHotspots",handleDataChange,!0),$scope.$watch("templates",handleDataChange,!0),$scope.$watch("share",handleDataChange,!0),$scope.$watch("tourPoints",handleDataChange,!0),$scope.project.isMobile&&($win.on("resize.invScreenViewer",positionOtherViewports),$win.on("scroll.invScreenViewer",positionOtherViewports)),$scope.$on("screenAlignment:update",function(event,alignment){syncScreenAlignment(alignment)}),$scope.$on("screenViewer:screenChanged",function(){$scope.hasChangedScreens=!0,InvScreenViewer.store.isOverlayOpen&&InvScreenViewer.store.closeOverlay()}),InvScreenViewer.store.listenTo(InvScreenViewer.actions.angularLocationChange,function(targetScreenID){_.isUndefined(targetScreenID)||$timeout(function(){$scope.navigateToTargetScreen(targetScreenID)})}),InvScreenViewer.store.listenTo(InvScreenViewer.actions.angularDoTransition,function(hotspot,transitionData){$timeout(function(){$scope.$emit("doTransition",hotspot,transitionData)})}),InvScreenViewer.store.listenTo(InvScreenViewer.actions.setMobileScreenViewport,function(ns){niceScrollInstance=ns}),$scope.$watch("selectedTourPoint",function(newValue,oldValue){newValue!==oldValue&&InvScreenViewer.tourPointsStore.onSetSelectedTourPoint(newValue)}),InvScreenViewer.store.listenTo(InvScreenViewer.actions.handleTourPointClick,function(tourPoint){$scope.selectTourPoint(tourPoint)}),InvScreenViewer.store.listenTo(InvScreenViewer.actions.handleTourPointMouseEnter,function(tourPoint){$scope.selectTooltipTourPoint(tourPoint)}),InvScreenViewer.store.listenTo(InvScreenViewer.actions.handleTourPointMouseLeave,function(){$scope.clearTooltipTourPoint()}),init()};return{restrict:"E",link:linkFunction}}app.directive("invShareScreenViewer",Directive)}(angular,InVision);;
//!file:share-sketch-builder.js
!function(ng,app){"use strict";app.directive("invShareSketchBuilder",function($,$document,modelEvents,_){return{restrict:"A",transclude:!0,replace:!0,templateUrl:"/share/app/views/directives/share-sketch-builder.htm",link:function($scope,element,attrs){var sketchBuilder_window=$(element).find("#builderWindow"),sketch_tool=$(element).find(".sketch_tool"),sketchImageWrapper=$(element).find(".sketchImage_wrapper"),sketch_image=$(element).find(".sketch_image"),$whiteboard=($(element).find("#sketchToolbar"),$(element).find(".tools"),$(element).find("#whiteboard_overlay")),$scrollWrap=$(element).find(".scroll-wrap"),$body=$("body"),init_sketch=function(){sketch_image.on("dragstart",function(event){event.preventDefault()}),sketch_tool.on("click",function(e){e.preventDefault(),sketch_tool.removeClass("active").filter($(this)).addClass("active")}),sketchImageWrapper.onselectstart=function(){return!1};var UndoManager=function(){function execute(command){command&&(undoManagerContext=!0,command.f.apply(command.o,command.p),undoManagerContext=!1)}function createCommand(undoObj,undoFunc,undoParamsList,undoMsg,redoObj,redoFunc,redoParamsList,redoMsg){return{undo:{o:undoObj,f:undoFunc,p:undoParamsList,m:undoMsg},redo:{o:redoObj,f:redoFunc,p:redoParamsList,m:redoMsg}}}var callback,commandStack=[],index=-1,undoManagerContext=!1;return{register:function(undoObj,undoFunc,undoParamsList,undoMsg,redoObj,redoFunc,redoParamsList,redoMsg){undoManagerContext||(commandStack.splice(index+1,commandStack.length-index),commandStack.push(createCommand(undoObj,undoFunc,undoParamsList,undoMsg,redoObj,redoFunc,redoParamsList,redoMsg)),index=commandStack.length-1,callback&&callback())},setCallback:function(callbackFunc){callback=callbackFunc},undo:function(){var command=commandStack[index];command&&(execute(command.undo),index-=1,callback&&callback())},redo:function(){var command=commandStack[index+1];command&&(execute(command.redo),index+=1,callback&&callback())},clear:function(){var prev_size=commandStack.length;commandStack=[],index=-1,callback&&prev_size>0&&callback()},hasUndo:function(){return-1!==index},hasRedo:function(){return index<commandStack.length-1}}};!function(){var sketchIMG_width=sketch_image.width(),sketchIMG_height=sketch_image.height();window.div_paper=sketchImageWrapper,window.paper=new Raphael(div_paper[0],0,0),window.stack={},window.glow_stack={},window.undo_manager=new UndoManager,paper.setSize(sketchIMG_width,sketchIMG_height),$(element).find("a#undo").on("click",function(e){e.preventDefault(),undo_manager.hasUndo()&&undo_manager.undo()}),$(element).find("a#redo").on("click",function(e){e.preventDefault(),undo_manager.hasRedo()&&undo_manager.redo()}),undo_manager.setUndoKeydown=function(){$document.on("keydown.sketchBuilderModal",function(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),undo_manager.hasUndo()&&undo_manager.undo())})},undo_manager.setCallback(function(){undo_manager.hasUndo()?$(element).find("a#undo").removeClass("inactive"):$(element).find("a#undo").addClass("inactive"),undo_manager.hasRedo()?$(element).find("a#redo").removeClass("inactive"):$(element).find("a#redo").addClass("inactive")});var Sketch=function(o){"undefined"!=typeof o&&$.extend(!0,this,o);var $this=this;this.startX=0,this.startY=0,this.offset=this.findPos(div_paper),$(window).resize(function(){$this.offset=$this.findPos(div_paper)}),this.el=$(element).find(".sketch_tool")};Sketch.prototype.findPos=function(obj){obj=obj[0];var curleft=0,curtop=0;if(obj.offsetParent){do curleft+=obj.offsetLeft,curtop+=obj.offsetTop;while(obj=obj.offsetParent);return[curleft,curtop]}return!1},Sketch.prototype.normalizeContent=function(html,invert){return invert?html=html.replace(/\r\n/gi,"<br>"):(html=html.replace(/<div>/gi,"\r\n"),html=html.replace(/<\/div>/gi,""),html=html.replace(/(<br\s*\/?>)/gi,"\r\n")),html},Sketch.prototype.getCoords=function(event){return event=event||window.event,{x:event.clientX+$scrollWrap.scrollLeft(),y:event.clientY+$scrollWrap.scrollTop()}},Sketch.prototype.add_glow=function(el){};var SketchRectangular=function(){return this.figure=null,new Sketch(this)};SketchRectangular.prototype.redraw=function(event){var mousePos=rectangular.getCoords(event),currentX=mousePos.x-rectangular.offset[0],currentY=mousePos.y-rectangular.offset[1],width=currentX-rectangular.startX,height=currentY-rectangular.startY;rectangular.figure.attr(0>width?{x:currentX,width:-1*width}:{x:rectangular.startX,width:width}),rectangular.figure.attr(0>height?{y:currentY,height:-1*height}:{y:rectangular.startY,height:height}),rectangular.figure.attr({fill:"#fff","fill-opacity":0})},SketchRectangular.prototype.draw=function(){var that=this;this.el.filter(".square").on("click",function(){div_paper.off(),deselectHandObject(),undo_manager.setUndoKeydown(),hand.wrapper.css({cursor:"url('/share/app/img/cursor-square.png') 23 23,crosshair"}),div_paper.on({mousedown:function(event){event.preventDefault();var mouseCoords=that.getCoords(event);that.startX=mouseCoords.x-that.offset[0],that.startY=mouseCoords.y-that.offset[1],that.figure=paper.rect(that.startX,that.startY,0,0,10).attr({stroke:"#f74272","stroke-width":4,"stroke-opacity":1}),div_paper.on("mousemove",that.redraw),$document.on("mouseup.sketchDraw",function(){return 0===that.figure.attr("width")?void that.figure.remove():(that.figure&&(that.figure.toFront(),stack[that.figure.id]=that.figure,undo_manager.register(that.figure,that.figure.hide,[],"Hide Rect",that.figure,that.figure.show,[],"Show Rect")),div_paper.off("mousemove"),void $document.off("mouseup.sketchDraw"))})}})})};var SketchCircle=function(){return this.figure=null,new Sketch(this)};SketchCircle.prototype.redraw=function(event){var mousePos=circle.getCoords(event),currentX=mousePos.x-circle.offset[0],currentY=mousePos.y-circle.offset[1],width=currentX-circle.startX,height=currentY-circle.startY,size=width>height?width:height;size/=2,hand.wrapper.css({cursor:"url('/share/app/img/cursor-circle.png') 23 23,crosshair"}),circle.figure.attr(0>size?{cx:circle.startX+size,rx:-1*size}:{cx:circle.startX+size,rx:size}),circle.figure.attr(0>size?{cy:circle.startY+size,ry:-1*size}:{cy:circle.startY+size,ry:size})},SketchCircle.prototype.draw=function(){var that=this;this.el.filter(".circle").on("click",function(){div_paper.off(),deselectHandObject(),undo_manager.setUndoKeydown(),hand.wrapper.css({cursor:"url('/share/app/img/cursor-circle.png') 23 23,crosshair"}),div_paper.on({mousedown:function(event){event.preventDefault();var mouseCoords=that.getCoords(event);that.startX=mouseCoords.x-that.offset[0],that.startY=mouseCoords.y-that.offset[1],that.figure=paper.ellipse(that.startX,that.startY,0,0).attr({fill:"#fff","fill-opacity":0,stroke:"#f74272","stroke-width":4,"stroke-opacity":1}),div_paper.on("mousemove",that.redraw),$document.on("mouseup.sketchDraw",function(){return 0===that.figure.attr("rx")?void that.figure.remove():(that.figure&&(stack[that.figure.id]=that.figure,undo_manager.register(that.figure,that.figure.hide,[],"Hide Cirle",that.figure,that.figure.show,[],"Show Cirle"),that.figure.toFront()),div_paper.off("mousemove"),void $document.off("mouseup.sketchDraw"))})}})})};var SketchLine=function(){return this.figure=null,new Sketch(this)};SketchLine.prototype.redraw=function(event){var mousePos=line.getCoords(event),currentX=mousePos.x-line.offset[0],currentY=mousePos.y-line.offset[1];line.figure.attr("path","M"+line.startX+" "+line.startY+"L"+(currentX>0?currentX:0)+" "+(currentY>0?currentY:0))},SketchLine.prototype.draw=function(){var that=this;this.el.filter(".line").on("click",function(){div_paper.off(),deselectHandObject(),undo_manager.setUndoKeydown(),hand.wrapper.css({cursor:"url('/share/app/img/cursor-line.png') 23 23,crosshair"}),div_paper.on({mousedown:function(event){event.preventDefault();var mouseCoords=that.getCoords(event);that.startX=mouseCoords.x-that.offset[0],that.startY=mouseCoords.y-that.offset[1],that.figure=paper.path(["M",that.startX,that.startY,"L"]).attr({stroke:"#f74272","stroke-width":4,"stroke-opacity":1}),div_paper.on("mousemove",that.redraw),$document.on("mouseup.sketchDraw",function(){return 0===that.figure.getTotalLength()?void that.figure.remove():(that.figure&&(stack[that.figure.id]=that.figure,undo_manager.register(that.figure,that.figure.hide,[],"Hide Line",that.figure,that.figure.show,[],"Show Line"),that.figure.toFront()),div_paper.off("mousemove"),void $document.off("mouseup.sketchDraw"))})}})})};var SketchArrow=function(){return this.figure=null,this.has_arrow=!1,new Sketch(this)};SketchArrow.prototype.redraw=function(event){var mousePos=arrow.getCoords(event),currentX=mousePos.x-arrow.offset[0],currentY=mousePos.y-arrow.offset[1];arrow.figure.attr("path","M"+arrow.startX+" "+arrow.startY+"L"+(currentX>0?currentX:0)+" "+(currentY>0?currentY:0)),arrow.figure.getTotalLength()>10&&!arrow.has_arrow&&(arrow.figure.attr({"arrow-end":"classic-wide-long","stroke-width":4,stroke:"#f74272","stroke-opacity":1}),arrow.has_arrow=!0)},SketchArrow.prototype.draw=function(){var that=this;this.el.filter(".arrow").on("click",function(){div_paper.off(),deselectHandObject(),undo_manager.setUndoKeydown(),hand.wrapper.css({cursor:"crosshair"}),div_paper.on({mousedown:function(event){event.preventDefault(),that.has_arrow=!1;var mouseCoords=that.getCoords(event);that.startX=mouseCoords.x-that.offset[0],that.startY=mouseCoords.y-that.offset[1],that.figure=paper.path(["M",that.startX,that.startY,"L"]),div_paper.on("mousemove",that.redraw)},mouseup:function(){return 0===that.figure.getTotalLength()?void that.figure.remove():(stack[that.figure.id]=that.figure,that.figure&&(that.figure.toFront(),that.figure.add_glow=!0,that.figure.hide_arrow=arrow.hide_arrow,that.figure.show_arrow=arrow.show_arrow,that.figure.move_arrow=arrow.move_arrow,that.add_glow(that.figure),undo_manager.register(that.figure,that.figure.hide_arrow,[],"Hide Arrow",that.figure,that.figure.show_arrow,[],"Show Arrow")),void div_paper.off("mousemove"))}})})},SketchArrow.prototype.hide_arrow=function(){var glows=glow_stack[this.id];"undefined"!=typeof glows&&glows.length>0&&glows.hide(),this.hide()},SketchArrow.prototype.show_arrow=function(){var glows=glow_stack[this.id];"undefined"!=typeof glows&&glows.length>0&&glows.show(),this.show()},SketchArrow.prototype.move_arrow=function(position){var glows=glow_stack[this.id];"undefined"!=typeof glows&&glows.length>0&&glows.remove(),this.transform(position),arrow.add_glow(this)};var SketchText=function(){return this.figure=null,this.toggle=!1,this.editing=!1,this.wrapper=$(".sketchImage_wrapper"),new Sketch(this)};SketchText.prototype.write=function(text,startX,startY,height){text=text.replace(/&nbsp;/gi," "),text=this.normalizeContent(text),text=_.unescape(text),window.text.figure=paper.text(startX,startY+height,text).attr({"font-family":"Arial","font-size":"18px","font-weight":"normal",fill:"#f74272","fill-opacity":1,"text-anchor":"start"}),undo_manager.register(window.text.figure,window.text.figure.hide,[],"Hide Text",window.text.figure,window.text.figure.show,[],"Show Text")},SketchText.prototype.alignTop=function(t){var b=t.getBBox(),h=Math.abs(b.y2)-Math.abs(b.y)+1;t.attr({y:b.y+h})},SketchText.prototype.draw=function(){var that=this;this.el.filter(".text").on("click",function(){div_paper.off(),that.wrapper.off(),deselectHandObject(),$document.off("keydown.sketchBuilderModal"),hand.wrapper.css({cursor:"text"}),that.wrapper.on("click",function(event){if(event.preventDefault(),event.stopPropagation(),!that.editing){if(that.toggle)return void(that.toggle=!1);that.toggle=!0;var mouseCoords=that.getCoords(event),startX=mouseCoords.x-that.offset[0]-2,startY=mouseCoords.y-that.offset[1]-12;$('<div contenteditable="true" class="type_tool"></div>').appendTo($(this)).css({top:startY,left:startX}).focus().on("blur",function(e){e.preventDefault(),e.stopPropagation();var $this=$(this),text=that.normalizeContent($this.html(),!1);return text.trim()?(that.write(text,startX,startY,9),stack[that.figure.id]=that.figure,$this.remove(),void that.figure.click(function(){if(!hand.move_tool){that.editing=!0;var el=this,html=that.normalizeContent(this.attr("text"),!0),obj=this.getBBox(),x=obj.x,y=obj.y;this.hide(),html=_.escape(html),$('<div contenteditable="true" class="type_tool">'+html+"</div>").appendTo(that.wrapper).css({top:y,left:x}).focus().on("blur",function(e){e.preventDefault(),e.stopPropagation();var $this=$(this),text=$this.html();that.editing=!1,that.toggle=!0,text.trim()||(text=html),text=text.replace(/&nbsp;/gi," "),text=_.unescape(text),undo_manager.register(el,el.attr,["text",el.attr("text")],"Undo Text",el,el.attr,["text",text],"Redo Text"),el.attr("text",that.normalizeContent(text,!1)),el.show(),$this.remove()})}})):void $this.remove()})}})})};var SketchHand=function(){return this.figure=null,this.selected=!1,this.set=paper.set(),this.wrapper=sketchImageWrapper,new Sketch(this)};SketchHand.prototype.draw=function(){var that=this;this.el.filter(".move").on({click:function(){that.move_tool=!0,that.wrapper.off(),deselectHandObject(),$document.off("keydown.sketchBuilderModal").on("keydown.sketchBuilderModal",that.deleteKey),hand.wrapper.css({cursor:"default"}),$(element).off("keydown"),$(element).find("a#delete").off(),that.set=paper.set();for(var k in stack)that.set.push(stack[k]);that.set.drag(that.move,that.start,that.up),that.set.hover(that.hoverIn,that.hoverOut),that.set.click(that.clickIn),that.wrapper.on("click",that.clickOut),$("a#delete").on("click",that.deleteKey)}}),this.el.on({click:function(){$(this).hasClass("move")||($document.off("keydown.sketchBuilderModal"),that.move_tool=!1,that.set.undrag(),$(element).off("keydown.sketchBuilderModal"),that.set.unhover(that.hoverIn,that.hoverOut))}})},SketchHand.prototype.clickIn=function(){deselectHandObject(),this.dx=this.attr("dx"),this.dy=this.attr("dy"),hand.selected=this,$(element).find("a#delete").removeClass("inactive"),this.attr({stroke:"#00aeef","stroke-opacity":1})},SketchHand.prototype.deleteKey=function(e){(8==e.keyCode||46==e.keyCode||"click"==e.type)&&(e.preventDefault(),undo_manager.register(hand.selected,hand.selected.show_arrow?hand.selected.show_arrow:hand.selected.show,[],"Show Object",hand.selected,hand.selected.hide_arrow?hand.selected.hide_arrow:hand.selected.hide,[],"Hide Object"),hand.selected.hide_arrow?hand.selected.hide_arrow():hand.selected.hide(),$(element).find("a#delete").addClass("inactive"))},SketchHand.prototype.clickOut=function(e){"svg"===e.target.nodeName&&hand.selected?(hand.selected.attr("text"===hand.selected.node.nodeName?{fill:"#f74272","fill-opacity":1,stroke:"none","stroke-opacity":0}:{fill:"#fff","fill-opacity":0,stroke:"#f74272","stroke-opacity":1}),$(element).find("a#delete").addClass("inactive")):"tspan"===e.target.nodeName&&hand.selected.attr({fill:"#00aeef","fill-opacity":1,stroke:"#00aeef","stroke-opacity":1})},SketchHand.prototype.start=function(){deselectHandObject(),this.attr({stroke:"#00aeef"}),this.dx=this.attr("dx"),this.dy=this.attr("dy"),this.previous_pos=this.transform().toString(),hand.wrapper.css({cursor:"move"}),this.unhover(hand.hoverIn,hand.hoverOut);var glows=glow_stack[this.id];"undefined"!=typeof glows&&glows.length>0&&glows.remove()},SketchHand.prototype.move=function(dx,dy){this.translate(dx-this.dx,dy-this.dy),this.dx=dx,this.dy=dy},SketchHand.prototype.up=function(){this.attr({fill:"#fff","fill-opacity":0,stroke:"#f74272","stroke-opacity":1}),hand.wrapper.css({cursor:"default"}),this.hover(hand.hoverIn,hand.hoverOut),this.add_glow&&hand.add_glow(this),this.previous_pos!==this.transform().toString()&&undo_manager.register(this,this.move_arrow?this.move_arrow:this.transform,[this.previous_pos],"Previous Position",this,this.move_arrow?this.move_arrow:this.transform,[this.transform().toString()],"Current Position")},SketchHand.prototype.hoverIn=function(){hand.wrapper.css({cursor:"move"})},SketchHand.prototype.hoverOut=function(){hand.wrapper.css({cursor:"default"})};var SketchPencil=function(){return this.figure=null,this.wrapper=sketchImageWrapper,this.pathString=null,this.startX=0,this.startY=0,new Sketch(this)};SketchPencil.prototype.redraw=function(event){var mousePos=pencil.getCoords(event),currentX=mousePos.x-pencil.offset[0],currentY=mousePos.y-pencil.offset[1];pencil.pathString+="l"+(currentX-pencil.startX)+" "+(currentY-pencil.startY),pencil.figure.attr("path",pencil.pathString),pencil.startX=currentX,pencil.startY=currentY},SketchPencil.prototype.draw=function(){var that=this;this.el.filter(".pencil").on("click",function(){that.set=paper.set(),div_paper.off(),that.wrapper.off(),deselectHandObject(),undo_manager.setUndoKeydown(),hand.wrapper.css({cursor:"url('/share/app/img/cursor-pen.png') 23 23,crosshair"}),that.wrapper.on("mousedown",function(event){event.preventDefault();var mouseCoords=that.getCoords(event);that.startX=mouseCoords.x-that.offset[0],that.startY=mouseCoords.y-that.offset[1],that.pathString="M"+that.startX+" "+that.startY+"l0 0",that.figure=paper.path(that.pathString),stack[that.figure.id]=that.figure,that.figure.attr({stroke:"#f74272","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":4,"stroke-opacity":1,"fill-opacity":0}),that.wrapper.on("mousemove",that.redraw),$document.on("mouseup.sketchDraw",function(){that.figure&&(that.figure.toFront(),undo_manager.register(that.figure,that.figure.hide,[],"Hide Pencil",that.figure,that.figure.show,[],"Show Pencil")),div_paper.off("mousemove"),$document.off("mouseup.sketchDraw")})})})},window.rectangular=new SketchRectangular,rectangular.draw(),window.circle=new SketchCircle,circle.draw(),window.line=new SketchLine,line.draw(),window.arrow=new SketchArrow,arrow.draw(),window.text=new SketchText,text.draw(),window.hand=new SketchHand,hand.draw(),window.pencil=new SketchPencil,pencil.draw()}(),$(element).find("#pencil").click(),sizeSketchBuilder(),sketchImageWrapper.find("svg").css({left:$(sketch_image).css("left")})},deselectHandObject=function(){hand&&hand.selected&&hand.selected.attr("text"===hand.selected.node.nodeName?{fill:"#f74272","fill-opacity":1,stroke:"none","stroke-opacity":0}:{stroke:"#f74272",fill:"#f74272","fill-opacity":0,"stroke-opacity":1})},sizeSketchBuilder=function(){var $builderWindow=sketchBuilder_window,$wrapper=sketchImageWrapper,_window={height:$(window).height(),width:$(window).width()},_sketch={height:sketch_image.height(),width:sketch_image.width()},scrollSize=15,windowPadding=60,toolbarHeight=49,builderCSS={},wrapperCSS={},scrollCSS={},builderClasses="",wrapperClasses="",minWidth=_sketch.width<800?800:_sketch.width;builderCSS={height:_sketch.height>_window.height?_window.height-windowPadding:_sketch.height+81,width:_sketch.width>_window.width?_window.width-windowPadding:minWidth,left:"50%",top:"50%",marginLeft:"-"+minWidth/2+"px"},builderCSS.marginTop="-"+builderCSS.height/2+"px",wrapperCSS={height:_sketch.height,width:_sketch.width},scrollCSS={height:builderCSS.height-toolbarHeight,width:builderCSS.width},_sketch.width>_window.width&&(builderCSS.height+=scrollSize,builderCSS.left=0,builderCSS.marginLeft=windowPadding/2,scrollCSS.height+=scrollSize),_sketch.height+toolbarHeight+windowPadding>_window.height&&(builderCSS.top=0,builderCSS.marginTop=windowPadding/2),$builderWindow.css(builderCSS).addClass(builderClasses),$wrapper.css(wrapperCSS).addClass(wrapperClasses),$scrollWrap.css(scrollCSS),$whiteboard.css({height:_sketch.height,width:_sketch.width}),$whiteboard.appendTo(sketchImageWrapper)},scrollToMatchCurrentScroll=function(){var topOffset;topOffset=$scope.project.isMobile?-75:20;var sTop=$(window).scrollTop()+topOffset,sLeft=$(window).scrollLeft();$scrollWrap.scrollTop(sTop).scrollLeft(sLeft)};$scope.whiteboardOpacity=0,$scope.whiteboardSelected="none",$scope.setWhiteboardOpacity=function(opacity,name){$scope.whiteboardOpacity=opacity,$scope.whiteboardSelected=name},$scope.saveSketch=function(){deselectHandObject();var svg_string=window.paper.toSVG(),scale=$scope.getReverseDisplayScale($scope.screen),$svg=$.parseXML(svg_string),numOfSketchElements=$($svg).find("svg").children().size(),opacity=$scope.whiteboardOpacity;if(0===numOfSketchElements)return void $scope.openModalWindow("error","Your sketch is empty.  There's nothing to save.");var sketch={tempID:$scope.tempSketches.length+1,screenID:$scope.screenID,svg:svg_string,svgScale:scale,opacity:opacity};$scope.tempSketches.push(sketch),$scope.hideSketchBuilder()},setTimeout(init_sketch,250),$(sketch_image).on("load",function(){sizeSketchBuilder(),scrollToMatchCurrentScroll()}),$(window).on("resize.sketchBuilderModal",sizeSketchBuilder),$scope.$on("$destroy",function(){$(window).off("resize.sketchBuilderModal",sizeSketchBuilder),$document.off("keydown.sketchBuilderModal"),$body.removeClass("share-lite-sketching")})}}})}(angular,InVision);;
//!file:share-sketch-viewer-image.js
!function(ng,app){"use strict";function Directive($,$window,modelEvents){return{restrict:"A",link:function($scope,element,attrs){var timer,retry=1,baseURL="/api/comments/"+$scope.sketchViewerSketch.commentID+"/sketch/"+$scope.sketchViewerSketch.id;element.bind("error",function(e){$scope.setSketchImageIsProcessing(!0),$scope.$apply(),5>=retry&&(timer=setTimeout(function(){element.attr("src",baseURL+"?retry="+retry),retry++},5e3))}),element.bind("load",function(e){$scope.setSketchImageIsProcessing(!1),$scope.$apply()}),$scope.$on("$destroy",function(){$(window).off("resize.sketchViewerModal"),clearTimeout(timer)})}}}app.directive("invShareSketchViewerImage",Directive)}(angular,InVision);;
//!file:share-sketch-viewer.js
!function(ng,app){"use strict";app.directive("invShareSketchViewer",function($,$window,modelEvents,$timeout){return{restrict:"A",transclude:!0,replace:!0,templateUrl:"/share/app/views/directives/share-sketch-viewer.htm",link:function($scope,element,attrs){var $win=$($window),resizeSketchViewer=function(){var overlay=$(element).find(".modalOverlay");overlay.css("height",$win.height()),overlay.css("width",$win.width());var sketchViewerWindow=$(element).find(".sketchViewer"),sketchImageContainer=$(sketchViewerWindow).find(".imageContainer"),sketchImage=$(sketchImageContainer).find("img"),tempSketchOverlay=$(sketchViewerWindow).find(".tempSketchOverlay"),sketchHeight=($(tempSketchOverlay).find("svg"),$scope.screen.height*$scope.screen.displayScale),sketchWidth=$scope.screen.width*$scope.screen.displayScale,viewerMaxHeight=.75*$win.height(),viewerMaxWidth=.85*$win.width();viewerMaxHeight>sketchHeight&&(viewerMaxHeight=sketchHeight),viewerMaxWidth>sketchWidth?viewerMaxWidth=sketchWidth:sketchImage.css("width",viewerMaxWidth+"px"),sketchViewerWindow.css("height",viewerMaxHeight+"px"),sketchViewerWindow.css("width",viewerMaxWidth),element.find(".isProcessing>p").css({"margin-top":viewerMaxHeight/2-50+"px"});var marginTop=($win.height()-viewerMaxHeight)/2,marginLeft=($win.width()-viewerMaxWidth)/2;sketchViewerWindow.css("margin-top",marginTop),sketchViewerWindow.css("margin-left",marginLeft),sketchViewerWindow.removeClass("taller"),sketchViewerWindow.removeClass("wider"),$win.height()<sketchHeight+viewerMaxHeight&&sketchViewerWindow.addClass("taller"),$win.width()<sketchWidth+viewerMaxHeight&&sketchViewerWindow.addClass("wider")},autoScrollSketchViewer=function(){var sTop=$scope.sketchViewerMarker.y*$scope.screen.displayScale-$(element).find(".sketchViewer").height()/2,sLeft=$scope.sketchViewerMarker.x*$scope.screen.displayScale-$(element).find(".sketchViewer").width()/2;sTop=sTop>0?sTop:0,sLeft=sLeft>0?sLeft:0,$(element).find(".imageContainer").scrollTop(sTop).scrollLeft(sLeft)};$timeout(function(){resizeSketchViewer(),autoScrollSketchViewer()}),$(window).on("resize.sketchViewerModal",function(){resizeSketchViewer(),autoScrollSketchViewer()}),$scope.$on("$destroy",function(){$(window).off("resize.sketchViewerModal")})}}})}(angular,InVision);;
//!file:slice-helper.js
!function(ng,app){"use strict";app.directive("invSliceHelper",function($document,$timeout,_,screenService){var linkFunction=function($scope,element,attributes,keyCombosController){var $window=$(window),$element=$(element),$screen=$element.find("img");$window.on("scroll.invSliceHelper",function(){$screen.width<$window.width||$scope.project.isMobile||$scope.screen.zoomScrollBehavior!=screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING&&$element.css("margin-left","-"+$(document).scrollLeft()+"px")}),$scope.$on("$destroy",function(){$window.off("scroll.invSliceHelper")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:success-button.js
!function(ng,app){"use strict";function Directive($timeout){var linkFunction=function($scope,element,attributes){var $button=$(element),markup='<span class="success-wrap"><span class="content">'+$button.text()+'</span><span class="success"></span></span>',delay=attributes.delay||1500;$button.text("").addClass("success-button").append($(markup)),$scope.$on("invSuccessButton:reload",function(){$button.removeClass("success"),$button.text("").addClass("success-button").append($(markup))}),$scope.$on("invSuccessButton:success",function(){$button.addClass("success"),$timeout(function(){$scope.$apply(attributes.afterSuccess)},delay)}),$scope.$on("$destroy",function(){$button.off("click.invSuccessButton")})};return{link:linkFunction,restrict:"A"}}app.directive("invSuccessButton",Directive)}(angular,InVision);;
//!file:tinyscrollbar.js
!function(ng,app){"use strict";app.directive("invTinyscrollbar",function($timeout,_){var linkFunction=function($scope,element,attributes){function applyConditionalClasses(){isScrollbarDisabled()?(enabledClass&&target.removeClass(enabledClass),disabledClass&&target.addClass(disabledClass)):(enabledClass&&target.addClass(enabledClass),disabledClass&&target.removeClass(disabledClass))}function isScrollbarDisabled(){return scrollbar.is(".disable")}var target=$(element);target.wrapInner("<div class='overview'>").wrapInner("<div class='viewport'>").prepend("<div unselectable='on' class='scrollbar unselectable'><div unselectable='on' class='track unselectable'><div unselectable='on' class='thumb unselectable'><div unselectable='on' class='end unselectable'></div></div></div></div>").tinyscrollbar({axis:"y"});var viewport=target.children("div.viewport"),overview=viewport.children("div.overview"),scrollbar=target.children("div.scrollbar"),disabledClass=attributes.tinyscrollbarDisabledClass||"",enabledClass=attributes.tinyscrollbarEnabledClass||"";scrollbar.on("mousedown.invTinyscrollbar selectstart.invTinyscrollbar",function(event){event.preventDefault()}),$scope.$watch(function(){return overview.height()},function(newValue){target.tinyscrollbar_update(),applyConditionalClasses()}),$(window).on("resize.invTinyscrollbar",function(event){target.tinyscrollbar_update(),applyConditionalClasses()}),$scope.$on("$destroy",function(){target.remove(),scrollbar.off("mousedown.invTinyscrollbar"),scrollbar.off("selectstart.invTinyscrollbar"),$(window).off("resize.invTinyscrollbar")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:toggle.js
!function(ng,app){"use strict";app.directive("invToggle",function(){var linkFunction=function($scope,element,attributes,modelController){function applyModelValue(value){value?element.addClass("on").removeClass("off"):element.addClass("off").removeClass("on")}function toggle(){var newValue=!modelController.$modelValue;applyModelValue(newValue),modelController.$setViewValue(newValue)}var thumb=element.siblings(".clickable");thumb.on("click.invToggle",function(event){event.preventDefault(),$scope.$apply(toggle)}),modelController.$render=function(){applyModelValue(modelController.$modelValue)},$scope.$on("$destroy",function(){thumb.off("click.invToggle")})};return{link:linkFunction,replace:!0,require:"^ngModel",restrict:"A",templateUrl:"/share/app/views/directives/toggle.htm"}})}(angular,InVision);;
//!file:toolbar-introduction.js
!function(ng,app){"use strict";app.directive("invToolbarIntroduction",function($,$document,keyComboHelper,_){var linkFunction=function($scope,element,attributes,keyCombosController){function closeIntroduction(){$scope.$apply(function(){$scope.closeIntroduction()})}var listenerConfig={};listenerConfig["keydown.invToolbarIntroduction"]=function(event){event.metaKey||keyComboHelper.isEscapeKeyEvent(event)&&closeIntroduction()},element.on("click.invToolbarIntroduction",function(event){var isInDialog=$(event.target).closest("div.dialog").length;isInDialog||closeIntroduction()}),$scope.$watch("isShowingIntroduction",function(newValue){newValue===!0?keyCombosController.addListener(listenerConfig):newValue===!1&&keyCombosController.removeListener(listenerConfig)}),$scope.$on("$destroy",function(){element.off("click.invToolbarIntroduction")})};return{link:linkFunction,require:"^invKeyCombos",restrict:"A"}})}(angular,InVision);;
//!file:toolbar.js
!function(ng,app){"use strict";app.directive("invToolbar",function(_){var linkFunction=function($scope,element,attributes){element.on("mouseenter.invToolbar",function(event){$scope.$apply(function(){$scope.isUserOverToolbar=!0,$scope.updateActiveStatus()})}),element.on("mouseleave.invToolbar",function(event){$scope.$apply(function(){$scope.isUserOverToolbar=!1,$scope.updateActiveStatus()})}),$scope.$on("$destroy",function(){element.off("mouseenter.invToolbar"),element.off("mouseleave.invToolbar")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:tour-comments-form.js
!function(ng,app){"use strict";app.directive("invTourCommentsForm",function($window,$rootScope,$document,$timeout,_,modelEvents,config){var linkFunction=function($scope,element,attributes,markersController){function getMarkerElement(conversation){var headerMarker,finalMarker,headerRect,footerRect,curPos,tourPointMarker=$("[data-tour-point-id='"+conversation.id+"']:visible");if(tourPointMarker.length>1){if($(".headerSlice").length>0&&(headerMarker=$(".headerSlice [data-tour-point-id='"+conversation.id+"']:visible"),curPos=headerMarker[0].getBoundingClientRect(),headerRect=$(".headerSlice")[0].getBoundingClientRect(),curPos.top<headerRect.bottom))return headerMarker[0];if($(".header-slice").length>0&&(headerMarker=$(".header-slice [data-tour-point-id='"+conversation.id+"']:visible"),curPos=headerMarker[0].getBoundingClientRect(),headerRect=$(".header-slice")[0].getBoundingClientRect(),curPos.top<headerRect.bottom))return headerMarker[0];if($(".footer-slice").length>0){var footerMarker=$(".footer-slice [data-tour-point-id='"+conversation.id+"']:visible");if(curPos=footerMarker[0].getBoundingClientRect(),footerRect=$(".footer-slice")[0].getBoundingClientRect(),curPos.top>footerRect.top)return footerMarker[0]}return $(".primary-preview [data-tour-point-id='"+conversation.id+"']")[0]}return finalMarker=tourPointMarker[0]}function updatePosition(conversation,isScrolling){isScrolling=!!isScrolling;var marker;if(marker=getMarkerElement(conversation),!marker)return void element.hide();var markerRect=marker.getBoundingClientRect(),destPosition={left:Math.floor(markerRect.left)+Math.floor(markerRect.width/2),top:Math.floor(markerRect.top)+Math.floor(markerRect.height/2)-5};(isScrolling||!element[0].style.left||!element[0].style.top||Math.abs(parseInt(element[0].style.left.replace("px",""),10)-destPosition.left)>3||Math.abs(parseInt(element[0].style.top.replace("px",""),10)-destPosition.top)>3)&&element.css({left:destPosition.left+"px",top:destPosition.top+"px"}),config.project.isMobile&&(markerRect=$(marker).offset(),element.hide()),$(window).width()-markerRect.right<=387&&markerRect.left>=450?(element.addClass("left"),element.removeClass("right"),element.removeClass("bottom")):(!config.project.isMobile||config.project.mobileDeviceWidth>500)&&markerRect.left>=135&&$(window).width()-markerRect.right>387?(element.removeClass("left"),element.removeClass("right"),element.addClass("bottom")):(element.removeClass("left"),element.addClass("right"),element.removeClass("bottom"));var formRect=element.find(".comment-thread")[0].getBoundingClientRect(),markerPosition={top:marker.offsetTop,left:marker.offsetLeft},containerElem=config.project.isMobile?".scroll-wrap":window,formVisible=formRect.left+formRect.width<$(containerElem).width()&&formRect.top+formRect.height<$(containerElem).height()&&formRect.top>($scope.screen.fixedHeaderHeight?$scope.screen.fixedHeaderHeight*$scope.screen.displayScale+75:0)&&formRect.left>0,markerVisible=markerPosition.top>=$(containerElem).scrollTop()&&markerPosition.top<$(containerElem).scrollTop()+$(containerElem).height()&&markerPosition.left>=0&&(!config.project.isMobile||$(".mobile-status-bar").length>0&&$(".mobile-status-bar").height()<markerPosition.top-$(containerElem).scrollTop())&&(!$scope.screen.fixedHeaderHeight||$scope.screen.fixedHeaderHeight*$scope.screen.displayScale<markerPosition.top-$(containerElem).scrollTop())&&(!$scope.screen.fixedFooterHeight||$scope.screen.fixedFooterHeight*$scope.screen.displayScale>markerPosition.top-$(containerElem).scrollTop()),avoidScroll=$(marker).parents(".fixed-element").length>0;if((formVisible&&markerVisible||config.project.isMobile)&&(markerVisible||!config.project.isMobile))element.show();else if($("html, body").css("padding-bottom",formRect.height+"px"),isScrolling||avoidScroll)element.show();else{var left,top,scrollElem=config.project.isMobile?".scroll-wrap":"html, body",scrollRect=config.project.isMobile?{top:marker.parentNode.offsetTop+Math.floor(marker.parentNode.offsetHeight/2),left:marker.parentNode.offsetLeft+Math.floor(marker.parentNode.offsetWidth/2)}:formRect;config.project.isMobile?(left=marker.offsetLeft,top=marker.offsetTop):(left=scrollRect.left+$(window).scrollLeft(),top=scrollRect.top+$(window).scrollTop()),isViewportScrolling=!0;var animateTime=config.project.isMobile&&Math.max(0,Math.floor(top-100-$scope.screen.fixedHeaderHeight*$scope.screen.displayScale))!==$(".scroll-wrap").scrollTop()?250:0;$(scrollElem).stop(!0).animate({scrollLeft:left-100,scrollTop:Math.max(0,Math.floor(top-100-$scope.screen.fixedHeaderHeight*$scope.screen.displayScale))},animateTime,function(){isViewportScrolling=!1,config.project.isMobile?(markerRect=marker.getBoundingClientRect(),destPosition={left:Math.floor(markerRect.left)+Math.floor(markerRect.width/2),top:Math.floor(markerRect.top)+Math.floor(markerRect.height/2)-5},(!element[0].style.left||!element[0].style.top||Math.abs(parseInt(element[0].style.left.replace("px",""),10)-destPosition.left)>3||Math.abs(parseInt(element[0].style.top.replace("px",""),10)-destPosition.top)>3)&&element.css({left:destPosition.left+"px",top:destPosition.top+"px"}),element.show()):element.show()})}}function setTextClass(){$scope.conversation.isTourPoint&&(element.find(".primary-comment .post-comment").height()<=40?element.find(".primary-comment .post-comment").addClass("single-line"):element.find(".primary-comment .post-comment").removeClass("single-line"))}{var viewport=($document.width(),$("div.viewport"));viewport.offset()}updatePosition($scope.conversation),$timeout(function(){updatePosition($scope.conversation,!1),setTextClass()}),$timeout(function(){updatePosition($scope.conversation,!1)},250),$scope.showCommentInput=function(){$scope.isCommentInputVisible=!0,$timeout(function(){element.find("textarea").focus()})},0===$scope.conversation.id&&($scope.showCommentInput(),$scope.isShowingUserList=!0),$scope.toggleCommentsExpanded=function(){$scope.commentsExpanded=!$scope.commentsExpanded,$scope.commentsExpanded&&$timeout(function(){updatePosition($scope.conversation,!0),element.find("textarea").focus()})},$scope.onReplyFinished=function(){$scope.$broadcast("invSuccessButton:reload"),$scope.toggleCommentsExpanded(),$timeout($scope.clearCommentSketches,1400)},$scope.commentsExpanded=!1;var isViewportScrolling=!1;$(window).on("resize.invCommentsForm",function(event){updatePosition($scope.conversation)}),$(window).on("scroll.invCommentsForm",_.throttle(function(event){updatePosition($scope.conversation,!0)},10)),$(".scroll-wrap").on("scroll.invCommentsForm",function(event){isViewportScrolling||updatePosition($scope.conversation,!0)}),$document.on("keydown.invCommentsForm",function(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&$scope.$apply(function(){$scope.$eval(attributes.ngSubmit)})}),$(document).on("mousedown.invCommentsForm",function(e){$("#shareSketchBuilder").length>0||$(".sketchViewer").length>0||$(e.target).is(".tour-point-form")||$(e.target).is(".tour-point-form footer")||0!==$(e.target).closest(".tour-point-form").length||0!==$(e.target).closest(".tour-point-form footer").length||$scope.selectTourPoint(null)}),$(".scroll-wrap").on("click.invCommentsForm",function(e){$("#shareSketchBuilder").length<=0&&$(".sketchViewer").length<=0&&$(".tour-point-form").length>0&&$scope.selectTourPoint(null)}),modelEvents.on("commentCreated.invTourCommentsForm",function(){$timeout(function(){$scope.$emit("reloadComments")})}),$scope.$on("commentChanged",function(){$timeout(function(){setTextClass()})}),$scope.$on("conversationSelected",function(event,conversation,mouseEvent){$("html, body").css("padding-bottom",0)}),$scope.$on("refreshConversationPosition",function(){updatePosition($scope.conversation,!1)}),$scope.$on("$destroy",function(){markersController.clearCallback(),modelEvents.off("commentCreated.invTourCommentsForm"),$document.off("resize.invCommentsForm"),$document.off("keydown.invCommentsForm"),$(window).off("resize.invCommentsForm"),$(window).off("scroll.invCommentsForm"),$(document).off("mousedown.invCommentsForm"),$(".skinWrapper").off("scroll.invCommentsForm"),$(".scroll-wrap").off("click.invCommentsForm"),$(".scroll-wrap").removeClass("tour-points"),$(".scroll-wrap").off("scroll.invCommentsForm")})};return{link:linkFunction,require:"^invCommentsMarkers",restrict:"A"}})}(angular,InVision);;
//!file:tour-point-tooltip.js
!function(ng,app){"use strict";app.directive("invTourPointTooltip",function(_,$timeout,config,commentService,emojiService){var linkFunction=function($scope,element,attributes){var tooltipStyle=function(){if(!$scope.tooltipTourPoint)return{};var finalMarker,headerRect,curPos,tourPointMarker=$("[data-tour-point-id='"+$scope.tooltipTourPoint.id+"']:visible");if(tourPointMarker.length>1){if($(".headerSlice").length>0){var headerMarker=$(".headerSlice [data-tour-point-id='"+$scope.tooltipTourPoint.id+"']:visible");curPos=headerMarker[0].getBoundingClientRect(),headerRect=$(".headerSlice")[0].getBoundingClientRect(),curPos.top<headerRect.bottom&&(finalMarker=$(headerMarker[0]))}if($(".header-slice").length>0){var headerMarker=$(".header-slice [data-tour-point-id='"+$scope.tooltipTourPoint.id+"']:visible");curPos=headerMarker[0].getBoundingClientRect(),headerRect=$(".header-slice")[0].getBoundingClientRect(),curPos.top<headerRect.bottom&&(finalMarker=$(headerMarker[0]))}if($(".footer-slice").length>0){var footerMarker=$(".footer-slice [data-tour-point-id='"+$scope.tooltipTourPoint.id+"']:visible");curPos=footerMarker[0].getBoundingClientRect();var footerRect=$(".footer-slice")[0].getBoundingClientRect();curPos.top>footerRect.top&&(finalMarker=$(footerMarker[0]))}finalMarker||(finalMarker=$(".primary-preview [data-tour-point-id='"+$scope.tooltipTourPoint.id+"']:visible"))}else finalMarker=tourPointMarker;if(finalMarker.length>0){var markerRect=finalMarker[0].getBoundingClientRect();return{top:markerRect.top+"px",left:markerRect.left-1+"px"}}return{}};$scope.tooltipExcerpt=function(){if(!$scope.tooltipTourPoint)return"";var comment=$scope.tooltipTourPoint.comment,sanitizedComment=commentService.escapeHtml(comment.comment);return comment.emojiparsedcomment||emojiService.parseEmoji(sanitizedComment)},$scope.tooltipClass=function(){if(!$scope.tooltipTourPoint)return[];var finalMarker,tourPointMarker=$("[data-tour-point-id='"+$scope.tooltipTourPoint.id+"']");if(tourPointMarker.length>1)for(var i=0;i<tourPointMarker.length;i++){var curPos=$(tourPointMarker[i]).offset();curPos.top<$(window).height()+$(window).scrollTop()&&curPos.top>=0&&(finalMarker=$(tourPointMarker[i]))}else finalMarker=tourPointMarker;if(finalMarker){var tourClasses=[],markerRect=finalMarker[0].getBoundingClientRect();return tourClasses.push($(window).width()-markerRect.right>300?"left":"right"),($(".tour-point-form").length<=0||!$(".tour-point-form").is(":visible")||0===parseInt($(".tour-point-form").css("opacity"),10))&&tourClasses.push("visible"),tourClasses}return[]},element.css(tooltipStyle()),$(window).on("scroll.invTourPointTooltip",_.throttle(function(event){element.css(tooltipStyle())},10)),$(".mobile-viewport").on("scroll.invTourPointTooltip",_.throttle(function(event){element.css(tooltipStyle())},10)),$scope.$watch("tooltipTourPoint",function(newValue,oldValue){element.css(tooltipStyle())}),$scope.$on("refreshTooltipStyle",function(){element.css(tooltipStyle())}),$scope.$on("$destroy",function(){$(window).off("scroll.invTourPointTooltip"),$(".m-preview").css("padding-bottom","0"),$(".mobile-viewport").off("scroll.invTourPointTooltip"),$(element[0].parentNode.querySelector(".marker")).off("mouseenter.invTourPointTooltip"),$(element[0].parentNode.querySelector(".marker")).off("mouseleave.invTourPointTooltip")})};return{link:linkFunction,restrict:"A"}})}(angular,InVision);;
//!file:uniform.js
!function(ng,app){"use strict";app.directive("invUniform",function(){var linkFunction=function($scope,element,attributes){$(element).uniform(),$scope.$watch(attributes.ngModel,function(newValue,oldValue){$.uniform.update(element)}),$scope.$on("$destroy",function(){})};return{link:linkFunction,restrict:"A",scope:!1}})}(angular,InVision);;
//!file:video-overlay.js
!function(ng,app){"use strict";function Directive($timeout){var linkFunction=function($scope,element,attributes){var $element=$(element),playerId=attributes.playerId||"unknown",videoId=attributes.videoId||"unknown",videoWidth=attributes.videoWidth||788,videoHeight=attributes.videoHeight||444,$embed=$('<iframe id="'+videoId+'" src="//fast.wistia.net/embed/iframe/'+videoId+'" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="'+videoWidth+'" height="'+videoHeight+'"></iframe>');attributes.$observe("playerId",function(newValue){playerId=newValue,$embed.attr("id",newValue)}),attributes.$observe("videoWidth",function(newValue){$embed.attr("width",newValue)}),attributes.$observe("videoHeight",function(newValue){$embed.attr("height",newValue)}),attributes.$observe("videoId",function(newValue){$embed=$('<iframe id="'+playerId+'" src="//fast.wistia.net/embed/iframe/'+newValue+'" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="100%" height="100%"></iframe>'),$element.append($embed)}),$scope.$on("$destroy",function(){$embed.remove()})};return{link:linkFunction,restrict:"A",scope:!0}}app.directive("invVideoOverlay",Directive)}(angular,InVision);;
//!file:account-service.js
!function(ng,app){"use strict";function Service($http,$q,$resource,analyticsService,serviceHelper,config,modelEvents){function createAccount(criteria){var submissionForm="Signup from anonymous comment",name=criteria.name,email=criteria.email,password=criteria.password,marketingOptOut=criteria.marketingOptOut,postData={name:name,email:email,password:password,marketingOptOut:marketingOptOut,submissionForm:submissionForm},postOptions={headers:{"Content-Type":"application/x-www-form-urlencoded"}},analyticsData={name:name,email:email,submissionForm:submissionForm};return $http.post("/api/account/signup",$.param(postData),postOptions).then(function(response){analyticsService.track("SignupSelfServe",analyticsData),analyticsService.track("Comment.AccountCreated",analyticsData)},function(error){return analyticsService.track("Comment.AccountCreationFailure",analyticsData),$q.reject(error)})}function markLiveShareIntroClosed(hasClosedLiveshareIntro){var promise=serviceHelper.executeRequest({resource:resource,name:"markLiveShareIntroClosed",parameters:{option:hasClosedLiveshareIntro},successCallback:function(response){modelEvents.trigger("accountUpdated",response)}});return promise}function markShareIntroClosed(hasClosedShareIntro){var promise=serviceHelper.executeRequest({resource:resource,name:"markShareIntroClosed",parameters:{option:hasClosedShareIntro},successCallback:function(response){modelEvents.trigger("accountUpdated",response)}});return promise}function markHasSeenCommentTooltip(hasSeenCommentTooltip){var promise=serviceHelper.executeRequest({resource:resource,name:"markHasSeenCommentTooltip",parameters:{hasSeenCommentTooltip:hasSeenCommentTooltip},successCallback:function(response){}});return promise}var resource=$resource("/api/account/:command",{command:"@command"},{markHasSeenCommentTooltip:{method:"POST",params:{command:"mark-has-seen-comment-tooltip"}},markLiveShareIntroClosed:{method:"POST",params:{command:"mark-liveshare-intro-closed"}},markShareIntroClosed:{method:"POST",params:{command:"mark-share-intro-closed"}}});return{createAccount:createAccount,markHasSeenCommentTooltip:markHasSeenCommentTooltip,markLiveShareIntroClosed:markLiveShareIntroClosed,markShareIntroClosed:markShareIntroClosed}}app.service("accountService",Service)}(angular,InVision);;
//!file:before-unload-service.js
!function(ng,app){"use strict";function BeforeUnloadService($window,_){return this.functionQueue=[],$window.onbeforeunload=ng.bind(this,this.run),this}app.service("beforeUnloadService",BeforeUnloadService),BeforeUnloadService.prototype={run:function(){ng.forEach(this.functionQueue,function(bundle){bundle.funcRef.apply(bundle.context,bundle.args)})},push:function(context,funcRef,args){(_.isUndefined(funcRef)||!_.isFunction(funcRef))&&(funcRef=ng.noop),this.functionQueue.push({context:context,funcRef:funcRef,args:args})}}}(angular,InVision);;
//!file:comment-service.js
!function(ng,app){"use strict";function CommentService(_,$resource,serviceHelper,modelEvents,config,MAX_COMMENT_LIKES_DISPLAYED,mentionStorage){function getCurrentShareKey(){return config&&config.share&&config.share.key?config.share.key:""}function addComment(conversationID,comment,mentions,notify,sketches,dataUrl,isUnsupported){"undefined"==typeof isUnsupported&&(isUnsupported=!1);var shareKey=getCurrentShareKey();isUnsupported&&(dataUrl="");var promise=serviceHelper.executeRequest({resource:resource,name:"addComment",parameters:{conversationID:conversationID,comment:comment,notify:notify,sketches:sketches,dataUrl:"",isUnsupported:isUnsupported,mentions:mentions,shareKey:shareKey},successCallback:function(response){modelEvents.trigger("commentCreated",response),modelEvents.trigger("conversationSubscribersUpdated",conversationID,notify)}});return promise}function deleteComment(commentID){var promise=serviceHelper.executeRequest({resource:resource,name:"deleteComment",parameters:{id:commentID},successCallback:function(response){modelEvents.trigger("commentDeleted",commentID)}});return promise}function formatCommentLikers(comment){var likedByList=_.pluck(comment.likedBy,"name").join("<br >");return comment.numberOfLikes>MAX_COMMENT_LIKES_DISPLAYED&&(likedByList+="<br >+"+(comment.numberOfLikes-MAX_COMMENT_LIKES_DISPLAYED)+" more"),likedByList}function getCommentsByConversationID(conversationID){for(var comments=_.withProperty(config.comments,"conversationID",conversationID),c=0,length=comments.length;length>c;c++)comments[c].sketches=getSketchesByCommentID(comments[c].id),comments[c].likedByList=formatCommentLikers(comments[c]);return ng.copy(comments)}function getSketchesByCommentID(commentID){var commentSketches=_.withProperty(config.commentSketches,"commentID",commentID);return ng.copy(commentSketches)}function escapeHtml(string){if(string){var text=string;return text=replaceLinks(text),text=text.replace(/(\r\n?|\n)/g,"<br />")}}function getHtmlForComment(comment){return comment=comment.replace(/(<)|(>)|(&)|(")/g,function($0,lt,gt,amp,quot){return lt?"&lt;":gt?"&gt;":amp?"&amp;":quot?"&quot;":void 0}),comment=replaceLinks(comment),comment=comment.replace(/(\r\n?|\n)/g,"<br />")}function replaceLinks(comment){return comment=comment.replace(/((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,function($0){if(/^javascript:/i.test($0))return"";var hasProtocol=/^\w+:\/\//i.test($0),href=hasProtocol?$0:"http://"+$0,text=$0;return'<a href="'+href+'" target="_blank">'+text+"</a>"})}function updateComment(commentID,conversationID,comment){var promise=serviceHelper.executeRequest({resource:resource,name:"updateComment",parameters:{id:commentID,conversationID:conversationID,comment:comment,mentions:mentionStorage.get()},successCallback:function(response){modelEvents.trigger("commentUpdated",response)}});return promise}function unsubscribe(projectID,hash){var promise=serviceHelper.executeRequest({resource:resource,name:"unsubscribe",parameters:{id:projectID,hash:hash}});return promise}function resubscribe(projectID,hash){var promise=serviceHelper.executeRequest({resource:resource,name:"resubscribe",parameters:{id:projectID,hash:hash}});return promise}var resource=$resource("/api/comments/:id/:command",{id:"@id",command:"@command"},{addComment:{method:"POST"},deleteComment:{method:"DELETE"},updateComment:{method:"POST"},unsubscribe:{method:"GET",params:{command:"unsubscribe"}},resubscribe:{method:"GET",params:{command:"resubscribe"}}});return modelEvents.on("commentCreated",function(event,comment){comment.userAvatarID=comment.avatarID;for(var cs=0;cs<comment.sketches.length;cs++){var sketchID=comment.sketches[cs].sketchID||null;_.find(config.commentSketches,_.matchesProperty("sketchID",sketchID))&&config.commentSketches.push(comment.sketches[cs])}_.findWithProperty(config.comments,"id",comment.id)||(config.comments=_.rejectWithProperty(config.comments,"id",void 0),config.comments.push(comment))}),modelEvents.on("commentDeleted",function(event,commentID){config.comments=_.withoutProperty(config.comments,"id",commentID)}),modelEvents.on("commentUpdated",function(event,comment){var cachedComment=_.findWithProperty(config.comments,"id",comment.id);cachedComment&&_.extendExistingProperties(cachedComment,comment)}),modelEvents.on("conversationDeleted",function(event,conversationID){config.comments=_.withoutProperty(config.comments,"conversationID",conversationID)}),modelEvents.on("conversationMarkedRead",function(event,conversationID){var comments=_.withProperty(config.comments,"conversationID",conversationID);_.setProperty(comments,"isUnread",!1)}),{addComment:addComment,deleteComment:deleteComment,formatCommentLikers:formatCommentLikers,getCommentsByConversationID:getCommentsByConversationID,getHtmlForComment:getHtmlForComment,escapeHtml:escapeHtml,updateComment:updateComment,unsubscribe:unsubscribe,resubscribe:resubscribe}}app.service("commentService",CommentService)}(angular,InVision);;
//!file:company-service.js
!function(ng,app){"use strict";function Service($resource,serviceHelper){function assertEmailsAreCompanyMembers(emailArray){var promise=serviceHelper.executeRequest({resource:resource,name:"assertEmailsAreCompanyMembers",parameters:{emails:emailArray}});return promise}var resource=$resource("/api/company/:command",{command:"@command"},{assertEmailsAreCompanyMembers:{method:"POST",params:{command:"assert-company-email"}}});return{assertEmailsAreCompanyMembers:assertEmailsAreCompanyMembers}}app.service("companyService",Service)}(angular,InVision);;
//!file:conversation-service.js
!function(ng,app){"use strict";function ConversationService($resource,serviceHelper,modelEvents,config,_){function getCurrentShareKey(){return config&&config.share&&config.share.key?config.share.key:""}function addSubscribers(conversationID,userIDs){var conversation=_.findWithProperty(config.conversations,"id",conversationID);conversation&&(conversation.subscribers=conversation.subscribers.concat(userIDs),modelEvents.trigger("conversationUpdated",conversation))}function getConversationParticipants(conversationID){return serviceHelper.executeRequest({resource:resource,name:"participants",parameters:{id:conversationID}})}function changePosition(conversationID,x,y,dataUrl){var promise=serviceHelper.executeRequest({resource:resource,name:"changePosition",parameters:{id:conversationID,x:x,y:y,dataUrl:""},successCallback:function(response){modelEvents.trigger("conversationUpdated",response)}});return promise}function changePrivacy(conversationID,isForDevelopment,isPrivate){var promise=serviceHelper.executeRequest({resource:resource,name:"changePrivacy",parameters:{id:conversationID,isForDevelopment:isForDevelopment,isPrivate:isPrivate},successCallback:function(response){modelEvents.trigger("conversationUpdated",response)}});return promise}function deleteConversation(conversationID){var promise=serviceHelper.executeRequest({resource:resource,name:"deleteConversation",parameters:{id:conversationID},successCallback:function(response){modelEvents.trigger("conversationDeleted",conversationID)}});return promise}function getConversationByID(conversationID){var conversation=_.findWithProperty(config.conversations,"id",conversationID);return ng.copy(conversation)}function getConversationsByScreenID(screenID){var conversations=_.withProperty(config.conversations,"screenID",screenID);return ng.copy(conversations)}function markComplete(conversationID){var promise=serviceHelper.executeRequest({resource:resource,name:"markComplete",parameters:{id:conversationID},successCallback:function(response){modelEvents.trigger("conversationUpdated",response)}});return promise}function markIncomplete(conversationID){var promise=serviceHelper.executeRequest({resource:resource,name:"markIncomplete",parameters:{id:conversationID},successCallback:function(response){modelEvents.trigger("conversationUpdated",response)}});return promise}function markRead(conversationID){var promise=serviceHelper.executeRequest({resource:resource,name:"markRead",parameters:{id:conversationID},successCallback:function(response){modelEvents.trigger("conversationMarkedRead",conversationID)}});return promise}function startConversation(screenID,label,x,y,isForDevelopment,isPrivate,isTourPoint,dataUrl,isUnsupported){var shareKey=getCurrentShareKey(),promise=serviceHelper.executeRequest({resource:resource,name:"startConversation",parameters:{screenID:screenID,label:label,x:x,y:y,isPrivate:isPrivate,isForDevelopment:isForDevelopment,isTourPoint:isTourPoint,isComplete:!1,dataUrl:"",isUnsupported:isUnsupported,shareKey:shareKey},successCallback:function(response){modelEvents.trigger("conversationCreated",response)}});return promise}function toggleCommentLike(commentID,conversationID){var promise=serviceHelper.executeRequest({resource:commentResource,name:"toggleLike",parameters:{commentID:commentID},successCallback:function(response){modelEvents.trigger("commentUpdated",commentID,conversationID)}});return promise}function deleteSketch(sketchID){var promise=serviceHelper.executeRequest({resource:sketchResource,name:"deleteSketch",parameters:{sketchID:sketchID},successCallback:function(response){}});return promise}function saveConversation(conversation){var parameters=_.pick(conversation,"id","screenID","label","x","y","isPrivate","isForDevelopment","isComplete","isTourPoint","dataUrl");parameters.id||delete parameters.id;var promise=serviceHelper.executeRequest({resource:ConversationResource,name:"save",parameters:parameters,successCallback:function(response){}});return promise}var ConversationResource=$resource("/api/conversations/:id",{id:"@id"}),resource=$resource("/api/conversations/:id/:command",{id:"@id",command:"@command"},{participants:{method:"POST",params:{command:"participants"}},changePosition:{method:"POST",params:{command:"change-position"}},changePrivacy:{method:"POST",params:{command:"change-privacy"}},deleteConversation:{method:"DELETE"},markComplete:{method:"POST",params:{command:"mark-complete"}},markIncomplete:{method:"POST",params:{command:"mark-incomplete"}},markRead:{method:"POST",params:{command:"mark-read"}},startConversation:{method:"POST"}}),commentResource=$resource("/api/comments/:command",{command:"@command"},{toggleLike:{method:"POST",params:{command:"toggle-like"}}}),sketchResource=$resource("/api/comments/:command/:sketchID",{sketchID:"@sketchID",command:"deleteSketch"},{deleteSketch:{method:"DELETE",params:{command:"deleteSketch"}}});return modelEvents.on("conversationCreated",function(event,conversation){config.conversations.push(ng.copy(conversation))}),modelEvents.on("conversationDeleted",function(event,conversationID){config.conversations=_.withoutProperty(config.conversations,"id",conversationID)}),modelEvents.on("conversationSubscribersUpdated",function(event,conversationID,notify){var cachedConversation=_.findWithProperty(config.conversations,"id",conversationID);cachedConversation&&(cachedConversation.subscribers=[].concat(notify.members).concat(notify.stakeholders),modelEvents.trigger("conversationUpdated",cachedConversation))}),modelEvents.on("conversationUpdated",function(event,conversation){var cachedConversation=_.findWithProperty(config.conversations,"id",conversation.id);cachedConversation&&_.extendExistingProperties(cachedConversation,conversation)}),{addSubscribers:addSubscribers,changePosition:changePosition,changePrivacy:changePrivacy,deleteConversation:deleteConversation,deleteSketch:deleteSketch,getConversationByID:getConversationByID,getConversationsByScreenID:getConversationsByScreenID,getConversationParticipants:getConversationParticipants,markComplete:markComplete,markIncomplete:markIncomplete,markRead:markRead,startConversation:startConversation,toggleCommentLike:toggleCommentLike,saveConversation:saveConversation}}app.service("conversationService",ConversationService)}(angular,InVision);;
//!file:hotspot-service.js
!function(ng,app){"use strict";function HotspotService(config,_){function getHotspotsByScreenID(screenID){var hotspots=_.withProperty(config.hotspots,"screenID",screenID);return ng.copy(hotspots)}function getAllHotSpots(){return ng.copy(config.hotspots)}var eventTypes={click:1,doubleTap:2,pressHold:3,swipeRight:4,swipeLeft:5,swipeUp:6,swipeDown:7,hover:8,autoRedirect:9},targetTypes={screen:1,lastScreenVisited:2,previousScreenInSort:3,nextScreenInSort:4,externalUrl:5,positionOnScreen:6,screenOverlay:7},transitionTypes={none:1,pushRight:2,pushLeft:3,slideUp:4,slideDown:5,flipRight:6,flipLeft:7,dissolve:8};return{eventTypes:eventTypes,getHotspotsByScreenID:getHotspotsByScreenID,targetTypes:targetTypes,transitionTypes:transitionTypes,getAllHotSpots:getAllHotSpots}}app.service("hotspotService",HotspotService)}(angular,InVision);;
//!file:ipinfo-service.js
!function(ng,app){"use strict";function Service(config){function getGeolocationData(parameter){return config.ipGeoLocation}return{getGeolocationData:getGeolocationData}}app.service("ipInfoService",Service)}(angular,InVision);;
//!file:key-combo-helper.js
!function(ng,app){"use strict";function KeyComboHelper(_){function isAltKeyEvent(event){return validateEventType("altKey",event),event.which===altKey}function isCharKeyEvent(event,char,maintainCase){var calculatedChar=String.fromCharCode(event.which);return maintainCase?char===calculatedChar:char.toLowerCase()===calculatedChar.toLowerCase()}function isControlKeyEvent(event){return validateEventType("controlKey",event),event.which===controlKey}function isDownArrowKeyEvent(event){return validateEventType("downArrowKey",event),event.which===downArrowKey}function isEnterKeyEvent(event){return validateEventType("enterKey",event),!event.metaKey&&event.which===enterKey}function isEscapeKeyEvent(event){return validateEventType("escapeKey",event),event.which===escapeKey}function isLeftArrowKeyEvent(event){return validateEventType("leftArrowKey",event),!event.metaKey&&event.which===leftArrowKey}function isRightArrowKeyEvent(event){return validateEventType("rightArrowKey",event),!event.metaKey&&event.which===rightArrowKey}function isShiftKeyEvent(event){return validateEventType("shiftKey",event),event.which===shiftKey}function isSuperKeyEvent(event){return validateEventType("superKey",event),event.which===superKey}function isTabKeyEvent(event){return validateEventType("tabKey",event),event.which===tabKey}function isUpArrowKeyEvent(event){return validateEventType("upArrowKey",event),!event.metaKey&&event.which===upArrowKey}function validateEventType(key,event){if(keyRequirements.hasOwnProperty(key)&&-1===_.indexOf(keyRequirements[key],event.type))throw new Error(key+" requires "+keyRequirements[key].join(" / ")+" event.")}var altKey=18,controlKey=17,downArrowKey=40,enterKey=13,escapeKey=27,leftArrowKey=37,rightArrowKey=39,shiftKey=16,superKey=224,tabKey=9,upArrowKey=38,keyRequirements={altKey:["keydown","keyup"],controlKey:["keydown","keyup"],downArrowKey:["keydown","keyup"],escapeKey:["keydown","keyup"],leftArrowKey:["keydown","keyup"],rightArrowKey:["keydown","keyup"],shiftKey:["keydown","keyup"],superKey:["keydown","keyup"],tabKey:["keydown","keyup"],upArrowKey:["keydown","keyup"]};return{isAltKeyEvent:isAltKeyEvent,isCharKeyEvent:isCharKeyEvent,isControlKeyEvent:isControlKeyEvent,isDownArrowKeyEvent:isDownArrowKeyEvent,isEnterKeyEvent:isEnterKeyEvent,isEscapeKeyEvent:isEscapeKeyEvent,isLeftArrowKeyEvent:isLeftArrowKeyEvent,isRightArrowKeyEvent:isRightArrowKeyEvent,isShiftKeyEvent:isShiftKeyEvent,isSuperKeyEvent:isSuperKeyEvent,isTabKeyEvent:isTabKeyEvent,isUpArrowKeyEvent:isUpArrowKeyEvent}}app.service("keyComboHelper",KeyComboHelper)}(angular,InVision);;
//!file:project-service.js
!function(ng,app){"use strict";function ProjectService(config,_,modelEvents,$resource,sessionService,serviceHelper){function getProject(){return ng.copy(config.project)}function reloadStakeholders(projectID){var promise=serviceHelper.executeRequest({resource:resource,name:"reloadStakeholders",parameters:{id:projectID},successCallback:function(response){config.affiliates=response}});return promise}function removeStakeholderFromProject(userID){resource.removeStakeholder({id:config.project.id,userID:userID},function(){modelEvents.trigger("projectStakeholderRemoved",config.project.id,userID),config.affiliates=_.rejectWithProperty(config.affiliates,"id",userID)})}var resource=$resource("/api/project/:id/:command",{id:"@id",command:"@command"},{reloadStakeholders:{method:"GET",isArray:!0,params:{command:"stakeholders"}},removeStakeholder:{method:"POST",params:{command:"remove-stakeholder"}}});return{getProject:getProject,reloadStakeholders:reloadStakeholders,removeStakeholderFromProject:removeStakeholderFromProject}}app.service("projectService",ProjectService)}(angular,InVision);;
//!file:project-viewing-service.js
!function(ng,app){"use strict";function ProjectViewingService($resource,serviceHelper,_){function incrementCommentCount(shareID){var promise=serviceHelper.executeRequest({resource:resource,name:"incrementCommentCount",parameters:{shareID:shareID}});return promise}function setEndedAt(shareID){var promise=serviceHelper.executeRequest({resource:resource,name:"setEndedAt",parameters:{shareID:shareID}});return promise}function incrementScreenCount(shareID){if(null!==cachedScreenCountFailure)return cachedScreenCountFailure;var promise=serviceHelper.executeRequest({resource:resource,name:"incrementScreenCount",parameters:{shareID:shareID}});return promise.then(null,function(){cachedScreenCountFailure=promise}),promise}var resource=$resource("/api/project-viewing/:shareID/:command",{shareID:"@shareID",command:"@command"},{incrementCommentCount:{method:"POST",params:{command:"increment-comment-count"}},incrementScreenCount:{method:"POST",params:{command:"increment-screen-count"}},setEndedAt:{method:"POST",params:{command:"set-ended-at"}}}),cachedScreenCountFailure=null;return{setEndedAt:setEndedAt,incrementCommentCount:incrementCommentCount,incrementScreenCount:incrementScreenCount}}app.service("projectViewingService",ProjectViewingService)}(angular,InVision);;
//!file:screen-service.js
!function(ng,app){function ScreenService(config,_,sortScreens){function setScreenClickedOn(newScreen){_screenClickedOn=ng.copy(newScreen)}function getScreenClickedOn(){return _screenClickedOn}function getCurrentScreen(){return ng.copy(_screen)}function getCurrentScreenIndex(){for(var _screens=getScreens(),i=0;i<_screens.length;i++)if(void 0!==_screen&&_screens[i].id===_screen.id)return i+1;return 0}function getTotalScreenCount(){return config.screens.length}function setCurrentScreen(newScreen){_screen=newScreen}function alterCommentCount(screenID,count){var cachedScreen=_.findWithProperty(config.screens,"id",screenID);cachedScreen&&(cachedScreen.commentCount+=count)}function alterUnreadCommentCount(screenID,count){var cachedScreen=_.findWithProperty(config.screens,"id",screenID);cachedScreen&&(cachedScreen.unreadCommentCount+=count)}function getNextScreen(screenID){var _screens=getScreens(),index=_.indexOfWithProperty(_screens,"id",screenID),nextIndex=index+1;return nextIndex>=_screens.length&&(nextIndex=0),_screen=_screens[nextIndex]}function getPreviousScreen(screenID){var _screens=getScreens(),index=_.indexOfWithProperty(_screens,"id",screenID),previousIndex=index-1;return 0>previousIndex&&(previousIndex=_screens.length-1),_screen=_screens[previousIndex]}function getScreenByID(screenID){return _screen=_.findWithProperty(config.screens,"id",screenID),ng.copy(_screen)}function setScreenFixedAreaColors(screenID,fixedHeaderBgColor,fixedFooterBgColor){_screen=_.findWithProperty(config.screens,"id",screenID),_screen.fixedHeaderBgColor=fixedHeaderBgColor,_screen.fixedFooterBgColor=fixedFooterBgColor}function getScreens(){var _screens=ng.copy(config.screens);return sortScreens(_screens,config.dividers,config.project.sortTypeID)}function getDividers(){return ng.copy(config.dividers)}function getAppIcon(){return ng.copy(config.metaScreens.icon)}function getLoadingScreen(){return ng.copy(config.metaScreens.splash)}var zoomScrollBehaviors={NORMAL:1,DISABLE_HORIZONTAL_SCROLLING:2,ZOOM_OUT_TO_BROWSER_WIDTH:3},_screen={},_screenClickedOn={},service={alterCommentCount:alterCommentCount,alterUnreadCommentCount:alterUnreadCommentCount,getNextScreen:getNextScreen,getPreviousScreen:getPreviousScreen,getScreenByID:getScreenByID,getScreens:getScreens,getDividers:getDividers,getAppIcon:getAppIcon,getLoadingScreen:getLoadingScreen,setScreenFixedAreaColors:setScreenFixedAreaColors,zoomScrollBehaviors:zoomScrollBehaviors,getCurrentScreen:getCurrentScreen,setCurrentScreen:setCurrentScreen,getCurrentScreenIndex:getCurrentScreenIndex,getScreenClickedOn:getScreenClickedOn,setScreenClickedOn:setScreenClickedOn,getTotalScreenCount:getTotalScreenCount};return service}app.service("screenService",ScreenService)}(angular,InVision);;
//!file:session-service.js
!function(ng,app){"use strict";function SessionService($q,$resource,serviceHelper,config,modelEvents,userService,_){function authenticate(){var deferred=$q.defer();return resource.get({},function(response){ng.extend(user,response.account),ng.extend(subscription,response.subscription),user.projectsUrl=response.projectsUrl,user.initials=userService.getInitials(user.name),user.hasSystemAvatar=userService.isSystemAvatar(user.avatarID),response&&response.sync&&(user.isSyncEnabled=response.sync.enabled,user.syncClients=response.sync.clients),user.companyInfo=response.companyInfo,deferred.resolve(response)},function(){deferred.reject()}),deferred.promise}function get(key,defaultValue){var localKey=getDataKey(key);return data.hasOwnProperty(localKey)?data[localKey]:ng.isUndefined(defaultValue)?void 0:(data[localKey]=defaultValue,defaultValue)}function getDataKey(key){return"session__"+key}function set(key,value){var localKey=getDataKey(key);data[localKey]=value}var user=ng.copy(config.user);user.hasSystemAvatar=userService.isSystemAvatar(user.avatarID),user.initials=userService.getInitials(user.name),user.hasCompanyMembership=user.hasCompanyMembership,user.isLoaded=!0;var data={};modelEvents.on("shareIdentityChanged.sessionService",function(event,identifiedUser){user=ng.copy(identifiedUser),user.hasSystemAvatar=userService.isSystemAvatar(user.avatarID),user.initials=userService.getInitials(user.name),user.hasCompanyMembership=user.hasCompanyMembership});var resource=$resource("/api/account",{},{getUser:{method:"GET"}}),subscription={};return{authenticate:authenticate,get:get,set:set,subscription:subscription,user:user}}app.service("sessionService",SessionService)}(angular,InVision);;
//!file:share-service.js
!function(ng,app){"use strict";function ShareService($resource,serviceHelper,config,modelEvents,_){function getShare(){var share=config.share;return _.isArray(share)&&(share=share[0]),ng.copy(share)}function identify(name,email){var promise=serviceHelper.executeRequest({resource:resource,name:"identify",parameters:{id:config.share.id,name:name,email:email},successCallback:function(response){modelEvents.trigger("shareIdentityChanged",response)}});return promise}function sendSMS(shareID,phoneNumber){var promise=serviceHelper.executeRequest({resource:resource,name:"sendSMS",parameters:{id:shareID,phoneNumber:phoneNumber}});return promise}function getExistingUser(userEmail){return serviceHelper.executeRequest({resource:resource,name:"getExistingUser",parameters:{userEmail:userEmail}})}function validateUser(userEmail,password,projectID,anonUserID,workflow){return serviceHelper.executeRequest({resource:resource,name:"validateUser",parameters:{userEmail:userEmail,password:password,projectID:projectID,anonUserID:anonUserID,workflow:workflow},successCallback:function(response){_.isEmpty(response.user)||modelEvents.trigger("shareIdentityChanged",response.user)}})}function getShareConfig(shareID,noCdnUrls,trigger){if(null!==cachedShareConfigFailure)return cachedShareConfigFailure;noCdnUrls||(noCdnUrls=!1);var promise=serviceHelper.executeRequest({resource:resource,name:"getShareConfig",parameters:{id:shareID,noCdnUrls:noCdnUrls,trigger:trigger}});return promise.then(null,function(){cachedShareConfigFailure=promise}),promise}var resource=$resource("/api/share/:id/:command",{id:"@id",command:"@command",workflow:"@workflow",trigger:"@trigger"},{identify:{method:"POST",params:{command:"change-identity"}},sendSMS:{method:"POST",params:{command:"send-sms"}},getShareConfig:{method:"GET",params:{command:"get-share-config"}},getExistingUser:{method:"POST",params:{command:"get-existing-user"}},validateUser:{method:"POST",params:{command:"validate-user"}}}),cachedShareConfigFailure=null;return{getShare:getShare,identify:identify,getExistingUser:getExistingUser,sendSMS:sendSMS,getShareConfig:getShareConfig,validateUser:validateUser}}app.service("shareService",ShareService)}(angular,InVision);;
//!file:user-preference-service.js
!function(ng,app){"use strict";function Service(_,serviceHelper,$resource,modelEvents,$q,config){function cacheType(name,response){cachedTypes[name.toLowerCase()]=response}function cacheValue(id,response){cachedValues[id]=response}function getCachedType(name){return cachedTypes[name.toLowerCase()]}function getCachedTypeResolution(name){var deferred=$q.defer(),promise=deferred.promise;return deferred.resolve(getCachedType(name.toLowerCase())),promise}function getCachedValue(id){return cachedValues[id]}function getCachedValueResolution(id){var deferred=$q.defer(),promise=deferred.promise;return deferred.resolve(getCachedValue(id)),promise}function getPreferenceTypeByName(preferenceName,doCreate,dataType,defaultValue){if(isTypeCached(preferenceName))return getCachedTypeResolution(preferenceName);var promise=serviceHelper.executeRequest({resource:resource,name:"getPreferenceTypeByName",parameters:{preferenceName:preferenceName,doCreate:doCreate,dataType:dataType,defaultValue:defaultValue},successCallback:function(response){cacheType(preferenceName,response)}});return promise}function getUserPreferenceById(preferenceId){if(isValueCached(preferenceId))return getCachedValueResolution(preferenceId);var promise=serviceHelper.executeRequest({resource:resource,name:"getUserPreferenceById",parameters:{userPreferenceTypeId:preferenceId},successCallback:function(response){response.data||(response.data={name:"",value:null}),cacheValue(preferenceId,response)}});return promise}function isTypeCached(name){return name.toLowerCase()in cachedTypes}function isValueCached(id){return cachedValues.hasOwnProperty(id)}function setUserPreferenceById(preferenceId,value){var promise=serviceHelper.executeRequest({resource:resource,name:"setUserPreferenceById",parameters:{userPreferenceTypeId:preferenceId,userPreferenceTypeValue:value},successCallback:function(response){updateCachedValue(preferenceId,value)}});return promise}function updateCachedValue(id,value){if(isValueCached(id)){var cachedValue=getCachedValue(id);cachedValue.exists="true",cachedValue.data.value=value}}function updateTellAFriendTooltipLastViewedAt(dateTimeInMillisecs){var promise=serviceHelper.executeRequest({resource:resource,name:"updateTellAFriendTooltipLastViewedAt",parameters:{tellAFriendTooltipLastViewedAt:dateTimeInMillisecs},successCallback:function(response){modelEvents.trigger("accountUpdated",response)}});return promise}function preloadCaches(userPreferences){_.each(userPreferences,function(pref){cacheType(pref.preferencetype,{exists:"true",data:{id:pref.preferencetypeid,preferencedatatype:pref.datatype,preferencename:pref.preferencetype,createdAt:pref.createdAt}}),cacheValue(pref.preferencetypeid,{exists:"true",data:{name:pref.preferencetype,value:pref.preferencevalue,createdAt:pref.createdAt}})})}var resource=$resource("/api/userPreference/:command",{command:"@command"},{updateTellAFriendTooltipLastViewedAt:{method:"POST",params:{command:"updateTellAFriendTooltipViewed"}},getPreferenceTypeByName:{method:"POST",params:{command:"getPreferenceTypeByName"}},getUserPreferenceById:{method:"POST",params:{command:"getUserPreferenceById"}},setUserPreferenceById:{method:"POST",params:{command:"setUserPreferenceById"}}}),cachedTypes={},cachedValues={};return preloadCaches(config.userPreferences),{updateTellAFriendTooltipLastViewedAt:_.memoize(updateTellAFriendTooltipLastViewedAt),getPreferenceTypeByName:getPreferenceTypeByName,getUserPreferenceById:getUserPreferenceById,setUserPreferenceById:setUserPreferenceById}}app.service("userPreferenceService",Service)}(angular,InVision);;
//!file:user-service.js
!function(ng,app){"use strict";function UserService(config,modelEvents,_){function getAffiliates(){return ng.copy(config.affiliates)}function getInitials(name){if(!name)return"";var nameParts=name.replace(/^\s+|\s+$/i,"").split(/\s+/i),namePartsCount=nameParts.length;return namePartsCount>1?nameParts[0].slice(0,1)+nameParts[namePartsCount-1].slice(0,1):nameParts[0].slice(0,1)}function getFirstName(name){if(!name)return"";var nameParts=name.replace(/^\s+|\s+$/i,"").split(/\s+/i);return nameParts[0]}function getOnlineStatus(lastRequestAt){var now=(new Date).getTime(),onlineCutoff=6e5,awayCutoff=18e5;return lastRequestAt>now-onlineCutoff?"Online":lastRequestAt>now-awayCutoff?"Away":"Offline"}function getMembers(){return ng.copy(config.members)}function isAffiliate(userID){for(var i=0,length=config.affiliates.length;length>i;i++)if(config.affiliates[i].id===userID)return!0;return!1}function isSystemAvatar(avatarID){return 0===avatarID.indexOf("00000000")}modelEvents.on("shareIdentityChanged.userService",function(event,user){config.user=ng.copy(user);var cachedMember=_.findWithProperty(config.members,"id",user.id),cachedAffiliate=_.findWithProperty(config.affiliates,"id",user.id);cachedMember||cachedAffiliate||(config.affiliates.push(user),config.affiliates.sort(function(a,b){return a.name.toLowerCase()<b.name.toLowerCase()?-1:1}))});var ROLES={ADMIN:1,MANAGER:2,CONTRIBUTOR:3,REVIEWER:4};return{getAffiliates:getAffiliates,getInitials:getInitials,getFirstName:getFirstName,getOnlineStatus:getOnlineStatus,getMembers:getMembers,isAffiliate:isAffiliate,isSystemAvatar:isSystemAvatar,ROLES:ROLES}}app.service("userService",UserService)}(angular,InVision);;
//!file:react-compiled.js
!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(n){var r={component:e("../common/react-components/screen-viewer/components/ScreenViewer.jsx"),actions:e("../common/react-components/screen-viewer/actions/screen-viewer-actions.js"),store:e("../common/react-components/screen-viewer/stores/screen-viewer-store.js"),tourPointsStore:e("../common/react-components/screen-viewer/stores/tour-points-store.js")};n.InvScreenViewer=t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common/react-components/screen-viewer/actions/screen-viewer-actions.js":2,"../common/react-components/screen-viewer/components/ScreenViewer.jsx":15,"../common/react-components/screen-viewer/stores/screen-viewer-store.js":23,"../common/react-components/screen-viewer/stores/tour-points-store.js":24}],2:[function(e,t,n){var r=e("reflux"),i=r.createActions(["handleHotspotClick","handleHotspotMouseEnter","handleHotspotMouseLeave","activateHotspot","handleCloseOverlay","maintainScrollPosition","setMobileScreenViewport","setCurrentScroll","triggerComplexOverlay","updateSimpleOverlay","setScreenViewerPosition","handleTourPointClick","handleTourPointMouseEnter","handleTourPointMouseLeave","angularLocationChange","angularToggleConfigMenu","angularDoTransition","angularNavigateFromScreensViewerNav"]);t.exports=i},{reflux:28}],3:[function(e,t,n){var r=e("reflux"),i=r.createActions(["setSelectedTourPoint","disableTourPoints"]);t.exports=i},{reflux:28}],4:[function(e,t,n){var r=e("classnames"),i=e("../mixins/mobile-mixin.js"),o=e("./Hotspots.jsx"),s=e("./TourPoints.jsx"),a=React.createClass({displayName:"FixedElement",propTypes:{displayScale:React.PropTypes.number.isRequired,isOverlayOpen:React.PropTypes.bool.isRequired,screen:React.PropTypes.object.isRequired,isOverlayScreen:React.PropTypes.bool,overlayMeta:React.PropTypes.object,disableHotspotFlash:React.PropTypes.bool,isMobile:React.PropTypes.bool,tourPoints:React.PropTypes.object,type:React.PropTypes.string},mixins:[i],getInitialState:function(){return{isBrowserTooSmall:!1}},componentDidMount:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.handleScroll),this.init()},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleScroll)},componentDidUpdate:function(e,t){this.syncAlignment()},render:function(){var e=this.props.isMobile,t=this.props.screen,n=this.props.displayScale,i=this.props.isOverlayOpen,a=this.props.type,l=this.props.isOverlayScreen,c=this.props.overlayMeta,u="header"===a?t.fixedHeaderHeight:t.fixedFooterHeight,p=u;u=this.formatWithDisplayScale(u);var f=this.formatWithDisplayScale(t.width),h=this.formatWithDisplayScale(t.height),d=r("fixed-element",a),v={height:u,width:f,backgroundImage:'url("'+t.imageUrl+'")',backgroundSize:f+"px auto",backgroundRepeat:"no-repeat"},m={height:h,width:f};return React.createElement("div",{className:d,style:v},React.createElement("div",{className:"fixed-element-inner",ref:"fixedElementInner",style:m},React.createElement(o,{isMobile:e,hotspots:t.hotspots,displayScale:n,isOverlayOpen:i,disableHotspotFlash:this.props.disableHotspotFlash,height:p,width:t.width,isOverlayScreen:l,overlayMeta:c,style:{},isInFixedElement:!0}),React.createElement(s,{tourPoints:this.props.tourPoints,screen:t,displayScale:n,isInFixedHeader:"header"===a,isInFixedFooter:"footer"===a})))},_isBrowserTooSmall:function(){return window.innerWidth<this.formatWithDisplayScale(this.props.screen.width)},handleResize:function(){!this.state.isBrowserTooSmall&&this._isBrowserTooSmall()&&this.setState({isBrowserTooSmall:!0}),this.state.isBrowserTooSmall&&!this._isBrowserTooSmall()&&this.setState({isBrowserTooSmall:!1}),this.syncAlignment()},handleScroll:function(){this.syncAlignment()},syncAlignment:function(){if(this.props.isMobile!==!0){var e=ReactDOM.findDOMNode(this),t=e.parentNode,n=t.getBoundingClientRect();e.style.left=n.left+"px"}},init:function(){this.handleResize(),this.handleScroll()}});t.exports=a},{"../mixins/mobile-mixin.js":22,"./Hotspots.jsx":6,"./TourPoints.jsx":18,classnames:26}],5:[function(e,t,n){var r=e("lodash"),i=e("classnames"),o=React.addons.PureRenderMixin,s=e("../constants/hotspot.js"),a=e("../helpers/hotspot-helper.js"),l=e("../mixins/mobile-mixin.js"),c=e("../actions/screen-viewer-actions.js"),u=React.createClass({displayName:"Hotspot",mixins:[l,o],propTypes:{displayScale:React.PropTypes.number.isRequired,hotspot:React.PropTypes.object.isRequired,fixedOffset:React.PropTypes.number,isInFixedElement:React.PropTypes.bool,isOverlayOpen:React.PropTypes.bool,overlayType:React.PropTypes.string,overlayOffsets:React.PropTypes.object,style:React.PropTypes.object},getDefaultProps:function(){return{overlayOffsets:null}},_shouldIgnoreHoverEvent:function(e){var t=e.relatedTarget||e.fromElement,n=e.relatedTarget||e.toElement;return $(t).hasClass("hotspot")&&$(n).hasClass("hotspot")?!0:"simple"===this.props.overlayType?!1:!1},_setupHoverEvents:function(){var e=ReactDOM.findDOMNode(this);e.addEventListener("mouseenter",this.handleMouseEnter),e.addEventListener("mouseleave",this.handleMouseLeave)},_removeHoverEvents:function(){var e=ReactDOM.findDOMNode(this);e.removeEventListener("mouseenter",this.handleMouseEnter),e.removeEventListener("mouseleave",this.handleMouseLeave)},handleClick:function(){return"simple"===this.props.overlayType&&this.props.hotspot.targetTypeID!==s.TARGET_TYPES.externalUrl&&this.props.hotspot.targetTypeID!==s.TARGET_TYPES.positionOnScreen&&this.props.hotspot.eventTypeID===s.EVENT_TYPES.hover?void c.updateSimpleOverlay({hotspot:this.props.hotspot}):void(this.props.hotspot.eventTypeID!==s.EVENT_TYPES.hover&&c.handleHotspotClick({hotspot:this.props.hotspot,tracking:{hotspotClicked:!0}}))},handleMouseEnter:function(e){this.props.isOverlayOpen===!0&&"simple"===this.props.overlayType||this._shouldIgnoreHoverEvent(e)||(this.props.hotspot.metaData.stayOnScreen?c.handleHotspotClick({hotspot:this.props.hotspot,fromHover:!0,isInFixedElement:this.props.isInFixedElement,tracking:{hotspotClicked:!1}}):c.handleHotspotMouseEnter({hotspot:this.props.hotspot,isInFixedElement:this.props.isInFixedElement}))},handleMouseLeave:function(e){this._shouldIgnoreHoverEvent(e)||c.handleHotspotMouseLeave({hotspot:this.props.hotspot})},componentDidMount:function(){var e=ReactDOM.findDOMNode(this);this.props.hotspot.eventTypeID===s.EVENT_TYPES.hover&&this._setupHoverEvents(),"simple"===this.props.overlayType&&e.addEventListener("mouseleave",this.handleMouseLeave)},componentWillUnmount:function(){this._removeHoverEvents()},componentDidUpdate:function(e,t){this.props.hotspot.eventTypeID===s.EVENT_TYPES.hover&&e.hotspot.eventTypeID!==s.EVENT_TYPES.hover&&(this._removeHoverEvents(),this._setupHoverEvents()),this.props.hotspot.eventTypeID!==s.EVENT_TYPES.hover&&e.hotspot.eventTypeID===s.EVENT_TYPES.hover&&this._removeHoverEvents()},render:function(){var e=this.props.hotspot,t=this.props.isInFixedElement&&this.props.fixedOffset,n={top:this.formatWithDisplayScale(e.y),left:this.formatWithDisplayScale(e.x+this.props.fixedOffset),width:this.formatWithDisplayScale(e.width),height:this.formatWithDisplayScale(e.height),position:t?"fixed":!1};if(e.forceCloseOnMouseLeave&&this.props.overlayOffsets){var o=a.getFixedElementOffsets(e,this.props);r.merge(n,o)}r.merge(n,this.props.style);var l=i("hotspot",{template:e.includeHotspotInTemplate,hover:e.eventTypeID===s.EVENT_TYPES.hover,parent:e.isParent===!0,"is-force-close":e.forceCloseOnMouseLeave===!0});return React.createElement("a",{className:l,style:n,onClick:this.handleClick},e.id)}});t.exports=u},{"../actions/screen-viewer-actions.js":2,"../constants/hotspot.js":20,"../helpers/hotspot-helper.js":21,"../mixins/mobile-mixin.js":22,classnames:26,lodash:27}],6:[function(e,t,n){var r=e("lodash"),i=e("classnames"),o=e("../mixins/mobile-mixin.js"),s=e("./Hotspot.jsx"),a=React.createClass({displayName:"Hotspots",mixins:[o],propTypes:{disableHotspotFlash:React.PropTypes.bool.isRequired,height:React.PropTypes.number.isRequired,isOverlayOpen:React.PropTypes.bool.isRequired,width:React.PropTypes.number.isRequired,hotspots:React.PropTypes.array,forceCloseOnMouseLeave:React.PropTypes.bool,isInFixedElement:React.PropTypes.bool,overlayType:React.PropTypes.string,overlayMeta:React.PropTypes.object,isMobile:React.PropTypes.bool,screen:React.PropTypes.object,overlayOffsets:React.PropTypes.object,style:React.PropTypes.object},areHotspotsFlashed:!1,getInitialState:function(){return{fixedOffset:0}},_shouldHotspotDisplay:function(e){var t=!0;if(r.isUndefined(this.props.screen))return t;var n=this.props.screen;return this.props.isInFixedElement!==!0&&e.y<n.fixedHeaderHeight&&(t=!1),this.props.isMobile&&this.props.isOverlayOpen&&!this.props.isOverlayScreen&&this.props.overlayMeta&&!this.props.overlayMeta.closeOnOutsideClick&&(t=!1),t},_getHotspotsToFlash:function(){return this.props.isOverlayOpen?"#screen_viewer_overlay .hotspot":".hotspot"},_showHotspots:function(){var e=this._getHotspotsToFlash();$(e).stop(!0).fadeTo(100,1),this.areHotspotsFlashed=!0},_hideHotspots:function(){var e=this._getHotspotsToFlash();$(e).stop(!0).fadeTo(200,0),this.areHotspotsFlashed=!1},flashHotspots:function(e){if(!this.props.disableHotspotFlash&&!$(e.target).hasClass("hotspot")){var t=this;this._showHotspots();var n=setTimeout(function(){t._hideHotspots(),clearTimeout(n)},300)}},handleKeyDown:function(e){this.props.disableHotspotFlash||e.shiftKey===!1||this._showHotspots()},handleKeyUp:function(e){this.areHotspotsFlashed===!0&&this._hideHotspots()},componentDidMount:function(){this.props.forceCloseOnMouseLeave&&this.props.isInFixedElement&&this.props.isOverlayOpen&&this.setState({fixedOffset:$(this.refs.hotspots).offset().left}),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},render:function(){var e=this,t=this.props.hotspots,n={height:this.formatWithDisplayScale(this.props.height),width:this.formatWithDisplayScale(this.props.width)},o=r.map(t,function(t){var n=e._shouldHotspotDisplay(t);return n?React.createElement(s,{hotspot:t,key:t.id,displayScale:e.props.displayScale,style:e.props.style,overlayType:e.props.overlayType,isInFixedElement:e.props.isInFixedElement,fixedOffset:e.state.fixedOffset,overlayOffsets:e.props.overlayOffsets,isOverlayOpen:e.props.isOverlayOpen}):null}),a=i("hotspots",{"is-force-close":this.props.forceCloseOnMouseLeave});return React.createElement("div",{className:a,onClick:this.flashHotspots,style:n,ref:"hotspots"},o)}});t.exports=a},{"../mixins/mobile-mixin.js":22,"./Hotspot.jsx":5,classnames:26,lodash:27}],7:[function(e,t,n){(function(n){function r(e){return/\.gif\?/i.test(e)}function i(){var e="object"==typeof navigator&&navigator.userAgent;return!/msie (9|10)/i.test(e)}var o=n.React.addons.PureRenderMixin,s=e("../mixins/mobile-mixin.js"),a=e("../../../utilities/auto-image-preloader.js"),l=React.createClass({displayName:"Image",mixins:[o,s],propTypes:{alt:React.PropTypes.string.isRequired,displayScale:React.PropTypes.number.isRequired,height:React.PropTypes.number.isRequired,src:React.PropTypes.string.isRequired,width:React.PropTypes.number.isRequired,style:React.PropTypes.object},resetSrc:function(){var e=this;setTimeout(function(){e.refs.image&&(e.refs.image.src=e._src)},0)},updateSrc:function(e){if(r(e)){var t=i();e=t?a.next(e):[e,+new Date].join("&")}this._src=e},componentWillMount:function(){this.updateSrc(this.props.src)},componentDidMount:function(){if(this.refs.image){var e=ReactDOM.findDOMNode(this.refs.image);e.setAttribute("decoding","async")}this.resetSrc()},componentWillUpdate:function(e){this.updateSrc(e.src)},render:function(){var e=this.formatWithDisplayScale(this.props.height),t=this.formatWithDisplayScale(this.props.width);return React.createElement("img",{ref:"image",alt:this.props.alt,src:this._src,height:e,width:t,style:this.props.style})}});t.exports=l}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../utilities/auto-image-preloader.js":25,"../mixins/mobile-mixin.js":22}],8:[function(e,t,n){var r=e("classnames"),i=e("../mixins/mobile-mixin.js"),o=e("./Image.jsx"),s=React.createClass({displayName:"MobileLoadingScreen",mixins:[i],propTypes:{displayScale:React.PropTypes.number.isRequired,screen:React.PropTypes.object.isRequired},getInitialState:function(){return{isLoaded:!1,isComplete:!1}},componentDidMount:function(){var e=this,t=2e3,n=450;this.fadeTimer=setTimeout(function(){e.setState({isLoaded:!0})},t),this.removeTimer=setTimeout(function(){e.setState({isComplete:!0}),InvScreenViewer.store.hasShownLoadingScreen=!0},t+n)},componentWillUnmount:function(){clearTimeout(this.fadeTimer),clearTimeout(this.removeTimer)},render:function(){if(this.state.isComplete===!0||InvScreenViewer.store.hasShownLoadingScreen===!0)return null;var e=this.props.screen,t=r("mobile-loading-screen",{loaded:this.state.isLoaded});return React.createElement("div",{className:t},React.createElement(o,{src:e.imageUrl,alt:e.name,height:this.formatWithDisplayScale(e.height),width:this.formatWithDisplayScale(e.width),displayScale:this.props.displayScale}))}});t.exports=s},{"../mixins/mobile-mixin.js":22,"./Image.jsx":7,classnames:26}],9:[function(e,t,n){var r=e("classnames"),i=e("../mixins/mobile-mixin.js"),o=e("../actions/screen-viewer-actions.js"),s=e("../stores/screen-viewer-store.js"),a=e("./FixedElement.jsx"),l=e("./Hotspots.jsx"),c=e("./Image.jsx"),u=e("./MobileTransparencyHelper.jsx"),p=e("./TourPoints.jsx"),f=!1,h=React.createClass({displayName:"MobileScreen",mixins:[i],propTypes:{disableHotspotFlash:React.PropTypes.bool.isRequired,displayScale:React.PropTypes.number.isRequired,hotspots:React.PropTypes.array.isRequired,isOverlayOpen:React.PropTypes.bool.isRequired,project:React.PropTypes.object.isRequired,screen:React.PropTypes.object.isRequired,tourPoints:React.PropTypes.object},_getFixedElementRailPadding:function(e){return e?this.formatWithDisplayScale(e)+5:0},_setupScrollbars:function(){var e=this.props.screen,t=this.props.project.mobileTemplate;if(!(this.formatWithDisplayScale(e.height)-3<=parseInt(t.viewportHeight))){var n=$(this.refs.scrollWrap),r=$(this.refs.mobileScreen),i=s.getDefaultMobileScrollPosition();n.niceScroll({cursordragontouch:!0,touchbehavior:!0,enablekeyboard:!1,hide:"leave",cursoropacitymax:".5",cursorborder:0,railpadding:{top:this._getFixedElementRailPadding(e.fixedHeaderHeight),bottom:this._getFixedElementRailPadding(e.fixedFooterHeight),right:3}}),f=n.getNiceScroll(0),f.scrollTop(i),f.scrollend(function(e){o.setCurrentScroll(e.end.x,e.end.y),s.setScrollEnd({x:e.end.x,y:e.end.y})});var a=$(f.rail);this.isChrome46()?r.addClass("drag"):a.addClass("mobile-scroll"),a.css("cursor",""),n.css("cursor",""),o.setMobileScreenViewport(f)}},componentDidMount:function(){var e=s.transitionScroll||{x:0,y:0};o.setCurrentScroll(e.x,e.y),this._setupScrollbars()},componentDidUpdate:function(){f||this._setupScrollbars()},componentWillUnmount:function(){f&&(f.remove(),f=null,o.setMobileScreenViewport(f))},render:function(){var e=this.props.project,t=this.props.screen,n=this.props.hotspots,i=this.props.displayScale,o=this.props.isOverlayOpen,s=(this.props.isOverlayScreen,this.props.overlayType),f=this.props.overlayMeta,h=this.props.disableHotspotFlash,d=this.props.tourPoints,v=this.formatWithDisplayScale(t.height-t.fixedFooterHeight),m={height:v,overflowY:t.fixedFooterHeight>0?"hidden":null},y=r({"mobile-hover-chrome":this.isChrome46()}),g={background:"#"+t.backgroundColor},b={width:e.mobileTemplate.viewportWidth,overflow:"hidden"};return React.createElement("div",{id:"mobile_screen",style:g,className:y,ref:"mobileScreen"},t.fixedHeaderHeight>0?React.createElement(a,{type:"header",screen:t,hotspots:n,displayScale:i,disableHotspotFlash:h,isOverlayOpen:o,isOverlayScreen:!1,overlayMeta:f,tourPoints:d,isMobile:!0}):null,t.fixedFooterHeight>0?React.createElement(a,{type:"footer",screen:t,hotspots:n,displayScale:i,disableHotspotFlash:h,isOverlayOpen:o,isOverlayScreen:!1,overlayMeta:f,tourPoints:d,isMobile:!0}):null,React.createElement("div",{className:"scroll-wrap",ref:"scrollWrap",style:b},React.createElement(u,{type:"header",height:t.fixedHeaderHeight,backgroundColor:t.extended.fixedHeaderBackground,displayScale:i}),React.createElement(u,{type:"footer",height:t.fixedFooterHeight,backgroundColor:t.extended.fixedFooterBackground,parentScreenHeight:t.height,displayScale:i}),React.createElement(l,{isMobile:!0,hotspots:n,displayScale:i,isOverlayOpen:o,isOverlayScreen:!1,overlayMeta:f,overlayType:s,disableHotspotFlash:h,screen:t,height:t.height,width:t.width}),React.createElement(p,{tourPoints:d,screen:t,displayScale:i}),React.createElement("div",{style:m},React.createElement(c,{src:t.imageUrl,alt:t.name,height:t.height,width:t.width,displayScale:i}))))},isChrome46:function(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=navigator.platform;return"MacIntel"===t&&!!e&&46===parseInt(e[2],10)}});t.exports=h},{"../actions/screen-viewer-actions.js":2,"../mixins/mobile-mixin.js":22,"../stores/screen-viewer-store.js":23,"./FixedElement.jsx":4,"./Hotspots.jsx":6,"./Image.jsx":7,"./MobileTransparencyHelper.jsx":12,"./TourPoints.jsx":18,classnames:26}],10:[function(e,t,n){var r=e("classnames"),i=React.createClass({displayName:"MobileSkin",propTypes:{config:React.PropTypes.object.isRequired,template:React.PropTypes.object.isRequired,isStatusBarOpaque:React.PropTypes.bool,isStatusBarVisible:React.PropTypes.bool},_getSkinMargin:function(){if(!this.props.config.isMobile||!this.props.config.isEmbed){var e=this.props.template.deviceHeight,t=window.innerHeight,n=(t-e)/2,r=this.props.config.isShare?0:42,i=n>=0?n-r:100;return i}},_getSkinSize:function(){var e=this.props.template.deviceWidth,t=this.props.template.deviceHeight;return{width:e,height:t}},render:function(){var e=this.props.template,t=r("mobile-skin",e.className,e.mobileSkinColor,e.orientation,{"opaque-status-bar":this.props.isStatusBarOpaque&&this.props.isStatusBarVisible}),n=this._getSkinSize(),i=this._getSkinMargin(),o={width:n.width+"px",height:n.height+"px",marginTop:i+"px",marginBottom:i+"px"};return React.createElement("div",{className:t,style:o},this.props.children)}});t.exports=i},{classnames:26}],11:[function(e,t,n){var r=e("classnames"),i=e("../actions/screen-viewer-actions.js"),o=React.createClass({displayName:"MobileStatusBar",propTypes:{backgroundColor:React.PropTypes.string.isRequired,fontColor:React.PropTypes.string.isRequired,isTransparent:React.PropTypes.bool.isRequired},handleClick:function(){i.angularToggleConfigMenu()},render:function(){var e=r("mobile-status-bar",this.props.fontColor),t={backgroundColor:this.props.isTransparent?null:this.props.backgroundColor};return React.createElement("div",{className:e,style:t,onClick:this.handleClick})}});t.exports=o},{"../actions/screen-viewer-actions.js":2,classnames:26}],12:[function(e,t,n){var r=e("classnames"),i=e("../mixins/mobile-mixin.js"),o=React.createClass({displayName:"MobileTransparencyHelper",mixins:[i],propTypes:{backgroundColor:React.PropTypes.string.isRequired,displayScale:React.PropTypes.number.isRequired,height:React.PropTypes.number.isRequired,type:React.PropTypes.string.isRequired,parentScreenHeight:React.PropTypes.number},render:function(){var e=r("mobile-transparency-helper",this.props.type),t={height:this.formatWithDisplayScale(this.props.height),backgroundColor:this.props.backgroundColor,top:this.props.parentScreenHeight?this.formatWithDisplayScale(this.props.parentScreenHeight-this.props.height):null};return this.props.height>0?React.createElement("div",{className:e,style:t}):null}});t.exports=o},{"../mixins/mobile-mixin.js":22,classnames:26}],13:[function(e,t,n){var r,i,o,s=e("classnames"),a=e("../constants/hotspot.js"),l=e("../mixins/mobile-mixin.js"),c=e("../actions/screen-viewer-actions.js"),u=e("../stores/screen-viewer-store.js"),p=e("./Hotspots.jsx"),f=e("./Screen.jsx"),h=0,d=React.createClass({displayName:"Overlay",propTypes:{config:React.PropTypes.object.isRequired,disableHotspotFlash:React.PropTypes.bool.isRequired,displayScale:React.PropTypes.number.isRequired,hotspots:React.PropTypes.array.isRequired,isOverlayOpen:React.PropTypes.bool.isRequired,parentScreen:React.PropTypes.object.isRequired,project:React.PropTypes.object.isRequired,screen:React.PropTypes.object.isRequired,type:React.PropTypes.string.isRequired,metaData:React.PropTypes.object,forceCloseOnMouseLeave:React.PropTypes.bool,isBrowserTooSmall:React.PropTypes.bool,isInFixedElement:React.PropTypes.bool,template:React.PropTypes.object},mixins:[l],componentWillMount:function(){this.props.project.isMobile&&this._setupMobileScrollWatch()},componentDidMount:function(){this._setupStickyUpOffset()},componentDidUpdate:function(e,t){this._destroyStickyUpOffset(),this.props.isBrowserTooSmall===!0&&this._setupStickyUpOffset(),e.config.isPresenter!==this.props.config.isPresenter&&this.props.isOverlayOpen&&this.props.forceCloseOnMouseLeave&&!this.props.isInFixedElement&&c.handleCloseOverlay()},componentWillUnmount:function(){r&&r.off("scroll.Overlay"),this._destroyStickyUpOffset()},render:function(){var e=null,t=this.props.disableHotspotFlash,n=this.props.displayScale,r=this.props.hotspots,o=this.props.isOverlayOpen,l=_.isUndefined(this.props.metaData)?{}:this.props.metaData.overlay,c=this.props.parentScreen,d=this.props.project,v=_.cloneDeep(this.props.screen),m=this.props.template,y=this.props.type,g=this.props.isInFixedElement,b=this.props.forceCloseOnMouseLeave&&!g,S=s("backdrop"),x=this.formatWithDisplayScale(v.height),w=this.formatWithDisplayScale(v.width),T=this.formatWithDisplayScale(c.height),E=this.formatWithDisplayScale(c.width),O={height:x,width:w,overflow:g?"visible":"hidden"},R={background:"#"+v.backgroundColor,opacity:100};v.config={},v.fixedHeaderHeight=0,v.fixedFooterHeight=0;var P=s(y,a.OVERLAY_TRANSITION_TYPES[l.transitionID],{"no-reverse":l.reverseTransitionOnClose===!1,"is-in-fixed-element":g===!0,"should-scroll":d.isMobile&&!l.closeOnOutsideClick}),j={};switch(y){case"simple":j={textAlign:"left",pointerEvents:"none",zIndex:g?null:3},O.pointerEvents="auto",g&&_.merge(j,{position:"fixed",marginLeft:"-"+window.scrollX+"px",width:c.width});break;case"complex":var I=s("overlay-screen",a.OVERLAY_POSITION_TYPES[l.positionID],a.OVERLAY_TRANSITION_TYPES[l.transitionID],{fixed:l.isFixedPosition&&!d.isMobile,"is-mobile":d.isMobile});S=s("backdrop",{"can-close":l.closeOnOutsideClick});var M=l.positionOffset.y,D=l.positionOffset.x;if(d.isMobile&&1===l.positionID){var k=u.getScrollEnd();M=l.positionOffset.y-k.y}else 3===parseInt(this.props.config.zoomScrollBehavior)&&(M=this.formatWithDisplayScale(l.positionOffset.y),D=this.formatWithDisplayScale(l.positionOffset.x));R={background:"#"+v.backgroundColor,opacity:l.bgOpacity/100};var C={height:T,width:E},F=s("overlay-screen-wrap",{"has-hover-hotspot":b});if(m&&(C={height:m.viewportHeight,width:m.viewportWidth}),e=React.createElement("div",{className:S,style:R,onClick:this.handleBackdropClick}),"centered"===a.OVERLAY_POSITION_TYPES[l.positionID])O.margin="-"+x/2+"px 0 0 -"+w/2+"px";else{switch(l.positionID){case 1:O.margin=M+"px 0 0 "+D+"px";break;case 3:case 4:case 5:O.marginTop=M+"px";break;case 6:case 7:case 8:O.marginBottom=M+"px"}switch(l.positionID){case 2:case 3:case 6:var H=w/2*-1;O.marginLeft=H+D+"px";break;case 4:case 7:O.marginRight=D+"px";break;case 5:case 8:O.marginLeft=D+"px"}}if(!l.isFixedPosition&&d.isMobile&&i){var L,A=i.scrollTop();switch(h=A,l.positionID){case 2:L=T/2-x/2-A,O.top=0,O.marginTop=L+"px";break;case 6:case 7:case 8:L=T-x-A-M,O.marginTop=L+"px",O.bottom="auto"}}}return React.createElement("div",{id:"screen_viewer_overlay",className:P,style:j},React.createElement("div",{className:F,style:C},React.createElement("div",{className:I,style:O,ref:"overlayScreen"},React.createElement(f,{screen:v,hotspots:r,key:v.id,displayScale:n,isOverlayScreen:!0,isOverlayOpen:o,disableHotspotFlash:t,forceCloseOnMouseLeave:b,overlayType:y,overlayOffsets:l.positionOffset})),b?React.createElement(p,{hotspots:r,displayScale:n,isOverlayOpen:o,isOverlayScreen:!0,disableHotspotFlash:t,height:T,width:E,forceCloseOnMouseLeave:b,isInFixedElement:this.props.isInFixedElement}):null),e)},handleBackdropClick:function(){this.props.metaData.overlay.closeOnOutsideClick===!0&&c.handleCloseOverlay()},_setupMobileScrollWatch:function(){if(!this.props.metaData.overlay.isFixedPosition){var e=this;r=$(".scroll-wrap"),i=r.getNiceScroll()[0],r.on("scroll.Overlay",function(){var t=h-i.scrollTop(),n="translateY("+t+"px)";$(e.refs.overlayScreen).css({WebkitTransform:n,MozTransform:n,msTransform:n,transform:n})})}},_setupStickyUpOffset:function(){_.isEmpty(this.props.metaData)||_.isUndefined(this.props.metaData)||this.props.isBrowserTooSmall===!0&&7===this.props.metaData.overlay.transitionID&&1===this.props.metaData.overlay.positionID&&(o=$(window),o.on("scroll.Overlay",this._moveStickyUp),o.on("resize.Overlay",this._moveStickyUp),this._moveStickyUp())},_destroyStickyUpOffset:function(){o&&(o.off("scroll.Overlay",this._moveStickyUp),o.off("resize.Overlay",this._moveStickyUp))},_moveStickyUp:function(){var e=-1*o.scrollLeft(),t="translateX("+e+"px)";$(this.refs.overlayScreen).css({WebkitTransform:t,MozTransform:t,msTransform:t,transform:t})}});t.exports=d},{"../actions/screen-viewer-actions.js":2,"../constants/hotspot.js":20,"../mixins/mobile-mixin.js":22,"../stores/screen-viewer-store.js":23,"./Hotspots.jsx":6,"./Screen.jsx":14,classnames:26}],14:[function(e,t,n){var r=e("lodash"),i=e("../mixins/mobile-mixin.js"),o=e("../actions/screen-viewer-actions.js"),s=e("./FixedElement.jsx"),a=e("./Hotspots.jsx"),l=e("./Image.jsx"),c=e("./TourPoints.jsx"),u=React.createClass({displayName:"Screen",mixins:[i],propTypes:{disableHotspotFlash:React.PropTypes.bool.isRequired,displayScale:React.PropTypes.number.isRequired,hotspots:React.PropTypes.array.isRequired,isOverlayOpen:React.PropTypes.bool.isRequired,screen:React.PropTypes.object.isRequired,forceCloseOnMouseLeave:React.PropTypes.bool,overlayType:React.PropTypes.string,overlayOffsets:React.PropTypes.object,tourPoints:React.PropTypes.object},handleMouseLeave:function(){o.handleCloseOverlay()},componentDidMount:function(){o.maintainScrollPosition(),this.props.forceCloseOnMouseLeave&&ReactDOM.findDOMNode(this).addEventListener("mouseleave",this.handleMouseLeave)},componentWillUnmount:function(){ReactDOM.findDOMNode(this).removeEventListener("mouseleave",this.handleMouseLeave)},render:function(){var e,t=this.props.screen,n=this.props.hotspots,i=this.props.displayScale,o=this.props.isOverlayOpen,u=this.props.disableHotspotFlash,p=this.props.tourPoints,f="screen_"+t.id,h=t.fixedHeaderHeight+t.fixedFooterHeight,d=$("#bottom_bar:not(.hidden)").size()>0?$("#bottom_bar").height():0,v=window.innerHeight,m={height:this.formatWithDisplayScale(t.height-h-(t.fixedFooterHeight&&t.height>=v?d:0)),width:this.formatWithDisplayScale(t.width)};if(t.fixedHeaderHeight>0){var y=this.formatWithDisplayScale(t.fixedHeaderHeight);r.merge(m,{marginTop:y,overflow:"hidden"}),e={marginTop:"-"+y+"px"}}else if(t.fixedFooterHeight>0){var y=this.formatWithDisplayScale(t.fixedFooterHeight);r.merge(m,{marginBottom:"-"+y+"px",overflow:"hidden"})}return React.createElement("div",{className:"screen",id:f,style:m},t.fixedHeaderHeight>0?React.createElement(s,{type:"header",screen:t,hotspots:n,displayScale:i,isOverlayOpen:o,disableHotspotFlash:u,tourPoints:p}):null,t.fixedFooterHeight>0?React.createElement(s,{type:"footer",screen:t,hotspots:n,displayScale:i,isOverlayOpen:o,disableHotspotFlash:u,tourPoints:p}):null,React.createElement(a,{isMobile:!1,hotspots:n,displayScale:i,isOverlayOpen:o,disableHotspotFlash:u,height:t.height,width:t.width,style:e,overlayType:this.props.overlayType,overlayOffsets:this.props.overlayOffsets,screen:t}),React.createElement(c,{tourPoints:p,screen:t,displayScale:i,hasFixedOffset:!0}),React.createElement(l,{src:t.imageUrl,alt:t.name,height:t.height,width:t.width,displayScale:i,style:e}))}});t.exports=u},{"../actions/screen-viewer-actions.js":2,"../mixins/mobile-mixin.js":22,"./FixedElement.jsx":4,"./Hotspots.jsx":6,"./Image.jsx":7,"./TourPoints.jsx":18,lodash:27}],15:[function(e,t,n){var r=e("classnames"),i=e("reflux"),o=e("../actions/screen-viewer-actions.js"),s=e("../stores/screen-viewer-store.js"),a=e("../mixins/mobile-mixin.js"),l=e("./ScreenViewerNav.jsx"),c=e("./MobileSkin.jsx"),u=e("./MobileStatusBar.jsx"),p=e("./Viewport.jsx"),f=React.createClass({displayName:"ScreenViewer",mixins:[i.connect(s),a],getInitialState:function(){return{currentOverlay:{},isBrowserTooSmall:!1}},componentDidMount:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.setViewportPosition),this.handleResize()},componentDidUpdate:function(e,t){if(this.state.alignment){var n=this.state.alignment,r=t.alignment?t.alignment.offset:0,i=n.offset||0;(r!==i||this.state.alignment.usingScroll!==n.usingScroll)&&this.handleSyncScreenAlignment(n),t.screen.id!==this.state.screen.id&&this.setViewportPosition()}},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.setViewportPosition)},render:function(){var e=this.state.screen,t=this.state.project,n=this.state.config,i=this.state.screenCount,o=this.state.isOverlayOpen,a=this.state.disableHotspotFlash,f=this.state.isBrowserTooSmall,h=this.state.tourPoints,d=!!this.state.isNavigationDisabled,v=e.displayScale,m=this.applyDisplayScale(e.fixedHeaderHeight,v),y=this.applyDisplayScale(e.fixedFooterHeight,v),g=this.applyDisplayScale(e.width,v),b=this.applyDisplayScale(e.height,v),_=i>=1;this.state.currentOverlay,(d||n.isShare===!0&&!n.isLoadAllScreens)&&(_=!1);var S=s.hasShownLoadingScreen,x={textAlign:n.alignment},w={height:m,width:$(window).width()},T={height:y,width:$(window).width()},E=g/v,O={borderImageSource:'url("'+e.imageUrl+'")',borderImageSlice:"0 0 0 "+(E-1)+" fill",height:b},R={borderImageSource:'url("'+e.imageUrl+'")',borderImageSlice:"0 0 0 "+(E-1)+" fill",height:b},P=r({mobile:t.isMobile,"browser-is-too-small":f});return React.createElement("div",{id:"screen_viewer",style:x,className:P},!t.isMobile&&e.fixedHeaderHeight>0&&e.backgroundAutostretch?React.createElement("div",{className:"autostretch-container",style:w},React.createElement("div",{className:"autostretch-header",style:O})):null,!t.isMobile&&e.fixedFooterHeight>0&&e.backgroundAutostretch?React.createElement("div",{className:"autostretch-container-footer",style:T},React.createElement("div",{className:"autostretch-footer",style:R})):null,t.isMobile?React.createElement(c,{template:t.mobileTemplate,config:n,isStatusBarOpaque:n.mobileStatusbarIsOpaque,isStatusBarVisible:n.mobileStatusbarIsVisible},n.mobileStatusbarIsVisible?React.createElement(u,{backgroundColor:n.mobileStatusbarBackgroundColor,fontColor:n.mobileStatusbarFontColor,isTransparent:n.mobileStatusbarBackgroundIsTransparent}):null,"iPhoneX"===t.mobileTemplate.mobileSkin?React.createElement("div",{className:"iphoneX-notch"}):null,React.createElement(p,{config:n,project:t,screen:e,hotspots:e.hotspots,currentOverlay:this.state.currentOverlay,template:t.mobileTemplate,displayScale:e.displayScale,isOverlayOpen:o,isStatusBarOpaque:n.mobileStatusbarIsOpaque,disableHotspotFlash:a,tourPoints:h,hasShownLoadingScreen:S}),React.createElement(l,{project:t,shouldShowNav:_})):null,t.isMobile?null:React.createElement(p,{
ref:"desktopViewport",project:t,screen:e,config:n,hotspots:e.hotspots,currentOverlay:this.state.currentOverlay,displayScale:e.displayScale,isOverlayOpen:o,disableHotspotFlash:a,isBrowserTooSmall:f,tourPoints:h}),t.isMobile?null:React.createElement(l,{project:t,shouldShowNav:_}))},setViewportPosition:function(){if(!this.state.project.isMobile){var e=$(ReactDOM.findDOMNode(this.refs.desktopViewport)),t=e.offset();o.setScreenViewerPosition({x:t.left-window.scrollX,y:window.scrollY,width:this.state.isBrowserTooSmall?window.innerWidth:e.innerWidth()})}},handleResize:function(){var e=this._isBrowserTooSmall();e!==this.state.isBrowserTooSmall&&this.setState({isBrowserTooSmall:e}),this.setViewportPosition(),this.state.alignment&&this.handleSyncScreenAlignment(this.state.alignment)},handleSyncScreenAlignment:function(e){var t=ReactDOM.findDOMNode(this);e.usingScroll?(t.style.marginLeft=null,$("html, body").animate({scrollLeft:e.offset},300)):t.style.marginLeft=Math.min(-Math.abs(e.offset),0)+"px"},_isBrowserTooSmall:function(){return this.state.project.isMobile?!1:window.innerWidth<this.state.screen.width}});t.exports=f},{"../actions/screen-viewer-actions.js":2,"../mixins/mobile-mixin.js":22,"../stores/screen-viewer-store.js":23,"./MobileSkin.jsx":10,"./MobileStatusBar.jsx":11,"./ScreenViewerNav.jsx":16,"./Viewport.jsx":19,classnames:26,reflux:28}],16:[function(e,t,n){var r=e("classnames"),i=e("../constants/hotspot.js"),o=e("../actions/screen-viewer-actions.js"),s=(e("../stores/screen-viewer-store.js"),React.createClass({displayName:"ScreenViewerNav",propTypes:{project:React.PropTypes.object.isRequired,shouldShowNav:React.PropTypes.bool.isRequired},render:function(){if(this.props.shouldShowNav===!1)return null;var e=r(this.props.project.isMobile?"preview-nav":"slideshow-nav");return React.createElement("div",{id:"screens_viewer_nav"},React.createElement("div",{className:e},React.createElement("a",{className:"prev nav-left",onClick:this.handlePreviousScreenClick},React.createElement("span",{className:"hide-text"},"Previous")),React.createElement("a",{className:"next nav-right",onClick:this.handleNextScreenClick},React.createElement("span",{className:"hide-text"},"Next"))))},handlePreviousScreenClick:function(){var e={targetTypeID:i.TARGET_TYPES.previousScreenInSort};o.handleHotspotClick({hotspot:e,tracking:{hotspotClicked:!1,pagingArrowClicked:"previous"}}),o.angularNavigateFromScreensViewerNav()},handleNextScreenClick:function(){var e={targetTypeID:i.TARGET_TYPES.nextScreenInSort};o.handleHotspotClick({hotspot:e,tracking:{hotspotClicked:!1,pagingArrowClicked:"next"}}),o.angularNavigateFromScreensViewerNav()}}));t.exports=s},{"../actions/screen-viewer-actions.js":2,"../constants/hotspot.js":20,"../stores/screen-viewer-store.js":23,classnames:26}],17:[function(e,t,n){var r=e("classnames"),i=e("../mixins/mobile-mixin.js"),o=e("../actions/screen-viewer-actions.js"),s=React.createClass({displayName:"TourPoint",mixins:[i],propTypes:{displayScale:React.PropTypes.number.isRequired,tourPoint:React.PropTypes.object.isRequired,screen:React.PropTypes.object.isRequired,selectedTourPoint:React.PropTypes.object.isRequired,isInFixedFooter:React.PropTypes.bool,isInFixedHeader:React.PropTypes.bool},handleClick:function(){o.handleTourPointClick(this.props.tourPoint)},handleMouseEnter:function(){o.handleTourPointMouseEnter(this.props.tourPoint)},handleMouseLeave:function(){o.handleTourPointMouseLeave()},render:function(){var e=this.props.tourPoint,t=this.props.screen,n=this.formatWithDisplayScale(e.y),i=120,o=t.fixedHeaderHeight>0&&n+i<t.fixedHeaderHeight,s=t.fixedFooterHeight>0&&n+i>this.formatWithDisplayScale(t.height)-t.fixedFooterHeight;if(e.screenID!==t.id)return null;if(this.props.isInFixedHeader&&!o)return null;if(this.props.isInFixedFooter&&!s)return null;if(!this.props.isInFixedHeader&&!this.props.isInFixedFooter&&(o||s))return null;var a=r("marker","preview-tour-point",{complete:e.isComplete,development:e.isForDevelopment,active:e.id===this.props.selectedTourPoint.id,"active-private":e.isPrivate,read:!e.isUnread}),l={left:this.formatWithDisplayScale(e.x),top:n};return React.createElement("div",{className:a,style:l,id:"tour-point-"+e.id,"data-tour-point-id":e.id,unselectable:"on",onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React.createElement("div",{className:"point"}))}});t.exports=s},{"../actions/screen-viewer-actions.js":2,"../mixins/mobile-mixin.js":22,classnames:26}],18:[function(e,t,n){var r=e("reflux"),i=e("lodash"),o=e("../mixins/mobile-mixin.js"),s=e("../stores/tour-points-store.js"),a=e("./TourPoint.jsx"),l=React.createClass({displayName:"TourPoints",mixins:[o,r.connect(s)],propTypes:{displayScale:React.PropTypes.number.isRequired,screen:React.PropTypes.object.isRequired,hasFixedOffset:React.PropTypes.bool,isInFixedFooter:React.PropTypes.bool,isInFixedHeader:React.PropTypes.bool,tourPoints:React.PropTypes.object},render:function(){if(i.isEmpty(this.props.tourPoints)||this.state.areTourPointsEnabled===!1)return null;var e=this,t=this.props.screen,n=i.map(this.props.tourPoints,function(n){return React.createElement(a,{tourPoint:n,displayScale:e.props.displayScale,screen:t,selectedTourPoint:e.state.selectedTourPoint,isInFixedHeader:e.props.isInFixedHeader||!1,isInFixedFooter:e.props.isInFixedFooter||!1,key:n.id})}),r=this.formatWithDisplayScale(t.fixedHeaderHeight),o={height:this.formatWithDisplayScale(t.height),width:this.formatWithDisplayScale(t.width),marginTop:this.props.hasFixedOffset?"-"+r+"px":null};return React.createElement("div",{className:"tour-points",style:o},n)}});t.exports=l},{"../mixins/mobile-mixin.js":22,"../stores/tour-points-store.js":24,"./TourPoint.jsx":17,lodash:27,reflux:28}],19:[function(e,t,n){var r=e("lodash"),i=e("classnames"),o=React.addons.CSSTransitionGroup,s=e("../mixins/mobile-mixin.js"),a=e("./MobileLoadingScreen.jsx"),l=e("./MobileScreen.jsx"),c=e("./Overlay.jsx"),u=e("./Screen.jsx"),p=React.createClass({displayName:"Viewport",mixins:[s],propTypes:{config:React.PropTypes.object.isRequired,disableHotspotFlash:React.PropTypes.bool.isRequired,displayScale:React.PropTypes.number.isRequired,isOverlayOpen:React.PropTypes.bool.isRequired,isStatusBarOpaque:React.PropTypes.bool.isRequired,project:React.PropTypes.object.isRequired,screen:React.PropTypes.object.isRequired,currentOverlay:React.PropTypes.object,isBrowserTooSmall:React.PropTypes.bool,tourPoints:React.PropTypes.object},render:function(){var e=this.props.screen,t=this.props.project,n=this.props.currentOverlay,o=this.props.displayScale||1,s=this.props.template||{},c=this.props.isOverlayOpen,p=this.props.disableHotspotFlash,f=this.props.tourPoints,h=!0;r.isEmpty(n)||"simple"!==n.type||(h=!1);var d=i({"mobile-viewport":t.isMobile}),v={height:this.formatWithDisplayScale(e.height),width:this.formatWithDisplayScale(e.width)},m=React.createElement(u,{screen:e,hotspots:e.hotspots,displayScale:o,key:e.id,isOverlayOpen:c,disableHotspotFlash:p,tourPoints:f});return t.isMobile&&(v={width:s.viewportWidth},"iPhoneX"===s.mobileSkin&&(v.borderRadius=!this.props.config.mobileStatusbarIsVisible||this.props.config.mobileStatusbarBackgroundIsTransparent||this.props.isStatusBarOpaque?this.props.isStatusBarOpaque&&this.props.config.mobileStatusbarIsVisible?"0 0 40px 40px":"40px":"42px 42px 40px 40px"),m=React.createElement(l,{project:t,screen:e,hotspots:e.hotspots,displayScale:o,key:e.id,isOverlayOpen:c,isOverlayScreen:!1,overlayMeta:n.metaData?n.metaData.overlay:{},overlayType:n.type,disableHotspotFlash:p,tourPoints:f})),React.createElement("div",{id:"viewport",className:d,style:v},this.renderOverlay(h),t.loadingScreen?React.createElement(a,{screen:t.loadingScreen,displayScale:o}):null,m)},renderOverlay:function(e){var t=this.props.currentOverlay,n=this.props.screen,i=this.props.template||{},s=r.isEmpty(t)?null:React.createElement(c,{type:t.type,parentScreen:n,screen:t.screen,config:this.props.config,hotspots:t.hotspots,metaData:t.metaData,displayScale:n.displayScale,template:i,project:this.props.project,isOverlayOpen:this.props.isOverlayOpen,disableHotspotFlash:this.props.disableHotspotFlash,forceCloseOnMouseLeave:t.forceCloseOnMouseLeave,isBrowserTooSmall:this.props.isBrowserTooSmall,isInFixedElement:t.isInFixedElement});return e?React.createElement(o,{transitionName:"overlay",component:"div",transitionEnter:!0,transitionLeave:!0,transitionEnterTimeout:300,transitionLeaveTimeout:300},s):s}});t.exports=p},{"../mixins/mobile-mixin.js":22,"./MobileLoadingScreen.jsx":8,"./MobileScreen.jsx":9,"./Overlay.jsx":13,"./Screen.jsx":14,classnames:26,lodash:27}],20:[function(e,t,n){t.exports={EVENT_TYPES:{click:1,doubleTap:2,pressHold:3,swipeRight:4,swipeLeft:5,swipeUp:6,swipeDown:7,hover:8},TARGET_TYPES:{screen:1,lastScreenVisited:2,previousScreenInSort:3,nextScreenInSort:4,externalUrl:5,positionOnScreen:6,overlay:7},TRANSITION_TYPES:{none:1,pushRight:2,pushLeft:3,slideUp:4,slideDown:5,flipRight:6,flipLeft:7,dissolve:8},OVERLAY_TRANSITION_TYPES:{1:"fade-in-scale",2:"slide-in-right",3:"slide-in-bottom",4:"fade-in",5:"fall",6:"side-fall",7:"sticky-up",8:"flip-horizontal",9:"flip-vertical",10:"sign",11:"super-scaled",12:"instant",13:"rotate-in-bottom",14:"rotate-in-left",15:"rotate-in-top",16:"rotate-in-right",17:"slide-in-top",18:"slide-in-left"},OVERLAY_POSITION_TYPES:{1:"custom",2:"centered",3:"top center",4:"top right",5:"top left",6:"bottom center",7:"bottom right",8:"bottom left"}}},{}],21:[function(e,t,n){var r=e("lodash"),i=e("../stores/screen-viewer-store.js"),o=e("../mixins/mobile-mixin.js");t.exports={getFixedElementOffsets:function(e,t){var n=i.getScreenViewerPosition(),s={},a=e.metaData.overlay,l=a.isFixedPosition===!0,c=e.metaData.overlayScreen,u=e.metaData.parentScreen,p=l?n.document.width-c.width:n.width-c.width,f=l?n.document.width/2-c.width/2-n.x:n.width/2-c.width/2,h=l?n.document.height/2-c.height/2:u.height/2-c.height/2,d=l?n.document.height-c.height:u.height-c.height,v=p-n.x;switch(s.marginTop=t.overlayOffsets.y,s.marginLeft=-t.overlayOffsets.x,a.positionID){case 1:s.marginTop=-t.overlayOffsets.y;break;case 2:s.marginLeft-=f,s.marginTop-=h;break;case 6:s.marginLeft-=f,s.marginTop-=d;break;case 3:s.marginLeft-=f,s.marginTop=-t.overlayOffsets.y;break;case 4:s.marginTop=-t.overlayOffsets.y,s.marginLeft=a.isFixedPosition===!0?-v+t.overlayOffsets.x:-p+t.overlayOffsets.x;break;case 7:s.marginTop-=d,s.marginLeft=a.isFixedPosition===!0?-v+t.overlayOffsets.x:-p+t.overlayOffsets.x;break;case 5:s.marginTop=-t.overlayOffsets.y,a.isFixedPosition===!0&&(s.marginLeft+=n.x);break;case 8:s.marginTop-=d,a.isFixedPosition===!0&&(s.marginLeft+=n.x)}return r.forEach(s,function(e,n,r){s[n]=o.applyDisplayScale(e,t.displayScale)}),s}}},{"../mixins/mobile-mixin.js":22,"../stores/screen-viewer-store.js":23,lodash:27}],22:[function(e,t,n){t.exports={formatWithDisplayScale:function(e){if(!this.props.displayScale)throw new Error("formatWithDisplayScale: No props.displayScale");return this.applyDisplayScale(e,this.props.displayScale)},applyDisplayScale:function(e,t){return Math.round(parseInt(e,10)*t)}}},{}],23:[function(e,t,n){var r=e("lodash"),i=e("reflux"),o=e("../constants/hotspot.js"),s=e("../mixins/mobile-mixin.js"),a=e("../actions/screen-viewer-actions.js"),l=i.createStore({listenables:[a],currentScroll:{x:0,y:0},transitionScroll:{x:0,y:0},config:null,currentScreenID:null,disableHotspotFlash:!1,history:[],shouldMaintainScroll:!0,shouldTriggerInitialAlignment:!1,isOverlayOpen:!1,maintainScrollPosition:!1,mobileScreenViewport:void 0,hasShownLoadingScreen:!1,project:null,screen:null,screenCount:0,scrollEnd:{x:0,y:0},screens:null,tourPoints:{},isNavigationDisabled:!1,getInitialState:function(){return{config:this.config,currentScreenID:this.currentScreenID,disableHotspotFlash:this.disableHotspotFlash,isOverlayOpen:this.isOverlayOpen,project:this.project,screen:this.screen,screenCount:0,tourPoints:this.tourPoints,isNavigationDisabled:!1}},getDefaultData:function(e){this.config=e.config,this.currentScreenID=e.screen.id,this.project=e.project,this.screen=e.screen,this.screenCount=e.screenCount,this.screens=e.screens,this.tourPoints=e.tourPoints,this.isNavigationDisabled=e.isNavigationDisabled,this.setCurrentScreen({screenID:this.currentScreenID})},pushNewData:function(e){this.allHotspots=e.allHotspots||this.allHotspots,this.currentScreenID=e.currentScreenID||this.currentScreenID,this.disableHotspotFlash=e.disableHotspotFlash||this.disableHotspotFlash,this.screenCount=e.screenCount||this.screenCount,this.screen=e.screen||this.screen,this.screens=e.screens||this.screens,this.tourPoints=e.tourPoints||this.tourPoints,this.isNavigationDisabled=e.isNavigationDisabled||this.isNavigationDisabled,this.trigger(e)},_getTargetScreen:function(e){var t=e.targetScreenID;switch(e.targetTypeID){case o.TARGET_TYPES.lastScreenVisited:t=this.getLastScreenVisited();break;case o.TARGET_TYPES.previousScreenInSort:t=this.getPreviousScreenInSort();break;case o.TARGET_TYPES.nextScreenInSort:t=this.getNextScreenInSort()}return t},addToHistory:function(e,t){e!==r.last(this.history)&&e!==t&&this.history.push(e)},getNextScreenInSort:function(){var e=parseInt(r.findKey(this.screens,{id:this.currentScreenID}),10)+1;return e=e>=r.size(this.screens)?0:e,this.screens[e].id},getPreviousScreenInSort:function(){var e=parseInt(r.findKey(this.screens,{id:this.currentScreenID}),10)-1;return e=0>e?r.size(this.screens)-1:e,this.screens[e].id},getLastScreenVisited:function(){var e=r.last(this.history);return this.history.length-1>=1&&(this.history=r.dropRight(this.history)),e},setAlignment:function(e){this.trigger({alignment:e})},setCurrentScreen:function(e){r.defaults(e,{hotspot:!1,skipHistory:!1});var t=e.hotspot,n=e.screenID;if(e.skipHistory||this.addToHistory(this.currentScreenID,n),n!==this.currentScreenID){this.closeOverlay();var i=this.currentScreenID,o=r.findWhere(this.screens,{id:n});this.currentScreenID=n,this.screen=o,this.project.isMobile&&t&&1!==t.transitionTypeID?a.angularDoTransition(t,{hotspot:t,transitionTypeID:t.transitionTypeID,currentScreen:r.findWhere(this.screens,{id:i}),targetScreen:o,currentScreenPosition:t.currentScreenPosition,scrollPosition:this.currentScroll.y}):a.angularLocationChange(n),this.maintainScrollPosition=t.isScrollTo,i=null}},getScrollEnd:function(){return this.scrollEnd},setScrollEnd:function(e){this.scrollEnd=e},scrollToPosition:function(e){var t=e.isSmoothScroll?450:0,n="scrollScale"in this.screen?this.screen.scrollScale:this.screen.displayScale,r=s.applyDisplayScale(e.scrollOffset-this.screen.fixedHeaderHeight,n);this.project.isMobile?this.mobileScreenViewport.doScrollTop(r,t):$("html, body").animate({scrollTop:r},t)},triggerInitialSyncScreen:function(e){this.trigger({shouldTriggerInitialAlignment:e})},openExternalUrl:function(e){var t="file:"===window.location.protocol?e.url:"/redirect?url="+encodeURIComponent(e.url),n=e.isOpenInNewWindow,i=this.config.isShare&&!n?"_self":"_blank",o=window.navigator.userAgent,s=/(msie|trident)/i.test(o);if(s){var a=document.createElement("a");r.assign(a,{target:i,href:t}),n&&window.setTimeout(function(){document.body.removeChild(a)}),document.body.appendChild(a),a.click()}else window.open(t,i)},openSimpleOverlay:function(e){r.defaults(e,{isFromLegacyClick:!1,isInFixedElement:!1});var t=r.cloneDeep(e.hotspot);t.isParent=!0;var n=this._getTargetScreen(t),i=r.where(this.allHotspots,{screenID:n});i.push(t),this.isOverlayOpen=!0,this.trigger({isOverlayOpen:!0,currentOverlay:{type:"simple",screen:e.screen,hotspots:i,isInFixedElement:e.isInFixedElement,metaData:{overlay:{}}}})},onUpdateSimpleOverlay:function(e){var t=e.hotspot,n=r.find(this.screens,{id:t.targetScreenID}),i=r.where(this.allHotspots,{screenID:t.targetScreenID});this.openSimpleOverlay({hotspot:t,hotspots:i,screen:n,isFromLegacyClick:!0})},openComplexOverlay:function(e){r.defaults(e,{isInFixedElement:!1});var t=e.hotspot,n=this._getTargetScreen(t),i=r.find(this.screens,{id:t.screenID}),s=r.find(this.screens,{id:n}),l=r.where(this.allHotspots,{screenID:n});if(!s)return void console.error("No screen set for overlay");t.metaData.stayOnScreen!==!1&&!r.isUndefined(t.metaData.stayOnScreen)||t.eventTypeID!==o.EVENT_TYPES.hover||this.isOverlayOpen!==!1||(t.forceCloseOnMouseLeave=!0,l=[],l.push(t));var c=t.metaData;c.overlayScreen={id:s.id,width:s.width,height:s.height},c.parentScreen={id:i?i.id:0,width:i?i.width:0,height:i?i.height:0};var u=t.forceCloseOnMouseLeave,p=e.isInFixedElement,f=this.isOverlayOpen&&12!==c.overlay.transitionID,h=f?500:0;f&&this.closeOverlay(),this.isOverlayOpen=!0,setTimeout(function(){a.triggerComplexOverlay({screen:s,hotspots:l,metaData:c,forceClose:u,isInFixed:p})},h)},closeOverlay:function(){this.isOverlayOpen===!0&&(this.isOverlayOpen=!1,this.trigger({isOverlayOpen:!1,currentOverlay:{}}))},clearHistory:function(){this.history=[]},getDefaultMobileScrollPosition:function(){return this.maintainScrollPosition===!0?this.currentScroll.y:0},onActivateHotspot:function(e){a.handleHotspotClick({hotspot:e})},onHandleHotspotClick:function(e){r.defaults(e,{fromHover:!1,isInFixedElement:!1});var t=e.hotspot;switch(e.fromHover&&(t.isScrollTo=!0),t.isOverlayOpen=this.isOverlayOpen,t.targetTypeID){case o.TARGET_TYPES.screen:this.isOverlayOpen&&this.currentScreenID===t.targetScreenID?this.closeOverlay():this.setCurrentScreen({screenID:t.targetScreenID,hotspot:t});break;case o.TARGET_TYPES.lastScreenVisited:if(this.isOverlayOpen)this.closeOverlay();else{var n=this.getLastScreenVisited();this.setCurrentScreen({screenID:n,hotspot:t,skipHistory:!0})}break;case o.TARGET_TYPES.previousScreenInSort:var n=this.getPreviousScreenInSort();this.setCurrentScreen({screenID:n,hotspot:t});break;case o.TARGET_TYPES.nextScreenInSort:var n=this.getNextScreenInSort();this.setCurrentScreen({screenID:n,hotspot:t});break;case o.TARGET_TYPES.externalUrl:this.openExternalUrl(t.metaData);break;case o.TARGET_TYPES.positionOnScreen:this.scrollToPosition(t.metaData);break;case o.TARGET_TYPES.overlay:this.maintainScrollPosition=!0,this.openComplexOverlay({hotspot:t,isInFixedElement:e.isInFixedElement})}this.transitionScroll=r.assign(t.isScrollTo?this.currentScroll:{x:0,y:0}),this.currentScroll=r.clone(this.transitionScroll)},onHandleHotspotMouseEnter:function(e){r.defaults(e,{isInFixedElement:!1});var t=e.hotspot;if(this.maintainScrollPosition=!0,t.targetTypeID===o.TARGET_TYPES.overlay&&t.eventTypeID===o.EVENT_TYPES.hover)this.openComplexOverlay({hotspot:t,isInFixedElement:e.isInFixedElement});else{var n=t.targetScreenID;switch(t.targetTypeID){case o.TARGET_TYPES.lastScreenVisited:n=this.getLastScreenVisited();break;case o.TARGET_TYPES.previousScreenInSort:n=this.getPreviousScreenInSort();break;case o.TARGET_TYPES.nextScreenInSort:n=this.getNextScreenInSort();break;case o.TARGET_TYPES.externalUrl:this.openExternalUrl(t.metaData);break;case o.TARGET_TYPES.positionOnScreen:this.scrollToPosition(t.metaData)}var i=r.find(this.screens,{id:n});this.openSimpleOverlay({hotspot:t,screen:i,isInFixedElement:e.isInFixedElement})}},onHandleHotspotMouseLeave:function(e){var t=e.hotspot;t.targetTypeID===o.TARGET_TYPES.overlay&&t.eventTypeID===o.EVENT_TYPES.hover&&t.forceCloseOnMouseLeave!==!0||this.closeOverlay()},onHandleCloseOverlay:function(){this.closeOverlay()},onMaintainScrollPosition:function(){this.shouldMaintainScroll!==!1&&this.maintainScrollPosition===!1&&($("body,html").scrollTop(0),this.currentScroll.x=0,this.currentScroll.y=0)},onSetMobileScreenViewport:function(e){this.mobileScreenViewport=e},onSetCurrentScroll:function(e,t){this.currentScroll.x=e,this.currentScroll.y=t},onTriggerComplexOverlay:function(e){this.trigger({isOverlayOpen:!0,currentOverlay:{type:"complex",screen:e.screen,hotspots:e.hotspots,metaData:e.metaData,forceCloseOnMouseLeave:e.forceClose||!1,isInFixedElement:e.isInFixed}})},onSetScreenViewerPosition:function(e){this.screenViewerPosition={x:e.x,y:e.y,width:e.width,document:{width:document.documentElement.clientWidth,height:window.innerHeight}}},getScreenViewerPosition:function(){return this.screenViewerPosition}});t.exports=l},{"../actions/screen-viewer-actions.js":2,"../constants/hotspot.js":20,"../mixins/mobile-mixin.js":22,lodash:27,reflux:28}],24:[function(e,t,n){var r=(e("lodash"),e("reflux")),i=e("../actions/tour-points-actions.js"),o=r.createStore({listenables:[i],areTourPointsEnabled:!0,emptyTourPoint:{id:0},getInitialState:function(){return{selectedTourPoint:this.emptyTourPoint,areTourPointsEnabled:this.areTourPointsEnabled}},onSetSelectedTourPoint:function(e){e=e||this.emptyTourPoint,this.trigger({selectedTourPoint:e})},onDisableTourPoints:function(){this.areTourPointsEnabled=!1,this.trigger({areTourPointsEnabled:!1})}});t.exports=o},{"../actions/tour-points-actions.js":3,lodash:27,reflux:28}],25:[function(e,t,n){function r(e){var t=s.peek(e);i[e]=t;var n=document.createElement("img");return n.src=[e,+new Date].join("&"),n}var i={},o={},s=t.exports={images:o,clear:function(){i={},o={},this.images=o},peek:function(e){var t=o[e];return t?t.src:null},previous:function(e){return i[e]||null},next:function(e){var t=o[e];return o[e]=r(e),t?t.src:e}};angular.module("InVision").factory("autoImagePreloader",function(){return s})},{}],26:[function(e,t,n){!function(){"use strict";function e(){for(var t="",n=0;n<arguments.length;n++){var r=arguments[n];if(r){var i=typeof r;if("string"===i||"number"===i)t+=" "+r;else if(Array.isArray(r))t+=" "+e.apply(null,r);else if("object"===i)for(var o in r)r.hasOwnProperty(o)&&r[o]&&(t+=" "+o)}}return t.substr(1)}"undefined"!=typeof t&&t.exports?t.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):window.classNames=e}()},{}],27:[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=e===e,r=t===t;if(e>t||!n||"undefined"==typeof e&&r)return 1;if(t>e||!r||"undefined"==typeof t&&n)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return m(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function s(e){return"function"==typeof e||!1}function a(e){return"string"==typeof e?e:null==e?"":e+""}function l(e){return e.charCodeAt(0)}function c(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function u(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function p(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function f(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=l?c:c*(n[i]?1:-1)}return e.index-t.index}function h(e){return Ue[e]}function d(e){return qe[e]}function v(e){return"\\"+Ye[e]}function m(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function y(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function b(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=B,o[++i]=n);return o}function _(e,t){for(var n,r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r],l=t?t(a,r,e):a;r&&n===l||(n=l,s[++o]=a)}return s}function S(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function x(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function w(e){return Ve[e]}function T(e){function t(e){if(y(e)&&!sa(e)&&!(e instanceof J)){if(e instanceof g)return e;if(Mo.call(e,"__chain__")&&Mo.call(e,"__wrapped__"))return Gn(e)}return new g(e)}function n(){}function g(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function J(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=as,this.__views__=null}function te(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new J(this.__wrapped__);return r.__actions__=e?Xe(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?Xe(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?Xe(n):null,r}function re(){if(this.__filtered__){var e=new J(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ue(){var e=this.__wrapped__.value();if(!sa(e))return $t(e,this.__actions__);var t=this.__dir__,n=0>t,r=Mn(0,e.length,this.__views__),i=r.start,o=r.end,s=o-i,a=n?o:i-1,l=ts(s,this.__takeCount__),c=this.__iteratees__,u=c?c.length:0,p=0,f=[];e:for(;s--&&l>p;){a+=t;for(var h=-1,d=e[a];++h<u;){var v=c[h],m=v.iteratee,y=v.type;if(y==W){if(v.done&&(n?a>v.index:a<v.index)&&(v.count=0,v.done=!1),v.index=a,!v.done){var g=v.limit;if(!(v.done=g>-1?v.count++>=g:!m(d)))continue e}}else{var b=m(d);if(y==q)d=b;else if(!b){if(y==U)continue e;break e}}}f[p++]=d}return f}function qe(){this.__data__={}}function Ve(e){return this.has(e)&&delete this.__data__[e]}function Be(e){return"__proto__"==e?E:this.__data__[e]}function Ye(e){return"__proto__"!=e&&Mo.call(this.__data__,e)}function ze(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function $e(e){var t=e?e.length:0;for(this.data={hash:Jo(null),set:new Bo};t--;)this.push(e[t])}function Ge(e,t){var n=e.data,r="string"==typeof t||fi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ke(e){var t=this.data;"string"==typeof e||fi(e)?t.set.add(e):t.hash[e]=!0}function Xe(e,t){var n=-1,r=e.length;for(t||(t=vo(r));++n<r;)t[n]=e[n];return t}function Je(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function et(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function tt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function nt(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[++i]=s)}return o}function rt(e,t){for(var n=-1,r=e.length,i=vo(r);++n<r;)i[n]=t(e[n],n,e);return i}function it(e){for(var t=-1,n=e.length,r=ss;++t<n;){var i=e[t];i>r&&(r=i)}return r}function ot(e){for(var t=-1,n=e.length,r=as;++t<n;){var i=e[t];r>i&&(r=i)}return r}function st(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function at(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function lt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ct(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function ut(e,t){return"undefined"==typeof e?t:e}function pt(e,t,n,r){return"undefined"!=typeof e&&Mo.call(r,n)?e:t}function ft(e,t,n){var r=ga(t);if(!n)return dt(t,e,r);for(var i=-1,o=r.length;++i<o;){var s=r[i],a=e[s],l=n(a,t[s],s,e,t);(l===l?l===a:a!==a)&&("undefined"!=typeof a||s in e)||(e[s]=l)}return e}function ht(e,t){for(var n=-1,r=e.length,i=An(r),o=t.length,s=vo(o);++n<o;){var a=t[n];i?(a=parseFloat(a),s[n]=Fn(a,r)?e[a]:E):s[n]=e[a]}return s}function dt(e,t,n){n||(n=t,t={});for(var r=-1,i=n.length;++r<i;){var o=n[r];t[o]=e[o]}return t}function vt(e,t,n){var r=typeof e;return"function"==r?"undefined"==typeof t?e:Xt(e,t,n):null==e?to:"object"==r?Dt(e):"undefined"==typeof t?Ht(e+""):kt(e+"",t)}function mt(e,t,n,r,i,o,s){var a;if(n&&(a=i?n(e,r,i):n(e)),"undefined"!=typeof a)return a;if(!fi(e))return e;var l=sa(e);if(l){if(a=Dn(e),!t)return Xe(e,a)}else{var c=ko.call(e),u=c==X;if(c!=Q&&c!=Y&&(!u||i))return Ne[c]?Cn(e,c,t):i?e:{};if(a=kn(u?{}:e),!t)return dt(e,a,ga(e))}o||(o=[]),s||(s=[]);for(var p=o.length;p--;)if(o[p]==e)return s[p];return o.push(e),s.push(a),(l?Je:Et)(e,function(r,i){a[i]=mt(r,t,n,i,e,o,s)}),a}function yt(e,t,n){if("function"!=typeof e)throw new To(V);return Yo(function(){e.apply(E,n)},t)}function gt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,s=In(),a=s==o,l=a&&t.length>=200?xs(t):null,c=t.length;l&&(s=Ge,a=!1,t=l);e:for(;++i<n;){var u=e[i];if(a&&u===u){for(var p=c;p--;)if(t[p]===u)continue e;r.push(u)}else s(t,u,0)<0&&r.push(u)}return r}function bt(e,t){var n=!0;return ys(e,function(e,r,i){return n=!!t(e,r,i)}),n}function _t(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function St(e,t){var n=[];return ys(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function xt(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function wt(e,t,n){for(var r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r];if(y(a)&&An(a.length)&&(sa(a)||oi(a))){t&&(a=wt(a,t,n));var l=-1,c=a.length;for(s.length+=c;++l<c;)s[++o]=a[l]}else n||(s[++o]=a)}return s}function Tt(e,t){return bs(e,t,Pi)}function Et(e,t){return bs(e,t,ga)}function Ot(e,t){return _s(e,t,ga)}function Rt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];la(e[s])&&(o[++i]=s)}return o}function Pt(e,t,n,r,i,o){if(e===t)return 0!==e||1/e==1/t;var s=typeof e,a=typeof t;return"function"!=s&&"object"!=s&&"function"!=a&&"object"!=a||null==e||null==t?e!==e&&t!==t:jt(e,t,Pt,n,r,i,o)}function jt(e,t,n,r,i,o,s){var a=sa(e),l=sa(t),c=z,u=z;a||(c=ko.call(e),c==Y?c=Q:c!=Q&&(a=_i(e))),l||(u=ko.call(t),u==Y?u=Q:u!=Q&&(l=_i(t)));var p=c==Q||i&&c==X,f=u==Q||i&&u==X,h=c==u;if(h&&!a&&!p)return On(e,t,c);if(i){if(!(h||p&&f))return!1}else{var d=p&&Mo.call(e,"__wrapped__"),v=f&&Mo.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,i,o,s);if(!h)return!1}o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==e)return s[m]==t;o.push(e),s.push(t);var y=(a?En:Rn)(e,t,n,r,i,o,s);return o.pop(),s.pop(),y}function It(e,t,n,r,i){for(var o=-1,s=t.length,a=!i;++o<s;)if(a&&r[o]?n[o]!==e[t[o]]:!(t[o]in e))return!1;for(o=-1;++o<s;){var l=t[o],c=e[l],u=n[o];if(a&&r[o])var p="undefined"!=typeof c||l in e;else p=i?i(c,u,l):E,"undefined"==typeof p&&(p=Pt(u,c,i,!0));if(!p)return!1}return!0}function Mt(e,t){var n=[];return ys(e,function(e,r,i){n.push(t(e,r,i))}),n}function Dt(e){var t=ga(e),n=t.length;if(!n)return eo(!0);if(1==n){var r=t[0],i=e[r];if(Nn(i))return function(e){return null!=e&&e[r]===i&&("undefined"!=typeof i||r in $n(e))}}for(var o=vo(n),s=vo(n);n--;)i=e[t[n]],o[n]=i,s[n]=Nn(i);return function(e){return null!=e&&It($n(e),t,o,s)}}function kt(e,t){return Nn(t)?function(n){return null!=n&&n[e]===t&&("undefined"!=typeof t||e in $n(n))}:function(n){return null!=n&&Pt(t,n[e],null,!0)}}function Ct(e,t,n,r,i){if(!fi(e))return e;var o=An(t.length)&&(sa(t)||_i(t));return(o?Je:Et)(t,function(t,s,a){if(y(t))return r||(r=[]),i||(i=[]),Ft(e,a,s,Ct,n,r,i);var l=e[s],c=n?n(l,t,s,e,a):E,u="undefined"==typeof c;u&&(c=t),!o&&"undefined"==typeof c||!u&&(c===c?c===l:l!==l)||(e[s]=c)}),e}function Ft(e,t,n,r,i,o,s){for(var a=o.length,l=t[n];a--;)if(o[a]==l)return void(e[n]=s[a]);var c=e[n],u=i?i(c,l,n,e,t):E,p="undefined"==typeof u;p&&(u=l,An(l.length)&&(sa(l)||_i(l))?u=sa(c)?c:c&&c.length?Xe(c):[]:ca(l)||oi(l)?u=oi(c)?wi(c):ca(c)?c:{}:p=!1),o.push(l),s.push(u),p?e[n]=r(u,l,i,o,s):(u===u?u!==c:c===c)&&(e[n]=u)}function Ht(e){return function(t){return null==t?E:t[e]}}function Lt(e,t){return e+Wo(os()*(t-e+1))}function At(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Nt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n="undefined"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=vo(i);++r<i;)o[r]=e[r+t];return o}function Wt(e,t){var n;return ys(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Ut(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function qt(e,t,n){var r=-1,i=e.length,o=An(i)?vo(i):[];return ys(e,function(e){for(var n=t.length,i=vo(n);n--;)i[n]=null==e?E:e[t[n]];o[++r]={criteria:i,index:r,value:e}}),Ut(o,function(e,t){return f(e,t,n)})}function Vt(e,t){var n=0;return ys(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Bt(e,t){var n=-1,r=In(),i=e.length,s=r==o,a=s&&i>=200,l=a?xs():null,c=[];l?(r=Ge,s=!1):(a=!1,l=t?[]:c);e:for(;++n<i;){var u=e[n],p=t?t(u,n,e):u;if(s&&u===u){for(var f=l.length;f--;)if(l[f]===p)continue e;t&&l.push(p),c.push(u)}else r(l,p,0)<0&&((t||a)&&l.push(p),c.push(u))}return c}function Yt(e,t){for(var n=-1,r=t.length,i=vo(r);++n<r;)i[n]=e[t[n]];return i}function zt(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););
return n?Nt(e,r?0:o,r?o+1:i):Nt(e,r?o+1:0,r?i:o)}function $t(e,t){var n=e;n instanceof J&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=[n],s=t[r];qo.apply(o,s.args),n=s.func.apply(s.thisArg,o)}return n}function Gt(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&us>=i){for(;i>r;){var o=r+i>>>1,s=e[o];(n?t>=s:t>s)?r=o+1:i=o}return i}return Kt(e,t,to,n)}function Kt(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,s=t!==t,a="undefined"==typeof t;o>i;){var l=Wo((i+o)/2),c=n(e[l]),u=c===c;if(s)var p=u||r;else p=a?u&&(r||"undefined"!=typeof c):r?t>=c:t>c;p?i=l+1:o=l}return ts(o,cs)}function Xt(e,t,n){if("function"!=typeof e)return to;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}function Jt(e){return Lo.call(e,0)}function Zt(e,t,n){for(var r=n.length,i=-1,o=es(e.length-r,0),s=-1,a=t.length,l=vo(o+a);++s<a;)l[s]=t[s];for(;++i<r;)l[n[i]]=e[i];for(;o--;)l[s++]=e[i++];return l}function Qt(e,t,n){for(var r=-1,i=n.length,o=-1,s=es(e.length-i,0),a=-1,l=t.length,c=vo(s+l);++o<s;)c[o]=e[o];for(var u=o;++a<l;)c[u+a]=t[a];for(;++r<i;)c[u+n[r]]=e[o++];return c}function en(e,t){return function(n,r,i){var o=t?t():{};if(r=jn(r,i,3),sa(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];e(o,l,r(l,s,n),n)}else ys(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function tn(e){return function(){var t=arguments,n=t.length,r=t[0];if(2>n||null==r)return r;var i=t[n-2],o=t[n-1],s=t[3];n>3&&"function"==typeof i?(i=Xt(i,o,5),n-=2):(i=n>2&&"function"==typeof o?o:null,n-=i?1:0),s&&Hn(t[1],t[2],s)&&(i=3==n?null:i,n=2);for(var a=0;++a<n;){var l=t[a];l&&e(r,l,i)}return r}}function nn(e,t){return function(n,r){var i=n?n.length:0;if(!An(i))return e(n,r);for(var o=t?i:-1,s=$n(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function rn(e){return function(t,n,r){for(var i=$n(t),o=r(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var l=o[a];if(n(i[l],l,i)===!1)break}return t}}function on(e,t){function n(){var i=this&&this!==Ze&&this instanceof n?r:e;return i.apply(t,arguments)}var r=an(e);return n}function sn(e){return function(t){for(var n=-1,r=Zi(Ai(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function an(e){return function(){var t=ms(e.prototype),n=e.apply(t,arguments);return fi(n)?n:t}}function ln(e){function t(n,r,i){i&&Hn(n,r,i)&&(r=null);var o=Tn(n,e,null,null,null,null,null,r);return o.placeholder=t.placeholder,o}return t}function cn(e,t){return function(n,r,i){i&&Hn(n,r,i)&&(r=null);var o=jn(),s=null==r;if(o===vt&&s||(s=!1,r=o(r,i,3)),s){var a=sa(n);if(a||!bi(n))return e(a?n:zn(n));r=l}return Pn(n,r,t)}}function un(e,t){return function(n,r,o){if(r=jn(r,o,3),sa(n)){var s=i(n,r,t);return s>-1?n[s]:E}return xt(n,r,e)}}function pn(e){return function(t,n,r){return t&&t.length?(n=jn(n,r,3),i(t,n,e)):-1}}function fn(e){return function(t,n,r){return n=jn(n,r,3),xt(t,n,e,!0)}}function hn(e){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var n,r=e?t:-1,i=0,o=vo(t);e?r--:++r<t;){var s=o[i++]=arguments[r];if("function"!=typeof s)throw new To(V);var a=n?"":Ts(s);n="wrapper"==a?new g([]):n}for(r=n?-1:t;++r<t;){s=o[r],a=Ts(s);var l="wrapper"==a?ws(s):null;n=l&&Ln(l[0])?n[Ts(l[0])].apply(n,l[3]):1==s.length&&Ln(s)?n[a]():n.thru(s)}return function(){var e=arguments;if(n&&1==e.length&&sa(e[0]))return n.plant(e[0]).value();for(var r=0,i=o[r].apply(this,e);++r<t;)i=o[r].call(this,i);return i}}}function dn(e,t){return function(n,r,i){return"function"==typeof r&&"undefined"==typeof i&&sa(n)?e(n,r):t(n,Xt(r,i,3))}}function vn(e){return function(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Xt(n,r,3)),e(t,n,Pi)}}function mn(e){return function(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Xt(n,r,3)),e(t,n)}}function yn(e){return function(t,n,r){return t=a(t),t&&(e?t:"")+Sn(t,n,r)+(e?"":t)}}function gn(e){var t=Qr(function(n,r){var i=b(r,t.placeholder);return Tn(n,e,null,r,i)});return t}function bn(e,t){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&"undefined"==typeof o&&sa(n)?e(n,r,i,s):At(n,jn(r,o,4),i,s,t)}}function _n(e,t,n,r,i,o,s,a,l,c){function u(){for(var _=arguments.length,S=_,x=vo(_);S--;)x[S]=arguments[S];if(r&&(x=Zt(x,r,i)),o&&(x=Qt(x,o,s)),d||m){var w=u.placeholder,T=b(x,w);if(_-=T.length,c>_){var O=a?Xe(a):null,j=es(c-_,0),I=d?T:null,M=d?null:T,C=d?x:null,F=d?null:x;t|=d?D:k,t&=~(d?k:D),v||(t&=~(R|P));var H=[e,t,n,C,I,F,M,O,l,j],L=_n.apply(E,H);return Ln(e)&&Es(L,H),L.placeholder=w,L}}var A=f?n:this;h&&(e=A[g]),a&&(x=Vn(x,a)),p&&l<x.length&&(x.length=l);var N=this&&this!==Ze&&this instanceof u?y||an(e):e;return N.apply(A,x)}var p=t&C,f=t&R,h=t&P,d=t&I,v=t&j,m=t&M,y=!h&&an(e),g=e;return u}function Sn(e,t,n){var r=e.length;if(t=+t,r>=t||!Zo(t))return"";var i=t-r;return n=null==n?" ":n+"",Bi(n,Ao(i/n.length)).slice(0,i)}function xn(e,t,n,r){function i(){for(var t=-1,a=arguments.length,l=-1,c=r.length,u=vo(a+c);++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++t];var p=this&&this!==Ze&&this instanceof i?s:e;return p.apply(o?n:this,u)}var o=t&R,s=an(e);return i}function wn(e){return function(t,n,r,i){var o=jn(r);return o===vt&&null==r?Gt(t,n,e):Kt(t,n,o(r,i,1),e)}}function Tn(e,t,n,r,i,o,s,a){var l=t&P;if(!l&&"function"!=typeof e)throw new To(V);var c=r?r.length:0;if(c||(t&=~(D|k),r=i=null),c-=i?i.length:0,t&k){var u=r,p=i;r=i=null}var f=l?null:ws(e),h=[e,t,n,r,i,u,p,o,s,a];if(f&&(Wn(h,f),t=h[1],a=h[9]),h[9]=null==a?l?0:e.length:es(a-c,0)||0,t==R)var d=on(h[0],h[2]);else d=t!=D&&t!=(R|D)||h[4].length?_n.apply(E,h):xn.apply(E,h);var v=f?Ss:Es;return v(d,h)}function En(e,t,n,r,i,o,s){var a=-1,l=e.length,c=t.length,u=!0;if(l!=c&&!(i&&c>l))return!1;for(;u&&++a<l;){var p=e[a],f=t[a];if(u=E,r&&(u=i?r(f,p,a):r(p,f,a)),"undefined"==typeof u)if(i)for(var h=c;h--&&(f=t[h],!(u=p&&p===f||n(p,f,r,i,o,s))););else u=p&&p===f||n(p,f,r,i,o,s)}return!!u}function On(e,t,n){switch(n){case $:case G:return+e==+t;case K:return e.name==t.name&&e.message==t.message;case Z:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case ee:case ne:return e==t+""}return!1}function Rn(e,t,n,r,i,o,s){var a=ga(e),l=a.length,c=ga(t),u=c.length;if(l!=u&&!i)return!1;for(var p=i,f=-1;++f<l;){var h=a[f],d=i?h in t:Mo.call(t,h);if(d){var v=e[h],m=t[h];d=E,r&&(d=i?r(m,v,h):r(v,m,h)),"undefined"==typeof d&&(d=v&&v===m||n(v,m,r,i,o,s))}if(!d)return!1;p||(p="constructor"==h)}if(!p){var y=e.constructor,g=t.constructor;if(y!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g))return!1}return!0}function Pn(e,t,n){var r=n?as:ss,i=r,o=i;return ys(e,function(e,s,a){var l=t(e,s,a);((n?i>l:l>i)||l===r&&l===o)&&(i=l,o=e)}),o}function jn(e,n,r){var i=t.callback||Qi;return i=i===Qi?vt:i,r?i(e,n,r):i}function In(e,n,r){var i=t.indexOf||or;return i=i===or?o:i,e?i(e,n,r):i}function Mn(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ts(t,e+s);break;case"takeRight":e=es(e,t-s)}}return{start:e,end:t}}function Dn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Mo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function kn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=So),new t}function Cn(e,t,n){var r=e.constructor;switch(t){case ie:return Jt(e);case $:case G:return new r(+e);case oe:case se:case ae:case le:case ce:case ue:case pe:case fe:case he:var i=e.buffer;return new r(n?Jt(i):i,e.byteOffset,e.length);case Z:case ne:return new r(e);case ee:var o=new r(e.source,Oe.exec(e));o.lastIndex=e.lastIndex}return o}function Fn(e,t){return e=+e,t=null==t?fs:t,e>-1&&e%1==0&&t>e}function Hn(e,t,n){if(!fi(n))return!1;var r=typeof t;if("number"==r)var i=n.length,o=An(i)&&Fn(t,i);else o="string"==r&&t in n;if(o){var s=n[t];return e===e?e===s:s!==s}return!1}function Ln(e){var n=Ts(e);return!!n&&e===t[n]&&n in J.prototype}function An(e){return"number"==typeof e&&e>-1&&e%1==0&&fs>=e}function Nn(e){return e===e&&(0===e?1/e>0:!fi(e))}function Wn(e,t){var n=e[1],r=t[1],i=n|r,o=C>i,s=r==C&&n==I||r==C&&n==F&&e[7].length<=t[8]||r==(C|F)&&n==I;if(!o&&!s)return e;r&R&&(e[2]=t[2],i|=n&R?0:j);var a=t[3];if(a){var l=e[3];e[3]=l?Zt(l,a,t[4]):Xe(a),e[4]=l?b(e[3],B):Xe(t[4])}return a=t[5],a&&(l=e[5],e[5]=l?Qt(l,a,t[6]):Xe(a),e[6]=l?b(e[5],B):Xe(t[6])),a=t[7],a&&(e[7]=Xe(a)),r&C&&(e[8]=null==e[8]?t[8]:ts(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Un(e,t){e=$n(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function qn(e,t){var n={};return Tt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function Vn(e,t){for(var n=e.length,r=ts(t.length,n),i=Xe(e);r--;){var o=t[r];e[r]=Fn(o,n)?i[o]:E}return e}function Bn(e){var n;if(t.support,!y(e)||ko.call(e)!=Q||!Mo.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return Tt(e,function(e,t){r=t}),"undefined"==typeof r||Mo.call(e,r)}function Yn(e){for(var n=Pi(e),r=n.length,i=r&&e.length,o=t.support,s=i&&An(i)&&(sa(e)||o.nonEnumArgs&&oi(e)),a=-1,l=[];++a<r;){var c=n[a];(s&&Fn(c,i)||Mo.call(e,c))&&l.push(c)}return l}function zn(e){return null==e?[]:An(e.length)?fi(e)?e:So(e):ki(e)}function $n(e){return fi(e)?e:So(e)}function Gn(e){return e instanceof J?e.clone():new g(e.__wrapped__,e.__chain__,Xe(e.__actions__))}function Kn(e,t,n){t=(n?Hn(e,t,n):null==t)?1:es(+t||1,1);for(var r=0,i=e?e.length:0,o=-1,s=vo(Ao(i/t));i>r;)s[++o]=Nt(e,r,r+=t);return s}function Xn(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function Jn(e,t,n){var r=e?e.length:0;return r?((n?Hn(e,t,n):null==t)&&(t=1),Nt(e,0>t?0:t)):[]}function Zn(e,t,n){var r=e?e.length:0;return r?((n?Hn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Nt(e,0,0>t?0:t)):[]}function Qn(e,t,n){return e&&e.length?zt(e,jn(t,n,3),!0,!0):[]}function er(e,t,n){return e&&e.length?zt(e,jn(t,n,3),!0):[]}function tr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Hn(e,t,n)&&(n=0,r=i),_t(e,t,n,r)):[]}function nr(e){return e?e[0]:E}function rr(e,t,n){var r=e?e.length:0;return n&&Hn(e,t,n)&&(t=!1),r?wt(e,t):[]}function ir(e){var t=e?e.length:0;return t?wt(e,!0):[]}function or(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?es(r+n,0):n;else if(n){var i=Gt(e,t),s=e[i];return(t===t?t===s:s!==s)?i:-1}return o(e,t,n||0)}function sr(e){return Zn(e,1)}function ar(){for(var e=[],t=-1,n=arguments.length,r=[],i=In(),s=i==o;++t<n;){var a=arguments[t];(sa(a)||oi(a))&&(e.push(a),r.push(s&&a.length>=120?xs(t&&a):null))}n=e.length;var l=e[0],c=-1,u=l?l.length:0,p=[],f=r[0];e:for(;++c<u;)if(a=l[c],(f?Ge(f,a):i(p,a,0))<0){for(t=n;--t;){var h=r[t];if((h?Ge(h,a):i(e[t],a,0))<0)continue e}f&&f.push(a),p.push(a)}return p}function lr(e){var t=e?e.length:0;return t?e[t-1]:E}function cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?es(r+n,0):ts(n||0,r-1))+1;else if(n){i=Gt(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return m(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function ur(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=In(),i=e.length;++n<i;)for(var o=0,s=e[n];(o=r(t,s,o))>-1;)zo.call(t,o,1);return t}function pr(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=jn(t,n,3);++r<i;){var s=e[r];t(s,r,e)&&(o.push(s),zo.call(e,r--,1),i--)}return o}function fr(e){return Jn(e,1)}function hr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Hn(e,t,n)&&(t=0,n=r),Nt(e,t,n)):[]}function dr(e,t,n){var r=e?e.length:0;return r?((n?Hn(e,t,n):null==t)&&(t=1),Nt(e,0,0>t?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?Hn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Nt(e,0>t?0:t)):[]}function mr(e,t,n){return e&&e.length?zt(e,jn(t,n,3),!1,!0):[]}function yr(e,t,n){return e&&e.length?zt(e,jn(t,n,3)):[]}function gr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Hn(e,t,r)?null:t,t=!1);var s=jn();return(s!==vt||null!=n)&&(n=s(n,r,3)),t&&In()==o?_(e,n):Bt(e,n)}function br(e){for(var t=-1,n=(e&&e.length&&it(rt(e,Io)))>>>0,r=vo(n);++t<n;)r[t]=rt(e,Ht(t));return r}function _r(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(sa(n)||oi(n))var r=r?gt(r,n).concat(gt(n,r)):n}return r?Bt(r):[]}function Sr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||sa(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function xr(e){var n=t(e);return n.__chain__=!0,n}function wr(e,t,n){return t.call(n,e),e}function Tr(e,t,n){return t.call(n,e)}function Er(){return xr(this)}function Or(){return new g(this.value(),this.__chain__)}function Rr(e){for(var t,r=this;r instanceof n;){var i=Gn(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Pr(){var e=this.__wrapped__;return e instanceof J?(this.__actions__.length&&(e=new J(this)),new g(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function jr(){return this.value()+""}function Ir(){return $t(this.__wrapped__,this.__actions__)}function Mr(e,t,n){var r=sa(e)?tt:bt;return n&&Hn(e,t,n)&&(t=null),("function"!=typeof t||"undefined"!=typeof n)&&(t=jn(t,n,3)),r(e,t)}function Dr(e,t,n){var r=sa(e)?nt:St;return t=jn(t,n,3),r(e,t)}function kr(e,t){return Ls(e,Dt(t))}function Cr(e,t,n,r){var i=e?e.length:0;return An(i)||(e=ki(e),i=e.length),i?(n="number"!=typeof n||r&&Hn(t,n,r)?0:0>n?es(i+n,0):n||0,"string"==typeof e||!sa(e)&&bi(e)?i>n&&e.indexOf(t,n)>-1:In(e,t,n)>-1):!1}function Fr(e,t,n){var r=sa(e)?rt:Mt;return t=jn(t,n,3),r(e,t)}function Hr(e,t){return Fr(e,Ht(t))}function Lr(e,t,n){var r=sa(e)?nt:St;return t=jn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Ar(e,t,n){if(n?Hn(e,t,n):null==t){e=zn(e);var r=e.length;return r>0?e[Lt(0,r-1)]:E}var i=Nr(e);return i.length=ts(0>t?0:+t||0,i.length),i}function Nr(e){e=zn(e);for(var t=-1,n=e.length,r=vo(n);++t<n;){var i=Lt(0,t);t!=i&&(r[t]=r[i]),r[i]=e[t]}return r}function Wr(e){var t=e?e.length:0;return An(t)?t:ga(e).length}function Ur(e,t,n){var r=sa(e)?lt:Wt;return n&&Hn(e,t,n)&&(t=null),("function"!=typeof t||"undefined"!=typeof n)&&(t=jn(t,n,3)),r(e,t)}function qr(e,t,n){if(null==e)return[];var r=-1,i=e.length,o=An(i)?vo(i):[];return n&&Hn(e,t,n)&&(t=null),t=jn(t,n,3),ys(e,function(e,n,i){o[++r]={criteria:t(e,n,i),index:r,value:e}}),Ut(o,p)}function Vr(){var e=arguments,t=e[0],n=e[3],r=0,i=e.length-1;if(null==t)return[];for(var o=vo(i);i>r;)o[r]=e[++r];return n&&Hn(e[1],e[2],n)&&(o=e[1]),qt(t,wt(o),[])}function Br(e,t,n,r){return null==e?[]:(r&&Hn(t,n,r)&&(n=null),sa(t)||(t=null==t?[]:[t]),sa(n)||(n=null==n?[]:[n]),qt(e,t,n))}function Yr(e,t){return Dr(e,Dt(t))}function zr(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new To(V);var n=e;e=t,t=n}return e=Zo(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function $r(e,t,n){return n&&Hn(e,t,n)&&(t=null),t=e&&null==t?e.length:es(+t||0,0),Tn(e,C,null,null,null,null,t)}function Gr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new To(V);var r=e;e=t,t=r}return function(){return--e>0?n=t.apply(this,arguments):t=null,n}}function Kr(e,t,n){function r(){f&&No(f),l&&No(l),l=f=h=E}function i(){var n=t-($s()-u);if(0>=n||n>t){l&&No(l);var r=h;l=f=h=E,r&&(d=$s(),c=e.apply(p,a),f||l||(a=p=null))}else f=Yo(i,n)}function o(){f&&No(f),l=f=h=E,(m||v!==t)&&(d=$s(),c=e.apply(p,a),f||l||(a=p=null))}function s(){if(a=arguments,u=$s(),p=this,h=m&&(f||!y),v===!1)var n=y&&!f;else{l||y||(d=u);var r=v-(u-d),s=0>=r||r>v;s?(l&&(l=No(l)),d=u,c=e.apply(p,a)):l||(l=Yo(o,r))}return s&&f?f=No(f):f||t===v||(f=Yo(i,t)),n&&(s=!0,c=e.apply(p,a)),!s||f||l||(a=p=null),c}var a,l,c,u,p,f,h,d=0,v=!1,m=!0;if("function"!=typeof e)throw new To(V);if(t=0>t?0:+t||0,n===!0){var y=!0;m=!1}else fi(n)&&(y=n.leading,v="maxWait"in n&&es(+n.maxWait||0,t),m="trailing"in n?n.trailing:m);return s.cancel=r,s}function Xr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new To(V);var n=function(){var r=arguments,i=n.cache,o=t?t.apply(this,r):r[0];if(i.has(o))return i.get(o);var s=e.apply(this,r);return i.set(o,s),s};return n.cache=new Xr.Cache,n}function Jr(e){if("function"!=typeof e)throw new To(V);return function(){return!e.apply(this,arguments)}}function Zr(e){return Gr(e,2)}function Qr(e,t){if("function"!=typeof e)throw new To(V);return t=es("undefined"==typeof t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=es(n.length-t,0),o=vo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=vo(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,e.apply(this,s)}}function ei(e){if("function"!=typeof e)throw new To(V);return function(t){return e.apply(this,t)}}function ti(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new To(V);return n===!1?r=!1:fi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),We.leading=r,We.maxWait=+t,We.trailing=i,Kr(e,t,We)}function ni(e,t){return t=null==t?to:t,Tn(t,D,null,[e],[])}function ri(e,t,n,r){return t&&"boolean"!=typeof t&&Hn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),n="function"==typeof n&&Xt(n,r,1),mt(e,t,n)}function ii(e,t,n){return t="function"==typeof t&&Xt(t,n,1),mt(e,!0,t)}function oi(e){var t=y(e)?e.length:E;return An(t)&&ko.call(e)==Y}function si(e){return e===!0||e===!1||y(e)&&ko.call(e)==$}function ai(e){return y(e)&&ko.call(e)==G}function li(e){return!!e&&1===e.nodeType&&y(e)&&ko.call(e).indexOf("Element")>-1}function ci(e){if(null==e)return!0;var t=e.length;return An(t)&&(sa(e)||bi(e)||oi(e)||y(e)&&la(e.splice))?!t:!ga(e).length}function ui(e,t,n,r){if(n="function"==typeof n&&Xt(n,r,3),!n&&Nn(e)&&Nn(t))return e===t;var i=n?n(e,t):E;return"undefined"==typeof i?Pt(e,t,n):!!i}function pi(e){return y(e)&&"string"==typeof e.message&&ko.call(e)==K}function fi(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function hi(e,t,n,r){var i=ga(t),o=i.length;if(!o)return!0;if(null==e)return!1;if(n="function"==typeof n&&Xt(n,r,3),!n&&1==o){var s=i[0],a=t[s];if(Nn(a))return a===e[s]&&("undefined"!=typeof a||s in $n(e))}for(var l=vo(o),c=vo(o);o--;)a=l[o]=t[i[o]],c[o]=Nn(a);return It($n(e),i,l,c,n)}function di(e){return yi(e)&&e!=+e}function vi(e){return null==e?!1:ko.call(e)==X?Fo.test(jo.call(e)):y(e)&&Pe.test(e)}function mi(e){return null===e}function yi(e){return"number"==typeof e||y(e)&&ko.call(e)==Z}function gi(e){return y(e)&&ko.call(e)==ee||!1}function bi(e){return"string"==typeof e||y(e)&&ko.call(e)==ne}function _i(e){return y(e)&&An(e.length)&&!!Ae[ko.call(e)]}function Si(e){return"undefined"==typeof e}function xi(e){var t=e?e.length:0;return An(t)?t?Xe(e):[]:ki(e)}function wi(e){return dt(e,Pi(e))}function Ti(e,t,n){var r=ms(e);return n&&Hn(e,t,n)&&(t=null),t?dt(t,r,ga(t)):r}function Ei(e){return Rt(e,Pi(e))}function Oi(e,t){return e?Mo.call(e,t):!1}function Ri(e,t,n){n&&Hn(e,t,n)&&(t=null);for(var r=-1,i=ga(e),o=i.length,s={};++r<o;){var a=i[r],l=e[a];t?Mo.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s}function Pi(e){if(null==e)return[];fi(e)||(e=So(e));var t=e.length;t=t&&An(t)&&(sa(e)||vs.nonEnumArgs&&oi(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=vo(t),s=t>0;++r<t;)o[r]=r+"";for(var a in e)s&&Fn(a,t)||"constructor"==a&&(i||!Mo.call(e,a))||o.push(a);return o}function ji(e,t,n){var r={};return t=jn(t,n,3),Et(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Ii(e){for(var t=-1,n=ga(e),r=n.length,i=vo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Mi(e,t,n){var r=null==e?E:e[t];return"undefined"==typeof r&&(r=n),la(r)?r.call(e):r}function Di(e,t,n,r){var i=sa(e)||_i(e);if(t=jn(t,r,4),null==n)if(i||fi(e)){var o=e.constructor;n=i?sa(e)?new o:[]:ms(la(o)&&o.prototype)}else n={};return(i?Je:Et)(e,function(e,r,i){return t(n,e,r,i)}),n}function ki(e){return Yt(e,ga(e))}function Ci(e){return Yt(e,Pi(e))}function Fi(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=t&&n>e}function Hi(e,t,n){n&&Hn(e,t,n)&&(t=n=null);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=os();return ts(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Lt(e,t)}function Li(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function Ai(e){return e=a(e),e&&e.replace(je,h).replace(Te,"")}function Ni(e,t,n){e=a(e),t+="";var r=e.length;return n="undefined"==typeof n?r:ts(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Wi(e){return e=a(e),e&&_e.test(e)?e.replace(ge,d):e}function Ui(e){return e=a(e),e&&De.test(e)?e.replace(Me,"\\$&"):e}function qi(e,t,n){e=a(e),t=+t;var r=e.length;if(r>=t||!Zo(t))return e;var i=(t-r)/2,o=Wo(i),s=Ao(i);return n=Sn("",s,n),n.slice(0,o)+e+n}function Vi(e,t,n){return n&&Hn(e,t,n)&&(t=0),is(e,t)}function Bi(e,t){var n="";if(e=a(e),t=+t,1>t||!e||!Zo(t))return n;do t%2&&(n+=e),t=Wo(t/2),e+=e;while(t);return n}function Yi(e,t,n){return e=a(e),n=null==n?0:ts(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function zi(e,n,r){var i=t.templateSettings;r&&Hn(e,n,r)&&(n=r=null),e=a(e),n=ft(ft({},r||n),i,pt);var o,s,l=ft(ft({},n.imports),i.imports,pt),c=ga(l),u=Yt(l,c),p=0,f=n.interpolate||Ie,h="__p += '",d=xo((n.escape||Ie).source+"|"+f.source+"|"+(f===we?Ee:Ie).source+"|"+(n.evaluate||Ie).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Le+"]")+"\n";e.replace(d,function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(p,l).replace(ke,v),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=l+t.length,t}),h+="';\n";var y=n.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(de,""):h).replace(ve,"$1").replace(me,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Pa(function(){return go(c,m+"return "+h).apply(E,u)});if(g.source=h,pi(g))throw g;return g}function $i(e,t,n){var r=e;return(e=a(e))?(n?Hn(r,t,n):null==t)?e.slice(S(e),x(e)+1):(t+="",e.slice(c(e,t),u(e,t)+1)):e}function Gi(e,t,n){var r=e;return e=a(e),e?e.slice((n?Hn(r,t,n):null==t)?S(e):c(e,t+"")):e}function Ki(e,t,n){var r=e;return e=a(e),e?(n?Hn(r,t,n):null==t)?e.slice(0,x(e)+1):e.slice(0,u(e,t+"")+1):e}function Xi(e,t,n){n&&Hn(e,t,n)&&(t=null);var r=H,i=L;if(null!=t)if(fi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?a(t.omission):i}else r=+t||0;if(e=a(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var l=e.slice(0,s);if(null==o)return l+i;if(gi(o)){if(e.slice(s).search(o)){var c,u,p=e.slice(0,s);for(o.global||(o=xo(o.source,(Oe.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(p);)u=c.index;l=l.slice(0,null==u?s:u)}}else if(e.indexOf(o,s)!=s){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+i}function Ji(e){return e=a(e),e&&be.test(e)?e.replace(ye,w):e}function Zi(e,t,n){return n&&Hn(e,t,n)&&(t=null),e=a(e),e.match(t||Ce)||[]}function Qi(e,t,n){return n&&Hn(e,t,n)&&(t=null),y(e)?no(e):vt(e,t)}function eo(e){return function(){return e}}function to(e){return e}function no(e){return Dt(mt(e,!0))}function ro(e,t){return kt(e+"",mt(t,!0))}function io(e,t,n){if(null==n){var r=fi(t),i=r&&ga(t),o=i&&i.length&&Rt(t,i);(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Rt(t,ga(t)));var s=!0,a=-1,l=la(e),c=o.length;n===!1?s=!1:fi(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var u=o[a],p=t[u];e[u]=p,l&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__),i=r.__actions__=Xe(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var o=[this.value()];return qo.apply(o,arguments),t.apply(e,o)}}(p))}return e}function oo(){return e._=Co,this}function so(){}function ao(e){return Ht(e+"")}function lo(e){return function(t){return null==e?E:e[t]}}function co(e,t,n){n&&Hn(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=es(Ao((t-e)/(n||1)),0),o=vo(i);++r<i;)o[r]=e,e+=n;return o}function uo(e,t,n){if(e=+e,1>e||!Zo(e))return[];var r=-1,i=vo(ts(e,ls));for(t=Xt(t,n,1);++r<e;)ls>r?i[r]=t(r):t(r);return i}function po(e){var t=++Do;return a(e)+t}function fo(e,t){return e+t}function ho(e,t,n){n&&Hn(e,t,n)&&(t=null);var r=jn(),i=null==t;return r===vt&&i||(i=!1,t=r(t,n,3)),i?ct(sa(e)?e:zn(e)):Vt(e,t)}e=e?Qe.defaults(Ze.Object(),e,Qe.pick(Ze,He)):Ze;var vo=e.Array,mo=e.Date,yo=e.Error,go=e.Function,bo=e.Math,_o=e.Number,So=e.Object,xo=e.RegExp,wo=e.String,To=e.TypeError,Eo=vo.prototype,Oo=So.prototype,Ro=wo.prototype,Po=(Po=e.window)&&Po.document,jo=go.prototype.toString,Io=Ht("length"),Mo=Oo.hasOwnProperty,Do=0,ko=Oo.toString,Co=e._,Fo=xo("^"+Ui(ko).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ho=vi(Ho=e.ArrayBuffer)&&Ho,Lo=vi(Lo=Ho&&new Ho(0).slice)&&Lo,Ao=bo.ceil,No=e.clearTimeout,Wo=bo.floor,Uo=vi(Uo=So.getPrototypeOf)&&Uo,qo=Eo.push,Vo=Oo.propertyIsEnumerable,Bo=vi(Bo=e.Set)&&Bo,Yo=e.setTimeout,zo=Eo.splice,$o=vi($o=e.Uint8Array)&&$o,Go=vi(Go=e.WeakMap)&&Go,Ko=function(){try{var t=vi(t=e.Float64Array)&&t,n=new t(new Ho(10),0,1)&&t}catch(r){}return n}(),Xo=vi(Xo=vo.isArray)&&Xo,Jo=vi(Jo=So.create)&&Jo,Zo=e.isFinite,Qo=vi(Qo=So.keys)&&Qo,es=bo.max,ts=bo.min,ns=vi(ns=mo.now)&&ns,rs=vi(rs=_o.isFinite)&&rs,is=e.parseInt,os=bo.random,ss=_o.NEGATIVE_INFINITY,as=_o.POSITIVE_INFINITY,ls=bo.pow(2,32)-1,cs=ls-1,us=ls>>>1,ps=Ko?Ko.BYTES_PER_ELEMENT:0,fs=bo.pow(2,53)-1,hs=Go&&new Go,ds={},vs=t.support={};!function(e){vs.funcDecomp=/\bthis\b/.test(function(){return this}),vs.funcNames="string"==typeof go.name;try{vs.dom=11===Po.createDocumentFragment().nodeType}catch(t){vs.dom=!1}try{vs.nonEnumArgs=!Vo.call(arguments,1)}catch(t){vs.nonEnumArgs=!0}}(0,0),t.templateSettings={escape:Se,evaluate:xe,interpolate:we,variable:"",imports:{_:t}};var ms=function(){function t(){}return function(n){if(fi(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}(),ys=nn(Et),gs=nn(Ot,!0),bs=rn(),_s=rn(!0),Ss=hs?function(e,t){return hs.set(e,t),e}:to;Lo||(Jt=Ho&&$o?function(e){var t=e.byteLength,n=Ko?Wo(t/ps):0,r=n*ps,i=new Ho(t);if(n){var o=new Ko(i,0,n);o.set(new Ko(e,0,n))}return t!=r&&(o=new $o(i,r),o.set(new $o(e,r))),i}:eo(null));var xs=Jo&&Bo?function(e){return new $e(e)}:eo(null),ws=hs?function(e){return hs.get(e)}:so,Ts=function(){return vs.funcNames?"constant"==eo.name?Ht("name"):function(e){for(var t=e.name,n=ds[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}:eo("")}(),Es=function(){var e=0,t=0;return function(n,r){var i=$s(),o=N-(i-t);if(t=i,o>0){if(++e>=A)return n}else e=0;return Ss(n,r)}}(),Os=Qr(function(e,t){return sa(e)||oi(e)?gt(e,wt(t,!1,!0)):[]}),Rs=pn(),Ps=pn(!0),js=Qr(function(e,t){e||(e=[]),t=wt(t);var n=t.length,i=ht(e,t);for(t.sort(r);n--;){var o=parseFloat(t[n]);if(o!=s&&Fn(o)){var s=o;zo.call(e,o,1)}}return i}),Is=wn(),Ms=wn(!0),Ds=Qr(function(e){return Bt(wt(e,!1,!0))}),ks=Qr(function(e,t){return sa(e)||oi(e)?gt(e,t):[]}),Cs=Qr(br),Fs=Qr(function(e,t){var n=e?e.length:0;return An(n)&&(e=zn(e)),ht(e,wt(t))}),Hs=en(function(e,t,n){Mo.call(e,n)?++e[n]:e[n]=1}),Ls=un(ys),As=un(gs,!0),Ns=dn(Je,ys),Ws=dn(et,gs),Us=en(function(e,t,n){Mo.call(e,n)?e[n].push(t):e[n]=[t]}),qs=en(function(e,t,n){e[n]=t}),Vs=Qr(function(e,t,n){var r=-1,i="function"==typeof t,o=e?e.length:0,s=An(o)?vo(o):[];return ys(e,function(e){var o=i?t:null!=e&&e[t];s[++r]=o?o.apply(e,n):E}),s}),Bs=en(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ys=bn(st,ys),zs=bn(at,gs),$s=ns||function(){return(new mo).getTime()},Gs=Qr(function(e,t,n){var r=R;if(n.length){var i=b(n,Gs.placeholder);r|=D}return Tn(e,r,t,n,i)}),Ks=Qr(function(e,t){t=t.length?wt(t):Ei(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Tn(e[i],R,e)}return e}),Xs=Qr(function(e,t,n){var r=R|P;if(n.length){var i=b(n,Xs.placeholder);r|=D}return Tn(t,r,e,n,i)}),Js=ln(I),Zs=ln(M),Qs=Qr(function(e,t){return yt(e,1,t)}),ea=Qr(function(e,t,n){return yt(e,t,n)}),ta=hn(),na=hn(!0),ra=gn(D),ia=gn(k),oa=Qr(function(e,t){return Tn(e,F,null,null,null,wt(t))}),sa=Xo||function(e){return y(e)&&An(e.length)&&ko.call(e)==z};vs.dom||(li=function(e){return!!e&&1===e.nodeType&&y(e)&&!ca(e)});var aa=rs||function(e){return"number"==typeof e&&Zo(e)},la=s(/x/)||$o&&!s($o)?function(e){return ko.call(e)==X}:s,ca=Uo?function(e){if(!e||ko.call(e)!=Q)return!1;var t=e.valueOf,n=vi(t)&&(n=Uo(t))&&Uo(n);return n?e==n||Uo(e)==n:Bn(e)}:Bn,ua=tn(ft),pa=Qr(function(e){var t=e[0];return null==t?t:(e.push(ut),ua.apply(E,e))}),fa=fn(Et),ha=fn(Ot),da=vn(bs),va=vn(_s),ma=mn(Et),ya=mn(Ot),ga=Qo?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&An(n)?Yn(e):fi(e)?Qo(e):[]}:Yn,ba=tn(Ct),_a=Qr(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=rt(wt(t),wo);return Un(e,gt(Pi(e),t))}var n=Xt(t[0],t[1],3);return qn(e,function(e,t,r){return!n(e,t,r)})}),Sa=Qr(function(e,t){return null==e?{}:"function"==typeof t[0]?qn(e,Xt(t[0],t[1],3)):Un(e,wt(t))}),xa=sn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),wa=sn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ta=yn(),Ea=yn(!0);8!=is(Fe+"08")&&(Vi=function(e,t,n){return(n?Hn(e,t,n):null==t)?t=0:t&&(t=+t),e=$i(e),is(e,t||(Re.test(e)?16:10))});var Oa=sn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ra=sn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Pa=Qr(function(e,t){try{return e.apply(E,t)}catch(n){return pi(n)?n:new yo(n)}}),ja=cn(it),Ia=cn(ot,!0);return t.prototype=n.prototype,g.prototype=ms(n.prototype),g.prototype.constructor=g,J.prototype=ms(n.prototype),J.prototype.constructor=J,qe.prototype["delete"]=Ve,qe.prototype.get=Be,qe.prototype.has=Ye,qe.prototype.set=ze,$e.prototype.push=Ke,Xr.Cache=qe,t.after=zr,t.ary=$r,t.assign=ua,t.at=Fs,t.before=Gr,t.bind=Gs,t.bindAll=Ks,t.bindKey=Xs,t.callback=Qi,t.chain=xr,t.chunk=Kn,t.compact=Xn,t.constant=eo,t.countBy=Hs,t.create=Ti,t.curry=Js,t.curryRight=Zs,t.debounce=Kr,t.defaults=pa,t.defer=Qs,t.delay=ea,t.difference=Os,t.drop=Jn,t.dropRight=Zn,t.dropRightWhile=Qn,t.dropWhile=er,t.fill=tr,t.filter=Dr,t.flatten=rr,t.flattenDeep=ir,t.flow=ta,t.flowRight=na,t.forEach=Ns,t.forEachRight=Ws,t.forIn=da,t.forInRight=va,t.forOwn=ma,t.forOwnRight=ya,t.functions=Ei,t.groupBy=Us,t.indexBy=qs,t.initial=sr,t.intersection=ar,t.invert=Ri,t.invoke=Vs,t.keys=ga,t.keysIn=Pi,t.map=Fr,t.mapValues=ji,t.matches=no,t.matchesProperty=ro,t.memoize=Xr,t.merge=ba,t.mixin=io,t.negate=Jr,t.omit=_a,t.once=Zr,t.pairs=Ii,t.partial=ra,t.partialRight=ia,t.partition=Bs,t.pick=Sa,t.pluck=Hr,t.property=ao,t.propertyOf=lo,t.pull=ur,t.pullAt=js,t.range=co,t.rearg=oa,t.reject=Lr,t.remove=pr,t.rest=fr,t.restParam=Qr,t.shuffle=Nr,t.slice=hr,t.sortBy=qr,t.sortByAll=Vr,t.sortByOrder=Br,t.spread=ei,t.take=dr,t.takeRight=vr,t.takeRightWhile=mr,t.takeWhile=yr,t.tap=wr,t.throttle=ti,t.thru=Tr,t.times=uo,t.toArray=xi,t.toPlainObject=wi,t.transform=Di,t.union=Ds,t.uniq=gr,t.unzip=br,t.values=ki,t.valuesIn=Ci,t.where=Yr,t.without=ks,t.wrap=ni,t.xor=_r,t.zip=Cs,t.zipObject=Sr,t.backflow=na,t.collect=Fr,t.compose=na,t.each=Ns,t.eachRight=Ws,t.extend=ua,t.iteratee=Qi,t.methods=Ei,t.object=Sr,t.select=Dr,t.tail=fr,t.unique=gr,io(t,t),t.add=fo,t.attempt=Pa,t.camelCase=xa,t.capitalize=Li,t.clone=ri,t.cloneDeep=ii,t.deburr=Ai,t.endsWith=Ni,t.escape=Wi,t.escapeRegExp=Ui,t.every=Mr,t.find=Ls,t.findIndex=Rs,t.findKey=fa,t.findLast=As,t.findLastIndex=Ps,t.findLastKey=ha,t.findWhere=kr,t.first=nr,t.has=Oi,t.identity=to,t.includes=Cr,t.indexOf=or,t.inRange=Fi,t.isArguments=oi,t.isArray=sa,t.isBoolean=si,t.isDate=ai,t.isElement=li,t.isEmpty=ci,t.isEqual=ui,t.isError=pi,t.isFinite=aa,t.isFunction=la,t.isMatch=hi,t.isNaN=di,t.isNative=vi,
t.isNull=mi,t.isNumber=yi,t.isObject=fi,t.isPlainObject=ca,t.isRegExp=gi,t.isString=bi,t.isTypedArray=_i,t.isUndefined=Si,t.kebabCase=wa,t.last=lr,t.lastIndexOf=cr,t.max=ja,t.min=Ia,t.noConflict=oo,t.noop=so,t.now=$s,t.pad=qi,t.padLeft=Ta,t.padRight=Ea,t.parseInt=Vi,t.random=Hi,t.reduce=Ys,t.reduceRight=zs,t.repeat=Bi,t.result=Mi,t.runInContext=T,t.size=Wr,t.snakeCase=Oa,t.some=Ur,t.sortedIndex=Is,t.sortedLastIndex=Ms,t.startCase=Ra,t.startsWith=Yi,t.sum=ho,t.template=zi,t.trim=$i,t.trimLeft=Gi,t.trimRight=Ki,t.trunc=Xi,t.unescape=Ji,t.uniqueId=po,t.words=Zi,t.all=Mr,t.any=Ur,t.contains=Cr,t.detect=Ls,t.foldl=Ys,t.foldr=zs,t.head=nr,t.include=Cr,t.inject=Ys,io(t,function(){var e={};return Et(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=Ar,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Ar(t,e)}):Ar(this.value())},t.VERSION=O,Je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),Je(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=q,r=t==W;J.prototype[e]=function(e,i){var o=this.__filtered__,s=o&&r?new J(this):this.clone(),a=s.__iteratees__||(s.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:jn(e,i,1),limit:-1,type:t}),s.__filtered__=o||n,s}}),Je(["drop","take"],function(e,t){var n=e+"While";J.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:es(Wo(n)||0,0),r)t?i.__takeCount__=ts(i.__takeCount__,n):lr(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},J.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},J.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),Je(["first","last"],function(e,t){var n="take"+(t?"Right":"");J.prototype[e]=function(){return this[n](1).value()[0]}}),Je(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");J.prototype[e]=function(){return this[n](1)}}),Je(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Dt:Ht;J.prototype[e]=function(e){return this[n](r(e))}}),J.prototype.compact=function(){return this.filter(to)},J.prototype.reject=function(e,t){return e=jn(e,t,1),this.filter(function(t){return!e(t)})},J.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=0>e?this.takeRight(-e):this.drop(e);return"undefined"!=typeof t&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},J.prototype.toArray=function(){return this.drop(0)},Et(J.prototype,function(e,n){var r=t[n];if(r){var i=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n);t.prototype[n]=function(){var n=arguments,s=(n.length,this.__chain__),a=this.__wrapped__,l=!!this.__actions__.length,c=a instanceof J,u=n[0],p=c||sa(a);p&&i&&"function"==typeof u&&1!=u.length&&(c=p=!1);var f=c&&!l;if(o&&!s)return f?e.call(a):r.call(t,this.value());var h=function(e){var i=[e];return qo.apply(i,n),r.apply(t,i)};if(p){var d=f?a:new J(this),v=e.apply(d,n);if(!o&&(l||v.__actions__)){var m=v.__actions__||(v.__actions__=[]);m.push({func:Tr,args:[h],thisArg:t})}return new g(v,s)}return this.thru(h)}}}),Je(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Ro:Eo)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Et(J.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=ds[i]||(ds[i]=[]);o.push({name:n,func:r})}}),ds[_n(null,P).name]=[{name:"wrapper",func:null}],J.prototype.clone=te,J.prototype.reverse=re,J.prototype.value=Ue,t.prototype.chain=Er,t.prototype.commit=Or,t.prototype.plant=Rr,t.prototype.reverse=Pr,t.prototype.toString=jr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Ir,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var E,O="3.6.0",R=1,P=2,j=4,I=8,M=16,D=32,k=64,C=128,F=256,H=30,L="...",A=150,N=16,W=0,U=1,q=2,V="Expected a function",B="__lodash_placeholder__",Y="[object Arguments]",z="[object Array]",$="[object Boolean]",G="[object Date]",K="[object Error]",X="[object Function]",J="[object Map]",Z="[object Number]",Q="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object Float32Array]",se="[object Float64Array]",ae="[object Int8Array]",le="[object Int16Array]",ce="[object Int32Array]",ue="[object Uint8Array]",pe="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",de=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,be=RegExp(ye.source),_e=RegExp(ge.source),Se=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,Te=/[\u0300-\u036f\ufe20-\ufe23]/g,Ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Re=/^0[xX]/,Pe=/^\[object .+?Constructor\]$/,je=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ie=/($^)/,Me=/[.*+?^${}()|[\]\/\\]/g,De=RegExp(Me.source),ke=/['\n\r\u2028\u2029\\]/g,Ce=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Fe=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",He=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Le=-1,Ae={};Ae[oe]=Ae[se]=Ae[ae]=Ae[le]=Ae[ce]=Ae[ue]=Ae[pe]=Ae[fe]=Ae[he]=!0,Ae[Y]=Ae[z]=Ae[ie]=Ae[$]=Ae[G]=Ae[K]=Ae[X]=Ae[J]=Ae[Z]=Ae[Q]=Ae[ee]=Ae[te]=Ae[ne]=Ae[re]=!1;var Ne={};Ne[Y]=Ne[z]=Ne[ie]=Ne[$]=Ne[G]=Ne[oe]=Ne[se]=Ne[ae]=Ne[le]=Ne[ce]=Ne[Z]=Ne[Q]=Ne[ee]=Ne[ne]=Ne[ue]=Ne[pe]=Ne[fe]=Ne[he]=!0,Ne[K]=Ne[X]=Ne[J]=Ne[te]=Ne[re]=!1;var We={leading:!1,maxWait:0,trailing:!1},Ue={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ve={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Be={"function":!0,object:!0},Ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=Be[typeof n]&&n&&!n.nodeType&&n,$e=Be[typeof t]&&t&&!t.nodeType&&t,Ge=ze&&$e&&"object"==typeof e&&e,Ke=Be[typeof self]&&self&&self.Object&&self,Xe=Be[typeof window]&&window&&window.Object&&window,Je=$e&&$e.exports===ze&&ze,Ze=Ge||Xe!==(this&&this.window)&&Xe||Ke||this,Qe=T();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ze._=Qe,define(function(){return Qe})):ze&&$e?Je?($e.exports=Qe)._=Qe:ze._=Qe:Ze._=Qe}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,n){t.exports=e("./src")},{"./src":42}],29:[function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){}i.prototype._events=void 0,i.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,n=this._events[e].length,r=new Array(n);n>t;t++)r[t]=this._events[e][t].fn;return r},i.prototype.emit=function(e,t,n,r,i,o){if(!this._events||!this._events[e])return!1;var s,a,l=this._events[e],c=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,o),!0}for(a=1,s=new Array(c-1);c>a;a++)s[a-1]=arguments[a];l.fn.apply(l.context,s)}else{var u,p=l.length;for(a=0;p>a;a++)switch(l[a].once&&this.removeListener(e,l[a].fn,!0),c){case 1:l[a].fn.call(l[a].context);break;case 2:l[a].fn.call(l[a].context,t);break;case 3:l[a].fn.call(l[a].context,t,n);break;default:if(!s)for(u=1,s=new Array(c-1);c>u;u++)s[u-1]=arguments[u];l[a].fn.apply(l[a].context,s)}}return!0},i.prototype.on=function(e,t,n){var i=new r(t,n||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],i]:this._events[e].push(i):this._events[e]=i,this},i.prototype.once=function(e,t,n){var i=new r(t,n||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],i]:this._events[e].push(i):this._events[e]=i,this},i.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var r=this._events[e],i=[];if(t&&(r.fn&&(r.fn!==t||n&&!r.once)&&i.push(r),!r.fn))for(var o=0,s=r.length;s>o;o++)(r[o].fn!==t||n&&!r[o].once)&&i.push(r[o]);return i.length?this._events[e]=1===i.length?i[0]:i:delete this._events[e],this},i.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[e]:this._events={},this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.EventEmitter=i,i.EventEmitter2=i,i.EventEmitter3=i,t.exports=i},{}],30:[function(e,t,n){(function(e){!function(e,n,r){n[e]=n[e]||r(),"undefined"!=typeof t&&t.exports?t.exports=n[e]:"function"==typeof define&&define.amd&&define(function(){return n[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function e(e,t){f.add(e,t),p||(p=d(f.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t?t:!1}function n(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,r){var i,o;try{n===!1?r.reject(e.msg):(i=n===!0?e.msg:n.call(void 0,e.msg),i===r.promise?r.reject(TypeError("Promise-chain cycle")):(o=t(i))?o.call(i,r.resolve,r.reject):r.resolve(i))}catch(s){r.reject(s)}}function i(r){var s,l,c=this;if(!c.triggered){c.triggered=!0,c.def&&(c=c.def);try{(s=t(r))?(l=new a(c),s.call(r,function(){i.apply(l,arguments)},function(){o.apply(l,arguments)})):(c.msg=r,c.state=1,c.chain.length>0&&e(n,c))}catch(u){o.call(l||new a(c),u)}}}function o(t){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function s(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then(function(e){n(i,e)},r)}(i)}function a(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new l(this);this.then=function(t,i){var o={success:"function"==typeof t?t:!0,failure:"function"==typeof i?i:!1};return o.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");o.resolve=e,o.reject=t}),r.chain.push(o),0!==r.state&&e(n,r),o.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){i.call(r,e)},function(e){o.call(r,e)})}catch(s){o.call(r,s)}}var u,p,f,h=Object.prototype.toString,d="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),u=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})}}catch(v){u=function(e,t,n){return e[t]=n,e}}f=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(i,o){r=new e(i,o),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=p=void 0;e;)e.fn.call(e.self),e=e.next}}}();var m=u({},"constructor",c,!1);return u(c,"prototype",m,!1),u(m,"__NPO__",0,!1),u(c,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),u(c,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),u(c,"all",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,o=Array(i),a=0;s(t,e,function(e,t){o[e]=t,++a===i&&n(o)},r)})}),u(c,"race",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");s(t,e,function(e,t){n(t)},r)})}),c})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,t,n){t.exports={}},{}],32:[function(e,t,n){n.createdStores=[],n.createdActions=[],n.reset=function(){for(;n.createdStores.length;)n.createdStores.pop();for(;n.createdActions.length;)n.createdActions.pop()}},{}],33:[function(e,t,n){var r=e("./utils"),i=e("./joins").instanceJoinCreator,o=function(e){for(var t,n=0,r={};n<(e.children||[]).length;++n)t=e.children[n],e[t]&&(r[t]=e[t]);return r},s=function(e){var t={};for(var n in e){var i=e[n],a=o(i),l=s(a);t[n]=i;for(var c in l){var u=l[c];t[n+r.capitalize(c)]=u}}return t};t.exports={hasListener:function(e){for(var t,n,r,i=0;i<(this.subscriptions||[]).length;++i)for(r=[].concat(this.subscriptions[i].listenable),t=0;t<r.length;t++)if(n=r[t],n===e||n.hasListener&&n.hasListener(e))return!0;return!1},listenToMany:function(e){var t=s(e);for(var n in t){var i=r.callbackName(n),o=this[i]?i:this[n]?n:void 0;o&&this.listenTo(t[n],o,this[i+"Default"]||this[o+"Default"]||o)}},validateListening:function(e){return e===this?"Listener is not able to listen to itself":r.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},listenTo:function(e,t,n){var i,o,s,a=this.subscriptions=this.subscriptions||[];return r.throwIf(this.validateListening(e)),this.fetchInitialState(e,n),i=e.listen(this[t]||t,this),o=function(){var e=a.indexOf(s);r.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),a.splice(e,1),i()},s={stop:o,listenable:e},a.push(s),s},stopListeningTo:function(e){for(var t,n=0,i=this.subscriptions||[];n<i.length;n++)if(t=i[n],t.listenable===e)return t.stop(),r.throwIf(-1!==i.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),r.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(e,t){t=t&&this[t]||t;var n=this;if(r.isFunction(t)&&r.isFunction(e.getInitialState)){var i=e.getInitialState();i&&r.isFunction(i.then)?i.then(function(){t.apply(n,arguments)}):t.call(this,i)}},joinTrailing:i("last"),joinLeading:i("first"),joinConcat:i("all"),joinStrict:i("strict")}},{"./joins":43,"./utils":47}],34:[function(e,t,n){var r=e("./utils"),i=e("./ListenerMethods");t.exports=r.extend({componentWillUnmount:i.stopListeningToAll},i)},{"./ListenerMethods":33,"./utils":47}],35:[function(e,t,n){var r=e("./utils");t.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(e,t){t=t||this;var n=function(n){i||e.apply(t,n)},r=this,i=!1;return this.emitter.addListener(this.eventLabel,n),function(){i=!0,r.emitter.removeListener(r.eventLabel,n)}},promise:function(e){var t=this,n=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0;if(!n)throw new Error('Publisher must have "completed" and "failed" child publishers');e.then(function(e){return t.completed(e)},function(e){return t.failed(e)})},listenAndPromise:function(e,t){var n=this;t=t||this,this.willCallPromise=(this.willCallPromise||0)+1;var r=this.listen(function(){if(!e)throw new Error("Expected a function returning a promise but got "+e);var r=arguments,i=e.apply(t,r);return n.promise.call(n,i)},t);return function(){n.willCallPromise--,r.call(n)}},trigger:function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:r.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},triggerAsync:function(){var e=arguments,t=this;r.nextTick(function(){t.trigger.apply(t,e)})},triggerPromise:function(){var e=this,t=arguments,n=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,i=r.createPromise(function(i,o){if(e.willCallPromise)return void r.nextTick(function(){var n=e.promise;e.promise=function(t){return t.then(i,o),e.promise=n,e.promise.apply(e,arguments)},e.trigger.apply(e,t)});if(n)var s=e.completed.listen(function(e){s(),a(),i(e)}),a=e.failed.listen(function(e){s(),a(),o(e)});e.triggerAsync.apply(e,t),n||i()});return i}}},{"./utils":47}],36:[function(e,t,n){t.exports={}},{}],37:[function(e,t,n){t.exports=function(e,t){for(var n in t)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var r=Object.getOwnPropertyDescriptor(t,n);if(!r.value||"function"!=typeof r.value||!t.hasOwnProperty(n))continue;e[n]=t[n].bind(e)}else{var i=t[n];if("function"!=typeof i||!t.hasOwnProperty(n))continue;e[n]=i.bind(e)}return e}},{}],38:[function(e,t,n){var r=e("./index"),i=e("./utils");t.exports=function(e,t){return{getInitialState:function(){return i.isFunction(e.getInitialState)?void 0===t?e.getInitialState():i.object([t],[e.getInitialState()]):{}},componentDidMount:function(){i.extend(this,r.ListenerMethods);var n=this,o=void 0===t?this.setState:function(e){n.setState(i.object([t],[e]))};this.listenTo(e,o)},componentWillUnmount:r.ListenerMixin.componentWillUnmount}}},{"./index":42,"./utils":47}],39:[function(e,t,n){var r=e("./index"),i=e("./utils");t.exports=function(e,t,n){return n=i.isFunction(t)?t:n,{getInitialState:function(){if(i.isFunction(e.getInitialState)){if(i.isFunction(t))return n.call(this,e.getInitialState());var r=n.call(this,e.getInitialState());return r?i.object([t],[r]):{}}return{}},componentDidMount:function(){i.extend(this,r.ListenerMethods);var o=this,s=function(e){if(i.isFunction(t))o.setState(n.call(o,e));else{var r=n.call(o,e);o.setState(i.object([t],[r]))}};this.listenTo(e,s)},componentWillUnmount:r.ListenerMixin.componentWillUnmount}}},{"./index":42,"./utils":47}],40:[function(e,t,n){var r=e("./utils"),i=e("./index"),o=e("./Keep"),s={preEmit:1,shouldEmit:1},a=function(e){e=e||{},r.isObject(e)||(e={actionName:e});for(var t in i.ActionMethods)if(!s[t]&&i.PublisherMethods[t])throw new Error("Cannot override API method "+t+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var n in e)if(!s[n]&&i.PublisherMethods[n])throw new Error("Cannot override API method "+n+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");e.children=e.children||[],e.asyncResult&&(e.children=e.children.concat(["completed","failed"]));for(var l=0,c={};l<e.children.length;l++){var u=e.children[l];c[u]=a(u)}var p=r.extend({eventLabel:"action",emitter:new r.EventEmitter,_isAction:!0},i.PublisherMethods,i.ActionMethods,e),f=function(){return f[f.sync?"trigger":"triggerPromise"].apply(f,arguments)};return r.extend(f,c,p),o.createdActions.push(f),f};t.exports=a},{"./Keep":32,"./index":42,"./utils":47}],41:[function(e,t,n){var r=e("./utils"),i=e("./index"),o=e("./Keep"),s=e("./mixer"),a={preEmit:1,shouldEmit:1},l=e("./bindMethods");t.exports=function(e){function t(){var t,n=0;if(this.subscriptions=[],this.emitter=new r.EventEmitter,this.eventLabel="change",l(this,e),this.init&&r.isFunction(this.init)&&this.init(),this.listenables)for(t=[].concat(this.listenables);n<t.length;n++)this.listenToMany(t[n])}e=e||{};for(var n in i.StoreMethods)if(!a[n]&&(i.PublisherMethods[n]||i.ListenerMethods[n]))throw new Error("Cannot override API method "+n+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var c in e)if(!a[c]&&(i.PublisherMethods[c]||i.ListenerMethods[c]))throw new Error("Cannot override API method "+c+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");e=s(e),r.extend(t.prototype,i.ListenerMethods,i.PublisherMethods,i.StoreMethods,e);var u=new t;return o.createdStores.push(u),u}},{"./Keep":32,"./bindMethods":37,"./index":42,"./mixer":46,"./utils":47}],42:[function(e,t,n){n.ActionMethods=e("./ActionMethods"),n.ListenerMethods=e("./ListenerMethods"),n.PublisherMethods=e("./PublisherMethods"),n.StoreMethods=e("./StoreMethods"),n.createAction=e("./createAction"),n.createStore=e("./createStore"),n.connect=e("./connect"),n.connectFilter=e("./connectFilter"),n.ListenerMixin=e("./ListenerMixin"),n.listenTo=e("./listenTo"),n.listenToMany=e("./listenToMany");var r=e("./joins").staticJoinCreator;n.joinTrailing=n.all=r("last"),n.joinLeading=r("first"),n.joinStrict=r("strict"),n.joinConcat=r("all");var i=e("./utils");n.EventEmitter=i.EventEmitter,n.Promise=i.Promise,n.createActions=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],s=i.isObject(o)?r:o;t[s]=n.createAction(o)}return t},n.setEventEmitter=function(t){var r=e("./utils");n.EventEmitter=r.EventEmitter=t},n.setPromise=function(t){var r=e("./utils");n.Promise=r.Promise=t},n.setPromiseFactory=function(t){var n=e("./utils");n.createPromise=t},n.nextTick=function(t){var n=e("./utils");n.nextTick=t},n.__keep=e("./Keep"),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},{"./ActionMethods":31,"./Keep":32,"./ListenerMethods":33,"./ListenerMixin":34,"./PublisherMethods":35,"./StoreMethods":36,"./connect":38,"./connectFilter":39,"./createAction":40,"./createStore":41,"./joins":43,"./listenTo":44,"./listenToMany":45,"./utils":47}],43:[function(e,t,n){function r(e,t,n){return function(){var r,i=n.subscriptions,o=i?i.indexOf(e):-1;for(l.throwIf(-1===o,"Tried to remove join already gone from subscriptions list!"),r=0;r<t.length;r++)t[r]();i.splice(o,1)}}function i(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}function o(e,t){return function(){var n=a.call(arguments);if(t.listenablesEmitted[e])switch(t.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":t.args[e]=n;break;case"all":t.args[e].push(n)}else t.listenablesEmitted[e]=!0,t.args[e]="all"===t.strategy?[n]:n;s(t)}}function s(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),i(e)}var a=Array.prototype.slice,l=e("./utils"),c=e("./createStore"),u={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};n.staticJoinCreator=function(e){return function(){var t=a.call(arguments);return c({init:function(){this[u[e]].apply(this,t.concat("triggerAsync"))}})}},n.instanceJoinCreator=function(e){return function(){l.throwIf(arguments.length<3,"Cannot create a join with less than 2 listenables!");var t,n,s=a.call(arguments),c=s.pop(),u=s.length,p={numberOfListenables:u,callback:this[c]||c,listener:this,strategy:e},f=[];for(t=0;u>t;t++)l.throwIf(this.validateListening(s[t]));for(t=0;u>t;t++)f.push(s[t].listen(o(t,p),this));return i(p),n={listenable:s},n.stop=r(n,f,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}},{"./createStore":41,"./utils":47}],44:[function(e,t,n){var r=e("./index");t.exports=function(e,t,n){return{componentDidMount:function(){for(var i in r.ListenerMethods)if(this[i]!==r.ListenerMethods[i]){if(this[i])throw"Can't have other property '"+i+"' when using Reflux.listenTo!";this[i]=r.ListenerMethods[i]}this.listenTo(e,t,n)},componentWillUnmount:r.ListenerMethods.stopListeningToAll}}},{"./index":42}],45:[function(e,t,n){var r=e("./index");t.exports=function(e){return{componentDidMount:function(){for(var t in r.ListenerMethods)if(this[t]!==r.ListenerMethods[t]){if(this[t])throw"Can't have other property '"+t+"' when using Reflux.listenToMany!";this[t]=r.ListenerMethods[t]}this.listenToMany(e)},componentWillUnmount:r.ListenerMethods.stopListeningToAll}}},{"./index":42}],46:[function(e,t,n){var r=e("./utils");t.exports=function(e){var t={init:[],preEmit:[],shouldEmit:[]},n=function i(e){var n={};return e.mixins&&e.mixins.forEach(function(e){r.extend(n,i(e))}),r.extend(n,e),Object.keys(t).forEach(function(n){e.hasOwnProperty(n)&&t[n].push(e[n])}),n}(e);return t.init.length>1&&(n.init=function(){var e=arguments;t.init.forEach(function(t){t.apply(this,e)},this)}),t.preEmit.length>1&&(n.preEmit=function(){return t.preEmit.reduce(function(e,t){var n=t.apply(this,e);return void 0===n?e:[n]}.bind(this),arguments)}),t.shouldEmit.length>1&&(n.shouldEmit=function(){var e=arguments;return!t.shouldEmit.some(function(t){return!t.apply(this,e)},this)}),Object.keys(t).forEach(function(e){1===t[e].length&&(n[e]=t[e][0])}),n}},{"./utils":47}],47:[function(e,t,n){var r=n.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e};n.extend=function(e){if(!r(e))return e;for(var t,n,i=1,o=arguments.length;o>i;i++){t=arguments[i];for(n in t)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,s)}else e[n]=t[n]}return e},n.isFunction=function(e){return"function"==typeof e},n.EventEmitter=e("eventemitter3"),n.nextTick=function(e){setTimeout(e,0)},n.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.callbackName=function(e){return"on"+n.capitalize(e)},n.object=function(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n},n.Promise=e("native-promise-only"),n.createPromise=function(e){return new n.Promise(e)},n.isArguments=function(e){return"object"==typeof e&&"callee"in e&&"number"==typeof e.length},n.throwIf=function(e,t){if(e)throw Error(t||e)}},{eventemitter3:29,"native-promise-only":30}]},{},[1]);;
//!file:tpl-index.tmp.js
angular.module("InVision").run(["$templateCache",function($templateCache){$templateCache.put("/share/common/views/directives/mobile-transition-layer.htm",'<div class="inner">\n	<div class="inner2">\n\n			<div\n				id="current-screen"\n				class="current-screen"\n				ng-if="currentScreen"\n				ng-style="{\n					\'background-color\': getBackgroundColor(currentScreen)\n				}">\n\n				<img\n					ng-src="{{ getImageUrl( currentScreen.imageUrl ) }}"\n					height="{{ Math.round(currentScreen.height * (currentScreen.displayScale || screen.displayScale)) }}"\n					width="{{ Math.round(currentScreen.width * (currentScreen.displayScale || screen.displayScale)) }}" />\n\n				<div\n					class="fixed-header"\n					ng-style="{\n						height: (currentScreen.fixedHeaderHeight * (currentScreen.displayScale || screen.displayScale)),\n						marginTop: pushDownFixedHeader\n					}">\n\n					<img\n						ng-src="{{ getImageUrl( currentScreen.imageUrl ) }}"\n						height="{{ Math.round(currentScreen.height * (currentScreen.displayScale || screen.displayScale)) }}"\n						width="{{ Math.round(currentScreen.width * (currentScreen.displayScale || screen.displayScale)) }}" />\n\n				</div>\n\n				<div\n					class="fixed-footer"\n					ng-style="{\n						height: (currentScreen.fixedFooterHeight * (currentScreen.displayScale || screen.displayScale))\n					}">\n\n					<img\n						ng-src="{{ getImageUrl( currentScreen.imageUrl ) }}"\n						height="{{ Math.round(currentScreen.height * (currentScreen.displayScale || screen.displayScale)) }}"\n						width="{{ Math.round(currentScreen.width * (currentScreen.displayScale || screen.displayScale)) }}" />\n\n				</div>\n\n			</div>\n\n			<div\n				id="next-screen"\n				ng-if="targetScreen"\n				class="target-screen"\n				ng-style="{\n					\'background-color\': getBackgroundColor(targetScreen)\n				}">\n\n				<img\n					ng-src="{{ getImageUrl( targetScreen.imageUrl ) }}"\n					height="{{ Math.round(targetScreen.height * (targetScreen.displayScale || screen.displayScale)) }}"\n					width="{{ Math.round(targetScreen.width * (targetScreen.displayScale || screen.displayScale)) }}" />\n\n				<div\n					class="fixed-header"\n					ng-style="{\n						height: (targetScreen.fixedHeaderHeight * (targetScreen.displayScale || screen.displayScale)),\n						marginTop: pushDownFixedHeader\n					}">\n\n					<img\n						ng-src="{{ getImageUrl( targetScreen.imageUrl ) }}"\n						height="{{ Math.round(targetScreen.height * (targetScreen.displayScale || screen.displayScale)) }}"\n						width="{{ Math.round(targetScreen.width * (targetScreen.displayScale || screen.displayScale)) }}" />\n\n				</div>\n\n				<div\n					class="fixed-footer"\n					ng-style="{\n						height: (targetScreen.fixedFooterHeight * (targetScreen.displayScale || screen.displayScale))\n					}">\n\n					<img\n						ng-src="{{ getImageUrl( targetScreen.imageUrl ) }}"\n						height="{{ Math.round(targetScreen.height * (targetScreen.displayScale || screen.displayScale)) }}"\n						width="{{ Math.round(targetScreen.width * (targetScreen.displayScale || screen.displayScale)) }}" />\n\n				</div>\n\n			</div>\n\n			<div\n				id="transition-picture-{{picture.id}}"\n				ng-repeat="picture in transitionScreens track by picture.id"\n				ng-style="{\n					\'background-color\': getBackgroundColor(picture)\n				}"\n				ng-class="{\n					\'current-screen\': picture.id == transitionScreen.id,\n					\'target-screen\': picture.id == transitionData.targetScreen.id\n				}"\n				class="transition-picture">\n\n				<img\n					ng-src="{{ getImageUrl( picture.imageUrl ) }}"\n					height="{{ Math.round(picture.height * (picture.displayScale || screen.displayScale)) }}"\n					width="{{ Math.round(picture.width * (picture.displayScale || screen.displayScale)) }}" />\n\n				<div\n					class="fixed-header"\n					ng-style="{\n						height: (picture.fixedHeaderHeight * (picture.displayScale || screen.displayScale)),\n						marginTop: pushDownFixedHeader\n					}">\n\n					<img\n						ng-src="{{ getImageUrl( picture.imageUrl ) }}"\n						height="{{ Math.round(picture.height * (picture.displayScale || screen.displayScale)) }}"\n						width="{{ Math.round(picture.width * (picture.displayScale || screen.displayScale)) }}" />\n\n				</div> <!-- fixed-header -->\n\n				<div\n					class="fixed-footer"\n					ng-style="{\n						height: (picture.fixedFooterHeight * (picture.displayScale || screen.displayScale))\n					}">\n\n					<img\n						ng-src="{{ getImageUrl( picture.imageUrl ) }}"\n						height="{{ Math.round(picture.height * (picture.displayScale || screen.displayScale)) }}"\n						width="{{ Math.round(picture.width * (picture.displayScale || screen.displayScale)) }}" />\n\n				</div> <!-- fixed-footer -->\n\n			</div> <!-- current-picture -->\n\n	</div><!-- inner2 -->\n</div> <!-- inner -->\n'),$templateCache.put("/share/app/views/browse/browse.htm",'\n<div\n	ng-controller="browse.BrowseController"\n	inv-browse-key-combos\n	class="m-browse"\n	ng-class="{\n		mobile: project.isMobile,\n		phone: deviceTemplate.deviceType == \'phone\',\n		tablet: isTabletPortrait\n	} ">\n\n	<!-- BEGIN: Header. -->\n	<div class="header">\n\n		<span ng-if=" project.isMobile ">\n			<img ng-if=" !! appIcon.imageUrl " class="appIcon" ng-src="{{ appIcon.imageUrl }}" alt="{{ project.name }}">\n			<img ng-if=" ! appIcon.imageUrl " class="appIcon" ng-src="/share/app/img/icon.png">\n		</span>\n\n		<h2>\n			{{ project.name }}\n		</h2>\n\n		<a class="btnClose" href="javascript:;" ng-click=" toggleBrowse() ">x</a>\n\n	</div>\n	<!-- END: Header. -->\n\n\n	<!-- BEGIN: Screens. -->\n	<div class="screens">\n\n		<div ng-include=" \'/share/app/views/browse/thumbnails.htm\' "></div>\n\n	</div>\n	<!-- END: Screens. -->\n\n</div>\n'),$templateCache.put("/share/app/views/browse/list.htm",'\n<div class="name-list" ng-class="{ \'without-comments\': excludeComments }">\n\n\n	<!-- BEGIN: Header Row. -->\n	<div class="header-row">\n\n		<span class="col name-col">\n\n			<a ng-click class="name">\n				Name\n			</a>\n\n		</span>\n\n		<span class="col comments-col">\n\n			<a ng-click class="comments">\n				Comments\n			</a>\n\n		</span>\n\n		<span class="col version-col">\n\n			<a ng-click class="version">\n				Version\n			</a>\n\n		</span>\n\n		<span class="col updated-at-col">\n\n			<a ng-click class="updated-at">\n				Last Updated\n			</a>\n\n		</span>\n\n		<span class="col updated-by-col">\n\n			<a ng-click class="updated-by">\n				Updated By\n			</a>\n\n		</span>\n\n	</div>\n	<!-- END: Header Row. -->\n\n\n	<!-- BEGIN: Data Rows. -->\n	<div ng-repeat="displayItem in displayObjects | filter:search" class="data-row">\n\n		<div ng-if=" displayItem.type == \'divider\' " class="divider">\n			<div class="line">\n				<span class="dividerLabel">{{displayItem.label}}</span>\n			</div>\n		</div>\n\n		<a ng-if="displayItem.type == \'screenObj\' "\n			ng-click="applyScreenNavigation( displayItem )"\n			class="item"\n			ng-class="{ selected: ( displayItem == selectedScreen ) }">\n\n			<span class="col name-col">\n\n				<span class="name">\n					{{ displayItem.name }}\n				</span>\n\n			</span>\n\n			<span class="col comments-col">\n\n				<span class="comments" ng-class="{ new: displayItem.unreadCommentCount, old: ( displayItem.commentCount && ! displayItem.unreadCommentCount ) }">\n					<span class="unread">{{ displayItem.unreadCommentCount }}</span>\n					<span class="total">{{ displayItem.commentCount }}</span>\n				</span>\n\n			</span>\n\n			<span class="col version-col">\n\n				<span class="version">\n					{{ displayItem.imageVersion }}\n				</span>\n\n			</span>\n\n			<span class="col updated-at-col">\n\n				<span class="updated-at">\n					{{ displayItem.updatedAtDateLabel }}\n				</span>\n\n			</span>\n\n			<span class="col updated-by-col">\n\n				<span class="updated-by">\n					{{ displayItem.updatedByUserName }}\n				</span>\n\n			</span>\n\n		</a>\n\n\n	</div>\n	<!-- END: Data Rows. -->\n\n\n</div>\n'),$templateCache.put("/share/app/views/browse/thumbnails.htm",'\n<div class="thumbnail-list" ng-class="{ \'without-comments\': excludeComments }">\n\n\n	<div ng-repeat="displayItem in displayObjects" \n		 class="{{displayItem.type}}" \n		 ng-class="{ \'invisible-group\': displayItem.type == \'divider\' && displayItem.sort == 0}" >\n\n		<div ng-if=" shouldDividerDisplay(displayItem) " class="divider">\n			<p class="dividerLabel">\n				<span class="title">{{ displayItem.label }}</span>\n				<span class="count">{{ displayItem.screenCount }}</span>\n			</p>\n		</div>\n\n		<a  ng-if="displayItem.type == \'screenObj\' "\n			ng-click="applyScreenNavigation( displayItem )"\n			class="item"\n			ng-class="{ selected: ( displayItem == selectedScreen ) }">\n\n			<span class="thumbnail-viewport " style="background: #{{displayItem.backgroundColor}}">\n				<img ng-src="{{ displayItem.thumbnailUrl }}" />\n			</span>\n\n			<span class="name">\n				{{ displayItem.name }}\n			</span>\n\n			<span class="hasComments" ng-if=" displayItem.unreadCommentCount ">&bull;</span>\n\n		</a>\n\n	</div>\n\n</div>\n'),$templateCache.put("/share/app/views/comments/catchup-toolbar.htm",'<div ng-controller="comments.CatchupToolbarController" inv-comments-catchup-toolbar-helper class="comments-catchup-toolbar">\n\n\n	<div class="markers-container" class="{ unread-comments: unreadConversations.length, no-unread-comments: !unreadConversations.length }">\n\n		<p ng-show="unreadConversations.length">\n			{{ unreadConversations.length }} unread\n			<span ng-pluralize count="unreadConversations.length" when="{ one: \'conversation\', other: \'conversations\' }"></span>:\n		</p>\n\n		<p ng-hide="unreadConversations.length">No unread comments on this page...</p>\n\n		<!-- unread markers -->\n\n		<div class="markers" ng-show="unreadConversations.length">\n\n			<a\n				ng-repeat="conversation in visibleUnreadConversations"\n				href="#/screens/{{ screenID }}/comments/{{ conversation.id }}"\n				class="marker"\n				ng-click="markCommentsAsRead( conversation )"\n				ng-class="{\n					complete: conversation.isComplete,\n					comment: ! conversation.isForDevelopment && ! conversation.isTourPoint && ! conversation.isPrivate,\n					\'dev-note\': conversation.isForDevelopment,\n					\'tour-point\': conversation.isTourPoint,\n					\'private-comment\': conversation.isPrivate && ! conversation.isForDevelopment,\n					read: ! conversation.isUnread\n				}">\n\n				<span ng-if="conversation.label != \'\' && conversation.label > 0">{{ conversation.label }}</span>\n\n			</a>\n\n		</div>\n\n		<div ng-show="hiddenUnreadConversations.length" class="overflow-count">\n			+ {{ hiddenUnreadConversations.length }} more\n		</div>\n\n	</div> <!-- markers-container -->\n\n	<!-- BEGIN: Filters. -->\n	<div class="filters">\n\n		<p>View:</p>\n\n		<div class="type-filter">\n\n			<div class="dropdown">\n\n				<a href="#" data-toggle="dropdown" class="dropdown-toggle">\n					<span class="text">{{ filters.type.label }} ({{ filters.type.count }})</span>\n					<span class="drop"></span>\n				</a>\n\n				<ul class="dropdown-menu">\n					<li ng-repeat="option in typeFilterOptions" ng-hide="option.isPrivate && !user.canViewPrivateComments">\n\n						<a ng-click="changeTypeFilter( option )">{{ option.label }} ({{ option.count }})</a>\n\n					</li>\n				</ul>\n\n			</div>\n\n		</div>\n\n		<div class="status-filter">\n\n			<label for="filterShowCompleted">\n\n				<input type="checkbox" id="filterShowCompleted" ng-model="filters.showCompleted.value" ng-change="changeShowCompletedFilter()" inv-uniform />\n				Show Resolved ({{ filters.showCompleted.count }})\n\n			</label>\n\n		</div>\n\n	</div>\n	<!-- END: Filters. -->\n\n\n</div>\n'),$templateCache.put("/share/app/views/comments/comments.htm",'<div\n	ng-controller="comments.CommentsController" \n	inv-comments-key-combos \n	class="m-comments" \n	ng-class="{ mobile: project.isMobile }">\n\n	\n	<!-- Context. -->\n	<div ng-include=" \'/share/app/views/comments/context.htm\' "></div>\n\n	<!-- Catchup Toolbar. -->\n	<div ng-include=" \'/share/app/views/comments/catchup-toolbar.htm\' "></div>\n\n	<!-- Markers. -->\n	<div ng-include=" \'/share/app/views/comments/markers.htm\' "></div>\n	\n	<!--  View controlled by switch to overlay everything -->\n	<div inv-share-sketch-builder\n		 ng-if=" isShowingSketchBuilder " >\n	</div>\n\n	<!-- Sketch viewer modal-->\n	<div inv-share-sketch-viewer\n		 ng-if=" isShowingSketchViewer ">\n	</div>\n\n	<div id="cursor-tooltip"\n		 inv-comments-cursor-tooltip\n		 ng-show="isHoveringViewport && !( isHoveringHotspot || isShowingConversationMenu)"\n		 >\n		 Click to leave a comment\n	</div>\n\n</div>'),$templateCache.put("/share/app/views/comments/context.htm",'<div class="clickToCommentCTA"\n	ng-show="clickToCommentCTAActive"\n	ng-click="dismissClickToCommentCTA($event)"\n	ng-class=" clickToCommentCTAActive ? \'animateInclickToCommentCTA\':\'\' ">\n	\n	<div class="clickToCommentCTAOverlay">\n\n		<div class="clickToCommentCTAClose"></div>\n\n		<div class="clickToCommentCTAButton unselectable" ng-class="clickToCommentCTAVariant" ng-style="{ \'margin-top\': ( clickToCommentCTAMargin + \'px\' )}">\n			Click anywhere to leave a comment on this screen\n		</div>\n\n	</div>\n</div>\n<!-- BEGIN: Context. -->\n<div class="context">\n\n	<a ng-href="#/screens/{{ screenID }}">\n		<span>Comment Mode</span>\n	</a>\n\n	<!-- Borders. -->\n	<div class="border n"></div>\n	<div class="border e"></div>\n	<div class="border s"></div>\n	<div class="border w"></div>\n\n</div>\n<!-- END: Context. -->'),$templateCache.put("/share/app/views/comments/form.htm",'<form\n	ng-controller="comments.FormController"\n	inv-comments-form\n	class="conversation comment-thread-container mentions emoji-root"\n	ng-class="{ teaser: ( isShowingTeaser && !tempSketches.length ) }"\n	ng-style="{\n		left: ( conversation.x * screen.displayScale + \'px\' ),\n		top: ( ( conversation.y * screen.displayScale ) + 9 + \'px\' )\n	}"\n	ng-keydown="$event.which === 13 && handleKeyDown($event)"\n>\n\n	<div class="emoji-placeholder"></div>\n\n	<div\n		ng-class="{\n			\'comment-thread\': true,\n			\'comment\': ! conversation.isForDevelopment && ! conversation.isTourPoint && ! conversation.isPrivate,\n			\'dev-note\': conversation.isForDevelopment,\n			\'tour-point\': conversation.isTourPoint,\n			\'private-comment\': conversation.isPrivate,\n			\'signup-required\': (isIdentifying || isAuthenticating) && signupRequiredForComment,\n			\'authenticating\': isAuthenticating,\n			\'is-identifying\': (isIdentifying || isAuthenticating) && !signupRequiredForComment,\n			\'is-logging-in\': isLoggingIn,\n			\'lazy-signup\': lazyPasswordToSignUpFlow && isSignup,\n			\'lazy-signup-thanks\': thanksForLazyPassword\n		}"\n	>\n\n		<header>\n			<span ng-hide=" conversation.id == 0 ">\n\n				<input\n					id="conversationIsComplete"\n					type="checkbox"\n					ng-model="conversation.isComplete"\n					ng-change="updateConversationStatus( conversation )"\n					ng-disabled="( conversation.id == 0 )"\n					inv-uniform\n				/>\n\n				<label\n					ng-show="! marker.isComplete"\n					for="commentIsComplete"\n					class="mark-label"\n					ng-class="{ disabled: marker.isSaved == false }"\n				>\n					Mark as resolved\n				</label>\n\n				<label\n					ng-show="marker.isComplete"\n					for="commentIsComplete"\n					class="complete mark-label"\n					ng-class="{ disabled: marker.isSaved == false }"\n				>\n					Marked resolved\n				</label>\n\n			</span>\n\n			<!-- conversationIsComplete -->\n\n			<div\n				class="dropdown type-dropdown"\n				ng-class="{ saved: !! conversation.id }"\n				ng-show="showInternalOptions">\n\n				<a data-toggle="dropdown" class="dropdown-toggle" ng-hide="!! conversation.id">\n					<span class="text comment" ng-show="!conversation.isForDevelopment && !conversation.isPrivate && !conversation.isTourPoint">\n						<span class="dot"></span>\n						<span>Leave a Comment</span>\n					</span>\n					<span class="text private-comment" ng-show="!conversation.isForDevelopment && conversation.isPrivate">\n						<span class="dot"></span>\n						<span>Private Comment</span>\n					</span>\n					<span class="text dev-note" ng-show="conversation.isForDevelopment">\n						<span class="dot"></span>\n						<span>Note</span>\n					</span>\n					<span class="text tour-point" ng-show="conversation.isTourPoint">\n						<span class="dot"></span>\n						<span>Tour Point</span>\n					</span>\n					<span class="drop" ng-hide=" !! conversation.id "></span>\n				</a>\n\n				<a data-toggle="dropdown" class="dropdown-toggle dots" ng-hide="! conversation.id">\n					<span class="small-dot"></span>\n					<span class="small-dot"></span>\n					<span class="small-dot"></span>\n				</a>\n\n				<ul class="dropdown-menu">\n					<li>\n						<a ng-click="setTypeAsComment()" class="comment">\n							<span class="dot"></span> Comment\n						</a>\n					</li>\n					<li ng-hide="!user.canViewPrivateComments">\n						<a ng-click="setTypeAsPrivateComment()" class="private-comment">\n							<span class="dot"></span> Private Comment\n						</a>\n					</li>\n					<li ng-hide="!user.canViewPrivateComments">\n						<a ng-click="setTypeAsDevNote()" class="dev-note">\n							<span class="dot"></span> Note\n						</a>\n					</li>\n					<li>\n						<a ng-click="setTypeAsTourPoint()" class="tour-point">\n							<span class="dot"></span> Tour Point\n						</a>\n					</li>\n				</ul>\n\n			</div>\n\n			<span\n				class="non-collaborator-label"\n				ng-show=" !showInternalOptions"\n				ng-class="{ saved: !! conversation.id }"\n			>\n				<span class="dot"></span> Leave a Comment\n			</span>\n\n			<button\n				class="close"\n				type="button"\n				ng-click="closeConversation()"\n				ng-hide="!! conversation.id ">\n				&times;\n			</button>\n\n\n		</header>\n\n		<section class="comment-content">\n\n\n			<!-- BEGIN: Comments. -->\n			<div\n				ng-repeat="comment in comments"\n				ng-init=" showDeleteCommentConfirmation = false ; "\n				class="comment-item comment"\n				ng-class="{\n					first: $first,\n					unread: comment.isUnread,\n					collapsed: comment.isCollapsed,\n					\'first-collapsed\': comment.isFirstCollapsed,\n					last: $last\n				}"\n				inv-fade-show="!comment.isCollapsed || ( comment.isCollapsed && comment.isFirstCollapsed )">\n\n				<!-- Special section for collapsed area -->\n				<div ng-if=" comment.isCollapsed " class="collapsed-comments">\n					<span ng-click="expandComments( )">View Previous Replies</span>\n				</div>\n\n				<!-- show new comment indicator -->\n				<div\n					ng-if=" $first && conversation.isTourPoint && comments.length > 1 "\n					class="new-hrule">\n					<span\n						ng-pluralize\n						count=" comments.length - 1 "\n						when="{\n							\'0\': \'0 Replies\',\n							\'one\': \'1 Reply\',\n							\'other\': \'{} Replies\'\n						}">\n					</span>\n\n				</div>\n\n\n				<div class="m-avatar" ng-class="{ \'system-avatar\': comment.userHasSystemAvatar }">\n\n					<span class="rendering">{{ comment.userInitials }}</span>\n\n					<img ng-src="/avatars/{{ comment.userAvatarID }}" class="rendering" />\n\n				</div>\n\n				<div class="post-content post-emojis">\n\n					<h2 ng-hide="$first && conversation.isTourPoint">\n						<span class="name">{{ comment.userName }}</span>\n						<span class="created-at">{{ comment.dateLabel }}</span>\n					</h2>\n\n					<h2 ng-show="$first && conversation.isTourPoint && comment.isEditing">\n						<!-- we need to keep the spacing consistent for editing mode -->\n					</h2>\n\n					<div class="comment-item-options"\n						 ng-show=" !comment.isEditing "\n						 ng-if=" !comment.isPlaceholder "\n						 ng-class="{\'is-collapsed\': comment.isCollapsed}">\n\n						<ul class="comment-item-options__tools">\n\n							<li class="view-history hidden">\n								<a\n									inv-history-overlay\n									overlay-image="{{comment.imageUrl}}"\n									overlay-marker-pos="{{getMarkerPos(conversation, screen.displayScale)}}"\n									overlay-screen-data="{{getScreenDisplayData(screen)}}"\n									ng-if="( ! comment.isEditing && ( comment.screenImageVersion != screen.imageVersion ) && comment.imageUrl )">\n									View History\n								</a>\n							</li>\n\n							<li\n								class="edit-comment hidden"\n								ng-show="canEdit && ( comment.isOwnedByUser || project.isOwnedByUser )"\n							>\n								<a ng-click="editComment( comment )">\n									Edit\n								</a>\n							</li>\n\n							<li\n								class="delete-comment hidden"\n								ng-show="canEdit && ( comment.isOwnedByUser || project.isOwnedByUser )"\n							>\n								<a ng-click="showDeleteConfirmation( comment, $first )">\n									Delete\n								</a>\n							</li>\n\n						</ul>\n\n						 <a class="comment-item-options__thumbs-up"\n							ng-if=" !comment.isPlaceholder "\n							ng-show=" canLike "\n							ng-hide=" $first && conversation.isTourPoint "\n							ng-class="{ \'liked\': comment.numberOfLikes, \'by-user\': comment.hasUserLiked  }"\n							ng-click="toggleLike( comment )"\n							inv-tooltip="{{ comment.likedByList }}">\n							<i class="icon thumbs up"></i>\n							{{comment.numberOfLikes}}\n						</a>\n\n					</div> <!-- post-options -->\n\n					<div class="post-comment"\n						ng-show="! comment.isEditing"\n						ng-class="{\'is-owner\': comment.isOwnedByUser || project.isOwnedByUser}"\n						ng-bind-html="comment.html"\n					>\n					</div>\n\n					<div ng-if="comment.isEditing" class="editing-mode">\n						<div\n							inv-comment\n							inv-cmd-enter="saveComment(comment)"\n							comment="comment.comment"\n							name="post-comment"\n							screen-id="screen.id"\n							class-string="{{ getClassesString(\'existing\') }}"\n							tab-index="101"\n							has-emojis="true"\n							has-mentions="hasInitialMentions"\n							has-mention-shortcut="true"\n							has-who-is-notified="false"\n						></div>\n					</div>\n\n					<div\n						class="sketchList"\n						ng-show="comment.sketches.length > 0 && ( ! $first || ! conversation.isTourPoint )">\n\n						<div\n							ng-repeat="sketch in comment.sketches"\n							class="sketch">\n\n							<a\n								class="text"\n								ng-click=" startSketchViewer( sketch , false, conversation ) "\n								ng-class="{\n									editing: comment.isEditing\n								}">\n\n								<strong>{{ comment.userFirstName }}&rsquo;s attached a sketch.</strong> View?\n\n								<span inv-tooltip="delete" class="delete" ng-show="comment.isEditing" ng-click=" deleteSketch( sketch.id )">x</span>\n\n							</a>\n\n						</div> <!-- sketch -->\n\n					</div> <!-- sketchList -->\n\n					<div class="post-buttons" ng-show="( comment.isEditing )">\n\n						<button\n							type="button"\n							class="save"\n							ng-show="comment.isEditing"\n							tabindex="102"\n							ng-click="saveComment(comment)">\n							Save\n						</button>\n\n						<button\n							type="button"\n							class="cancel"\n							ng-show="comment.isEditing"\n							tabindex="103"\n							ng-click="stopEditingComments( comment )">\n							Cancel\n						</button>\n\n					</div>\n\n				</div> <!-- post-content -->\n\n				<!-- Delete confirmation for single comment. -->\n				<div inv-fade-show="comment.isDeleting" class="delete-confirmation">\n\n					<p>Delete this comment?</p>\n\n					<div class="action">\n						<a ng-click="deleteComment( comment )" class="confirm">Yes, Delete</a>\n						<a ng-click="hideDeleteConfirmation( comment )" class="cancel">Cancel</a>\n					</div>\n\n				</div>\n\n			</div>\n			<!-- END: Comments. -->\n\n		</section>\n\n		<div class="comment-item post-new-comment">\n\n			<div\n				inv-comment-teaser\n				ng-show="isShowingTeaser"\n        		is-shown="isShowingTeaser"\n				has-initial-mentions="hasInitialMentions"\n				ng-click="showNewCommentForm()"\n				screen-id="screen.id"\n				conversation="comments"\n			>\n			</div>\n\n			<div\n				ng-if="! isShowingTeaser"\n				class="post post-emojis"\n			>\n\n				<div\n					class="post-comment"\n					ng-class="{\n						\'has-sketch\': tempSketches.length > 0 && !sketchesDisabled\n					}"\n				>\n\n					<div\n						inv-comment\n						inv-cmd-enter="submitForm({ comment: newComment, sketches: tempSketches })"\n						ng-hide="hideCommentInput"\n						comment="newComment"\n						name="post-comment"\n						screen-id="screen.id"\n						class-string="{{ getClassesString(\'existing\') }}"\n						placeholder="Leave a comment..."\n						tab-index="201"\n						on-focus-callback="showCommentInput()"\n						has-emojis="true"\n						has-who-is-notified="true"\n						has-mentions="hasInitialMentions"\n						has-mention-shortcut="true"\n					></div>\n\n					<div class="error-message" ng-show="hasUnauthorizedEmail">\n						<p>The administrator of the {{ enterpriseConfig.name }} InVision account has disabled sharing to users outside of the account.</p>\n					</div>\n\n					<span\n						class="footer actions"\n						ng-class="{\n							\'new-tour-point\': !conversation.id && conversation.isTourPoint,\n							\'no-teaser\': !hasInitialMentions\n						}"\n					>\n\n						<button\n							class="button submitComment"\n							type="button"\n							tabindex="202"\n							delay="1400"\n							ng-if="signupRequiredForComment"\n							ng-click="submitForm({ comment: newComment, sketches: tempSketches })"\n							inv-success-button\n							after-success="closeCommentFormOnSave(conversation.id)"\n						>\n							Post\n						</button>\n						<button\n							class="button submitComment"\n							type="button"\n							tabindex="202"\n							delay="1400"\n							ng-if="!signupRequiredForComment"\n							ng-click="submitForm({ comment: newComment, sketches: tempSketches })"\n							inv-success-button\n							after-success="closeCommentFormOnSave(conversation.id)"\n						>\n							Send\n						</button>\n\n					</span> <!-- footer -->\n\n					<div\n						class="sketchList"\n						ng-if="!sketchesDisabled"\n						ng-show="tempSketches.length > 0">\n\n						<div ng-repeat="sketch in tempSketches" class="sketch new-sketch">\n\n							<a ng-click=" startSketchViewer( sketch , true, conversation ) ">\n								<strong>Your sketch is attached.</strong> View?\n\n								<span class="delete" inv-tooltip="delete" ng-click=" deleteTempSketch(sketch.tempID) ">\n									&times;\n								</span>\n\n							</a>\n\n						</div> <!-- sketch -->\n\n					</div> <!-- sketchList -->\n\n					<div\n						ng-hide="hideCommentInput"\n						ng-if="!sketchesDisabled"\n						class="add-sketch"\n						ng-show="tempSketches.length == 0 && ( ! conversation.isTourPoint || ! comments.length == 0 )">\n						<a ng-click=" startSketchBuilder() "></a>\n					</div>\n\n				</div> <!-- post-comment -->\n\n			</div> <!-- post -->\n\n		</div>\n\n		<!-- Delete confirmation for entire conversation. -->\n		<div inv-fade-show="isDeleting" class="delete-confirmation delete-conversation">\n\n			<p>Delete this <strong>entire</strong> conversation?</p>\n\n			<div class="action">\n				<a ng-click="deleteConversation( conversation )" class="btn btn-small flat dkgray">Yes, Delete</a>\n				<a ng-click="hideDeleteConfirmation()" class="cancel">Cancel</a>\n			</div>\n\n		</div>\n\n\n		<!-- Identification Form -->\n		<div\n			inv-fade-show="isIdentifying"\n			class="overlay identification"\n			ng-class="{ \'signup-required\': signupRequiredForComment }"\n		>\n\n			<div class="form">\n\n				<div ng-if="!signupRequiredForComment">\n					<h2>Let us know who you are</h2>\n					<h3>In order to leave a comment, we need to know who you are.</h3>\n				</div>\n\n				<div ng-if="signupRequiredForComment">\n					<h2>Sign Up and Post Your Comment</h2>\n					<h3>To send your comment, create a free InVision account.</h3>\n				</div>\n\n				<div class="field" ng-class="{ \'defined\': identity.name.length }">\n					<input\n						type="text"\n						id="identity.name"\n						ng-disabled="isSigningUp"\n						ng-model="identity.name"\n						inv-autofocus\n						tabindex="301"\n					/>\n					<label for="identity.name">\n						Your name\n					</label>\n				</div>\n\n				<div class="field" ng-class="{ \'defined\': identity.email.length }">\n					<input\n						type="text"\n						id="identity.email"\n						ng-disabled="isSigningUp"\n						ng-model="identity.email"\n						tabindex="302"\n					/>\n					<label for="identity.email">Email address</label>\n				</div>\n\n				<div\n					ng-if="signupRequiredForComment"\n					class="field"\n					ng-class="{ \'defined\': identity.password.length }"\n				>\n					<input\n						type="password"\n						id="identity.password"\n						ng-disabled="isSigningUp"\n						ng-model="identity.password"\n						tabindex="303"\n					/>\n					<label for="identity.password">Password</label>\n				</div>\n\n				<div ng-show="errorMessage" class="alert alert-error">\n					{{ errorMessage }}\n				</div>\n\n				<div class="actions">\n					<button\n						class="close"\n						type="button"\n						ng-click="closeIdentifyForm()"\n					>\n						Cancel\n					</button>\n\n					<!-- only one of the two buttons below will be shown; they have the same tab index -->\n					<button\n						class="button"\n						type="button"\n						ng-if="!signupRequiredForComment"\n						ng-click="submitForm({ comment: newComment, sketches: tempSketches })"\n						tabindex="304"\n					>\n						Submit\n					</button>\n					<button\n						class="button"\n						type="button"\n						ng-disabled="isSigningUp"\n						ng-if="signupRequiredForComment"\n						ng-click="submitFormSignup({ comment: newComment, sketches: tempSketches })"\n						tabindex="304"\n					>\n						{{ isSigningUp ? "Signing Up" : "Sign Up" }}\n					</button>\n				</div>\n\n			</div> <!-- form -->\n			<div class="terms" ng-if="signupRequiredForComment">\n				By creating an account I agree to InVision\'s<br>\n				<a href="http://www.invisionapp.com/terms_of_service" target="_blank">Terms of Service</a> and\n				<a href="https://www.invisionapp.com/privacy" target="_blank">Privacy Policy</a>.\n\n			</div>\n			<div ng-if="signupRequiredForComment" class="login-prompt">\n				Already have an account? <a ng-click="openLoginForm()">Sign in</a>\n			</div>\n\n		</div> <!-- identification -->\n\n		<!-- Signup Form -->\n		<div inv-fade-show="isSignup && ! thanksForLazyPassword" class="overlay signup cta">\n			<div class="form">\n				<h2>Get a free InVision account</h2>\n				<h4>Collaborate, extract assets, and create clickable prototypes and boards - all in one place</h4>\n\n				<div\n					ng-if="lazyPasswordToSignUpFlow"\n					class="field"\n					ng-class="{ \'defined\': identity.password.length }"\n				>\n					<input\n						type="password"\n						id="identity.password"\n						ng-disabled="isSigningUp"\n						ng-model="identity.password"\n						tabindex="303"\n					/>\n					<label for="identity.password">Password</label>\n				</div>\n\n				<div ng-show="errorMessage" class="alert alert-error">\n					{{ errorMessage }}\n				</div>\n\n				<div class="actions">\n					<button\n						class="button"\n						type="button"\n						ng-disabled="isSigningUp"\n						ng-click="submitLazyPasswordToSignup()"\n						tabindex="304"\n					>\n						{{ isSigningUp ? "Signing Up" : "Sign Up For Free" }}\n					</button>\n					<button class="cancel"\n						ng-disabled="isSigningUp"\n						ng-click="!isSigningUp && closeLazyPasswordToSignup()">\n						No thanks, continue as guest\n					</button>\n				</div>\n			</div>\n\n			<div class="signup-terms" ng-if="lazyPasswordToSignUpFlow">\n				By clicking \'Sign up free\' I agree to InVision\'s <a href="http://www.invisionapp.com/terms_of_service" target="_blank">Terms of Service</a>.\n			</div>\n\n		</div>\n\n		<div inv-fade-show="thanksForLazyPassword" class="overlay signup cta cta-thanks">\n			<div class="form">\n				<h2>Thanks for signing up! </h2>\n				<h4>A confirmation email will be sent shortly</h4>\n			</div>\n		</div>\n\n		<div inv-fade-show="isLoggingIn" class="overlay login">\n\n			<div class="form">\n\n				<h2 class="login-header">Sign in and post your comment</h2>\n				<h3>To send your comment, sign in to InVision</h3>\n\n				<div class="field" ng-class="{ \'defined\': identity.email.length }">\n					<input\n						type="text"\n						inv-autofocus\n						id="identity.login-email"\n						ng-model="identity.email"\n						tabindex="302"\n					/>\n					<label for="identity.login-email">Email address</label>\n				</div>\n\n				<div\n					class="field"\n					ng-class="{ \'defined\': identity.password.length }"\n				>\n					<input\n						type="password"\n						id="identity.login-password"\n						ng-model="identity.password"\n						tabindex="303"\n					/>\n					<label for="identity.login-password">Password</label>\n					<a href="/d/password/requestReset" class="forgot-password">Forgot password?</a>\n				</div>\n\n				<div\n					ng-show="errorMessage"\n					class="alert alert-error"\n					ng-bind-html="errorMessage"\n				>\n				</div>\n\n				<button\n					class="button big-login"\n					type="button"\n					ng-click="submitLoginForm()"\n				>\n					Sign In\n				</button>\n\n			</div>\n\n			<div class="login-prompt">\n				Don\'t have an account? <a ng-click="closeLoginForm()">Sign up</a>\n			</div>\n\n		</div>\n\n		<div inv-fade-show="isAuthenticating" class="overlay authentication">\n\n			<div class="form">\n\n				<div class="m-avatar" ng-class="{ \'system-avatar\': user.hasSystemAvatar }">\n					<span class="rendering">{{ user.tempInitials }}</span>\n					<img class="rendering" ng-src="/avatars/{{ user.tempAvatar }}" />\n				</div>\n\n				<h2>We\'ve recognized that account, what\'s the password?</h2>\n				<h3>Enter your password to leave a comment</h3>\n\n				<div class="field" ng-class="{ \'defined\': identity.name.length }">\n					<input\n						type="password"\n						id="identity.password"\n						ng-model="identity.password"\n						inv-autofocus\n						tabindex="301"\n					/>\n					<label for="identity.name">\n						Password\n					</label>\n				</div>\n\n				<div\n					ng-show="errorMessage"\n					class="alert alert-error"\n					ng-bind-html="errorMessage"\n				>\n				</div>\n\n				<div class="actions">\n					<button\n						class="close"\n						type="button"\n						ng-click="closeIdentifyForm()"\n					>\n						Cancel\n					</button>\n					<button\n						class="button"\n						type="button"\n						ng-click="submitFormPassword()"\n						tabindex="302"\n					>\n						Post Comment\n					</button>\n				</div>\n\n			</div> <!-- form -->\n\n		</div> <!-- authentication -->\n\n\n\n		<div class="comment-thread__footer">\n			<!-- placeholder to avoid that the bottom toolbar overlaps the comment-content -->\n		</div>\n\n	</div> <!-- comment-thread -->\n\n</form>\n'),
$templateCache.put("/share/app/views/comments/markers.htm",'<div\n	ng-controller="comments.MarkersController"\n	inv-comments-markers\n	class="markers" >\n\n	<div\n		ng-class="{ mobile: project.isMobile }"\n		class="viewport {{ viewport.alignment }}"\n		ng-style="{\n			width: ( viewport.width + \'px\' ),\n			height: ( viewport.height + \'px\' )\n		}"\n		ng-mouseenter=" setIsHoveringViewport(true) "\n		ng-mouseleave=" setIsHoveringViewport(false) ">\n\n		<!-- Output the conversation markers. -->\n		<a\n			ng-repeat="conversation in conversations track by conversation.id"\n			ng-href="#/screens/{{ screenID }}/comments/{{ conversation.id }}"\n			class="marker"\n			ng-class="{\n				complete: conversation.isComplete,\n				active: ( conversation == selectedConversation ),\n				comment: ! conversation.isForDevelopment && ! conversation.isTourPoint && ! conversation.isPrivate,\n				\'dev-note\': conversation.isForDevelopment,\n				\'tour-point\': conversation.isTourPoint,\n				\'private-comment\': conversation.isPrivate && ! conversation.isForDevelopment,\n				read: ! conversation.isUnread && userAuthenticated,\n				\'move-disabled\': !isUserACollaborator,\n				\'no-label\': conversation.label == \'\'\n			}"\n			ng-style="{\n				left: ( conversation.x * screen.displayScale + \'px\' ),\n				top: ( conversation.y * screen.displayScale + \'px\' )\n			}"\n			unselectable="on"\n			ng-mouseenter=" setIsHoveringHotspot(true) "\n			ng-mouseleave=" setIsHoveringHotspot(false) "\n			ng-show=" conversation.isShown || (conversation.id == selectedConversation.id )">\n\n			{{ conversation.label }}\n			<span ng-if=" conversation.isComplete " class="complete-icon"></span>\n\n		</a>\n\n\n		<!-- Show the new conversation marker, if necessary. -->\n		<a\n			ng-show="newConversation"\n			ng-href="#/screens/{{ screenID }}/comments"\n			class="marker new-marker active"\n			ng-class="{\n				comment: ! newConversation.isForDevelopment && ! newConversation.isTourPoint && ! newConversation.isPrivate,\n				\'dev-note\': newConversation.isForDevelopment,\n				\'tour-point\': newConversation.isTourPoint,\n				\'private-comment\': newConversation.isPrivate && ! newConversation.isForDevelopment,\n				\'no-label\': newConversation.label == \'\'\n			}"\n			ng-style="{\n				left: ( newConversation.x * screen.displayScale + \'px\' ),\n				top: ( newConversation.y * screen.displayScale + \'px\' )\n			}"\n			unselectable="on"\n			ng-mouseenter=" setIsHoveringHotspot(true) "\n			ng-mouseleave=" setIsHoveringHotspot(false) ">\n\n			{{ newConversation.label }}\n\n		</a>\n\n\n		<!-- Only include the form if a conversation has been selected. -->\n		<div\n			class="comments-mentions"\n			ng-if="selectedConversation || newConversation || isSignup"\n			ng-include=" \'/share/app/views/comments/form.htm\' "></div>\n\n	</div>\n\n</div>\n'),$templateCache.put("/share/app/views/directives/share-sketch-builder.htm",'<div id="shareSketchBuilder">\n\n	<div id="builderWindow">\n\n		<div id="sketchToolbar">\n\n			<div class="whiteboard_tools">\n				<a ng-click="setWhiteboardOpacity(0, \'none\')" id="whiteboard_none" class="whiteboard_tool none overlay" ng-class="{ active: whiteboardSelected == \'none\'}"><span>Transparent</span></a>\n				<a ng-click="setWhiteboardOpacity(.7, \'half\')" id="whiteboard_half" class="whiteboard_tool half overlay" ng-class="{ active: whiteboardSelected == \'half\'}"><span>50%</span></a>\n				<a ng-click="setWhiteboardOpacity(1, \'full\')" id="whiteboard_full" class="whiteboard_tool full overlay" ng-class="{ active: whiteboardSelected == \'full\'}"><span>100%</span></a>\n			</div> <!-- whiteboard_tools -->\n			\n			<div class="tools">\n				<a id="pencil" class="sketch_tool pencil">\n					<i class="tool_icon tool_pencil"></i>\n				</a>\n				<a id="rect" class="sketch_tool square">\n					<i class="tool_icon tool_square"></i>\n				</a>\n				<a id="circle" class="sketch_tool circle">\n					<i class="tool_icon tool_circle"></i>\n				</a>\n				<a id="line" class="sketch_tool line">\n					<i class="tool_icon tool_line"></i>\n				</a>\n				<!--\n				<a id="arrow" class="sketch_tool arrow">\n				<i class="tool_icon tool_arrow"></i>\n				</a>\n				-->\n				<a id="text" class="sketch_tool text">\n					<i class="tool_icon tool_text"></i>\n				</a>\n				<a id="move" class="sketch_tool move">\n					<i class="tool_icon tool_move"></i>\n				</a>\n\n				<div class="actions_toolbar">\n					<a id="undo" rel="tooltip" data-placement="bottom" title="Undo action" class="sketch_action undo inactive">\n						<i class="tool_icon tool_undo"></i>\n					</a>\n					<a id="redo" rel="tooltip" data-placement="bottom" title="Redo action" class="sketch_action redo inactive">\n						<i class="tool_icon tool_redo"></i>\n					</a>\n					<a id="delete" rel="tooltip"  data-placement="bottom" title="Remove element" class="sketch_action delete inactive">\n						<i class="tool_icon tool_delete"></i>\n					</a>\n				</div>\n\n			</div>\n\n			<div class="sketch_btns">\n			    <a ng-click=" hideSketchBuilder() " class="btn cancel">Cancel</a>\n			    <a ng-click=" saveSketch() " class="btn save">I\'m Done</a>\n			</div>\n			\n		</div>\n\n		<div class="scroll-wrap">\n			\n			<div class="sketchImage_wrapper">\n				<img  \n				ng-src="{{ screen.imageUrl }}"\n				ng-style="{ width: screen.width * screen.displayScale + \'px\',\n							height: screen.height * screen.displayScale + \'px\'}"\n				class="sketch_image"\n				/>\n			</div>\n			<div id="whiteboard_overlay" ng-class="whiteboardSelected"></div>\n\n		</div> <!-- scroll-wrap -->\n		\n	</div> <!-- end builderWindow -->\n\n</div>\n'),$templateCache.put("/share/app/views/directives/share-sketch-viewer.htm",'<div id="shareSketchViewer"  ng-show=" isShowingSketchViewer ">\n\n	<div class="modalOverlay">\n		\n		<div  class="sketchViewer">\n\n			<div class="closeViewer" ng-click=" closeSketchViewer() "></div>\n		\n			<div ng-show=" sketchImageIsProcessing " class="isProcessing">\n				<p>\n					<img src="/share/app/img/draw.png"/><br/>\n					This sketch is currently being processed.<br/>\n					<span class="sub">It\'ll be available shortly!</span>\n				</p>\n			</div>\n\n			<!-- Non-Temporaray sketches here -->\n			<div ng-if=" !sketchViewerSketchIsTemp " class="imageContainer">\n				<img ng-src="/api/comments/{{sketchViewerSketch.commentID}}/sketch/{{sketchViewerSketch.id}}"\n				inv-console-sketch-viewer-image\n				ng-style="{	width: screen.width * screen.displayScale + \'px\',\n								height: screen.height * screen.displayScale + \'px\'\n							}"/>\n			</div>\n\n			<!-- Temporary sketches here -->\n			<div ng-if=" sketchViewerSketchIsTemp " class="imageContainer">\n				<img 	ng-src="{{ screen.imageUrl }}"\n						ng-style="{	width: screen.width * screen.displayScale + \'px\',\n									height: screen.height * screen.displayScale + \'px\'\n								}" />\n								\n				<div class="whiteOverlay" ng-style="{ opacity : sketchViewerSketch.opacity }"></div>\n\n				<div class="tempSketchOverlay" ng-bind-html=" sketchViewerSketch.svg ">\n					\n				</div>\n			</div>\n			\n		</div>\n\n	</div>\n\n</div>'),$templateCache.put("/share/app/views/directives/toggle.htm",'\n<div class="m-toggle off">	\n\n\n	<!-- BEGIN: Labels Track. -->\n	<div class="toggle-labels-track">\n\n		<div class="toggle-labels">\n\n			<div class="toggle-label on">\n				\n				<span class="text">On</span>\n\n			</div>\n\n			<div class="toggle-label off">\n				\n				<span class="text">Off</span>\n				\n			</div>\n\n		</div>\n\n	</div>\n	<!-- END: Labels Track. -->\n\n\n	<!-- BEGIN: Thumb Track. -->\n	<div class="toggle-thumb-track">\n\n		<a href="" class="toggle-thumb">\n\n			<span class="toggle-end">\n				<br />\n			</span>\n\n		</a>\n\n	</div>\n	<!-- END: Thumb Track. -->\n\n\n</div>'),$templateCache.put("/share/app/views/layouts/modal.htm",'<div ng-controller="layouts.ModalController" class="l-modal">\n\n	<div ng-if="subview == \'error\'" ng-include=" \'/share/app/views/modal/error.htm\' "></div>\n	<div ng-if="subview == \'shareTour\'" ng-include=" \'/share/app/views/modal/share-tour.htm\' "></div>\n	<div ng-if="subview == \'auth\'" ng-include=" \'/share/app/views/modal/auth.htm\' "></div>\n	<div ng-if="subview == \'welcomeUser\'" ng-include=" \'/share/app/views/modal/welcome-user.htm\' "></div>\n\n</div>\n'),$templateCache.put("/share/app/views/modal/auth.htm",'<div ng-controller="modal.Auth" inv-modal class="modal animate auth-modal" id="auth"\n	ng-class="{\n		\'full-screen-auth\': isFullScreenMode\n	}">\n	<div class="auth-modal__content modal-body">\n		<form\n			ng-controller="comments.FormController"\n			ng-keydown="$event.which === 13 && handleKeyDownAuth($event)">\n\n			<a ng-if="!isFullScreenMode" ng-click="!isSigningUp && closeModal()" class="close-x"></a>\n			<a ng-if="isFullScreenMode" ng-click="!isSigningUp && closeModal()" class="nav-back">BACK</a>\n\n\n			<div ng-if="isFullScreenMode" class="main-panel__switch">\n\n				<!-- top right switch to sign up trigger -->\n				<div ng-if="showLogin">\n					<span class="main-panel__switch__text">\n						Don\'t have an account?\n					</span>\n					<a ng-click="!isSigningUp && switchPrompt()" class="main-panel__switch__button">\n						Get Started\n					</a>\n				</div>\n\n				<!-- top right switch to sign in trigger -->\n				<div ng-if="showSignup">\n					<span class="main-panel__switch__text">\n						Already have an account?\n					</span>\n					<a ng-click="!isSigningUp && switchPrompt()" class="main-panel__switch__button">\n						Sign In\n					</a>\n				</div>\n			</div>\n\n			<div class="main-panel__table">\n				<div class="main-panel__table-cell">\n					<div class="main-panel__content">\n\n						<!-- Login Form -->\n						<div class="overlay login" ng-if="showLogin">\n\n							<div class="form">\n\n								<h2 ng-if="!isFullScreenMode" class="main-panel__heading">\n									Sign in to InVision to post <br />your comment\n								</h2>\n\n								<h2 ng-if="isFullScreenMode" class="main-panel__heading">\n									Sign in to InVision. <br />\n									<span>Enter your details below.</span>\n								</h2>\n\n								<div class="form__group" ng-class="{ \'defined\': identity.email.length }">\n									<label class="form__label" for="identity.login-email">Email</label>\n									<input\n										type="text"\n										inv-autofocus\n										id="identity.login-email"\n										ng-model="identity.email"\n										tabindex="302"\n										class="form__input"\n										placeholder="julie@widgetco.com"\n									/>\n								</div>\n\n								<div\n									class="form__group"\n									ng-class="{ \'defined\': identity.password.length }"\n								>\n									<label class="form__label" for="identity.login-password">Password</label>\n									<input\n										type="password"\n										id="identity.login-password"\n										ng-model="identity.password"\n										tabindex="303"\n										class="form__input"\n										placeholder="Enter your password"\n									/>\n									<a class="form__help" href="/d/password/requestReset" target="_blank" class="forgot-password">Forgot password?</a>\n								</div>\n\n								<div\n									ng-show="errorMessage"\n									class="alert alert-error"\n									ng-bind-html="errorMessage"\n								>\n								</div>\n\n								<div class="text--center">\n									<button\n									class="form__button"\n									type="button"\n									ng-click="submitLoginForm()"\n									ng-disabled="isSigningIn"\n									>\n										{{ isSigningIn ? "Signing In" : "Sign In" }}\n									</button>\n								</div>\n\n							</div>\n\n							<div class="footer-actions">\n								<div class="switch-prompt" ng-if="!isFullScreenMode" >\n									Don\'t have an account? <a ng-click="!isSigningUp && switchPrompt()">Get Started</a>\n								</div>\n							</div>\n\n							<div ng-if="ssoEnabled" class="sso">\n\n								<div class="sso__content">\n									<img class="sso__company--image" ng-if="companyImage" src="{{companyImage}}" />\n									Existing member of the {{companyName}} InVision account? <a class="sso__signin-link" ng-click="ssoLinkClick()" href="{{ssoURL}}">Sign in with SSO</a>\n								</div>\n\n							</div>\n						</div>\n\n						<!-- Sign Up Form -->\n						<div class="overlay signup" ng-if="showSignup">\n\n							<div class="form">\n\n								<h2 ng-if="!isFullScreenMode" class="main-panel__heading">\n									Create a free InVision account to <br /> post your comment\n								</h2>\n\n								<h2 ng-if="isFullScreenMode" class="main-panel__heading">\n									Get started absolutely free. <br />\n									<span>Free forever. No credit card needed.</span>\n								</h2>\n\n								<div class="form__group" ng-class="{ \'defined\': identity.email.length }">\n									<label class="form__label" for="identity.signup-email">Work email</label>\n									<input\n										type="text"\n										inv-autofocus\n										id="identity.signup-email"\n										ng-model="identity.email"\n										tabindex="302"\n										class="form__input"\n									/>\n								</div>\n\n								<div class="form__group" ng-class="{ \'defined\': identity.email.length }">\n									<label class="form__label" for="identity.signup-name">Name</label>\n									<input\n										type="text"\n										id="identity.signup-name"\n										ng-model="identity.name"\n										tabindex="303"\n										class="form__input"\n									/>\n								</div>\n\n								<div\n									class="form__group"\n									ng-class="{ \'defined\': identity.password.length }"\n								>\n									<label class="form__label" for="identity.signup-password">Password</label>\n									<input\n										type="password"\n										id="identity.signup-password"\n										ng-model="identity.password"\n										tabindex="304"\n										class="form__input"\n										placeholder="5+ characters"\n									/>\n								</div>\n\n								<div\n									ng-show="errorMessage"\n									class="alert alert-error"\n									ng-bind-html="errorMessage"\n								>\n								</div>\n\n								<div ng-if="gdprOptOutEnabled" class="form__legal">\n									<div class="opt-out">\n										<label for="identity.signup-opt-out">\n											<input\n												type="checkbox"\n												id="identity.signup-opt-out"\n												ng-model="identity.optout" />\n											I\'m not interested in updates about InVision products and services.\n										</label> <a href="https://www.invisionapp.com/privacy" target="_blank">Privacy Policy</a>\n									</div>\n									By clicking "Sign up free" I agree to InVision\'s <a href="https://www.invisionapp.com/terms_of_service" target="_blank">Terms of Service</a>.\n								</div>\n\n								<div ng-if="!gdprOptOutEnabled" class="form__legal">\n									By clicking "Sign up free" I agree to InVision\'s\n									<a href="https://www.invisionapp.com/terms_of_service" target="_blank">Terms of Service</a> and\n									<a href="https://www.invisionapp.com/privacy" target="_blank">Privacy Policy</a>.\n								</div>\n\n								<div class="text--center">\n									<button\n									class="form__button"\n									type="button"\n									ng-disabled="isSigningUp"\n									ng-click="submitFormSignup()"\n									>\n										{{ isSigningUp ? "Signing Up" : "Sign Up Free" }}\n									</button>\n								</div>\n\n								<div class="footer-actions">\n									<div class="switch-prompt" ng-if="!isFullScreenMode">\n										Already have an account? <a ng-click="!isSigningUp && switchPrompt()">Sign In</a>\n									</div>\n								</div>\n\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n\n\n\n\n		</form>\n	</div>\n</div>\n'),$templateCache.put("/share/app/views/modal/error.htm",'<div ng-controller="modal.ErrorController" inv-modal class="modal errorModal">\n\n\n	<div class="modal-header">\n		\n		<a ng-click="closeModalWindow()" class="close" aria-hidden="true">&times;</a>\n		\n		<h3>\n			Oops!\n		</h3>\n	\n	</div>\n\n	<div class="modal-body">\n\n		{{ errorMessage }}\n\n	</div>\n\n	<div class="modal-footer">\n		\n		<a ng-click="closeModalWindow()" class="btn btn-primary">Close</a>\n	\n	</div>\n\n\n</div>'),$templateCache.put("/share/app/views/modal/share-tour.htm",'<div ng-controller="modal.ShareTour" inv-modal class="modal animate" id="shareTour">\n\n	<div class="modal-body">\n		<div class="video-container"\n		     inv-video-overlay\n		     id="video_share_tour"\n		     player-id="video_share_tour"\n		     video-id="n7kgs97nk4"\n		     video-width="701"\n		     video-height="394">\n\n			<div class="play-overlay">\n				<a href=""></a>\n			</div>\n		</div>\n	</div>\n\n	<div class="modal-footer">\n		<h2>Get Started in 30 Seconds</h2>\n	</div>\n</div>\n'),$templateCache.put("/share/app/views/modal/welcome-user.htm",'<div ng-controller="modal.WelcomeUser" inv-modal class="modal animate welcome-user-modal" id="welcome-user">\n	<div class="welcome-user-modal__content modal-body">\n\n    <a ng-click="closeModal()" class="close-x"></a>\n\n    <div class="welcome-user__avatar">\n      <div class="m-avatar" ng-class="{ \'system-avatar\': user.hasSystemAvatar }">\n        <span class="rendering">{{ user.initials }}</span>\n        <img class="rendering" ng-src="/avatars/{{ user.avatarID }}" />\n      </div>\n    </div>\n\n    <h2 class="welcome-user__header">\n      {{ signedUp ? \'Welcome to InVision\' : \'Welcome back\'}}{{user.name ? \', \' + user.name : \'\'}}!\n    </h2>\n\n    <div class="welcome-user__secondary-text">\n      Click anywhere to leave a comment\n    </div>\n\n	</div>\n</div>\n'),$templateCache.put("/share/app/views/partials/auth-ask-banner.htm",'<div ng-controller="banner.AuthAskController">\n    <div ng-if="showAuthAskBanner">\n      <div class="auth-ask-banner-overlay" ng-click="closeAuthAskBanner()"></div>\n\n      <div class="auth-ask-banner">\n\n        <a ng-click="closeAuthAskBanner()" class="auth-ask-banner__close"></a>\n\n        <h3 class="auth-ask-banner__header">Create a free InVision account to leave your feedback!</h3>\n\n        <button class="auth-ask-banner__button" ng-click="triggerAuthModal(true)">\n          Sign Up Free\n        </button>\n\n      <div class="auth-ask-banner__secondary-text">\n        Already have an account? <a ng-click="triggerAuthModal(false)"> Sign In </a>\n      </div>\n    </div>\n  </div>\n</div>\n'),$templateCache.put("/share/app/views/partials/preload.htm",'	<!--\n		BEGIN: HACKY CSS PRELOAD. \n		Until we have better sprite technology, let\'s at least pre-load the images this way so that \n		the parallel loading of Screen images is less likely to conflict. \n	-->\n<div style="height: 1px ; left: -100px ; overflow: hidden ; position: absolute ; top: -100px ; width: 1px ;">\n\n	<img src="/share/app/img/app-switch.png" />\n	<img src="/share/app/img/browse-background.png" />\n	<img src="/share/app/img/browse-pillnav-icons.png" />\n	<img src="/share/app/img/browse-pillnav.png" />\n	<img src="/share/app/img/close3.png" />\n	<img src="/share/app/img/comments-context-tab.png" />\n	<img src="/share/app/img/comments-vrule.png" />\n	<img src="/share/app/img/grey-screen-divider.png" />\n	<img src="/share/app/img/loader-sprite.png?v=06112014" />\n	<img src="/share/app/img/marker.png?v=2" />\n	<img src="/share/app/img/screens-search.png" />\n	<img src="/share/app/img/scrollbar-mid.png" />\n	<img src="/share/app/img/sketch-viewer-close.png" />\n	<img src="/share/app/img/sketch_tools.png" />\n\n	<img src="/share/app/img/share-lite-sprites.png" />\n	<img src="/share/app/img/share-lite-sprites@2x.png" />\n	<img src="/share/app/img/share-loading-sprites.png" />\n	<img src="/share/app/img/share-loading-sprites@2x.png" />\n</div>\n<!-- END: Hacky CSS Preload. '),$templateCache.put("/share/app/views/powered-by/powered-by.htm",'<!-- Hide this object for a specific customer project shares. Everyone else should see it. -->\n<div ng-hide="project.companyID == 71">\n\n	<a\n		ng-if=" !project.isMobile || share.isEmbed "\n		class="powered-by"\n		href="http://www.invisionapp.com/?utm_medium=virality&utm_source=Share%20CTA"\n		target="_blank">\n\n		<img src="/share/app/img/made-with-invision.png" />\n\n	</a>\n\n	<a\n		ng-if="project.isMobile && !share.isEmbed"\n		class="mobile-powered-by"\n		href="http://www.invisionapp.com/?utm_medium=virality&utm_source=Share%20CTA"\n		target="_blank">\n\n		made with InVision\n\n	</a>\n\n</div>\n'),$templateCache.put("/share/app/views/presentations/slides.htm",'<div ng-switch on="subview">\n	<div ng-switch-when="comments">\n		<div \n			id="comments_bar" \n			ng-controller="toolbar.ToolbarController"\n			ng-hide="isShowingSketchBuilder">\n\n			<h2>Click anywhere on the image to leave a comment</h2>\n\n			<p class="close"><a ng-click="switchToPreview()">Close</a></p>\n\n		</div> <!-- share_bar -->\n	</div>\n</div>\n\n<!-- desktop projects -->\n<div 	\n	ng-if=" !project.isMobile || subview == \'comments\' "\n	inv-screens\n	ng-controller="screens.ScreensController"\n	class="m-screens desktop"\n	ng-style="bodyStyle"\n	ng-class="{ \n		isScaledCommentMode: project.isMobile,\n		\'comment-mode\': subview == \'comments\'\n	}">\n\n	<div \n		class="screen visible {{ screen.alignment }}"\n		ng-style="{ \n			width: ( (screen.width * screen.displayScale) + \'px\' ), \n			height: ( (screen.height * screen.displayScale) + \'px\' ) \n		}">\n\n		<img \n			ng-src="{{ getScreenUrl() }}"\n			ng-style="{ \n				width: ( (screen.width * screen.displayScale) + \'px\' ), \n				height: ( (screen.height * screen.displayScale) + \'px\' ) \n			}" />\n\n	</div>\n\n</div>\n\n<!-- mobile projects-->\n<div 	\n	ng-if=" project.isMobile && subview == \'preview\' "\n	class="m-screens" >\n\n	<div class="screen mobile visible {{ screen.alignment }}">\n		\n		<img ng-src="{{ getScreenUrl() }}" />\n\n	</div> <!-- screen mobile visible -->\n\n</div> <!-- m-screens -->\n'),$templateCache.put("/share/app/views/preview/browser-compatibility.htm",'<a ng-click="closeBrowserCompatibilityAlert()" class="browser-overlay">\n	<br />\n</a>\n\n<div class="browser-alert">\n\n	<a ng-click="closeBrowserCompatibilityAlert()" class="close-alert">x</a>\n\n	<h1>\n		We\'re sorry, your browser isn\'t fully supported to display this content properly.\n	</h1>\n\n	<div ng-switch="browserCompatibility.reason">\n\n		<p ng-switch-when="version">\n			We encourage you to <a href="http://browsehappy.com" target="updateBrowser">upgrade to a modern web browser</a>.\n		</p>\n\n		<p ng-switch-when="mode">\n			Looks like you\'re running in &quot;compatibility mode&quot;, simply follow these\n			<a href="https://www.youtube.com/results?search_query=ie+turn+off+compatibility+mode" target="updateBrowser">instructions to switch back to &quot;normal view&quot;</a>.\n		</p>\n\n	</div>\n\n	<a ng-click="closeBrowserCompatibilityAlert()" class="no-thanks">\n		No thanks, continue...\n	</a>\n\n</div>'),$templateCache.put("/share/app/views/preview/preview-tour-comments.htm",'<div ng-controller="preview.TourCommentsController">\n	<div ng-if=" tourPoints.length > 0 " ng-controller="comments.CommentsController">\n		<div\n			inv-comments-markers\n			ng-controller="comments.MarkersController">\n\n			<div\n				ng-if=" tooltipTourPoint "\n				class="tour-point-tooltip left"\n				ng-class=" tooltipClass() "\n				ng-mouseenter=" clearTooltipTimeout() "\n				ng-mouseleave=" clearTooltipTourPoint() "\n				ng-click=" selectTourPoint(tooltipTourPoint) "\n				inv-tour-point-tooltip>\n				<div class="m-avatar" ng-class="{ \'system-avatar\': tooltipTourPoint.comment.userHasSystemAvatar }">\n					<span class="rendering">{{ tooltipTourPoint.comment.userInitials }}</span>\n					<img\n						ng-if=" ! tooltipTourPoint.comment.userHasSystemAvatar "\n						ng-src="/avatars/{{ tooltipTourPoint.comment.userAvatarID }}"\n						class="rendering" />\n				</div>\n				<div class="excerpt" ng-bind-html="tooltipExcerpt()"></div>\n			</div>\n\n			<!-- Only include the form if a tour point has been selected.-->\n			<div\n				class="comments-mentions"\n				ng-if="selectedConversation"\n				ng-include=" \'/share/app/views/preview/tour-point-form.htm\' ">\n			</div>\n\n		<!--  View controlled by switch to overlay everything -->\n		<div inv-share-sketch-builder\n			 ng-if=" isShowingSketchBuilder " >\n		</div>\n\n		<!-- Sketch viewer modal-->\n		<div inv-share-sketch-viewer\n			 ng-if=" isShowingSketchViewer ">\n		</div>\n	</div>\n</div>\n'),$templateCache.put("/share/app/views/preview/preview.htm",'<div\n	ng-controller="preview.PreviewController"\n	inv-preview-helper\n	class="m-preview {{ screen.alignment }}"\n	mobile-skin-name="{{ project.mobileTemplate.mobileSkin }}"\n	ng-class="{ mobile: project.isMobile, \'is-watch\': project.isWatch }">\n\n	<div\n		ng-if="project.isMobile"\n		inv-mobile-transition-layer\n		id="mobile_transition_layer"\n		class="{{ deviceTemplate.className }} {{ chromeClass }}"></div>\n\n	<inv-share-screen-viewer></inv-share-screen-viewer>\n\n	<div class="slideshow-nav">\n\n		<div class="slideshow-status" ng-show=" ! project.isMobile " >{{ currentScreenIndex }} of {{ screenCount }}</div>\n\n	</div>\n\n\n</div>\n'),$templateCache.put("/share/app/views/preview/tour-point-form.htm",'<form\n	ng-controller="comments.FormController"\n	ng-submit="submitForm()"\n	inv-comments-tour-form-key-combos\n	inv-tour-comments-form\n	class="conversation comment-thread-container tour-point-form">\n\n	<div class="comment-thread tour-point">\n\n		<header>\n		<button\n			class="close"\n			type="button"\n			ng-click="clearTourPointForm()">\n			&times;\n		</button>\n		</header>\n\n		<section class="primary-comment">\n\n			<div class="m-avatar" ng-class="{ \'system-avatar\': comments[0].userHasSystemAvatar }">\n				<span class="rendering">{{ comments[0].userInitials }}</span>\n				<img\n					ng-if=" ! comments[0].userHasSystemAvatar "\n					ng-src="/avatars/{{ comments[0].userAvatarID }}"\n					class="rendering" />\n			</div>\n\n			<div class="post-content">\n				<div\n					class="post-comment"\n					ng-bind-html="comments[0].html">\n				</div>\n			</div>\n\n			<footer ng-if=" ! commentsExpanded ">\n				<div\n				ng-click="toggleCommentsExpanded()"\n						ng-class="{ \'no-comments\': comments.length == 1 }"\n				class="reply-section">\n				Reply <span ng-if="comments.length > 1" class="comment-count">{{ comments.length - 1 }}</span>\n				</div>\n\n				<nav class="tour-point-nav">\n					<a\n						ng-click="previousTourPoint()"\n						ng-show="hasPreviousTourPoint()"\n						class="prev">Prev\n					</a>\n\n					<a\n						ng-click="nextTourPoint()"\n						ng-show="hasNextTourPoint()"\n						class="next">Next\n					</a>\n\n				</nav>\n\n			</footer>\n\n			</section>\n\n\n			<section\n				class="comments-expanded"\n				ng-class="{\n				visible: !! commentsExpanded}"\n			>\n\n				<div class="comments-expanded-inner">\n\n					<!-- BEGIN: Comments. -->\n					<div\n						ng-repeat="comment in comments"\n						ng-init=" showDeleteCommentConfirmation = false ; "\n						class="comment-item comment"\n						ng-class="{\n							first: $first,\n							unread: comment.isUnread,\n							collapsed: comment.isCollapsed,\n							\'first-collapsed\': comment.isFirstCollapsed,\n							last: $last\n						}"\n						inv-fade-show="!comment.isCollapsed || ( comment.isCollapsed && comment.isFirstCollapsed )">\n\n							<span ng-if=" ! $first ">\n							<!-- Special section for collapsed area -->\n							<div ng-if=" comment.isCollapsed " class="collapsed-comments">\n								<span ng-click="expandComments( )">View All {{ comments.length }} Comments</span>\n							</div>\n\n							<div class="m-avatar" ng-class="{ \'system-avatar\': comment.userHasSystemAvatar }">\n\n								<span class="rendering">{{ comment.userInitials }}</span>\n\n								<img\n									ng-if=" ! comment.userHasSystemAvatar "\n									ng-src="/avatars/{{ comment.userAvatarID }}"\n									class="rendering" />\n\n								<!-- Status -->\n								<span\n									class="online-status"\n									ng-class="{ online: ( comment.userOnlineStatus == \'Online\' ), away: ( comment.userOnlineStatus == \'Away\' ) }">\n									{{ comment.userOnlineStatus }}\n								</span>\n\n							</div>\n\n							<div class="post-content post-emojis">\n\n								<h2 ng-hide="$first && conversation.isTourPoint">\n									<span>{{ comment.userName }}</span>\n									<span class="created-at">{{ comment.dateLabel }}</span>\n								</h2>\n\n								<div\n									class="post-options"\n									ng-show=" !comment.isEditing "\n									ng-class="{\'is-collapsed\': comment.isCollapsed}">\n\n									<ul class="tools">\n\n										<li\n											class="view-history hidden"\n											ng-show="( ! comment.isEditing && ( comment.screenImageVersion != screen.imageVersion ) && comment.imageUrl )">\n											<a>View History</a>\n										</li>\n\n										<li\n											class="edit-comment hidden"\n											ng-show=" comment.isOwnedByUser || project.isOwnedByUser ">\n											<a\n												ng-click="editComment( comment )"\n												inv-tooltip="Edit comment">\n												Edit\n											</a>\n										</li>\n\n										<li\n											class="delete-comment hidden"\n											ng-show=" comment.isOwnedByUser || project.isOwnedByUser ">\n											<a\n												ng-click="showDeleteConfirmation( comment, $first )"\n												inv-tooltip="Delete comment">\n												Delete\n											</a>\n										</li>\n\n									</ul>\n\n									<div inv-history-overlay class="history-overlay" ng-if="( ( comment.screenImageVersion != screen.imageVersion ) && comment.imageUrl )">\n\n										<div class="history-overlay-image-container">\n											<img 	inv-screen-version-image-scaler\n													ng-src="{{ comment.imageUrl }}"\n													ng-style="{\n														top: - ( ( conversation.y * screen.displayScale ) - 130 ) + \'px\',\n														left: - ( ( conversation.x * screen.displayScale ) - 270 )+ \'px\'\n													}" />\n										</div>\n\n										<div class="hover-buffer"></div>\n\n									</div> <!-- history-overlay -->\n\n							</div> <!-- post-options -->\n\n							<a class="thumbs-up"\n								ng-show=" canLike "\n								ng-hide=" $first && conversation.isTourPoint "\n								ng-class="{ \'liked\': comment.numberOfLikes, \'by-user\': comment.hasUserLiked  }"\n								ng-click="toggleLike( comment )"\n								inv-tooltip="{{ comment.likedByList }}">\n								<i class="icon thumbs up"></i>\n								{{comment.numberOfLikes}}\n							</a>\n\n							<div\n								ng-show="! comment.isEditing"\n								ng-bind-html="comment.html"\n								class="post-comment">\n							</div>\n\n							<div ng-if="comment.isEditing" class="editing-mode">\n							<div\n								inv-comment\n								comment="comment.comment"\n								name="post-comment"\n								screen-id="screen.id"\n								class-string="{{ getClassesString(\'existing\') }}"\n								tab-index="101"\n								has-emojis="true"\n								has-who-is-notified="false">\n							</div>\n\n							</div>\n\n							<div\n								class="sketchList"\n								ng-show="comment.sketches.length > 0 && ( ! $first || ! conversation.isTourPoint )">\n\n								<div\n									ng-repeat="sketch in comment.sketches"\n									class="sketch">\n\n									<a\n										class="text"\n										ng-click=" startSketchViewer( sketch , false, conversation ) "\n										ng-class="{\n											editing: comment.isEditing\n										}">\n\n										<strong>{{ comment.userFirstName }}&rsquo;s attached a sketch.</strong> View?\n\n										<span inv-tooltip="delete" class="delete" ng-show="comment.isEditing" ng-click=" deleteSketch( sketch.id )">x</span>\n\n									</a>\n\n								</div> <!-- sketch -->\n\n							</div> <!-- sketchList -->\n\n							<div class="post-buttons" ng-show="( comment.isEditing )">\n\n								<button\n									type="button"\n									class="save"\n									ng-show="comment.isEditing"\n									tabindex="102"\n									ng-click="saveComment( comment, false )">\n									Save\n								</button>\n\n								<button\n									type="button"\n									class="cancel"\n									ng-show="comment.isEditing"\n									tabindex="103"\n									ng-click="stopEditingComments( comment )">\n									Cancel\n								</button>\n\n							</div>\n\n						</div> <!-- post-content -->\n\n						<!-- Delete confirmation for single comment. -->\n						<div inv-fade-show="comment.isDeleting" class="delete-confirmation">\n\n							<p>Delete this comment?</p>\n\n							<div class="action">\n								<a ng-click="deleteComment( comment )" class="confirm">Yes, Delete</a>\n								<a ng-click="hideDeleteConfirmation( comment )" class="cancel">Cancel</a>\n							</div>\n\n						</div>\n\n					</span>\n\n				</div>\n				<!-- END: Comments. -->\n\n				<div class="comment-item post-new-comment">\n\n					<div class="post post-emojis">\n\n						<div\n						class="post-comment"\n						ng-class="{ \'has-sketch\': tempSketches.length > 0 }">\n\n							<div\n							inv-comment\n							comment="newComment"\n							name="post-comment"\n							screen-id="screen.id"\n							class-string="{{ getClassesString(\'existing\') }}"\n							placeholder="Leave a comment..."\n							tab-index="201"\n							on-focus-callback="showCommentInput()"\n							has-emojis="true"\n							has-who-is-notified="true">\n						</div>\n\n						<div class="error-message" ng-show="hasUnauthorizedEmail">\n								<p>The administrator of the {{ enterpriseConfig.name }} InVision account has disabled sharing to users outside of the account.</p>\n							</div>\n\n							<div class="comment-item footer submit actions">\n\n								<button\n									class="button"\n									tabindex="202"\n									ng-click="submitForm({ comment: newComment, sketches: tempSketches })"\n									type="button"\n									inv-success-button\n									after-success="onReplyFinished()"\n									delay="0">Reply</button>\n\n								<button class="close" type="button" ng-click="toggleCommentsExpanded()">cancel</button>\n\n							</div> <!-- footer -->\n\n							<div\n								class="sketchList"\n								ng-show="tempSketches.length > 0">\n\n								<div ng-repeat="sketch in tempSketches" class="sketch new-sketch">\n\n									<a ng-click=" startSketchViewer( sketch , true, conversation ) ">\n										<strong>Your sketch is attached.</strong> View?\n\n										<span class="delete" inv-tooltip="delete" ng-click=" deleteTempSketch(sketch.tempID) ">\n											&times;\n										</span>\n\n									</a>\n\n								</div> <!-- sketch -->\n\n							</div> <!-- sketchList -->\n\n							<div\n								class="add-sketch"\n								ng-if="!sketchesDisabled"\n								ng-show="tempSketches.length == 0 && isCommentInputVisible && ( ! conversation.isTourPoint || ! comments.length == 0 )">\n								<a ng-click=" startSketchBuilder() " inv-tooltip="Attach a sketch"></a>\n							</div>\n\n						</div> <!-- post-comment -->\n\n					</div> <!-- post -->\n\n				</div>\n\n				<!-- Delete confirmation for entire conversation. -->\n				<div inv-fade-show="isDeleting" class="delete-confirmation delete-conversation">\n\n					<p>Delete this <strong>entire</strong> conversation?</p>\n\n					<div class="action">\n						<a ng-click="deleteConversation( conversation )" class="btn btn-small flat dkgray">Yes, Delete</a>\n						<a ng-click="hideDeleteConfirmation()" class="cancel">Cancel</a>\n					</div>\n\n				</div>\n\n				<!-- Identification Form -->\n				<div inv-fade-show="isIdentifying" class="overlay identification">\n\n					<div class="form">\n\n						<h2>Let us know who you are</h2>\n						<h3>In order to leave a comment, we need to know who you are.</h3>\n\n						<div ng-show="errorMessage" class="alert alert-error">\n							{{ errorMessage }}\n						</div>\n\n						<div class="field" ng-class="{ \'defined\': identity.name.length }">\n							<input\n								type="text"\n								id="identity.name"\n								ng-model="identity.name"\n								inv-autofocus\n								tabindex="301"\n							/>\n							<label for="identity.name">\n								Your name\n							</label>\n						</div>\n\n						<div class="field" ng-class="{ \'defined\': identity.email.length }">\n							<input\n								type="text"\n								id="identity.email"\n								ng-model="identity.email"\n								tabindex="302"\n							/>\n							<label for="identity.email">Email address</label>\n						</div>\n\n						<div class="actions">\n							<button\n								class="close"\n								type="button"\n								ng-click="selectTourPoint(null)"\n							>\n								Cancel\n							</button>\n							<button\n								class="button"\n								type="button"\n								ng-click="submitForm({ comment: newComment, sketches: tempSketches })"\n								tabindex="303"\n							>\n								Submit\n							</button>\n						</div>\n\n					</div> <!-- /form -->\n\n				</div> <!-- /identification -->\n\n				<div inv-fade-show="isAuthenticating" class="overlay authentication">\n\n					<div class="form">\n\n						<h2>We\'ve recognized that account, what\'s the password?</h2>\n						<h3>Enter your password to leave a comment</h3>\n\n						<div class="field" ng-class="{ \'defined\': identity.name.length }">\n							<input\n								type="password"\n								id="identity.password"\n								ng-model="identity.password"\n								inv-autofocus\n								tabindex="301"\n							/>\n							<label for="identity.name">\n								Password\n							</label>\n						</div>\n\n						<div\n							ng-show="errorMessage"\n							class="alert alert-error"\n							ng-bind-html="errorMessage"\n						>\n						</div>\n\n						<div class="actions">\n							<button\n								class="close"\n								type="button"\n								ng-click="selectTourPoint(null)"\n							>\n								Cancel\n							</button>\n							<button\n								class="button"\n								type="button"\n								ng-click="submitFormPassword()"\n								tabindex="302"\n							>\n								Post Comment\n							</button>\n						</div>\n\n					</div> <!-- form -->\n\n				</div> <!-- authentication -->\n\n			</div>\n\n		</section>\n\n	</div> <!-- comment-thread-container -->\n\n</form>\n'),
$templateCache.put("/share/app/views/screens/screens.htm",'\n<!-- desktop projects -->\n<div\n	ng-if=" !project.isMobile || subview == \'comments\' "\n	ng-controller="screens.ScreensController"\n	inv-screens\n	inv-add-padding-on-scroll\n	class="m-screens desktop"\n	ng-class="{ isScaledCommentMode: project.isMobile }">\n\n	<div\n		ng-repeat="screen in screens track by screen.id"\n		data-distance="{{ screen.distanceFromStartScreen }}"\n		class="screen {{ screen.alignment }}"\n		ng-class="{ visible: (screen.id == selectedScreen.id) }"\n		ng-style="{ \n			width: ( Math.round(screen.width * screen.displayScale) + \'px\' ), \n			height: ( Math.round(screen.height * screen.displayScale) + \'px\' ) \n		}"\n		data-displayScale="{{screen.displayScale}}">\n\n		<img\n			inv-screen\n			ng-src="{{ screen.imageUrl }}"\n			ng-style="{ \n				width: ( Math.round(screen.width * screen.displayScale) + \'px\' ), \n				height: ( Math.round(screen.height * screen.displayScale) + \'px\' ) \n			}" />\n\n	</div>\n\n</div>\n\n<!-- mobile projects-->\n<div\n	ng-if=" project.isMobile && subview == \'preview\' "\n	ng-controller="screens.ScreensController"\n	inv-screens\n	data-distance="{{ screen.distanceFromStartScreen }}"\n	class="m-screens" >\n\n	<div\n		ng-repeat="screen in screens track by screen.id"\n		class="screen mobile {{ screen.alignment }}"\n		ng-class="{ visible: (screen.id == selectedScreen.id) }">\n\n		<img inv-screen ng-src="{{ screen.imageUrl }}" />\n\n	</div>\n\n</div>\n'),$templateCache.put("/share/app/views/toolbar/toolbar.htm",'\n<div\n	ng-controller="toolbar.ToolbarController"\n	ng-show="( includeBrowseTool || includeCommentsTool )"\n	ng-mouseenter="updateIsUserOverToolbar( true )"\n	ng-mouseleave="updateIsUserOverToolbar( false )"\n	ng-hide="share.isEmbed"\n	ng-class="{ \'tour-is-running\': isShareTourRunning }"\n	class="m-toolbar">\n\n	<!-- iPhone projects -->\n	<div\n		id="shareSMS"\n		inv-fade-show="isShowingSmsForm"\n		ng-if=" deviceTemplate.deviceType == \'phone\' && !! shareUrl "\n		ng-class="{\n			\'no-comments\': ! includeCommentsTool,\n			\'no-browse\': ! includeBrowseTool\n		}">\n		<div class="smsForm" inv-fade-show="isShowingSmsForm" duration="slow" >\n			<a ng-click="toggleSmsShareForm()" class="closeButton"><img src="/share/app/img/close4.png" alt="Close" /></a>\n			<h2>Install "{{ project.name }}" on your phone</h2>\n			<p>Visit <a ng-href="{{ shareUrl }}">{{shareUrl}}</a> on your phone or SMS the link to your number:</p>\n			<input 	inv-i8n-telephone\n					type="text"\n					class="phoneNumber"\n					country-code="share.countryCode"\n					ng-class="{ messageSent: sms.messageSent }"\n					ui-keypress="{13:\'sendShareSms()\'}"\n					name="phoneNumber"\n					placeholder="Enter mobile number"\n					ng-model="sms.phoneNumber">\n\n			<button ng-click="sendShareSms()">\n				Send\n			</button>\n\n			<div class="message">\n				{{sms.message}}\n			</div>\n\n		</div>\n	</div>\n\n	<!-- BEGIN: Toolbar. -->\n	<div\n		inv-toolbar\n		class="toolbar"\n		ng-class="{\n			active: isActive,\n			\'highlight-tour\': !hasSeenTour\n		}">\n\n		<!-- helper -->\n		<div\n			class="begin-share-tour"\n			ng-show=" false "\n		>\n\n			<!-- bouncy tooltip -->\n			<div\n				class="comment-tip-wrapper"\n				ng-show="shouldShowBounceToolTip()">\n\n				<span\n					inv-bouncy-tooltip\n					msg="Learn how to explore this design"\n					callback="hasSeenCommentTooltip()"></span>\n			</div> <!-- comment-tip-wrapper -->\n\n			<div class="helper" ng-class="{\'hasSeenCommentsTooltip\': hasSeenCommentsTooltip}" ng-click="showShareTour()">?</div>\n\n		</div> <!-- begin-share-tour -->\n\n		<!-- AQUA-421 comment cta tooltip -->\n		<div\n			class="comments-cta-tooltip"\n			ng-class="{ transition: commentToolTipVisible }"\n			ng-if="includeCommentsTool">\n\n			<div class="popover top comments-tip">\n				<div class="arrow"></div>\n				<div class="popover-content">\n					<i ng-click="closeCommentTooltipExperiment()" class="comments-tooltip-close"></i>Turn on comment mode to collaborate on this prototype\n				</div>\n			</div>\n		</div> <!-- comment cta tooltip -->\n\n		<div class="tools">\n\n			<div ng-if=" deviceTemplate.deviceType == \'phone\' && !! shareUrl " class="tool share-sms-tool">\n\n				<a ng-click="toggleSmsShareForm()"><span class="toolbar-menu-device"></span></a>\n\n			</div>\n\n			<div\n				ng-show="includeBrowseTool"\n				ng-class="{ active: tourSubView == \'thumbnails\' }"\n				class="tool browse-toggle-tool">\n\n				<a ng-click="toggleBrowse()" ng-class="{ on: isBrowseOpen }"><span class="toolbar-menu-sprite"></span></a>\n\n			</div>\n\n			<div\n				ng-show="includeCommentsTool"\n				ng-class="{\n					active: tourSubView == \'comments\',\n					\'no-browse\': !includeBrowseTool && ( deviceTemplate.deviceType != \'phone\' )\n				}"\n				class="tool comments-toggle-tool">\n\n				<div class="clickable"></div>\n\n				<span class="description">\n					<i ng-if="!unreadCommentCount" class="comment-count-old"></i><i ng-if="unreadCommentCount" class="comment-count-new"></i>&nbsp;{{ commentCount }}&nbsp;Comments\n				</span>\n\n				<div ng-model="isShowingComments" inv-toggle></div>\n\n			</div>\n\n		</div>\n\n	</div>\n	<!-- END: Toolbar. -->\n\n</div>\n'),$templateCache.put("/share/common/ng-components/comment/teaser/comment-teaser.directive.htm",'<div \n	ng-if="!vm.isEnabled || !vm.peopleNotified.length"\n	class="comment-teaser"\n>\n	Add a new comment\n</div>\n\n<div \n	ng-if="vm.isEnabled && vm.peopleNotified.length" \n	class="comment-teaser"\n>\n	Reply to\n	\n	<span \n		ng-if="vm.peopleNotified.length < 3"\n		class="blue"\n		ng-repeat="person in vm.peopleNotified track by $index"\n	>\n		{{ person.text || ( person.name | mention ) }}\n	</span>\n\n	<div \n		ng-if="vm.peopleNotified.length >= 3" \n		class="many-mentions"\n	>\n		<span class="blue">\n			{{ vm.peopleNotified[ 0 ].text || ( vm.peopleNotified[ 0 ].name | mention ) }}\n		</span>\n		&amp;\n		<span class="blue">\n		 {{ vm.peopleNotified.length - 1 }} others\n		</span>\n	</div>\n\n</div>\n'),$templateCache.put("/share/common/ng-components/mention/menu/mention-menu.directive.htm",'<div\n	class="mention-menu-wrapper"\n	inv-prevent-parent-scroll\n>\n\n	<div ng-if="view === \'default\'">\n\n		<div class="message">\n			Mention someone by name or email\n		</div>\n\n		<ul class="user-search">\n			<li\n				inv-mention-menu-item="person"\n				ng-repeat="person in items track by $index | orderByUserRole"\n				class="user clearfix"\n                                ng-class="{\'disabled\': person.role === \'shortcut\' && vm.isOverMentionCap(person.name)}">\n\n				<div class="avatar" ng-class="{\'shortcut\': person.role === \'shortcut\'}" ng-switch="( !! person.avatarUrl )">\n					<img ng-switch-when="true" ng-src="{{ person.avatarUrl }}" />\n					<span\n						ng-switch-when="false"\n						class="initials"\n					>\n						{{ vm.getInitials( person.name ) }}\n					</span>\n				</div>\n\n				<div class="details">\n					<span class="name"\n							ng-bind-html="person.name | unsafe">\n					</span>\n\n					<!--TODO: online status\n					<span class="online-status {{ person.user.onlineStatusClass }}">\n					</span>\n					-->\n\n					<div class="user-info">\n						{{ vm.getUserInfo(person) }}\n					</div>\n				</div>\n\n			</li>\n		</ul>\n\n		<div class="message-footer" ng-if="vm.hasMentionShortcuts && !vm.isOverMentionCap()">\n			<p ng-if="!vm.conversationDisabled"><strong>@conversation</strong> will notify everyone in this conversation</p>\n			<p><strong>@project</strong> will notify everyone collaborating on this project</p>\n		</div>\n\n		<div class="message-footer" ng-if="vm.hasMentionShortcuts && vm.isOverMentionCap()" >\n                  <p>\n                    <span ng-switch="!!(vm.isOverMentionCap(\'project\') && vm.isOverMentionCap(\'conversation\'))">\n                      <span ng-switch-when="true"><strong>@project</strong> and <strong>@conversation</strong> don\'t</span>\n                      <span ng-switch-when="false"><strong>@{{ vm.isOverMentionCap() }}</strong> doesn\'t</span>\n                    </span> work with this many people. Choose who you\'d like to notify!\n                  </p>\n		</div>\n\n	</div>\n\n	<div class="empty" ng-if="view === \'defaultNoTerm\'">\n		<span class="user-name"></span>\n		<p>Start typing a name or email address to mention a person in this comment.</p>\n	</div>\n\n	<div class="empty" ng-if="view === \'noCandidates\'">\n		<span class="user-email"></span>\n		<p>No matches. Keep typing an email address to add someone new.</p>\n	</div>\n\n	<div class="empty" ng-if="view === \'overMax\'">\n		<span class="user-email"></span>\n		<p>Too many matches to display. Keep typing to narrow down your results.</p>\n	</div>\n\n	<div class="empty" ng-if="view === \'newUser\'">\n		<span class="user-email"></span>\n		<p>Enter an email address to add someone new to this conversation.</p>\n	</div>\n\n</div>\n'),$templateCache.put("/share/common/ng-components/mention/who-is-notified/mention-who-is-notified.directive.htm",'<div class="user-notification">\n	<div class="people-notified">\n		<div\n			class="mention-tooltip"\n			ng-if="vm.peopleNotified.length"\n		>\n\n			<span class="howmany">\n				{{ vm.peopleNotified.length }} {{ vm.pluralizePerson() }}\n			</span>\n\n			<div class="mention-tooltip-content">\n				<span\n					class="number-users"\n					ng-repeat="user in vm.peopleNotified track by $index"\n				>\n					{{ vm.getUsername( user ) }}\n				</span>\n			</div>\n\n		</div>\n\n		<div\n			class="inline-block"\n			ng-if="vm.peopleNotified.length"\n		>\n			will be notified.\n			<a class="add-others" ng-click="vm.addOthers()">Add others?</a>\n		</div>\n\n		<div\n			class="mention-tooltip-empty add-others"\n			ng-if="!vm.peopleNotified.length"\n			ng-click="vm.addOthers()"\n		>\n			Add others to this conversation.\n		</div>\n\n	</div>\n</div>\n'),$templateCache.put("/share/common/ng-components/comment/comment.directive.htm",'<div class="comment-wrapper post-emojis">\n\n	<div\n		inv-emoji-typeahead\n		ng-if="hasEmojis"\n		model="comment"\n	>\n	</div>\n\n	<textarea\n		inv-autofocus\n		inv-autosize\n		inv-mention-text\n		inv-emoji-text\n		name="{{ name }}"\n		uid="\'mention-{{ vm.uid }}\'"\n		tabindex="{{ tabIndex }}"\n		inv-cmd-enter="onAddComment()"\n		class="mention-text {{ classString}}"\n		ng-model="comment"\n		mentio-typed-term="typedTerm2"\n		mentio-require-leading-space="true"\n		ng-trim="false"\n		inv-focus="onFocusCallback()"\n		has-who-is-notified="{{ hasWhoIsNotified }}"\n		has-mentions="hasMentions"\n		has-mention-shortcut="{{ hasMentionShortcut }}"\n	>\n	</textarea>\n\n	<div class="comment-wrapper__icons"></div>\n\n	<div\n		inv-emoji-add\n		ng-if="hasEmojis"\n	>\n	</div>\n\n	<div\n		inv-mention\n		uid="mention-{{ vm.uid }}"\n		conversation="conversation"\n		screen-id="screenId"\n		board-id="boardId"\n		has-mentions="hasMentions"\n		has-who-is-notified="{{ hasWhoIsNotified }}"\n		mention-positioning-class="{{mentionPositioningClass}}"\n	>\n	</div>\n\n</div>\n'),$templateCache.put("/share/common/ng-components/emoji/emoji-add-menu.directive.htm",'<div\n  class="emoji-popover"\n  ng-class="{ \'hover-emoji\': hoverEmoji }"\n  ng-show="isOpen"\n>\n\n  <div class="emoji-header">\n    <h5 class="description">\n      Type \':\' and TAB to autocomplete or choose an emoji below:\n    </h5>\n\n    <h5 class="details">\n      <span class="emoji-icon-big emojis-{{ hoverEmoji }}-x2">\n      </span>\n      <span class="emoji-name">\n        :{{ hoverEmoji }}:\n      </span>\n    </h5>\n  </div>\n\n  <ul class="tabs">\n    <li\n      ng-repeat="tab in tabs" ng-click="setTab( $index )"\n      ng-class="{ \'active\': activeTab.idx == $index }">\n      <span class="emoji-icon-tab emojis-{{ tab }}">\n        {{ tab }}\n      </span>\n    </li>\n  </ul>\n  <div class="emojis">\n    <span\n      ng-repeat="emoji in emojis[ activeTab.tab ]"\n      class="emoji-icon emojis-{{ emoji }}"\n      data-emoji="{{ emoji }}">\n      {{ emoji }}\n    </span>\n  </div>\n</div>\n'),$templateCache.put("/share/common/ng-components/emoji/emoji-add.directive.htm",'<div class="emoji-wrapper">\n\n  <div inv-emoji-add-menu></div>\n\n  <div class="add-emoji">\n    <a ng-click="togglePopover()"></a>\n  </div>\n  \n</div>\n'),$templateCache.put("/share/common/ng-components/emoji/emoji-typeahead.directive.htm",'<div class="emoji-typeahead-wrapper">\n  <div \n    ng-show="items.length > 0"\n    ng-class="{\'emoji-typeahead-big\' : items.length > 15, \'emoji-typeahead-narrow\' : isNarrow }"\n    class="emoji-typeahead">\n    \n    <nav>\n      <span class="typeahead-command">\n        <span class="strong">tab</span> or <span class="emojis-navigation emojis-navigation-arrows"></span> to navigate\n      </span>\n      <span class="typeahead-command">\n        <span class="emojis-navigation emojis-navigation-return"></span> to select\n      </span>\n      <span class="typeahead-command">\n        <span class="strong">esc</span> to dismiss\n      </span>\n    </nav>\n\n    <ul class="emoji-list">\n      <li\n        ng-class="{ \'active\': current == $index }" \n        ng-repeat="item in items"\n        data-idx="{{ $index }}"\n      >\n        <i class="emoji-icon-typeahead emojis-{{ item.label }}">\n        </i>\n        :{{ item.label }}:\n      </li>\n    </ul>\n\n  </div>\n</div>'),$templateCache.put("/share/common/ng-components/mention/mention.directive.htm",'<div\n	inv-mention-menu\n	ng-if="hasMentions"\n	mentio-for="\'{{uid}}\'"\n	mentio-trigger-char="\'@\'"\n	mentio-items="vm.people"\n	mentio-view="vm.view"\n	mentio-search="vm.searchPeople(mentionInfo)"\n	mentio-select="vm.selectPerson(item)"\n	add-mention="vm.addMention(person, startPos)"\n	ng-class="mentionPositioningClass">\n</div>\n\n<div\n	inv-mention-menu\n	ng-if="hasMentions"\n	mentio-for="\'{{uid}}\'"\n	mentio-trigger-char="\'+\'"\n	mentio-items="vm.people"\n	mentio-view="vm.view"\n	mentio-search="vm.searchPeople(mentionInfo)"\n	mentio-select="vm.selectPerson(item)"\n	ng-class="mentionPositioningClass">\n</div>\n\n<div\n	inv-mention-who-is-notified\n	ng-if="hasWhoIsNotified && hasMentions"\n	mentio-for="\'{{uid}}\'">\n</div>'),$templateCache.put("/share/common/ng-components/mention/test-page.htm",'<div style="padding: 100px; margin-top: 200px;">\n  <!-- First of all run `gulp build` :) -->\n\n	<h1>@COMMENTS: emojis &amp; mentions</h1>\n\n  <style>\n    .comment-wrapper {\n      width: 450px;\n    }\n    .comment-wrapper textarea {\n      border: 1px solid rgba(74, 98, 109, .24);\n      border-radius: 3px;\n      width: 100%\n      height: 75px;\n    }\n  </style>\n\n  <h3>#1</h3>\n	<div inv-comment\n    comment="text1"\n    has-emojis="true">\n  </div>\n\n  <br/><br/>\n\n  <h3>#2</h3>\n  <div inv-comment\n    comment="text2"\n    has-emojis="true"\n    has-who-is-notified="true">\n  </div>\n\n  <br/><br/>\n\n  <h3>#3</h3>\n  <div inv-comment\n    comment="text3"\n    has-emojis="true">\n  </div>\n\n</div>\n')}]);
//# sourceMappingURL=app-index.min.js.map